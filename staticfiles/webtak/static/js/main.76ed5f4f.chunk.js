apiPort=":" + (window.location.port?window.location.port:window.location.protocol==='https:'?"443":"80"), window.saeServerPort = apiPort, window.martiApiPort = apiPort,
    (this.webpackJsonp = this.webpackJsonp || []).push([[0], [, , , , , , function (e, t, r) { var n, a, o = r(357), i = r(358), c = r(264), s = r(11), u = r(359), l = r(265), f = r(325), d = r(266), p = r(214), m = r(215), h = r(174), v = r(216), g = r(243); function b(e, t) { var r = "undefined" !== typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (!r) { if (Array.isArray(e) || (r = function (e, t) { if (!e) return; if ("string" === typeof e) return y(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); "Object" === r && e.constructor && (r = e.constructor.name); if ("Map" === r || "Set" === r) return Array.from(e); if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return y(e, t) }(e)) || t && e && "number" === typeof e.length) { r && (e = r); var n = 0, a = function () { }; return { s: a, n: function () { return n >= e.length ? { done: !0 } : { done: !1, value: e[n++] } }, e: function (e) { throw e }, f: a } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var o, i = !0, c = !1; return { s: function () { r = r.call(e) }, n: function () { var e = r.next(); return i = e.done, e }, e: function (e) { c = !0, o = e }, f: function () { try { i || null == r.return || r.return() } finally { if (c) throw o } } } } function y(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } function E(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable })), r.push.apply(r, n) } return r } function O(e) { for (var t = 1; t < arguments.length; t++) { var r = null != arguments[t] ? arguments[t] : {}; t % 2 ? E(Object(r), !0).forEach(function (t) { l(e, t, r[t]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : E(Object(r)).forEach(function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t)) }) } return e } function S(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (n) { return !1 } }(); return function () { var r, n = h(e); if (t) { var a = h(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return m(this, r) } } e.exports = (n = r(3), a = r(55), function (e) { var t = {}; function r(n) { if (t[n]) return t[n].exports; var a = t[n] = { i: n, l: !1, exports: {} }; return e[n].call(a.exports, a, a.exports, r), a.l = !0, a.exports } return r.m = e, r.c = t, r.d = function (e, t, n) { r.o(e, t) || Object.defineProperty(e, t, { enumerable: !0, get: n }) }, r.r = function (e) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e, "__esModule", { value: !0 }) }, r.t = function (e, t) { if (1 & t && (e = r(e)), 8 & t) return e; if (4 & t && "object" == typeof e && e && e.__esModule) return e; var n = Object.create(null); if (r.r(n), Object.defineProperty(n, "default", { enumerable: !0, value: e }), 2 & t && "string" != typeof e) for (var a in e) r.d(n, a, function (t) { return e[t] }.bind(null, a)); return n }, r.n = function (e) { var t = e && e.__esModule ? function () { return e.default } : function () { return e }; return r.d(t, "a", t), t }, r.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, r.p = "", r(r.s = 77) }([function (e, t) { e.exports = n }, function (e, t, r) { "use strict"; var n = r(4); r.d(t, "Globals", function () { return n }); var a = r(20); r.o(a, "FluidValue") && r.d(t, "FluidValue", function () { return a.FluidValue }), r.o(a, "createInterpolator") && r.d(t, "createInterpolator", function () { return a.createInterpolator }), r.o(a, "defineHidden") && r.d(t, "defineHidden", function () { return a.defineHidden }), r.o(a, "each") && r.d(t, "each", function () { return a.each }), r.o(a, "flush") && r.d(t, "flush", function () { return a.flush }), r.o(a, "getFluidConfig") && r.d(t, "getFluidConfig", function () { return a.getFluidConfig }), r.o(a, "getFluidValue") && r.d(t, "getFluidValue", function () { return a.getFluidValue }), r.o(a, "is") && r.d(t, "is", function () { return a.is }), r.o(a, "isAnimatedString") && r.d(t, "isAnimatedString", function () { return a.isAnimatedString }), r.o(a, "isEqual") && r.d(t, "isEqual", function () { return a.isEqual }), r.o(a, "noop") && r.d(t, "noop", function () { return a.noop }), r.o(a, "toArray") && r.d(t, "toArray", function () { return a.toArray }), r.o(a, "useForceUpdate") && r.d(t, "useForceUpdate", function () { return a.useForceUpdate }), r.o(a, "useOnce") && r.d(t, "useOnce", function () { return a.useOnce }), r.o(a, "usePrev") && r.d(t, "usePrev", function () { return a.usePrev }); var o = r(22); r.d(t, "useForceUpdate", function () { return o.a }), r.d(t, "useOnce", function () { return o.b }), r.d(t, "usePrev", function () { return o.c }); var i = r(11); r.d(t, "defineHidden", function () { return i.a }), r.d(t, "each", function () { return i.b }), r.d(t, "flush", function () { return i.c }), r.d(t, "is", function () { return i.d }), r.d(t, "isAnimatedString", function () { return i.e }), r.d(t, "isEqual", function () { return i.f }), r.d(t, "noop", function () { return i.g }), r.d(t, "toArray", function () { return i.h }), r(13); var c = r(14); r.d(t, "createInterpolator", function () { return c.a }); var s = r(15); r.d(t, "FluidValue", function () { return s.a }), r.d(t, "getFluidConfig", function () { return s.b }), r.d(t, "getFluidValue", function () { return s.c }) }, function (e, t, r) { e.exports = r(34)() }, function (e, t, r) { "use strict"; function n() { return (n = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }).apply(this, arguments) } r.d(t, "a", function () { return n }) }, function (e, t, r) { "use strict"; r.r(t), r.d(t, "createStringInterpolator", function () { return n }), r.d(t, "frameLoop", function () { return c }), r.d(t, "to", function () { return a }), r.d(t, "now", function () { return s }), r.d(t, "colorNames", function () { return u }), r.d(t, "skipAnimation", function () { return l }), r.d(t, "requestAnimationFrame", function () { return f }), r.d(t, "batchedUpdates", function () { return d }), r.d(t, "willAdvance", function () { return p }), r.d(t, "assign", function () { return m }); var n, a, o = r(13), i = r(11), c = new o.a, s = function () { return performance.now() }, u = null, l = !1, f = "undefined" != typeof window ? window.requestAnimationFrame : function () { return -1 }, d = function (e) { return e() }, p = i.g, m = function (e) { var t; return t = Object.assign({ to: a, now: s, frameLoop: c, colorNames: u, skipAnimation: l, createStringInterpolator: n, requestAnimationFrame: f, batchedUpdates: d, willAdvance: p }, function (e) { var t = {}; for (var r in e) void 0 !== e[r] && (t[r] = e[r]); return t }(e)), a = t.to, s = t.now, c = t.frameLoop, u = t.colorNames, l = t.skipAnimation, n = t.createStringInterpolator, f = t.requestAnimationFrame, d = t.batchedUpdates, p = t.willAdvance, t } }, function (e, t, r) { "use strict"; r.d(t, "a", function () { return A }), r.d(t, "b", function () { return w }), r.d(t, "c", function () { return E }), r.d(t, "d", function () { return y }), r.d(t, "e", function () { return k }), r.d(t, "f", function () { return u }), r.d(t, "g", function () { return m }), r.d(t, "h", function () { return l }); var n = r(1), a = r(3), o = r(4), i = r(0), c = r(10), s = Symbol.for("Animated:node"), u = function (e) { return e && e[s] }, l = function (e, t) { return Object(n.defineHidden)(e, s, t) }, m = function (e) { return e && e[s] && e[s].getPayload() }, b = function () { function e() { v(this, e), this.payload = void 0, l(this, this) } return g(e, [{ key: "getPayload", value: function () { return this.payload || [] } }]), e }(), y = function (e) { p(r, e); var t = S(r); function r(e) { var a; return v(this, r), (a = t.call(this))._value = e, a.done = !0, a.elapsedTime = void 0, a.lastPosition = void 0, a.lastVelocity = void 0, a.v0 = void 0, n.is.num(a._value) && (a.lastPosition = a._value), a } return g(r, [{ key: "getPayload", value: function () { return [this] } }, { key: "getValue", value: function () { return this._value } }, { key: "setValue", value: function (e, t) { return n.is.num(e) && (this.lastPosition = e, t && (e = Math.round(e / t) * t, this.done && (this.lastPosition = e))), this._value !== e && (this._value = e, !0) } }, { key: "reset", value: function () { var e = this.done; this.done = !1, n.is.num(this._value) && (this.elapsedTime = 0, this.lastPosition = this._value, e && (this.lastVelocity = null), this.v0 = null) } }], [{ key: "create", value: function (e, t) { return new r(e) } }]), r }(b), E = function (e) { p(r, e); var t = S(r); function r(e, a) { var o; return v(this, r), (o = t.call(this, 0))._value = void 0, o._string = null, o._toString = void 0, o._toString = Object(n.createInterpolator)({ output: [e, a] }), o } return g(r, [{ key: "getValue", value: function () { var e = this._string; return null == e ? this._string = this._toString(this._value) : e } }, { key: "setValue", value: function (e) { if (n.is.num(e)) { if (!d(h(r.prototype), "setValue", this).call(this, e)) return !1; this._string = null } else this._string = e, this._value = 1; return !0 } }, { key: "reset", value: function (e) { e && (this._toString = Object(n.createInterpolator)({ output: [this.getValue(), e] })), this._value = 0, d(h(r.prototype), "reset", this).call(this) } }], [{ key: "create", value: function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : e; if (n.is.str(e) && n.is.str(t)) return new r(e, t); throw TypeError('Expected "from" and "to" to be strings') } }]), r }(y), O = { current: null }, w = function (e) { p(r, e); var t = S(r); function r() { var e, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null; return v(this, r), (e = t.call(this)).source = void 0, e.setValue(n), e } return g(r, [{ key: "getValue", value: function (e) { if (!this.source) return null; var t = {}; return Object(n.each)(this.source, function (r, a) { if ((i = r) && i[s] === i) t[a] = r.getValue(e); else { var o = Object(n.getFluidConfig)(r); o ? t[a] = o.get() : e || (t[a] = r) } var i }), t } }, { key: "setValue", value: function (e) { this.source = e, this.payload = this._makePayload(e) } }, { key: "reset", value: function () { this.payload && Object(n.each)(this.payload, function (e) { return e.reset() }) } }, { key: "_makePayload", value: function (e) { if (e) { var t = new Set; return Object(n.each)(e, this._addToPayload, t), Array.from(t) } } }, { key: "_addToPayload", value: function (e) { var t = this; Object(n.getFluidConfig)(e) && O.current && O.current.dependencies.add(e); var r = m(e); r && Object(n.each)(r, function (e) { return t.add(e) }) } }]), r }(b), A = function (e) { p(r, e); var t = S(r); function r(e, n) { var a, o; return v(this, r), (o = t.call(this, null)).source = void 0, d((a = f(o), h(r.prototype)), "setValue", a).call(a, o._makeAnimated(e, n)), o } return g(r, [{ key: "getValue", value: function () { return this.source.map(function (e) { return e.getValue() }) } }, { key: "setValue", value: function (e) { var t = this.getPayload(); e && e.length == t.length ? Object(n.each)(t, function (t, r) { return t.setValue(e[r]) }) : (this.source = this._makeAnimated(e), this.payload = this._makePayload(this.source)) } }, { key: "_makeAnimated", value: function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : e; return e ? e.map(function (e, r) { return (Object(n.isAnimatedString)(e) ? E : y).create(e, t[r]) }) : [] } }], [{ key: "create", value: function (e, t) { return new r(e, t) } }]), r }(w), C = function (e) { p(r, e); var t = S(r); function r(e) { var n; return v(this, r), (n = t.call(this, null)).update = e, n.dirty = !1, n } return g(r, [{ key: "setValue", value: function (e, t) { if (e) { if (t && (O.current = t, e.style)) { var n = t.host.createAnimatedStyle; e = Object(a.a)(Object(a.a)({}, e), {}, { style: n(e.style) }) } d(h(r.prototype), "setValue", this).call(this, e), O.current = null } } }, { key: "onParentChange", value: function (e) { var t = this, r = e.type; this.dirty || "change" !== r || (this.dirty = !0, o.frameLoop.onFrame(function () { t.dirty = !1, t.update() })) } }]), r }(w), T = function (e, t) { return Object(i.forwardRef)(function (r, o) { var s = Object(i.useRef)(null), u = !n.is.fun(e) || e.prototype && e.prototype.isReactComponent, l = Object(n.useForceUpdate)(), f = new C(function () { var e = s.current; u && !e || !1 === (!!e && t.applyAnimatedValues(e, f.getValue(!0))) && l() }), d = new Set; return f.setValue(r, { dependencies: d, host: t }), Object(c.a)(function () { return Object(n.each)(d, function (e) { return e.addChild(f) }), function () { return Object(n.each)(d, function (e) { return e.removeChild(f) }) } }), Object(i.createElement)(e, Object(a.a)({}, t.getComponentProps(f.getValue()), { ref: u && function (e) { s.current = function (e, t) { return e && (n.is.fun(e) ? e(t) : e.current = t), t }(o, e) } })) }) }, j = Symbol.for("AnimatedComponent"), k = function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r = t.applyAnimatedValues, a = void 0 === r ? function () { return !1 } : r, o = t.createAnimatedStyle, i = void 0 === o ? function (e) { return new w(e) } : o, c = t.getComponentProps, s = void 0 === c ? function (e) { return e } : c, u = { applyAnimatedValues: a, createAnimatedStyle: i, getComponentProps: s }, l = function (e) { var t = R(e) || "Anonymous"; return (e = n.is.str(e) ? T(e, u) : e[j] || (e[j] = T(e, u))).displayName = "Animated(" + t + ")", e }; return Object(n.each)(e, function (e, t) { n.is.str(t) || (t = R(e)), l[t] = l(e) }), { animated: l } }, R = function (e) { return n.is.str(e) ? e : e && n.is.str(e.displayName) ? e.displayName : n.is.fun(e) && e.name || null } }, function (e, t, r) { "use strict"; function n(e, t) { if (null == e) return {}; var r, n, a = {}, o = Object.keys(e); for (n = 0; n < o.length; n++)r = o[n], t.indexOf(r) >= 0 || (a[r] = e[r]); return a } r.d(t, "a", function () { return n }) }, function (e, t, r) { var n; n = function () { return function (e) { var t = {}; function r(n) { if (t[n]) return t[n].exports; var a = t[n] = { i: n, l: !1, exports: {} }; return e[n].call(a.exports, a, a.exports, r), a.l = !0, a.exports } return r.m = e, r.c = t, r.d = function (e, t, n) { r.o(e, t) || Object.defineProperty(e, t, { enumerable: !0, get: n }) }, r.r = function (e) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e, "__esModule", { value: !0 }) }, r.t = function (e, t) { if (1 & t && (e = r(e)), 8 & t) return e; if (4 & t && "object" == typeof e && e && e.__esModule) return e; var n = Object.create(null); if (r.r(n), Object.defineProperty(n, "default", { enumerable: !0, value: e }), 2 & t && "string" != typeof e) for (var a in e) r.d(n, a, function (t) { return e[t] }.bind(null, a)); return n }, r.n = function (e) { var t = e && e.__esModule ? function () { return e.default } : function () { return e }; return r.d(t, "a", t), t }, r.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, r.p = "", r(r.s = "./src/index.ts") }({ "../../node_modules/coordinator/coordinator.js": function (e, t, r) { !function () { "use strict"; e.exports = r("../../node_modules/coordinator/lib/convert.js") }() }, "../../node_modules/coordinator/lib/constants.js": function (e, t) { !function () { "use strict"; var t, r, n = Math.PI / 180, a = 180 / Math.PI; t = .006694380023, r = (1 - Math.sqrt(1 - t)) / (1 + Math.sqrt(1 - t)), e.exports.DEG_2_RAD = n, e.exports.RAD_2_DEG = a, e.exports.EQUATORIAL_RADIUS = 6378137, e.exports.ECC_SQUARED = t, e.exports.ECC_PRIME_SQUARED = .006739496775579513, e.exports.EASTING_OFFSET = 5e5, e.exports.NORTHING_OFFSET = 1e7, e.exports.GRIDSQUARE_SET_COL_SIZE = 8, e.exports.GRIDSQUARE_SET_ROW_SIZE = 20, e.exports.BLOCK_SIZE = 1e5, e.exports.E1 = r, e.exports.k0 = .9996 }() }, "../../node_modules/coordinator/lib/convert.js": function (e, t, r) { !function () { "use strict"; var t = { latlong: r("../../node_modules/coordinator/lib/latlong.js"), usng: r("../../node_modules/coordinator/lib/usng.js"), utm: r("../../node_modules/coordinator/lib/utm.js"), mgrs: r("../../node_modules/coordinator/lib/mgrs.js") }; e.exports = function (e, r) { if ("string" != typeof e) throw new Error("Parameter not a string: " + e); if ("string" != typeof r) throw new Error("Parameter not a string: " + r); if (!t[e]) throw "Converter doesn't exist. Complain on GitHub."; return t[e].getConverter(r) }, e.exports.converters = t }() }, "../../node_modules/coordinator/lib/latlong.js": function (e, t, r) { !function () { "use strict"; var t = r("../../node_modules/coordinator/lib/constants.js"), n = r("../../node_modules/coordinator/lib/latlong/decimalToDegMinSec.js")(t), a = r("../../node_modules/coordinator/lib/latlong/degMinSecToDecimal.js")(t), o = r("../../node_modules/coordinator/lib/latlong/latlongToUtm.js")(t), i = r("../../node_modules/coordinator/lib/latlong/translate.js")(t), c = r("../../node_modules/coordinator/lib/utm.js"); function s(e, t, r, n) { var a; return "string" == typeof r && (r = parseInt(r, 10)), r = r || 5, e = parseFloat(e), t = parseFloat(t), a = o(e, t), c.toUsng(a, r, n) } function u(e, t, r, n) { var a = s(e, t, r, n); return "string" == typeof a ? a.replace(/ /g, "") : a } e.exports.toDecimal = a, e.exports.toDegMinSec = n, e.exports.toUsng = s, e.exports.toUtm = o, e.exports.toMgrs = u, e.exports.getConverter = function (e) { var t; switch (e.toLowerCase()) { case "utm": t = o; break; case "usng": t = s; break; case "mgrs": t = u }return t }, e.exports.translate = i }() }, "../../node_modules/coordinator/lib/latlong/decimalToDegMinSec.js": function (e, t) { !function () { "use strict"; function t(e, t, r, n) { var a, o, i, c, s, u, l, f, d; if (void 0 === n && (n = r), "string" == typeof n ? n = parseInt(n, 10) : "number" != typeof n && (n = 2), d = Math.pow(10, n), e = "string" == typeof e ? parseFloat(e) : e, t = "string" == typeof t ? parseFloat(t) : t, e < -90 || e > 90) throw "Latitude out of range: " + e; if (t < -180 || t > 180) throw "Longitude out of range: " + t; return l = e >= 0 ? "N" : "S", f = t >= 0 ? "E" : "W", e = Math.abs(e), t = Math.abs(t), e -= a = Math.floor(e), e -= (o = Math.floor(60 * e)) / 60, i = Math.round(3600 * e * d) / d, t -= c = Math.floor(t), t -= (s = Math.floor(60 * t)) / 60, u = Math.round(3600 * t * d) / d, "object" === r ? { latitude: { degrees: a, minutes: o, seconds: i, direction: l }, longitude: { degrees: c, minutes: s, seconds: u, direction: f } } : { latitude: a + "\xb0" + o + "'" + i + '"' + l, longitude: c + "\xb0" + s + "'" + u + '"' + f } } e.exports = function () { return t } }() }, "../../node_modules/coordinator/lib/latlong/degMinSecToDecimal.js": function (e, t, r) { !function () { "use strict"; var t = r("../../node_modules/coordinator/lib/latlong/helpers.js"); function n(e, r) { var n, a, o, i = /[NSEW\-]/, c = {}; if (n = t.dmsToDecimal(e), a = t.dmsToDecimal(r), n < -90 || n > 90) throw "Latitude out of bounds: " + n; if (a < -180 || a > 180) throw "Longitude out of bounds: " + a; return "S" !== (o = e.match(i))[0] && "-" !== o[0] || (n *= -1), c.latitude = n, "W" !== (o = r.match(i))[0] && "-" !== o[0] || (a *= -1), c.longitude = a, c } e.exports = function (e) { return t = t(e), n } }() }, "../../node_modules/coordinator/lib/latlong/helpers.js": function (e, t) { !function () { "use strict"; var t = {}; function r(e, r, n) { var a, o, i, c; for (e = parseInt(e, 10), r = parseFloat(r), n = parseFloat(n), i = 1, a = Math.round(r); a >= t.BLOCK_SIZE;)a -= t.BLOCK_SIZE, i += 1; for (i %= t.GRIDSQUARE_SET_ROW_SIZE, c = 0, o = Math.round(n); o >= t.BLOCK_SIZE;)o -= t.BLOCK_SIZE, c += 1; return c %= t.GRIDSQUARE_SET_COL_SIZE, function (e, r, n) { var a, o; switch (0 === r ? r = t.GRIDSQUARE_SET_ROW_SIZE - 1 : r -= 1, 0 === n ? n = t.GRIDSQUARE_SET_COL_SIZE - 1 : n -= 1, e) { case 1: a = "ABCDEFGH", o = "ABCDEFGHJKLMNPQRSTUV"; break; case 2: a = "JKLMNPQR", o = "FGHJKLMNPQRSTUVABCDE"; break; case 3: a = "STUVWXYZ", o = "ABCDEFGHJKLMNPQRSTUV"; break; case 4: a = "ABCDEFGH", o = "FGHJKLMNPQRSTUVABCDE"; break; case 5: a = "JKLMNPQR", o = "ABCDEFGHJKLMNPQRSTUV"; break; case 6: a = "STUVWXYZ", o = "FGHJKLMNPQRSTUVABCDE"; break; default: throw "Unrecognized set passed to lettersHelper" }return a.charAt(n) + o.charAt(r) }(function (e) { var t; switch (e = parseInt(e, 10), e %= 6) { case 0: t = 6; break; case 1: t = 1; break; case 2: t = 2; break; case 3: t = 3; break; case 4: t = 4; break; case 5: t = 5; break; default: t = -1 }return t }(e), i, c) } function n(e) { return 84 >= (e = parseFloat(e)) && e >= 72 ? "X" : 72 > e && e >= 64 ? "W" : 64 > e && e >= 56 ? "V" : 56 > e && e >= 48 ? "U" : 48 > e && e >= 40 ? "T" : 40 > e && e >= 32 ? "S" : 32 > e && e >= 24 ? "R" : 24 > e && e >= 16 ? "Q" : 16 > e && e >= 8 ? "P" : 8 > e && e >= 0 ? "N" : 0 > e && e >= -8 ? "M" : -8 > e && e >= -16 ? "L" : -16 > e && e >= -24 ? "K" : -24 > e && e >= -32 ? "J" : -32 > e && e >= -40 ? "H" : -40 > e && e >= -48 ? "G" : -48 > e && e >= -56 ? "F" : -56 > e && e >= -64 ? "E" : -64 > e && e >= -72 ? "D" : -72 > e && e >= -80 ? "C" : "Z" } function a(e) { var t = {}; if ("object" != typeof e || !e.degrees || !e.minutes || !e.seconds) return !1; "string" == typeof e.degrees ? t.degrees = parseInt(e.degrees, 10) : t.degrees = e.degrees, e.direction && ("S" === e.direction || "W" === e.direction ? t.degrees *= -Math.abs(t.degrees) : t.degrees *= Math.abs(t.degrees)), "string" == typeof e.minutes ? t.minutes = Math.abs(parseInt(e.minutes, 10)) : t.minutes = Math.abs(e.minutes), "string" == typeof e.seconds ? t.seconds = Math.abs(parseInt(e.seconds, 10)) : t.seconds = Math.abs(e.seconds) } function o(e) { var t, r, n = {}; if ("object" == typeof e) n = a(e); else { if (!/^[NSEW\-]?\d{1,3}[\xb0 ]\d{1,2}[' ]\d{1,2}(\.\d{1,3})?[" ][NSEW]?$/.test(e)) throw "Angle not formatted correctly: " + e; t = e.match(/-?\d+(\.\d+)?/g), n.degrees = parseInt(t[0], 10), n.minutes = parseInt(t[1], 10), n.seconds = parseFloat(t[2]) } return t = String(n.minutes / 60 + n.seconds / 3600), r = n.degrees + "." + t.substring(t.indexOf(".") + 1), parseFloat(r) } function i(e, t) { var r; if (e = parseFloat(e), (t = parseFloat(t)) > 360 || t < -180 || e > 90 || e < -90) throw "Bad input. lat: " + e + " lon: " + t; return r = parseInt((t + 180) / 6, 10) + 1, e >= 56 && e < 64 && t >= 3 && t < 12 && (r = 32), e >= 72 && e < 84 && (t >= 0 && t < 9 ? r = 31 : t >= 9 && t < 21 ? r = 33 : t >= 21 && t < 33 ? r = 35 : t >= 33 && t < 42 && (r = 37)), r } e.exports = function (e) { return t = e, { dmsVerify: a, dmsToDecimal: o, getZoneNumber: i, utmLetterDesignator: n, findGridLetters: r } } }() }, "../../node_modules/coordinator/lib/latlong/latlongToUtm.js": function (e, t, r) { !function () { "use strict"; var t = {}, n = r("../../node_modules/coordinator/lib/latlong/helpers.js"); function a(e, r, a) { var o, i, c, s, u, l, f, d, p, m, h, v = {}; if (e = parseFloat(e), r = parseFloat(r), e > 84 || e < -80) return "undefined"; if (r > 180 || r < -180 || e > 90 || e < -90) throw "Bad input. lat: " + e + " lon: " + r; return i = e * t.DEG_2_RAD, c = r * t.DEG_2_RAD, s = (6 * ((o = a || n.getZoneNumber(e, r)) - 1) - 180 + 3) * t.DEG_2_RAD, f = t.EQUATORIAL_RADIUS / Math.sqrt(1 - t.ECC_SQUARED * Math.pow(Math.sin(i), 2)), d = Math.pow(Math.tan(i), 2), p = t.ECC_PRIME_SQUARED * Math.pow(Math.cos(i), 2), m = Math.cos(i) * (c - s), h = t.EQUATORIAL_RADIUS * ((1 - t.ECC_SQUARED / 4 - t.ECC_SQUARED * t.ECC_SQUARED * 3 / 64 - t.ECC_SQUARED * t.ECC_SQUARED * t.ECC_SQUARED * 5 / 256) * i - (3 * t.ECC_SQUARED / 8 + 3 * t.ECC_SQUARED * t.ECC_SQUARED / 32 + 45 * t.ECC_SQUARED * t.ECC_SQUARED * t.ECC_SQUARED / 1024) * Math.sin(2 * i) + (15 * t.ECC_SQUARED * t.ECC_SQUARED / 256 + 45 * t.ECC_SQUARED * t.ECC_SQUARED * t.ECC_SQUARED / 1024) * Math.sin(4 * i) - 35 * t.ECC_SQUARED * t.ECC_SQUARED * t.ECC_SQUARED / 3072 * Math.sin(6 * i)), u = t.k0 * f * (m + (1 - d + p) * (m * m * m) / 6 + (5 - 18 * d + d * d + 72 * p - 58 * t.ECC_PRIME_SQUARED) * (m * m * m * m * m) / 120) + t.EASTING_OFFSET, (l = t.k0 * (h + f * Math.tan(i) * (m * m / 2 + m * m * m * m * (5 - d + 9 * p + 4 * p * p) / 2 + (61 - 58 * d + d * d + 600 * p - 330 * t.ECC_PRIME_SQUARED) * (m * m * m * m * m * m) / 720))) < 0 && (l += 1e7), v.easting = Math.round(u), v.northing = Math.round(l), v.zoneNumber = o, v.zoneLetter = n.utmLetterDesignator(e), v.hemisphere = e < 0 ? "S" : "N", v } e.exports = function (e) { return t = e, n = n(e), a } }() }, "../../node_modules/coordinator/lib/latlong/translate.js": function (e, t) { !function () { "use strict"; var t = {}; function r(e, r, n, a) { var o, i, c, s = 6371; return e *= t.DEG_2_RAD, r *= t.DEG_2_RAD, a *= t.DEG_2_RAD, o = Math.asin(Math.sin(e) * Math.cos(n / s) + Math.cos(e) * Math.sin(n / s) * Math.cos(a)), i = ((i = r + Math.atan2(Math.sin(a) * Math.sin(n / s) * Math.cos(e), Math.cos(n / s) - Math.sin(e) * Math.sin(o))) + 3 * Math.PI) % (2 * Math.PI) - Math.PI, c = { latitude: o * t.RAD_2_DEG, longitude: i * t.RAD_2_DEG }, isNaN(c.latitude) || isNaN(c.longitude) ? null : c } e.exports = function (e) { return t = e, r } }() }, "../../node_modules/coordinator/lib/mgrs.js": function (e, t, r) { !function () { "use strict"; var t = r("../../node_modules/coordinator/lib/constants.js"), n = r("../../node_modules/coordinator/lib/mgrs/mgrsToUtm.js")(t), a = r("../../node_modules/coordinator/lib/usng.js"); e.exports.getConverter = function (e) { var t; switch (e.toLowerCase()) { case "latlong": t = a.toLatLong; break; case "utm": t = a.toUtm }return t }, e.exports.toLatLong = a.toLatLong, e.exports.toUtm = n }() }, "../../node_modules/coordinator/lib/mgrs/mgrsToUtm.js": function (e, t) { !function () { "use strict"; var t = { C: { min_northing: 11e5, north: -72, south: -80.5 }, D: { min_northing: 2e6, north: -64, south: -72 }, E: { min_northing: 28e5, north: -56, south: -64 }, F: { min_northing: 37e5, north: -48, south: -56 }, G: { min_northing: 46e5, north: -40, south: -48 }, H: { min_northing: 55e5, north: -32, south: -40 }, J: { min_northing: 64e5, north: -24, south: -32 }, K: { min_northing: 73e5, north: -16, south: -24 }, L: { min_northing: 82e5, north: -8, south: -16 }, M: { min_northing: 91e5, north: 0, south: -8 }, N: { min_northing: 0, north: 8, south: 0 }, P: { min_northing: 8e5, north: 16, south: 8 }, Q: { min_northing: 17e5, north: 24, south: 16 }, R: { min_northing: 26e5, north: 32, south: 24 }, S: { min_northing: 35e5, north: 40, south: 32 }, T: { min_northing: 44e5, north: 48, south: 40 }, U: { min_northing: 53e5, north: 56, south: 48 }, V: { min_northing: 62e5, north: 64, south: 56 }, W: { min_northing: 7e6, north: 72, south: 64 }, X: { min_northing: 79e5, north: 84.5, south: 72 } }; function r(e) { var r, n, a, o, i, c, s, u, l, f, d, p, m = []; if ("object" != typeof (u = function (e) { var t, r, n, a, o = {}; if (o.Zone = parseInt(e.match(/(\d+)/g)[0], 10), o.Zone < 1 || o.Zone > 60) throw "MGRS formatting wrong"; if (!(t = e.match(/[a-zA-Z]{3}/)[0])) throw "MGRS formatting error"; if (o.Letters = t, o.Letters.indexOf("I") >= 0 || o.Letters.indexOf("O") >= 0) throw "MGRS formatting wrong"; if (!((t = e.match(/\d+$/)[0]).length <= 10 && t.length % 2 == 0)) throw "MGRS formatting wrong"; return o.Precision = t.length / 2, o.Precision > 0 ? (r = parseInt(t.substring(0, t.length / 2), 10), n = parseInt(t.substring(t.length / 2), 10), a = Math.pow(10, 5 - o.Precision), o.Easting = r * a, o.Northing = n * a) : (o.Easting = 0, o.Northing = 0), o }(e))) throw "MGRS not formatted correctly"; if (m = u.Letters, f = u.Zone, d = u.Easting, p = u.Northing, u.in_precision, !f) throw "Zone not readable"; if ("string" != typeof m) throw "Invalid MGRS string: no letters"; if ("X" === m.charAt(0) && (32 === f || 34 === f || 36 === f)) throw "Malformed MGRS"; if (l = m.charAt(0) < "N" ? "S" : "N", u = function (e) { var t, r, n; return 1 === (t = 6) || 4 === t ? (r = "A", n = "H") : 2 === t || 5 === t ? (r = "J", n = "R") : 3 !== t && 6 !== t || (r = "S", n = "Z"), { ltr2_low_value: r, ltr2_high_value: n, false_northing: t % 2 == 0 ? 15e5 : 0 } }(), a = u.ltr2_low_value, o = u.ltr2_high_value, i = u.false_northing, m.charAt(1) < a || m.charAt(1) > o || m.charAt(2) > "V") throw "Malformed"; for (s = 1e5 * parseFloat(m.charCodeAt(2) - "A".charCodeAt(0)) + i, c = 1e5 * parseFloat(m.charCodeAt(1) - a.charCodeAt(0) + 1), "J" === a && m.charAt(1) > "O" && (c -= 1e5), m.charAt(2) > "O" && (s -= 1e5), m.charAt(2) > "I" && (s -= 1e5), s >= 2e6 && (s -= 2e6), r = n = function (e) { var r; if (e >= "C" && e <= "H") r = t[e].min_northing; else if (e >= "J" && e <= "N") r = t[e].min_northing; else { if (!(e >= "P" && e <= "X")) throw "MGRS not formatted correctly"; r = t[e].min_northing } return r }(m[0]); r >= 2e6;)r -= 2e6; return (s -= r) < 0 && (s += 2e6), { Zone: f, Hemisphere: l, Easting: d = c + d, Northing: p = (s = n + s) + p } } e.exports = function () { return r } }() }, "../../node_modules/coordinator/lib/usng.js": function (e, t, r) { !function () { "use strict"; var t = r("../../node_modules/coordinator/lib/constants.js"), n = r("../../node_modules/coordinator/lib/usng/usngToUtm.js")(t), a = r("../../node_modules/coordinator/lib/usng/parseUsng.js")(t), o = r("../../node_modules/coordinator/lib/usng/isUsng.js")(t), i = r("../../node_modules/coordinator/lib/utm.js"); function c(e) { var t = a(e); return n(t) } function s(e) { var r, n; return r = a(e), n = c(e), r.zoneLetter < "N" && (n.northing -= t.NORTHING_OFFSET), i.toLatLong(n.northing, n.easting, r.zoneNumber) } e.exports.toUtm = c, e.exports.toLatLong = s, e.exports.isUsng = o, e.exports.getConverter = function (e) { var t; switch (e.toLowerCase()) { case "utm": t = c; break; case "latlong": t = s }return t }, e.exports.parseUsng = a }() }, "../../node_modules/coordinator/lib/usng/isUsng.js": function (e, t) { !function () { "use strict"; function t(e) { var t, r = []; if ((r = (r = (r = e.toUpperCase()).replace(/%20/g, "")).replace(/ /g, "")).length > 15) return !1; if (t = /^[0-9]{2}[CDEFGHJKLMNPQRSTUVWX]$/, r.match(t)) throw "Input appears to be a UTM zone, but more precision is required to display an accurate result: " + r; if (t = /^[0-9]{2}[CDEFGHJKLMNPQRSTUVWX][ABCDEFGHJKLMNPQRSTUVWXYZ][ABCDEFGHJKLMNPQRSTUV]([0-9][0-9]){0,5}/, !r.match(t)) return !1; if (r.length < 7) throw "Format looks right, but precision should be to least 10,000 meters: " + r; return r } e.exports = function () { return t } }() }, "../../node_modules/coordinator/lib/usng/parseUsng.js": function (e, t) { !function () { "use strict"; function t(e) { var t, r = 0, n = [], a = {}; if ("string" != typeof e) throw "Input to parseUsng must be a USNG string."; if ((n = e.toUpperCase().replace(/%20/g, "").replace(/ /g, "")).length < 7) throw "This application requires minimum USNG precision of 10,000 meters"; for (a.zoneNumber = n.match(/^\d{1,2}/)[0], r += a.zoneNumber.length, a.zoneNumber = parseInt(a.zoneNumber, 10), a.zoneLetter = n.charAt(r), r += 1, a.sq1 = n.charAt(r), r += 1, a.sq2 = n.charAt(r), r += 1, a.precision = (n.length - r) / 2, a.east = "", a.north = "", t = 0; t < a.precision; t += 1)a.east += n.charAt(r), r += 1; for (" " === n[r] && (r += 1), t = 0; t < a.precision; t += 1)a.north += n.charAt(r), r += 1; return a } e.exports = function () { return t } }() }, "../../node_modules/coordinator/lib/usng/usngToUtm.js": function (e, t) { !function () { "use strict"; function t(e) { var t, r, n, a, o, i, c = {}; return t = [1.1, 2, 2.8, 3.7, 4.6, 5.5, 6.4, 7.3, 8.2, 9.1, 0, .8, 1.7, 2.6, 3.5, 4.4, 5.3, 6.2, 7, 7.9], r = [0, 2, 2, 2, 4, 4, 6, 6, 8, 8, 0, 0, 0, 2, 2, 4, 4, 6, 6, 6], n = 1 + "ABCDEFGHJKLMNPQRSTUVWXYZ".indexOf(e.sq1) % 8, o = "CDEFGHJKLMNPQRSTUVWX".indexOf(e.zoneLetter), i = e.zoneNumber % 2 ? "ABCDEFGHJKLMNPQRSTUV".indexOf(e.sq2) : "FGHJKLMNPQRSTUVABCDE".indexOf(e.sq2), (a = r[o] + i / 10) < t[o] && (a += 2), c.northing = 1e6 * a + e.north * Math.pow(10, 5 - String(e.north).length), c.easting = 1e5 * n + e.east * Math.pow(10, 5 - String(e.east).length), c.zoneNumber = e.zoneNumber, c.zoneLetter = e.zoneLetter, c } e.exports = function () { return t } }() }, "../../node_modules/coordinator/lib/utm.js": function (e, t, r) { !function () { "use strict"; var t = r("../../node_modules/coordinator/lib/constants.js"), n = r("../../node_modules/coordinator/lib/utm/utmToLatLong.js")(t), a = r("../../node_modules/coordinator/lib/utm/utmToUsng.js")(t); e.exports.toLatLong = n, e.exports.toUsng = a, e.exports.getConverter = function (e) { var t; switch (e.toLowerCase()) { case "latlong": t = n; break; case "usng": t = a }return t } }() }, "../../node_modules/coordinator/lib/utm/help.js": function (e, t) { !function () { "use strict"; var t = {}; function r(e, r, n) { var a, o, i, c; for (e = parseInt(e, 10), r = parseFloat(r), n = parseFloat(n), i = 1, a = Math.round(r); a >= t.BLOCK_SIZE;)a -= t.BLOCK_SIZE, i += 1; for (i %= t.GRIDSQUARE_SET_ROW_SIZE, c = 0, o = Math.round(n); o >= t.BLOCK_SIZE;)o -= t.BLOCK_SIZE, c += 1; return c %= t.GRIDSQUARE_SET_COL_SIZE, function (e, r, n) { var a, o; switch (0 === r ? r = t.GRIDSQUARE_SET_ROW_SIZE - 1 : r -= 1, 0 === n ? n = t.GRIDSQUARE_SET_COL_SIZE - 1 : n -= 1, e) { case 1: a = "ABCDEFGH", o = "ABCDEFGHJKLMNPQRSTUV"; break; case 2: a = "JKLMNPQR", o = "FGHJKLMNPQRSTUVABCDE"; break; case 3: a = "STUVWXYZ", o = "ABCDEFGHJKLMNPQRSTUV"; break; case 4: a = "ABCDEFGH", o = "FGHJKLMNPQRSTUVABCDE"; break; case 5: a = "JKLMNPQR", o = "ABCDEFGHJKLMNPQRSTUV"; break; case 6: a = "STUVWXYZ", o = "FGHJKLMNPQRSTUVABCDE"; break; default: throw "Invalid set passed to lettersHelper" }return a.charAt(n) + o.charAt(r) }(function (e) { var t; switch (e = parseInt(e, 10), e %= 6) { case 0: t = 6; break; case 1: t = 1; break; case 2: t = 2; break; case 3: t = 3; break; case 4: t = 4; break; case 5: t = 5; break; default: t = -1 }return t }(e), i, c) } e.exports = function (e) { return t = e, { findGridLetters: r } } }() }, "../../node_modules/coordinator/lib/utm/utmToLatLong.js": function (e, t) { !function () { "use strict"; var t = {}; function r(e, r, n) { var a, o, i, c, s, u, l, f, d, p, m, h, v = {}; return a = parseFloat(r) - t.EASTING_OFFSET, o = parseFloat(e), i = 6 * (parseInt(n, 10) - 1) - 180 + 3, s = (c = o / t.k0 / (t.EQUATORIAL_RADIUS * (1 - t.ECC_SQUARED / 4 - 3 * t.ECC_SQUARED * t.ECC_SQUARED / 64 - 5 * t.ECC_SQUARED * t.ECC_SQUARED * t.ECC_SQUARED / 256))) + (3 * t.E1 / 2 - 27 * t.E1 * t.E1 * t.E1 / 32) * Math.sin(2 * c) + (21 * t.E1 * t.E1 / 16 - 55 * t.E1 * t.E1 * t.E1 * t.E1 / 32) * Math.sin(4 * c) + 151 * t.E1 * t.E1 * t.E1 / 96 * Math.sin(6 * c), t.RAD_2_DEG, u = t.EQUATORIAL_RADIUS / Math.sqrt(1 - t.ECC_SQUARED * Math.sin(s) * Math.sin(s)), l = Math.tan(s) * Math.tan(s), f = t.ECC_PRIME_SQUARED * Math.cos(s) * Math.cos(s), d = t.EQUATORIAL_RADIUS * (1 - t.ECC_SQUARED) / Math.pow(1 - t.ECC_SQUARED * Math.sin(s) * Math.sin(s), 1.5), p = a / (u * t.k0), m = s - u * Math.tan(s) / d * (p * p / 2 - (5 + 3 * l + 10 * f - 4 * f * f - 9 * t.ECC_PRIME_SQUARED) * p * p * p * p / 24 + (61 + 90 * l + 298 * f + 45 * l * l - 252 * t.ECC_PRIME_SQUARED - 3 * f * f) * p * p * p * p * p * p / 720), m *= t.RAD_2_DEG, h = i + (h = (p - (1 + 2 * l + f) * p * p * p / 6 + (5 - 2 * f + 28 * l - 3 * f * f + 8 * t.ECC_PRIME_SQUARED + 24 * l * l) * p * p * p * p * p / 120) / Math.cos(s)) * t.RAD_2_DEG, v.latitude = m, v.longitude = h, v } e.exports = function (e) { return t = e, r } }() }, "../../node_modules/coordinator/lib/utm/utmToUsng.js": function (e, t, r) { !function () { "use strict"; var t = r("../../node_modules/coordinator/lib/utm/help.js"), n = {}; function a(e, r, a) { var o, i, c, s, u, l; for ("string" == typeof r && (r = parseInt(r, 10)), r = r || 5, o = e.easting, i = e.northing, "S" === e.hemisphere && (i += n.NORTHING_OFFSET), c = t.findGridLetters(e.zoneNumber, i, o), s = Math.round(i) % n.BLOCK_SIZE, u = Math.round(o) % n.BLOCK_SIZE, s = Math.floor(s / Math.pow(10, 5 - r)), u = Math.floor(u / Math.pow(10, 5 - r)), l = String(u).length; l < r; l += 1)u = "0" + u; for (l = String(s).length; l < r; l += 1)s = "0" + s; return "string" == typeof a && "object" === a ? { zone: e.zoneNumber + e.zoneLetter, square: c, easting: u, northing: s } : e.zoneNumber + e.zoneLetter + " " + c + " " + u + " " + s } e.exports = function (e) { return n = e, t = t(e), a } }() }, "../../node_modules/fast-xml-parser/src/json2xml.js": function (e, t, r) { "use strict"; var n = r("../../node_modules/fast-xml-parser/src/util.js").buildOptions, a = { attributeNamePrefix: "@_", attrNodeName: !1, textNodeName: "#text", ignoreAttributes: !0, cdataTagName: !1, cdataPositionChar: "\\c", format: !1, indentBy: "  ", supressEmptyNode: !1, tagValueProcessor: function (e) { return e }, attrValueProcessor: function (e) { return e } }, o = ["attributeNamePrefix", "attrNodeName", "textNodeName", "ignoreAttributes", "cdataTagName", "cdataPositionChar", "format", "indentBy", "supressEmptyNode", "tagValueProcessor", "attrValueProcessor", "rootNodeName"]; function i(e) { this.options = n(e, a, o), this.options.ignoreAttributes || this.options.attrNodeName ? this.isAttribute = function () { return !1 } : (this.attrPrefixLen = this.options.attributeNamePrefix.length, this.isAttribute = v), this.options.cdataTagName ? this.isCDATA = g : this.isCDATA = function () { return !1 }, this.replaceCDATAstr = s, this.replaceCDATAarr = u, this.processTextOrObjNode = c, this.options.format ? (this.indentate = h, this.tagEndChar = ">\n", this.newLine = "\n") : (this.indentate = function () { return "" }, this.tagEndChar = ">", this.newLine = ""), this.options.supressEmptyNode ? (this.buildTextNode = m, this.buildObjNode = d) : (this.buildTextNode = p, this.buildObjNode = f), this.buildTextValNode = p, this.buildObjectNode = f } function c(e, t, r) { var n = this.j2x(e, r + 1); return void 0 !== e[this.options.textNodeName] && 1 === Object.keys(e).length ? this.buildTextNode(n.val, t, n.attrStr, r) : this.buildObjNode(n.val, t, n.attrStr, r) } function s(e, t) { return e = this.options.tagValueProcessor("" + e), "" === this.options.cdataPositionChar || "" === e ? e + "<![CDATA[" + t + "]]" + this.tagEndChar : e.replace(this.options.cdataPositionChar, "<![CDATA[" + t + "]]" + this.tagEndChar) } function u(e, t) { if (e = this.options.tagValueProcessor("" + e), "" === this.options.cdataPositionChar || "" === e) return e + "<![CDATA[" + t.join("]]><![CDATA[") + "]]" + this.tagEndChar; for (var r in t) e = e.replace(this.options.cdataPositionChar, "<![CDATA[" + t[r] + "]]>"); return e + this.newLine } function f(e, t, r, n) { return r && -1 === e.indexOf("<") ? this.indentate(n) + "<" + t + r + ">" + e + "</" + t + this.tagEndChar : this.indentate(n) + "<" + t + r + this.tagEndChar + e + this.indentate(n) + "</" + t + this.tagEndChar } function d(e, t, r, n) { return "" !== e ? this.buildObjectNode(e, t, r, n) : this.indentate(n) + "<" + t + r + "/" + this.tagEndChar } function p(e, t, r, n) { return this.indentate(n) + "<" + t + r + ">" + this.options.tagValueProcessor(e) + "</" + t + this.tagEndChar } function m(e, t, r, n) { return "" !== e ? this.buildTextValNode(e, t, r, n) : this.indentate(n) + "<" + t + r + "/" + this.tagEndChar } function h(e) { return this.options.indentBy.repeat(e) } function v(e) { return !!e.startsWith(this.options.attributeNamePrefix) && e.substr(this.attrPrefixLen) } function g(e) { return e === this.options.cdataTagName } i.prototype.parse = function (e) { return Array.isArray(e) && this.options.rootNodeName && this.options.rootNodeName.length > 1 && (e = l({}, this.options.rootNodeName, e)), this.j2x(e, 0).val }, i.prototype.j2x = function (e, t) { var r = "", n = ""; for (var a in e) if (void 0 === e[a]); else if (null === e[a]) n += this.indentate(t) + "<" + a + "/" + this.tagEndChar; else if (e[a] instanceof Date) n += this.buildTextNode(e[a], a, "", t); else if ("object" != typeof e[a]) { var o = this.isAttribute(a); o ? r += " " + o + '="' + this.options.attrValueProcessor("" + e[a]) + '"' : this.isCDATA(a) ? e[this.options.textNodeName] ? n += this.replaceCDATAstr(e[this.options.textNodeName], e[a]) : n += this.replaceCDATAstr("", e[a]) : a === this.options.textNodeName ? e[this.options.cdataTagName] || (n += this.options.tagValueProcessor("" + e[a])) : n += this.buildTextNode(e[a], a, "", t) } else if (Array.isArray(e[a])) if (this.isCDATA(a)) n += this.indentate(t), e[this.options.textNodeName] ? n += this.replaceCDATAarr(e[this.options.textNodeName], e[a]) : n += this.replaceCDATAarr("", e[a]); else for (var i = e[a].length, c = 0; c < i; c++) { var s = e[a][c]; void 0 === s || (n += null === s ? this.indentate(t) + "<" + a + "/" + this.tagEndChar : "object" == typeof s ? this.processTextOrObjNode(s, a, t) : this.buildTextNode(s, a, "", t)) } else if (this.options.attrNodeName && a === this.options.attrNodeName) for (var u = Object.keys(e[a]), l = u.length, f = 0; f < l; f++)r += " " + u[f] + '="' + this.options.attrValueProcessor("" + e[a][u[f]]) + '"'; else n += this.processTextOrObjNode(e[a], a, t); return { attrStr: r, val: n } }, e.exports = i }, "../../node_modules/fast-xml-parser/src/nimndata.js": function (e, t, r) { "use strict"; var n = function (e) { return String.fromCharCode(e) }, a = { nilChar: n(176), missingChar: n(201), nilPremitive: n(175), missingPremitive: n(200), emptyChar: n(178), emptyValue: n(177), boundryChar: n(179), objStart: n(198), arrStart: n(204), arrayEnd: n(185) }, o = [a.nilChar, a.nilPremitive, a.missingChar, a.missingPremitive, a.boundryChar, a.emptyChar, a.emptyValue, a.arrayEnd, a.objStart, a.arrStart], i = function (e) { switch (e) { case void 0: return a.missingPremitive; case null: return a.nilPremitive; case "": return a.emptyValue; default: return e } }, c = function (e, t) { return s(t[0]) || s(e[e.length - 1]) || (e += a.boundryChar), e + t }, s = function (e) { return -1 !== o.indexOf(e) }, u = r("../../node_modules/fast-xml-parser/src/xmlstr2xmlnode.js"), l = r("../../node_modules/fast-xml-parser/src/util.js").buildOptions; t.convert2nimn = function (e, t, r) { return r = l(r, u.defaultOptions, u.props), function e(t, r, n) { if ("string" == typeof r) return t && t[0] && void 0 !== t[0].val ? i(t[0].val, r) : i(t, r); var o, s = void 0 === (o = t) ? a.missingChar : null === o ? a.nilChar : !(o.child && 0 === Object.keys(o.child).length && (!o.attrsMap || 0 === Object.keys(o.attrsMap).length)) || a.emptyChar; if (!0 === s) { var u = ""; if (Array.isArray(r)) { u += a.arrStart; var l = r[0], f = t.length; if ("string" == typeof l) for (var d = 0; d < f; d++) { var p = i(t[d].val, l); u = c(u, p) } else for (var m = 0; m < f; m++) { var h = e(t[m], l, n); u = c(u, h) } u += a.arrayEnd } else { u += a.objStart; var v = Object.keys(r); for (var g in Array.isArray(t) && (t = t[0]), v) { var b = v[g], y = void 0; y = !n.ignoreAttributes && t.attrsMap && t.attrsMap[b] ? e(t.attrsMap[b], r[b], n) : b === n.textNodeName ? e(t.val, r[b], n) : e(t.child[b], r[b], n), u = c(u, y) } } return u } return s }(e, t, r) } }, "../../node_modules/fast-xml-parser/src/node2json.js": function (e, t, r) { "use strict"; var n = r("../../node_modules/fast-xml-parser/src/util.js"); t.convertToJson = function e(t, r, a) { var o = {}; if (!r.alwaysCreateTextNode && (!t.child || n.isEmptyObject(t.child)) && (!t.attrsMap || n.isEmptyObject(t.attrsMap))) return n.isExist(t.val) ? t.val : ""; if (n.isExist(t.val) && ("string" != typeof t.val || "" !== t.val && t.val !== r.cdataPositionChar)) { var i = n.isTagNameInArrayMode(t.tagname, r.arrayMode, a); o[r.textNodeName] = i ? [t.val] : t.val } n.merge(o, t.attrsMap, r.arrayMode); for (var c = Object.keys(t.child), s = 0; s < c.length; s++) { var u = c[s]; if (t.child[u] && t.child[u].length > 1) for (var l in o[u] = [], t.child[u]) t.child[u].hasOwnProperty(l) && o[u].push(e(t.child[u][l], r, u)); else { var f = e(t.child[u][0], r, u), d = !0 === r.arrayMode && "object" == typeof f || n.isTagNameInArrayMode(u, r.arrayMode, a); o[u] = d ? [f] : f } } return o } }, "../../node_modules/fast-xml-parser/src/node2json_str.js": function (e, t, r) { "use strict"; var n = r("../../node_modules/fast-xml-parser/src/util.js"), a = r("../../node_modules/fast-xml-parser/src/util.js").buildOptions, o = r("../../node_modules/fast-xml-parser/src/xmlstr2xmlnode.js"); t.convertToJsonString = function (e, t) { return (t = a(t, o.defaultOptions, o.props)).indentBy = t.indentBy || "", function e(t, r, a) { for (var o, i = "{", c = Object.keys(t.child), s = 0; s < c.length; s++) { var u = c[s]; if (t.child[u] && t.child[u].length > 1) { for (var l in i += '"' + u + '" : [ ', t.child[u]) i += e(t.child[u][l], r) + " , "; i = i.substr(0, i.length - 1) + " ] " } else i += '"' + u + '" : ' + e(t.child[u][0], r) + " ," } return n.merge(i, t.attrsMap), n.isEmptyObject(i) ? n.isExist(t.val) ? t.val : "" : (n.isExist(t.val) && ("string" != typeof t.val || "" !== t.val && t.val !== r.cdataPositionChar) && (i += '"' + r.textNodeName + '" : ' + (!0 !== (o = t.val) && !1 !== o && isNaN(o) ? '"' + o + '"' : o)), "," === i[i.length - 1] && (i = i.substr(0, i.length - 2)), i + "}") }(e, t) } }, "../../node_modules/fast-xml-parser/src/parser.js": function (e, t, r) { "use strict"; var n = r("../../node_modules/fast-xml-parser/src/node2json.js"), a = r("../../node_modules/fast-xml-parser/src/xmlstr2xmlnode.js"), o = r("../../node_modules/fast-xml-parser/src/xmlstr2xmlnode.js"), i = r("../../node_modules/fast-xml-parser/src/util.js").buildOptions, c = r("../../node_modules/fast-xml-parser/src/validator.js"); t.parse = function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r = arguments.length > 2 ? arguments[2] : void 0; if (r) { !0 === r && (r = {}); var s = c.validate(e, r); if (!0 !== s) throw Error(s.err.msg) } t.parseTrueNumberOnly && !1 !== t.parseNodeValue && !t.numParseOptions && (t.numParseOptions = { leadingZeros: !1 }); var u = i(t, o.defaultOptions, o.props), l = a.getTraversalObj(e, u); return n.convertToJson(l, u) }, t.convertTonimn = r("../../node_modules/fast-xml-parser/src/nimndata.js").convert2nimn, t.getTraversalObj = a.getTraversalObj, t.convertToJson = n.convertToJson, t.convertToJsonString = r("../../node_modules/fast-xml-parser/src/node2json_str.js").convertToJsonString, t.validate = c.validate, t.j2xParser = r("../../node_modules/fast-xml-parser/src/json2xml.js"), t.parseToNimn = function (e, r, n) { return t.convertTonimn(t.getTraversalObj(e, n), r, n) } }, "../../node_modules/fast-xml-parser/src/util.js": function (e, t, r) { "use strict"; var n = "[:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*", a = new RegExp("^" + n + "$"); t.isExist = function (e) { return void 0 !== e }, t.isEmptyObject = function (e) { return 0 === Object.keys(e).length }, t.merge = function (e, t, r) { if (t) for (var n = Object.keys(t), a = n.length, o = 0; o < a; o++)e[n[o]] = "strict" === r ? [t[n[o]]] : t[n[o]] }, t.getValue = function (e) { return t.isExist(e) ? e : "" }, t.buildOptions = function (e, t, r) { var n = {}; if (!e) return t; for (var a = 0; a < r.length; a++)void 0 !== e[r[a]] ? n[r[a]] = e[r[a]] : n[r[a]] = t[r[a]]; return n }, t.isTagNameInArrayMode = function (e, t, r) { return !1 !== t && (t instanceof RegExp ? t.test(e) : "function" == typeof t ? !!t(e, r) : "strict" === t) }, t.isName = function (e) { var t = a.exec(e); return !(null == t) }, t.getAllMatches = function (e, t) { for (var r = [], n = t.exec(e); n;) { var a = []; a.startIndex = t.lastIndex - n[0].length; for (var o = n.length, i = 0; i < o; i++)a.push(n[i]); r.push(a), n = t.exec(e) } return r }, t.nameRegexp = n }, "../../node_modules/fast-xml-parser/src/validator.js": function (e, t, r) { "use strict"; var n = r("../../node_modules/fast-xml-parser/src/util.js"), a = { allowBooleanAttributes: !1 }, o = ["allowBooleanAttributes"]; function i(e, t) { for (var r = t; t < e.length; t++)if ("?" != e[t] && " " != e[t]); else { var n = e.substr(r, t - r); if (t > 5 && "xml" === n) return d("InvalidXml", "XML declaration allowed only at the start of the document.", m(e, t)); if ("?" == e[t] && ">" == e[t + 1]) { t++; break } } return t } function c(e, t) { if (e.length > t + 5 && "-" === e[t + 1] && "-" === e[t + 2]) { for (t += 3; t < e.length; t++)if ("-" === e[t] && "-" === e[t + 1] && ">" === e[t + 2]) { t += 2; break } } else if (e.length > t + 8 && "D" === e[t + 1] && "O" === e[t + 2] && "C" === e[t + 3] && "T" === e[t + 4] && "Y" === e[t + 5] && "P" === e[t + 6] && "E" === e[t + 7]) { var r = 1; for (t += 8; t < e.length; t++)if ("<" === e[t]) r++; else if (">" === e[t] && 0 === --r) break } else if (e.length > t + 9 && "[" === e[t + 1] && "C" === e[t + 2] && "D" === e[t + 3] && "A" === e[t + 4] && "T" === e[t + 5] && "A" === e[t + 6] && "[" === e[t + 7]) for (t += 8; t < e.length; t++)if ("]" === e[t] && "]" === e[t + 1] && ">" === e[t + 2]) { t += 2; break } return t } function s(e, t) { for (var r = "", n = "", a = !1; t < e.length; t++) { if ('"' === e[t] || "'" === e[t]) "" === n ? n = e[t] : n !== e[t] || (n = ""); else if (">" === e[t] && "" === n) { a = !0; break } r += e[t] } return "" === n && { value: r, index: t, tagClosed: a } } t.validate = function (e, t) { t = n.buildOptions(t, a, o); var r, u = [], p = !1, h = !1; "\ufeff" === e[0] && (e = e.substr(1)); for (var v = 0; v < e.length; v++)if ("<" === e[v] && "?" === e[v + 1]) { if ((v = i(e, v += 2)).err) return v } else { if ("<" !== e[v]) { if (" " === e[v] || "\t" === e[v] || "\n" === e[v] || "\r" === e[v]) continue; return d("InvalidChar", "char '" + e[v] + "' is not expected.", m(e, v)) } var g = v; if ("!" === e[++v]) { v = c(e, v); continue } var b = !1; "/" === e[v] && (b = !0, v++); for (var y = ""; v < e.length && ">" !== e[v] && " " !== e[v] && "\t" !== e[v] && "\n" !== e[v] && "\r" !== e[v]; v++)y += e[v]; if ("/" === (y = y.trim())[y.length - 1] && (y = y.substring(0, y.length - 1), v--), r = y, !n.isName(r)) return d("InvalidTag", 0 === y.trim().length ? "Invalid space after '<'." : "Tag '" + y + "' is an invalid name.", m(e, v)); var E = s(e, v); if (!1 === E) return d("InvalidAttr", "Attributes for '" + y + "' have open quote.", m(e, v)); var O = E.value; if (v = E.index, "/" === O[O.length - 1]) { var S = v - O.length, w = l(O = O.substring(0, O.length - 1), t); if (!0 !== w) return d(w.err.code, w.err.msg, m(e, S + w.err.line)); p = !0 } else if (b) { if (!E.tagClosed) return d("InvalidTag", "Closing tag '" + y + "' doesn't have proper closing.", m(e, v)); if (O.trim().length > 0) return d("InvalidTag", "Closing tag '" + y + "' can't have attributes or invalid starting.", m(e, g)); var A = u.pop(); if (y !== A.tagName) { var C = m(e, A.tagStartPos); return d("InvalidTag", "Expected closing tag '" + A.tagName + "' (opened in line " + C.line + ", col " + C.col + ") instead of closing tag '" + y + "'.", m(e, g)) } 0 == u.length && (h = !0) } else { var T = l(O, t); if (!0 !== T) return d(T.err.code, T.err.msg, m(e, v - O.length + T.err.line)); if (!0 === h) return d("InvalidXml", "Multiple possible root nodes found.", m(e, v)); u.push({ tagName: y, tagStartPos: g }), p = !0 } for (v++; v < e.length; v++)if ("<" === e[v]) { if ("!" === e[v + 1]) { v = c(e, ++v); continue } if ("?" !== e[v + 1]) break; if ((v = i(e, ++v)).err) return v } else if ("&" === e[v]) { var j = f(e, v); if (-1 == j) return d("InvalidChar", "char '&' is not expected.", m(e, v)); v = j } "<" === e[v] && v-- } return p ? 1 == u.length ? d("InvalidTag", "Unclosed tag '" + u[0].tagName + "'.", m(e, u[0].tagStartPos)) : !(u.length > 0) || d("InvalidXml", "Invalid '" + JSON.stringify(u.map(function (e) { return e.tagName }), null, 4).replace(/\r?\n/g, "") + "' found.", { line: 1, col: 1 }) : d("InvalidXml", "Start tag expected.", 1) }; var u = new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?", "g"); function l(e, t) { for (var r = n.getAllMatches(e, u), a = {}, o = 0; o < r.length; o++) { if (0 === r[o][1].length) return d("InvalidAttr", "Attribute '" + r[o][2] + "' has no space in starting.", h(r[o])); if (void 0 === r[o][3] && !t.allowBooleanAttributes) return d("InvalidAttr", "boolean attribute '" + r[o][2] + "' is not allowed.", h(r[o])); var i = r[o][2]; if (!p(i)) return d("InvalidAttr", "Attribute '" + i + "' is an invalid name.", h(r[o])); if (a.hasOwnProperty(i)) return d("InvalidAttr", "Attribute '" + i + "' is repeated.", h(r[o])); a[i] = 1 } return !0 } function f(e, t) { if (";" === e[++t]) return -1; if ("#" === e[t]) return function (e, t) { var r = /\d/; for ("x" === e[t] && (t++, r = /[\da-fA-F]/); t < e.length; t++) { if (";" === e[t]) return t; if (!e[t].match(r)) break } return -1 }(e, ++t); for (var r = 0; t < e.length; t++, r++)if (!(e[t].match(/\w/) && r < 20)) { if (";" === e[t]) break; return -1 } return t } function d(e, t, r) { return { err: { code: e, msg: t, line: r.line || r, col: r.col } } } function p(e) { return n.isName(e) } function m(e, t) { var r = e.substring(0, t).split(/\r?\n/); return { line: r.length, col: r[r.length - 1].length + 1 } } function h(e) { return e.startIndex + e[1].length } }, "../../node_modules/fast-xml-parser/src/xmlNode.js": function (e, t, r) { "use strict"; e.exports = function (e, t, r) { this.tagname = e, this.parent = t, this.child = {}, this.attrsMap = {}, this.val = r, this.addChild = function (e) { Array.isArray(this.child[e.tagname]) ? this.child[e.tagname].push(e) : this.child[e.tagname] = [e] } } }, "../../node_modules/fast-xml-parser/src/xmlstr2xmlnode.js": function (e, t, r) { "use strict"; var n = r("../../node_modules/fast-xml-parser/src/util.js"), a = r("../../node_modules/fast-xml-parser/src/util.js").buildOptions, o = r("../../node_modules/fast-xml-parser/src/xmlNode.js"), i = r("../../node_modules/strnum/strnum.js"); "<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g, n.nameRegexp), !Number.parseInt && window.parseInt && (Number.parseInt = window.parseInt), !Number.parseFloat && window.parseFloat && (Number.parseFloat = window.parseFloat); var c = { attributeNamePrefix: "@_", attrNodeName: !1, textNodeName: "#text", ignoreAttributes: !0, ignoreNameSpace: !1, allowBooleanAttributes: !1, parseNodeValue: !0, parseAttributeValue: !1, arrayMode: !1, trimValues: !0, cdataTagName: !1, cdataPositionChar: "\\c", numParseOptions: { hex: !0, leadingZeros: !0 }, tagValueProcessor: function (e, t) { return e }, attrValueProcessor: function (e, t) { return e }, stopNodes: [], alwaysCreateTextNode: !1 }; t.defaultOptions = c; var s = ["attributeNamePrefix", "attrNodeName", "textNodeName", "ignoreAttributes", "ignoreNameSpace", "allowBooleanAttributes", "parseNodeValue", "parseAttributeValue", "arrayMode", "trimValues", "cdataTagName", "cdataPositionChar", "tagValueProcessor", "attrValueProcessor", "parseTrueNumberOnly", "numParseOptions", "stopNodes", "alwaysCreateTextNode"]; function u(e, t, r) { return t && (r.trimValues && (t = t.trim()), t = f(t = r.tagValueProcessor(t, e), r.parseNodeValue, r.numParseOptions)), t } function l(e, t) { if (t.ignoreNameSpace) { var r = e.split(":"), n = "/" === e.charAt(0) ? "/" : ""; if ("xmlns" === r[0]) return ""; 2 === r.length && (e = n + r[1]) } return e } function f(e, t, r) { if (t && "string" == typeof e) { var a = e.trim(); return "true" === a || "false" !== a && i(e, r) } return n.isExist(e) ? e : "" } t.props = s; var d = new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])(.*?)\\3)?", "g"); function p(e, t) { if (!t.ignoreAttributes && "string" == typeof e) { e = e.replace(/\r?\n/g, " "); for (var r = n.getAllMatches(e, d), a = r.length, o = {}, i = 0; i < a; i++) { var c = l(r[i][1], t); c.length && (void 0 !== r[i][4] ? (t.trimValues && (r[i][4] = r[i][4].trim()), r[i][4] = t.attrValueProcessor(r[i][4], c), o[t.attributeNamePrefix + c] = f(r[i][4], t.parseAttributeValue, t.numParseOptions)) : t.allowBooleanAttributes && (o[t.attributeNamePrefix + c] = !0)) } if (!Object.keys(o).length) return; if (t.attrNodeName) { var s = {}; return s[t.attrNodeName] = o, s } return o } } function m(e, t) { for (var r, n = "", a = t; a < e.length; a++) { var o = e[a]; if (r) o === r && (r = ""); else if ('"' === o || "'" === o) r = o; else { if (">" === o) return { data: n, index: a }; "\t" === o && (o = " ") } n += o } } function h(e, t, r, n) { var a = e.indexOf(t, r); if (-1 === a) throw new Error(n); return a + t.length - 1 } t.getTraversalObj = function (e, t) { e = e.replace(/\r\n?/g, "\n"), t = a(t, c, s); for (var r = new o("!xml"), i = r, l = "", f = 0; f < e.length; f++)if ("<" === e[f]) if ("/" === e[f + 1]) { var d = h(e, ">", f, "Closing Tag is not closed."), v = e.substring(f + 2, d).trim(); if (t.ignoreNameSpace) { var g = v.indexOf(":"); -1 !== g && (v = v.substr(g + 1)) } i && (i.val ? i.val = n.getValue(i.val) + "" + u(v, l, t) : i.val = u(v, l, t)), t.stopNodes.length && t.stopNodes.includes(i.tagname) && (i.child = [], null == i.attrsMap && (i.attrsMap = {}), i.val = e.substr(i.startIndex + 1, f - i.startIndex - 1)), i = i.parent, l = "", f = d } else if ("?" === e[f + 1]) f = h(e, "?>", f, "Pi Tag is not closed."); else if ("!--" === e.substr(f + 1, 3)) f = h(e, "--\x3e", f, "Comment is not closed."); else if ("!D" === e.substr(f + 1, 2)) { var b = h(e, ">", f, "DOCTYPE is not closed."); f = e.substring(f, b).indexOf("[") >= 0 ? e.indexOf("]>", f) + 1 : b } else if ("![" === e.substr(f + 1, 2)) { var y = h(e, "]]>", f, "CDATA is not closed.") - 2, E = e.substring(f + 9, y); if (l && (i.val = n.getValue(i.val) + "" + u(i.tagname, l, t), l = ""), t.cdataTagName) { var O = new o(t.cdataTagName, i, E); i.addChild(O), i.val = n.getValue(i.val) + t.cdataPositionChar, E && (O.val = E) } else i.val = (i.val || "") + (E || ""); f = y + 2 } else { var S = m(e, f + 1), w = S.data, A = S.index, C = w.indexOf(" "), T = w, j = !0; if (-1 !== C && (T = w.substr(0, C).replace(/\s\s*$/, ""), w = w.substr(C + 1)), t.ignoreNameSpace) { var k = T.indexOf(":"); -1 !== k && (T = T.substr(k + 1), j = T !== S.data.substr(k + 1)) } if (i && l && "!xml" !== i.tagname && (i.val = n.getValue(i.val) + "" + u(i.tagname, l, t)), w.length > 0 && w.lastIndexOf("/") === w.length - 1) { "/" === T[T.length - 1] ? (T = T.substr(0, T.length - 1), w = T) : w = w.substr(0, w.length - 1); var R = new o(T, i, ""); T !== w && (R.attrsMap = p(w, t)), i.addChild(R) } else { var N = new o(T, i); t.stopNodes.length && t.stopNodes.includes(N.tagname) && (N.startIndex = A), T !== w && j && (N.attrsMap = p(w, t)), i.addChild(N), i = N } l = "", f = A } else l += e[f]; return r } }, "../../node_modules/he/he.js": function (e, t, r) { (function (e, n) { var a; !function (o) { var i = (e && e.exports, "object" == typeof n && n); i.global !== i && i.window; var c = /[\uD800-\uDBFF][\uDC00-\uDFFF]/g, s = /[\x01-\x7F]/g, u = /[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g, l = /<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g, f = { "\xad": "shy", "\u200c": "zwnj", "\u200d": "zwj", "\u200e": "lrm", "\u2063": "ic", "\u2062": "it", "\u2061": "af", "\u200f": "rlm", "\u200b": "ZeroWidthSpace", "\u2060": "NoBreak", "\u0311": "DownBreve", "\u20db": "tdot", "\u20dc": "DotDot", "\t": "Tab", "\n": "NewLine", "\u2008": "puncsp", "\u205f": "MediumSpace", "\u2009": "thinsp", "\u200a": "hairsp", "\u2004": "emsp13", "\u2002": "ensp", "\u2005": "emsp14", "\u2003": "emsp", "\u2007": "numsp", "\xa0": "nbsp", "\u205f\u200a": "ThickSpace", "\u203e": "oline", _: "lowbar", "\u2010": "dash", "\u2013": "ndash", "\u2014": "mdash", "\u2015": "horbar", ",": "comma", ";": "semi", "\u204f": "bsemi", ":": "colon", "\u2a74": "Colone", "!": "excl", "\xa1": "iexcl", "?": "quest", "\xbf": "iquest", ".": "period", "\u2025": "nldr", "\u2026": "mldr", "\xb7": "middot", "'": "apos", "\u2018": "lsquo", "\u2019": "rsquo", "\u201a": "sbquo", "\u2039": "lsaquo", "\u203a": "rsaquo", '"': "quot", "\u201c": "ldquo", "\u201d": "rdquo", "\u201e": "bdquo", "\xab": "laquo", "\xbb": "raquo", "(": "lpar", ")": "rpar", "[": "lsqb", "]": "rsqb", "{": "lcub", "}": "rcub", "\u2308": "lceil", "\u2309": "rceil", "\u230a": "lfloor", "\u230b": "rfloor", "\u2985": "lopar", "\u2986": "ropar", "\u298b": "lbrke", "\u298c": "rbrke", "\u298d": "lbrkslu", "\u298e": "rbrksld", "\u298f": "lbrksld", "\u2990": "rbrkslu", "\u2991": "langd", "\u2992": "rangd", "\u2993": "lparlt", "\u2994": "rpargt", "\u2995": "gtlPar", "\u2996": "ltrPar", "\u27e6": "lobrk", "\u27e7": "robrk", "\u27e8": "lang", "\u27e9": "rang", "\u27ea": "Lang", "\u27eb": "Rang", "\u27ec": "loang", "\u27ed": "roang", "\u2772": "lbbrk", "\u2773": "rbbrk", "\u2016": "Vert", "\xa7": "sect", "\xb6": "para", "@": "commat", "*": "ast", "/": "sol", undefined: null, "&": "amp", "#": "num", "%": "percnt", "\u2030": "permil", "\u2031": "pertenk", "\u2020": "dagger", "\u2021": "Dagger", "\u2022": "bull", "\u2043": "hybull", "\u2032": "prime", "\u2033": "Prime", "\u2034": "tprime", "\u2057": "qprime", "\u2035": "bprime", "\u2041": "caret", "`": "grave", "\xb4": "acute", "\u02dc": "tilde", "^": "Hat", "\xaf": "macr", "\u02d8": "breve", "\u02d9": "dot", "\xa8": "die", "\u02da": "ring", "\u02dd": "dblac", "\xb8": "cedil", "\u02db": "ogon", "\u02c6": "circ", "\u02c7": "caron", "\xb0": "deg", "\xa9": "copy", "\xae": "reg", "\u2117": "copysr", "\u2118": "wp", "\u211e": "rx", "\u2127": "mho", "\u2129": "iiota", "\u2190": "larr", "\u219a": "nlarr", "\u2192": "rarr", "\u219b": "nrarr", "\u2191": "uarr", "\u2193": "darr", "\u2194": "harr", "\u21ae": "nharr", "\u2195": "varr", "\u2196": "nwarr", "\u2197": "nearr", "\u2198": "searr", "\u2199": "swarr", "\u219d": "rarrw", "\u219d\u0338": "nrarrw", "\u219e": "Larr", "\u219f": "Uarr", "\u21a0": "Rarr", "\u21a1": "Darr", "\u21a2": "larrtl", "\u21a3": "rarrtl", "\u21a4": "mapstoleft", "\u21a5": "mapstoup", "\u21a6": "map", "\u21a7": "mapstodown", "\u21a9": "larrhk", "\u21aa": "rarrhk", "\u21ab": "larrlp", "\u21ac": "rarrlp", "\u21ad": "harrw", "\u21b0": "lsh", "\u21b1": "rsh", "\u21b2": "ldsh", "\u21b3": "rdsh", "\u21b5": "crarr", "\u21b6": "cularr", "\u21b7": "curarr", "\u21ba": "olarr", "\u21bb": "orarr", "\u21bc": "lharu", "\u21bd": "lhard", "\u21be": "uharr", "\u21bf": "uharl", "\u21c0": "rharu", "\u21c1": "rhard", "\u21c2": "dharr", "\u21c3": "dharl", "\u21c4": "rlarr", "\u21c5": "udarr", "\u21c6": "lrarr", "\u21c7": "llarr", "\u21c8": "uuarr", "\u21c9": "rrarr", "\u21ca": "ddarr", "\u21cb": "lrhar", "\u21cc": "rlhar", "\u21d0": "lArr", "\u21cd": "nlArr", "\u21d1": "uArr", "\u21d2": "rArr", "\u21cf": "nrArr", "\u21d3": "dArr", "\u21d4": "iff", "\u21ce": "nhArr", "\u21d5": "vArr", "\u21d6": "nwArr", "\u21d7": "neArr", "\u21d8": "seArr", "\u21d9": "swArr", "\u21da": "lAarr", "\u21db": "rAarr", "\u21dd": "zigrarr", "\u21e4": "larrb", "\u21e5": "rarrb", "\u21f5": "duarr", "\u21fd": "loarr", "\u21fe": "roarr", "\u21ff": "hoarr", "\u2200": "forall", "\u2201": "comp", "\u2202": "part", "\u2202\u0338": "npart", "\u2203": "exist", "\u2204": "nexist", "\u2205": "empty", "\u2207": "Del", "\u2208": "in", "\u2209": "notin", "\u220b": "ni", "\u220c": "notni", "\u03f6": "bepsi", "\u220f": "prod", "\u2210": "coprod", "\u2211": "sum", "+": "plus", "\xb1": "pm", "\xf7": "div", "\xd7": "times", "<": "lt", "\u226e": "nlt", "<\u20d2": "nvlt", "=": "equals", "\u2260": "ne", "=\u20e5": "bne", "\u2a75": "Equal", ">": "gt", "\u226f": "ngt", ">\u20d2": "nvgt", "\xac": "not", "|": "vert", "\xa6": "brvbar", "\u2212": "minus", "\u2213": "mp", "\u2214": "plusdo", "\u2044": "frasl", "\u2216": "setmn", "\u2217": "lowast", "\u2218": "compfn", "\u221a": "Sqrt", "\u221d": "prop", "\u221e": "infin", "\u221f": "angrt", "\u2220": "ang", "\u2220\u20d2": "nang", "\u2221": "angmsd", "\u2222": "angsph", "\u2223": "mid", "\u2224": "nmid", "\u2225": "par", "\u2226": "npar", "\u2227": "and", "\u2228": "or", "\u2229": "cap", "\u2229\ufe00": "caps", "\u222a": "cup", "\u222a\ufe00": "cups", "\u222b": "int", "\u222c": "Int", "\u222d": "tint", "\u2a0c": "qint", "\u222e": "oint", "\u222f": "Conint", "\u2230": "Cconint", "\u2231": "cwint", "\u2232": "cwconint", "\u2233": "awconint", "\u2234": "there4", "\u2235": "becaus", "\u2236": "ratio", "\u2237": "Colon", "\u2238": "minusd", "\u223a": "mDDot", "\u223b": "homtht", "\u223c": "sim", "\u2241": "nsim", "\u223c\u20d2": "nvsim", "\u223d": "bsim", "\u223d\u0331": "race", "\u223e": "ac", "\u223e\u0333": "acE", "\u223f": "acd", "\u2240": "wr", "\u2242": "esim", "\u2242\u0338": "nesim", "\u2243": "sime", "\u2244": "nsime", "\u2245": "cong", "\u2247": "ncong", "\u2246": "simne", "\u2248": "ap", "\u2249": "nap", "\u224a": "ape", "\u224b": "apid", "\u224b\u0338": "napid", "\u224c": "bcong", "\u224d": "CupCap", "\u226d": "NotCupCap", "\u224d\u20d2": "nvap", "\u224e": "bump", "\u224e\u0338": "nbump", "\u224f": "bumpe", "\u224f\u0338": "nbumpe", "\u2250": "doteq", "\u2250\u0338": "nedot", "\u2251": "eDot", "\u2252": "efDot", "\u2253": "erDot", "\u2254": "colone", "\u2255": "ecolon", "\u2256": "ecir", "\u2257": "cire", "\u2259": "wedgeq", "\u225a": "veeeq", "\u225c": "trie", "\u225f": "equest", "\u2261": "equiv", "\u2262": "nequiv", "\u2261\u20e5": "bnequiv", "\u2264": "le", "\u2270": "nle", "\u2264\u20d2": "nvle", "\u2265": "ge", "\u2271": "nge", "\u2265\u20d2": "nvge", "\u2266": "lE", "\u2266\u0338": "nlE", "\u2267": "gE", "\u2267\u0338": "ngE", "\u2268\ufe00": "lvnE", "\u2268": "lnE", "\u2269": "gnE", "\u2269\ufe00": "gvnE", "\u226a": "ll", "\u226a\u0338": "nLtv", "\u226a\u20d2": "nLt", "\u226b": "gg", "\u226b\u0338": "nGtv", "\u226b\u20d2": "nGt", "\u226c": "twixt", "\u2272": "lsim", "\u2274": "nlsim", "\u2273": "gsim", "\u2275": "ngsim", "\u2276": "lg", "\u2278": "ntlg", "\u2277": "gl", "\u2279": "ntgl", "\u227a": "pr", "\u2280": "npr", "\u227b": "sc", "\u2281": "nsc", "\u227c": "prcue", "\u22e0": "nprcue", "\u227d": "sccue", "\u22e1": "nsccue", "\u227e": "prsim", "\u227f": "scsim", "\u227f\u0338": "NotSucceedsTilde", "\u2282": "sub", "\u2284": "nsub", "\u2282\u20d2": "vnsub", "\u2283": "sup", "\u2285": "nsup", "\u2283\u20d2": "vnsup", "\u2286": "sube", "\u2288": "nsube", "\u2287": "supe", "\u2289": "nsupe", "\u228a\ufe00": "vsubne", "\u228a": "subne", "\u228b\ufe00": "vsupne", "\u228b": "supne", "\u228d": "cupdot", "\u228e": "uplus", "\u228f": "sqsub", "\u228f\u0338": "NotSquareSubset", "\u2290": "sqsup", "\u2290\u0338": "NotSquareSuperset", "\u2291": "sqsube", "\u22e2": "nsqsube", "\u2292": "sqsupe", "\u22e3": "nsqsupe", "\u2293": "sqcap", "\u2293\ufe00": "sqcaps", "\u2294": "sqcup", "\u2294\ufe00": "sqcups", "\u2295": "oplus", "\u2296": "ominus", "\u2297": "otimes", "\u2298": "osol", "\u2299": "odot", "\u229a": "ocir", "\u229b": "oast", "\u229d": "odash", "\u229e": "plusb", "\u229f": "minusb", "\u22a0": "timesb", "\u22a1": "sdotb", "\u22a2": "vdash", "\u22ac": "nvdash", "\u22a3": "dashv", "\u22a4": "top", "\u22a5": "bot", "\u22a7": "models", "\u22a8": "vDash", "\u22ad": "nvDash", "\u22a9": "Vdash", "\u22ae": "nVdash", "\u22aa": "Vvdash", "\u22ab": "VDash", "\u22af": "nVDash", "\u22b0": "prurel", "\u22b2": "vltri", "\u22ea": "nltri", "\u22b3": "vrtri", "\u22eb": "nrtri", "\u22b4": "ltrie", "\u22ec": "nltrie", "\u22b4\u20d2": "nvltrie", "\u22b5": "rtrie", "\u22ed": "nrtrie", "\u22b5\u20d2": "nvrtrie", "\u22b6": "origof", "\u22b7": "imof", "\u22b8": "mumap", "\u22b9": "hercon", "\u22ba": "intcal", "\u22bb": "veebar", "\u22bd": "barvee", "\u22be": "angrtvb", "\u22bf": "lrtri", "\u22c0": "Wedge", "\u22c1": "Vee", "\u22c2": "xcap", "\u22c3": "xcup", "\u22c4": "diam", "\u22c5": "sdot", "\u22c6": "Star", "\u22c7": "divonx", "\u22c8": "bowtie", "\u22c9": "ltimes", "\u22ca": "rtimes", "\u22cb": "lthree", "\u22cc": "rthree", "\u22cd": "bsime", "\u22ce": "cuvee", "\u22cf": "cuwed", "\u22d0": "Sub", "\u22d1": "Sup", "\u22d2": "Cap", "\u22d3": "Cup", "\u22d4": "fork", "\u22d5": "epar", "\u22d6": "ltdot", "\u22d7": "gtdot", "\u22d8": "Ll", "\u22d8\u0338": "nLl", "\u22d9": "Gg", "\u22d9\u0338": "nGg", "\u22da\ufe00": "lesg", "\u22da": "leg", "\u22db": "gel", "\u22db\ufe00": "gesl", "\u22de": "cuepr", "\u22df": "cuesc", "\u22e6": "lnsim", "\u22e7": "gnsim", "\u22e8": "prnsim", "\u22e9": "scnsim", "\u22ee": "vellip", "\u22ef": "ctdot", "\u22f0": "utdot", "\u22f1": "dtdot", "\u22f2": "disin", "\u22f3": "isinsv", "\u22f4": "isins", "\u22f5": "isindot", "\u22f5\u0338": "notindot", "\u22f6": "notinvc", "\u22f7": "notinvb", "\u22f9": "isinE", "\u22f9\u0338": "notinE", "\u22fa": "nisd", "\u22fb": "xnis", "\u22fc": "nis", "\u22fd": "notnivc", "\u22fe": "notnivb", "\u2305": "barwed", "\u2306": "Barwed", "\u230c": "drcrop", "\u230d": "dlcrop", "\u230e": "urcrop", "\u230f": "ulcrop", "\u2310": "bnot", "\u2312": "profline", "\u2313": "profsurf", "\u2315": "telrec", "\u2316": "target", "\u231c": "ulcorn", "\u231d": "urcorn", "\u231e": "dlcorn", "\u231f": "drcorn", "\u2322": "frown", "\u2323": "smile", "\u232d": "cylcty", "\u232e": "profalar", "\u2336": "topbot", "\u233d": "ovbar", "\u233f": "solbar", "\u237c": "angzarr", "\u23b0": "lmoust", "\u23b1": "rmoust", "\u23b4": "tbrk", "\u23b5": "bbrk", "\u23b6": "bbrktbrk", "\u23dc": "OverParenthesis", "\u23dd": "UnderParenthesis", "\u23de": "OverBrace", "\u23df": "UnderBrace", "\u23e2": "trpezium", "\u23e7": "elinters", "\u2423": "blank", "\u2500": "boxh", "\u2502": "boxv", "\u250c": "boxdr", "\u2510": "boxdl", "\u2514": "boxur", "\u2518": "boxul", "\u251c": "boxvr", "\u2524": "boxvl", "\u252c": "boxhd", "\u2534": "boxhu", "\u253c": "boxvh", "\u2550": "boxH", "\u2551": "boxV", "\u2552": "boxdR", "\u2553": "boxDr", "\u2554": "boxDR", "\u2555": "boxdL", "\u2556": "boxDl", "\u2557": "boxDL", "\u2558": "boxuR", "\u2559": "boxUr", "\u255a": "boxUR", "\u255b": "boxuL", "\u255c": "boxUl", "\u255d": "boxUL", "\u255e": "boxvR", "\u255f": "boxVr", "\u2560": "boxVR", "\u2561": "boxvL", "\u2562": "boxVl", "\u2563": "boxVL", "\u2564": "boxHd", "\u2565": "boxhD", "\u2566": "boxHD", "\u2567": "boxHu", "\u2568": "boxhU", "\u2569": "boxHU", "\u256a": "boxvH", "\u256b": "boxVh", "\u256c": "boxVH", "\u2580": "uhblk", "\u2584": "lhblk", "\u2588": "block", "\u2591": "blk14", "\u2592": "blk12", "\u2593": "blk34", "\u25a1": "squ", "\u25aa": "squf", "\u25ab": "EmptyVerySmallSquare", "\u25ad": "rect", "\u25ae": "marker", "\u25b1": "fltns", "\u25b3": "xutri", "\u25b4": "utrif", "\u25b5": "utri", "\u25b8": "rtrif", "\u25b9": "rtri", "\u25bd": "xdtri", "\u25be": "dtrif", "\u25bf": "dtri", "\u25c2": "ltrif", "\u25c3": "ltri", "\u25ca": "loz", "\u25cb": "cir", "\u25ec": "tridot", "\u25ef": "xcirc", "\u25f8": "ultri", "\u25f9": "urtri", "\u25fa": "lltri", "\u25fb": "EmptySmallSquare", "\u25fc": "FilledSmallSquare", "\u2605": "starf", "\u2606": "star", "\u260e": "phone", "\u2640": "female", "\u2642": "male", "\u2660": "spades", "\u2663": "clubs", "\u2665": "hearts", "\u2666": "diams", "\u266a": "sung", "\u2713": "check", "\u2717": "cross", "\u2720": "malt", "\u2736": "sext", "\u2758": "VerticalSeparator", "\u27c8": "bsolhsub", "\u27c9": "suphsol", "\u27f5": "xlarr", "\u27f6": "xrarr", "\u27f7": "xharr", "\u27f8": "xlArr", "\u27f9": "xrArr", "\u27fa": "xhArr", "\u27fc": "xmap", "\u27ff": "dzigrarr", "\u2902": "nvlArr", "\u2903": "nvrArr", "\u2904": "nvHarr", "\u2905": "Map", "\u290c": "lbarr", "\u290d": "rbarr", "\u290e": "lBarr", "\u290f": "rBarr", "\u2910": "RBarr", "\u2911": "DDotrahd", "\u2912": "UpArrowBar", "\u2913": "DownArrowBar", "\u2916": "Rarrtl", "\u2919": "latail", "\u291a": "ratail", "\u291b": "lAtail", "\u291c": "rAtail", "\u291d": "larrfs", "\u291e": "rarrfs", "\u291f": "larrbfs", "\u2920": "rarrbfs", "\u2923": "nwarhk", "\u2924": "nearhk", "\u2925": "searhk", "\u2926": "swarhk", "\u2927": "nwnear", "\u2928": "toea", "\u2929": "tosa", "\u292a": "swnwar", "\u2933": "rarrc", "\u2933\u0338": "nrarrc", "\u2935": "cudarrr", "\u2936": "ldca", "\u2937": "rdca", "\u2938": "cudarrl", "\u2939": "larrpl", "\u293c": "curarrm", "\u293d": "cularrp", "\u2945": "rarrpl", "\u2948": "harrcir", "\u2949": "Uarrocir", "\u294a": "lurdshar", "\u294b": "ldrushar", "\u294e": "LeftRightVector", "\u294f": "RightUpDownVector", "\u2950": "DownLeftRightVector", "\u2951": "LeftUpDownVector", "\u2952": "LeftVectorBar", "\u2953": "RightVectorBar", "\u2954": "RightUpVectorBar", "\u2955": "RightDownVectorBar", "\u2956": "DownLeftVectorBar", "\u2957": "DownRightVectorBar", "\u2958": "LeftUpVectorBar", "\u2959": "LeftDownVectorBar", "\u295a": "LeftTeeVector", "\u295b": "RightTeeVector", "\u295c": "RightUpTeeVector", "\u295d": "RightDownTeeVector", "\u295e": "DownLeftTeeVector", "\u295f": "DownRightTeeVector", "\u2960": "LeftUpTeeVector", "\u2961": "LeftDownTeeVector", "\u2962": "lHar", "\u2963": "uHar", "\u2964": "rHar", "\u2965": "dHar", "\u2966": "luruhar", "\u2967": "ldrdhar", "\u2968": "ruluhar", "\u2969": "rdldhar", "\u296a": "lharul", "\u296b": "llhard", "\u296c": "rharul", "\u296d": "lrhard", "\u296e": "udhar", "\u296f": "duhar", "\u2970": "RoundImplies", "\u2971": "erarr", "\u2972": "simrarr", "\u2973": "larrsim", "\u2974": "rarrsim", "\u2975": "rarrap", "\u2976": "ltlarr", "\u2978": "gtrarr", "\u2979": "subrarr", "\u297b": "suplarr", "\u297c": "lfisht", "\u297d": "rfisht", "\u297e": "ufisht", "\u297f": "dfisht", "\u299a": "vzigzag", "\u299c": "vangrt", "\u299d": "angrtvbd", "\u29a4": "ange", "\u29a5": "range", "\u29a6": "dwangle", "\u29a7": "uwangle", "\u29a8": "angmsdaa", "\u29a9": "angmsdab", "\u29aa": "angmsdac", "\u29ab": "angmsdad", "\u29ac": "angmsdae", "\u29ad": "angmsdaf", "\u29ae": "angmsdag", "\u29af": "angmsdah", "\u29b0": "bemptyv", "\u29b1": "demptyv", "\u29b2": "cemptyv", "\u29b3": "raemptyv", "\u29b4": "laemptyv", "\u29b5": "ohbar", "\u29b6": "omid", "\u29b7": "opar", "\u29b9": "operp", "\u29bb": "olcross", "\u29bc": "odsold", "\u29be": "olcir", "\u29bf": "ofcir", "\u29c0": "olt", "\u29c1": "ogt", "\u29c2": "cirscir", "\u29c3": "cirE", "\u29c4": "solb", "\u29c5": "bsolb", "\u29c9": "boxbox", "\u29cd": "trisb", "\u29ce": "rtriltri", "\u29cf": "LeftTriangleBar", "\u29cf\u0338": "NotLeftTriangleBar", "\u29d0": "RightTriangleBar", "\u29d0\u0338": "NotRightTriangleBar", "\u29dc": "iinfin", "\u29dd": "infintie", "\u29de": "nvinfin", "\u29e3": "eparsl", "\u29e4": "smeparsl", "\u29e5": "eqvparsl", "\u29eb": "lozf", "\u29f4": "RuleDelayed", "\u29f6": "dsol", "\u2a00": "xodot", "\u2a01": "xoplus", "\u2a02": "xotime", "\u2a04": "xuplus", "\u2a06": "xsqcup", "\u2a0d": "fpartint", "\u2a10": "cirfnint", "\u2a11": "awint", "\u2a12": "rppolint", "\u2a13": "scpolint", "\u2a14": "npolint", "\u2a15": "pointint", "\u2a16": "quatint", "\u2a17": "intlarhk", "\u2a22": "pluscir", "\u2a23": "plusacir", "\u2a24": "simplus", "\u2a25": "plusdu", "\u2a26": "plussim", "\u2a27": "plustwo", "\u2a29": "mcomma", "\u2a2a": "minusdu", "\u2a2d": "loplus", "\u2a2e": "roplus", "\u2a2f": "Cross", "\u2a30": "timesd", "\u2a31": "timesbar", "\u2a33": "smashp", "\u2a34": "lotimes", "\u2a35": "rotimes", "\u2a36": "otimesas", "\u2a37": "Otimes", "\u2a38": "odiv", "\u2a39": "triplus", "\u2a3a": "triminus", "\u2a3b": "tritime", "\u2a3c": "iprod", "\u2a3f": "amalg", "\u2a40": "capdot", "\u2a42": "ncup", "\u2a43": "ncap", "\u2a44": "capand", "\u2a45": "cupor", "\u2a46": "cupcap", "\u2a47": "capcup", "\u2a48": "cupbrcap", "\u2a49": "capbrcup", "\u2a4a": "cupcup", "\u2a4b": "capcap", "\u2a4c": "ccups", "\u2a4d": "ccaps", "\u2a50": "ccupssm", "\u2a53": "And", "\u2a54": "Or", "\u2a55": "andand", "\u2a56": "oror", "\u2a57": "orslope", "\u2a58": "andslope", "\u2a5a": "andv", "\u2a5b": "orv", "\u2a5c": "andd", "\u2a5d": "ord", "\u2a5f": "wedbar", "\u2a66": "sdote", "\u2a6a": "simdot", "\u2a6d": "congdot", "\u2a6d\u0338": "ncongdot", "\u2a6e": "easter", "\u2a6f": "apacir", "\u2a70": "apE", "\u2a70\u0338": "napE", "\u2a71": "eplus", "\u2a72": "pluse", "\u2a73": "Esim", "\u2a77": "eDDot", "\u2a78": "equivDD", "\u2a79": "ltcir", "\u2a7a": "gtcir", "\u2a7b": "ltquest", "\u2a7c": "gtquest", "\u2a7d": "les", "\u2a7d\u0338": "nles", "\u2a7e": "ges", "\u2a7e\u0338": "nges", "\u2a7f": "lesdot", "\u2a80": "gesdot", "\u2a81": "lesdoto", "\u2a82": "gesdoto", "\u2a83": "lesdotor", "\u2a84": "gesdotol", "\u2a85": "lap", "\u2a86": "gap", "\u2a87": "lne", "\u2a88": "gne", "\u2a89": "lnap", "\u2a8a": "gnap", "\u2a8b": "lEg", "\u2a8c": "gEl", "\u2a8d": "lsime", "\u2a8e": "gsime", "\u2a8f": "lsimg", "\u2a90": "gsiml", "\u2a91": "lgE", "\u2a92": "glE", "\u2a93": "lesges", "\u2a94": "gesles", "\u2a95": "els", "\u2a96": "egs", "\u2a97": "elsdot", "\u2a98": "egsdot", "\u2a99": "el", "\u2a9a": "eg", "\u2a9d": "siml", "\u2a9e": "simg", "\u2a9f": "simlE", "\u2aa0": "simgE", "\u2aa1": "LessLess", "\u2aa1\u0338": "NotNestedLessLess", "\u2aa2": "GreaterGreater", "\u2aa2\u0338": "NotNestedGreaterGreater", "\u2aa4": "glj", "\u2aa5": "gla", "\u2aa6": "ltcc", "\u2aa7": "gtcc", "\u2aa8": "lescc", "\u2aa9": "gescc", "\u2aaa": "smt", "\u2aab": "lat", "\u2aac": "smte", "\u2aac\ufe00": "smtes", "\u2aad": "late", "\u2aad\ufe00": "lates", "\u2aae": "bumpE", "\u2aaf": "pre", "\u2aaf\u0338": "npre", "\u2ab0": "sce", "\u2ab0\u0338": "nsce", "\u2ab3": "prE", "\u2ab4": "scE", "\u2ab5": "prnE", "\u2ab6": "scnE", "\u2ab7": "prap", "\u2ab8": "scap", "\u2ab9": "prnap", "\u2aba": "scnap", "\u2abb": "Pr", "\u2abc": "Sc", "\u2abd": "subdot", "\u2abe": "supdot", "\u2abf": "subplus", "\u2ac0": "supplus", "\u2ac1": "submult", "\u2ac2": "supmult", "\u2ac3": "subedot", "\u2ac4": "supedot", "\u2ac5": "subE", "\u2ac5\u0338": "nsubE", "\u2ac6": "supE", "\u2ac6\u0338": "nsupE", "\u2ac7": "subsim", "\u2ac8": "supsim", "\u2acb\ufe00": "vsubnE", "\u2acb": "subnE", "\u2acc\ufe00": "vsupnE", "\u2acc": "supnE", "\u2acf": "csub", "\u2ad0": "csup", "\u2ad1": "csube", "\u2ad2": "csupe", "\u2ad3": "subsup", "\u2ad4": "supsub", "\u2ad5": "subsub", "\u2ad6": "supsup", "\u2ad7": "suphsub", "\u2ad8": "supdsub", "\u2ad9": "forkv", "\u2ada": "topfork", "\u2adb": "mlcp", "\u2ae4": "Dashv", "\u2ae6": "Vdashl", "\u2ae7": "Barv", "\u2ae8": "vBar", "\u2ae9": "vBarv", "\u2aeb": "Vbar", "\u2aec": "Not", "\u2aed": "bNot", "\u2aee": "rnmid", "\u2aef": "cirmid", "\u2af0": "midcir", "\u2af1": "topcir", "\u2af2": "nhpar", "\u2af3": "parsim", "\u2afd": "parsl", "\u2afd\u20e5": "nparsl", "\u266d": "flat", "\u266e": "natur", "\u266f": "sharp", "\xa4": "curren", "\xa2": "cent", $: "dollar", "\xa3": "pound", "\xa5": "yen", "\u20ac": "euro", "\xb9": "sup1", "\xbd": "half", "\u2153": "frac13", "\xbc": "frac14", "\u2155": "frac15", "\u2159": "frac16", "\u215b": "frac18", "\xb2": "sup2", "\u2154": "frac23", "\u2156": "frac25", "\xb3": "sup3", "\xbe": "frac34", "\u2157": "frac35", "\u215c": "frac38", "\u2158": "frac45", "\u215a": "frac56", "\u215d": "frac58", "\u215e": "frac78", "\ud835\udcb6": "ascr", "\ud835\udd52": "aopf", "\ud835\udd1e": "afr", "\ud835\udd38": "Aopf", "\ud835\udd04": "Afr", "\ud835\udc9c": "Ascr", "\xaa": "ordf", "\xe1": "aacute", "\xc1": "Aacute", "\xe0": "agrave", "\xc0": "Agrave", "\u0103": "abreve", "\u0102": "Abreve", "\xe2": "acirc", "\xc2": "Acirc", "\xe5": "aring", "\xc5": "angst", "\xe4": "auml", "\xc4": "Auml", "\xe3": "atilde", "\xc3": "Atilde", "\u0105": "aogon", "\u0104": "Aogon", "\u0101": "amacr", "\u0100": "Amacr", "\xe6": "aelig", "\xc6": "AElig", "\ud835\udcb7": "bscr", "\ud835\udd53": "bopf", "\ud835\udd1f": "bfr", "\ud835\udd39": "Bopf", "\u212c": "Bscr", "\ud835\udd05": "Bfr", "\ud835\udd20": "cfr", "\ud835\udcb8": "cscr", "\ud835\udd54": "copf", "\u212d": "Cfr", "\ud835\udc9e": "Cscr", "\u2102": "Copf", "\u0107": "cacute", "\u0106": "Cacute", "\u0109": "ccirc", "\u0108": "Ccirc", "\u010d": "ccaron", "\u010c": "Ccaron", "\u010b": "cdot", "\u010a": "Cdot", "\xe7": "ccedil", "\xc7": "Ccedil", "\u2105": "incare", "\ud835\udd21": "dfr", "\u2146": "dd", "\ud835\udd55": "dopf", "\ud835\udcb9": "dscr", "\ud835\udc9f": "Dscr", "\ud835\udd07": "Dfr", "\u2145": "DD", "\ud835\udd3b": "Dopf", "\u010f": "dcaron", "\u010e": "Dcaron", "\u0111": "dstrok", "\u0110": "Dstrok", "\xf0": "eth", "\xd0": "ETH", "\u2147": "ee", "\u212f": "escr", "\ud835\udd22": "efr", "\ud835\udd56": "eopf", "\u2130": "Escr", "\ud835\udd08": "Efr", "\ud835\udd3c": "Eopf", "\xe9": "eacute", "\xc9": "Eacute", "\xe8": "egrave", "\xc8": "Egrave", "\xea": "ecirc", "\xca": "Ecirc", "\u011b": "ecaron", "\u011a": "Ecaron", "\xeb": "euml", "\xcb": "Euml", "\u0117": "edot", "\u0116": "Edot", "\u0119": "eogon", "\u0118": "Eogon", "\u0113": "emacr", "\u0112": "Emacr", "\ud835\udd23": "ffr", "\ud835\udd57": "fopf", "\ud835\udcbb": "fscr", "\ud835\udd09": "Ffr", "\ud835\udd3d": "Fopf", "\u2131": "Fscr", "\ufb00": "fflig", "\ufb03": "ffilig", "\ufb04": "ffllig", "\ufb01": "filig", fj: "fjlig", "\ufb02": "fllig", "\u0192": "fnof", "\u210a": "gscr", "\ud835\udd58": "gopf", "\ud835\udd24": "gfr", "\ud835\udca2": "Gscr", "\ud835\udd3e": "Gopf", "\ud835\udd0a": "Gfr", "\u01f5": "gacute", "\u011f": "gbreve", "\u011e": "Gbreve", "\u011d": "gcirc", "\u011c": "Gcirc", "\u0121": "gdot", "\u0120": "Gdot", "\u0122": "Gcedil", "\ud835\udd25": "hfr", "\u210e": "planckh", "\ud835\udcbd": "hscr", "\ud835\udd59": "hopf", "\u210b": "Hscr", "\u210c": "Hfr", "\u210d": "Hopf", "\u0125": "hcirc", "\u0124": "Hcirc", "\u210f": "hbar", "\u0127": "hstrok", "\u0126": "Hstrok", "\ud835\udd5a": "iopf", "\ud835\udd26": "ifr", "\ud835\udcbe": "iscr", "\u2148": "ii", "\ud835\udd40": "Iopf", "\u2110": "Iscr", "\u2111": "Im", "\xed": "iacute", "\xcd": "Iacute", "\xec": "igrave", "\xcc": "Igrave", "\xee": "icirc", "\xce": "Icirc", "\xef": "iuml", "\xcf": "Iuml", "\u0129": "itilde", "\u0128": "Itilde", "\u0130": "Idot", "\u012f": "iogon", "\u012e": "Iogon", "\u012b": "imacr", "\u012a": "Imacr", "\u0133": "ijlig", "\u0132": "IJlig", "\u0131": "imath", "\ud835\udcbf": "jscr", "\ud835\udd5b": "jopf", "\ud835\udd27": "jfr", "\ud835\udca5": "Jscr", "\ud835\udd0d": "Jfr", "\ud835\udd41": "Jopf", "\u0135": "jcirc", "\u0134": "Jcirc", "\u0237": "jmath", "\ud835\udd5c": "kopf", "\ud835\udcc0": "kscr", "\ud835\udd28": "kfr", "\ud835\udca6": "Kscr", "\ud835\udd42": "Kopf", "\ud835\udd0e": "Kfr", "\u0137": "kcedil", "\u0136": "Kcedil", "\ud835\udd29": "lfr", "\ud835\udcc1": "lscr", "\u2113": "ell", "\ud835\udd5d": "lopf", "\u2112": "Lscr", "\ud835\udd0f": "Lfr", "\ud835\udd43": "Lopf", "\u013a": "lacute", "\u0139": "Lacute", "\u013e": "lcaron", "\u013d": "Lcaron", "\u013c": "lcedil", "\u013b": "Lcedil", "\u0142": "lstrok", "\u0141": "Lstrok", "\u0140": "lmidot", "\u013f": "Lmidot", "\ud835\udd2a": "mfr", "\ud835\udd5e": "mopf", "\ud835\udcc2": "mscr", "\ud835\udd10": "Mfr", "\ud835\udd44": "Mopf", "\u2133": "Mscr", "\ud835\udd2b": "nfr", "\ud835\udd5f": "nopf", "\ud835\udcc3": "nscr", "\u2115": "Nopf", "\ud835\udca9": "Nscr", "\ud835\udd11": "Nfr", "\u0144": "nacute", "\u0143": "Nacute", "\u0148": "ncaron", "\u0147": "Ncaron", "\xf1": "ntilde", "\xd1": "Ntilde", "\u0146": "ncedil", "\u0145": "Ncedil", "\u2116": "numero", "\u014b": "eng", "\u014a": "ENG", "\ud835\udd60": "oopf", "\ud835\udd2c": "ofr", "\u2134": "oscr", "\ud835\udcaa": "Oscr", "\ud835\udd12": "Ofr", "\ud835\udd46": "Oopf", "\xba": "ordm", "\xf3": "oacute", "\xd3": "Oacute", "\xf2": "ograve", "\xd2": "Ograve", "\xf4": "ocirc", "\xd4": "Ocirc", "\xf6": "ouml", "\xd6": "Ouml", "\u0151": "odblac", "\u0150": "Odblac", "\xf5": "otilde", "\xd5": "Otilde", "\xf8": "oslash", "\xd8": "Oslash", "\u014d": "omacr", "\u014c": "Omacr", "\u0153": "oelig", "\u0152": "OElig", "\ud835\udd2d": "pfr", "\ud835\udcc5": "pscr", "\ud835\udd61": "popf", "\u2119": "Popf", "\ud835\udd13": "Pfr", "\ud835\udcab": "Pscr", "\ud835\udd62": "qopf", "\ud835\udd2e": "qfr", "\ud835\udcc6": "qscr", "\ud835\udcac": "Qscr", "\ud835\udd14": "Qfr", "\u211a": "Qopf", "\u0138": "kgreen", "\ud835\udd2f": "rfr", "\ud835\udd63": "ropf", "\ud835\udcc7": "rscr", "\u211b": "Rscr", "\u211c": "Re", "\u211d": "Ropf", "\u0155": "racute", "\u0154": "Racute", "\u0159": "rcaron", "\u0158": "Rcaron", "\u0157": "rcedil", "\u0156": "Rcedil", "\ud835\udd64": "sopf", "\ud835\udcc8": "sscr", "\ud835\udd30": "sfr", "\ud835\udd4a": "Sopf", "\ud835\udd16": "Sfr", "\ud835\udcae": "Sscr", "\u24c8": "oS", "\u015b": "sacute", "\u015a": "Sacute", "\u015d": "scirc", "\u015c": "Scirc", "\u0161": "scaron", "\u0160": "Scaron", "\u015f": "scedil", "\u015e": "Scedil", "\xdf": "szlig", "\ud835\udd31": "tfr", "\ud835\udcc9": "tscr", "\ud835\udd65": "topf", "\ud835\udcaf": "Tscr", "\ud835\udd17": "Tfr", "\ud835\udd4b": "Topf", "\u0165": "tcaron", "\u0164": "Tcaron", "\u0163": "tcedil", "\u0162": "Tcedil", "\u2122": "trade", "\u0167": "tstrok", "\u0166": "Tstrok", "\ud835\udcca": "uscr", "\ud835\udd66": "uopf", "\ud835\udd32": "ufr", "\ud835\udd4c": "Uopf", "\ud835\udd18": "Ufr", "\ud835\udcb0": "Uscr", "\xfa": "uacute", "\xda": "Uacute", "\xf9": "ugrave", "\xd9": "Ugrave", "\u016d": "ubreve", "\u016c": "Ubreve", "\xfb": "ucirc", "\xdb": "Ucirc", "\u016f": "uring", "\u016e": "Uring", "\xfc": "uuml", "\xdc": "Uuml", "\u0171": "udblac", "\u0170": "Udblac", "\u0169": "utilde", "\u0168": "Utilde", "\u0173": "uogon", "\u0172": "Uogon", "\u016b": "umacr", "\u016a": "Umacr", "\ud835\udd33": "vfr", "\ud835\udd67": "vopf", "\ud835\udccb": "vscr", "\ud835\udd19": "Vfr", "\ud835\udd4d": "Vopf", "\ud835\udcb1": "Vscr", "\ud835\udd68": "wopf", "\ud835\udccc": "wscr", "\ud835\udd34": "wfr", "\ud835\udcb2": "Wscr", "\ud835\udd4e": "Wopf", "\ud835\udd1a": "Wfr", "\u0175": "wcirc", "\u0174": "Wcirc", "\ud835\udd35": "xfr", "\ud835\udccd": "xscr", "\ud835\udd69": "xopf", "\ud835\udd4f": "Xopf", "\ud835\udd1b": "Xfr", "\ud835\udcb3": "Xscr", "\ud835\udd36": "yfr", "\ud835\udcce": "yscr", "\ud835\udd6a": "yopf", "\ud835\udcb4": "Yscr", "\ud835\udd1c": "Yfr", "\ud835\udd50": "Yopf", "\xfd": "yacute", "\xdd": "Yacute", "\u0177": "ycirc", "\u0176": "Ycirc", "\xff": "yuml", "\u0178": "Yuml", "\ud835\udccf": "zscr", "\ud835\udd37": "zfr", "\ud835\udd6b": "zopf", "\u2128": "Zfr", "\u2124": "Zopf", "\ud835\udcb5": "Zscr", "\u017a": "zacute", "\u0179": "Zacute", "\u017e": "zcaron", "\u017d": "Zcaron", "\u017c": "zdot", "\u017b": "Zdot", "\u01b5": "imped", "\xfe": "thorn", "\xde": "THORN", "\u0149": "napos", "\u03b1": "alpha", "\u0391": "Alpha", "\u03b2": "beta", "\u0392": "Beta", "\u03b3": "gamma", "\u0393": "Gamma", "\u03b4": "delta", "\u0394": "Delta", "\u03b5": "epsi", "\u03f5": "epsiv", "\u0395": "Epsilon", "\u03dd": "gammad", "\u03dc": "Gammad", "\u03b6": "zeta", "\u0396": "Zeta", "\u03b7": "eta", "\u0397": "Eta", "\u03b8": "theta", "\u03d1": "thetav", "\u0398": "Theta", "\u03b9": "iota", "\u0399": "Iota", "\u03ba": "kappa", "\u03f0": "kappav", "\u039a": "Kappa", "\u03bb": "lambda", "\u039b": "Lambda", "\u03bc": "mu", "\xb5": "micro", "\u039c": "Mu", "\u03bd": "nu", "\u039d": "Nu", "\u03be": "xi", "\u039e": "Xi", "\u03bf": "omicron", "\u039f": "Omicron", "\u03c0": "pi", "\u03d6": "piv", "\u03a0": "Pi", "\u03c1": "rho", "\u03f1": "rhov", "\u03a1": "Rho", "\u03c3": "sigma", "\u03a3": "Sigma", "\u03c2": "sigmaf", "\u03c4": "tau", "\u03a4": "Tau", "\u03c5": "upsi", "\u03a5": "Upsilon", "\u03d2": "Upsi", "\u03c6": "phi", "\u03d5": "phiv", "\u03a6": "Phi", "\u03c7": "chi", "\u03a7": "Chi", "\u03c8": "psi", "\u03a8": "Psi", "\u03c9": "omega", "\u03a9": "ohm", "\u0430": "acy", "\u0410": "Acy", "\u0431": "bcy", "\u0411": "Bcy", "\u0432": "vcy", "\u0412": "Vcy", "\u0433": "gcy", "\u0413": "Gcy", "\u0453": "gjcy", "\u0403": "GJcy", "\u0434": "dcy", "\u0414": "Dcy", "\u0452": "djcy", "\u0402": "DJcy", "\u0435": "iecy", "\u0415": "IEcy", "\u0451": "iocy", "\u0401": "IOcy", "\u0454": "jukcy", "\u0404": "Jukcy", "\u0436": "zhcy", "\u0416": "ZHcy", "\u0437": "zcy", "\u0417": "Zcy", "\u0455": "dscy", "\u0405": "DScy", "\u0438": "icy", "\u0418": "Icy", "\u0456": "iukcy", "\u0406": "Iukcy", "\u0457": "yicy", "\u0407": "YIcy", "\u0439": "jcy", "\u0419": "Jcy", "\u0458": "jsercy", "\u0408": "Jsercy", "\u043a": "kcy", "\u041a": "Kcy", "\u045c": "kjcy", "\u040c": "KJcy", "\u043b": "lcy", "\u041b": "Lcy", "\u0459": "ljcy", "\u0409": "LJcy", "\u043c": "mcy", "\u041c": "Mcy", "\u043d": "ncy", "\u041d": "Ncy", "\u045a": "njcy", "\u040a": "NJcy", "\u043e": "ocy", "\u041e": "Ocy", "\u043f": "pcy", "\u041f": "Pcy", "\u0440": "rcy", "\u0420": "Rcy", "\u0441": "scy", "\u0421": "Scy", "\u0442": "tcy", "\u0422": "Tcy", "\u045b": "tshcy", "\u040b": "TSHcy", "\u0443": "ucy", "\u0423": "Ucy", "\u045e": "ubrcy", "\u040e": "Ubrcy", "\u0444": "fcy", "\u0424": "Fcy", "\u0445": "khcy", "\u0425": "KHcy", "\u0446": "tscy", "\u0426": "TScy", "\u0447": "chcy", "\u0427": "CHcy", "\u045f": "dzcy", "\u040f": "DZcy", "\u0448": "shcy", "\u0428": "SHcy", "\u0449": "shchcy", "\u0429": "SHCHcy", "\u044a": "hardcy", "\u042a": "HARDcy", "\u044b": "ycy", "\u042b": "Ycy", "\u044c": "softcy", "\u042c": "SOFTcy", "\u044d": "ecy", "\u042d": "Ecy", "\u044e": "yucy", "\u042e": "YUcy", "\u044f": "yacy", "\u042f": "YAcy", "\u2135": "aleph", "\u2136": "beth", "\u2137": "gimel", "\u2138": "daleth" }, d = /["&'<>`]/g, p = { '"': "&quot;", "&": "&amp;", "'": "&#x27;", "<": "&lt;", ">": "&gt;", "`": "&#x60;" }, m = /&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/, h = /[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/, v = /&(CounterClockwiseContourIntegral|DoubleLongLeftRightArrow|ClockwiseContourIntegral|NotNestedGreaterGreater|NotSquareSupersetEqual|DiacriticalDoubleAcute|NotRightTriangleEqual|NotSucceedsSlantEqual|NotPrecedesSlantEqual|CloseCurlyDoubleQuote|NegativeVeryThinSpace|DoubleContourIntegral|FilledVerySmallSquare|CapitalDifferentialD|OpenCurlyDoubleQuote|EmptyVerySmallSquare|NestedGreaterGreater|DoubleLongRightArrow|NotLeftTriangleEqual|NotGreaterSlantEqual|ReverseUpEquilibrium|DoubleLeftRightArrow|NotSquareSubsetEqual|NotDoubleVerticalBar|RightArrowLeftArrow|NotGreaterFullEqual|NotRightTriangleBar|SquareSupersetEqual|DownLeftRightVector|DoubleLongLeftArrow|leftrightsquigarrow|LeftArrowRightArrow|NegativeMediumSpace|blacktriangleright|RightDownVectorBar|PrecedesSlantEqual|RightDoubleBracket|SucceedsSlantEqual|NotLeftTriangleBar|RightTriangleEqual|SquareIntersection|RightDownTeeVector|ReverseEquilibrium|NegativeThickSpace|longleftrightarrow|Longleftrightarrow|LongLeftRightArrow|DownRightTeeVector|DownRightVectorBar|GreaterSlantEqual|SquareSubsetEqual|LeftDownVectorBar|LeftDoubleBracket|VerticalSeparator|rightleftharpoons|NotGreaterGreater|NotSquareSuperset|blacktriangleleft|blacktriangledown|NegativeThinSpace|LeftDownTeeVector|NotLessSlantEqual|leftrightharpoons|DoubleUpDownArrow|DoubleVerticalBar|LeftTriangleEqual|FilledSmallSquare|twoheadrightarrow|NotNestedLessLess|DownLeftTeeVector|DownLeftVectorBar|RightAngleBracket|NotTildeFullEqual|NotReverseElement|RightUpDownVector|DiacriticalTilde|NotSucceedsTilde|circlearrowright|NotPrecedesEqual|rightharpoondown|DoubleRightArrow|NotSucceedsEqual|NonBreakingSpace|NotRightTriangle|LessEqualGreater|RightUpTeeVector|LeftAngleBracket|GreaterFullEqual|DownArrowUpArrow|RightUpVectorBar|twoheadleftarrow|GreaterEqualLess|downharpoonright|RightTriangleBar|ntrianglerighteq|NotSupersetEqual|LeftUpDownVector|DiacriticalAcute|rightrightarrows|vartriangleright|UpArrowDownArrow|DiacriticalGrave|UnderParenthesis|EmptySmallSquare|LeftUpVectorBar|leftrightarrows|DownRightVector|downharpoonleft|trianglerighteq|ShortRightArrow|OverParenthesis|DoubleLeftArrow|DoubleDownArrow|NotSquareSubset|bigtriangledown|ntrianglelefteq|UpperRightArrow|curvearrowright|vartriangleleft|NotLeftTriangle|nleftrightarrow|LowerRightArrow|NotHumpDownHump|NotGreaterTilde|rightthreetimes|LeftUpTeeVector|NotGreaterEqual|straightepsilon|LeftTriangleBar|rightsquigarrow|ContourIntegral|rightleftarrows|CloseCurlyQuote|RightDownVector|LeftRightVector|nLeftrightarrow|leftharpoondown|circlearrowleft|SquareSuperset|OpenCurlyQuote|hookrightarrow|HorizontalLine|DiacriticalDot|NotLessGreater|ntriangleright|DoubleRightTee|InvisibleComma|InvisibleTimes|LowerLeftArrow|DownLeftVector|NotSubsetEqual|curvearrowleft|trianglelefteq|NotVerticalBar|TildeFullEqual|downdownarrows|NotGreaterLess|RightTeeVector|ZeroWidthSpace|looparrowright|LongRightArrow|doublebarwedge|ShortLeftArrow|ShortDownArrow|RightVectorBar|GreaterGreater|ReverseElement|rightharpoonup|LessSlantEqual|leftthreetimes|upharpoonright|rightarrowtail|LeftDownVector|Longrightarrow|NestedLessLess|UpperLeftArrow|nshortparallel|leftleftarrows|leftrightarrow|Leftrightarrow|LeftRightArrow|longrightarrow|upharpoonleft|RightArrowBar|ApplyFunction|LeftTeeVector|leftarrowtail|NotEqualTilde|varsubsetneqq|varsupsetneqq|RightTeeArrow|SucceedsEqual|SucceedsTilde|LeftVectorBar|SupersetEqual|hookleftarrow|DifferentialD|VerticalTilde|VeryThinSpace|blacktriangle|bigtriangleup|LessFullEqual|divideontimes|leftharpoonup|UpEquilibrium|ntriangleleft|RightTriangle|measuredangle|shortparallel|longleftarrow|Longleftarrow|LongLeftArrow|DoubleLeftTee|Poincareplane|PrecedesEqual|triangleright|DoubleUpArrow|RightUpVector|fallingdotseq|looparrowleft|PrecedesTilde|NotTildeEqual|NotTildeTilde|smallsetminus|Proportional|triangleleft|triangledown|UnderBracket|NotHumpEqual|exponentiale|ExponentialE|NotLessTilde|HilbertSpace|RightCeiling|blacklozenge|varsupsetneq|HumpDownHump|GreaterEqual|VerticalLine|LeftTeeArrow|NotLessEqual|DownTeeArrow|LeftTriangle|varsubsetneq|Intersection|NotCongruent|DownArrowBar|LeftUpVector|LeftArrowBar|risingdotseq|GreaterTilde|RoundImplies|SquareSubset|ShortUpArrow|NotSuperset|quaternions|precnapprox|backepsilon|preccurlyeq|OverBracket|blacksquare|MediumSpace|VerticalBar|circledcirc|circleddash|CircleMinus|CircleTimes|LessGreater|curlyeqprec|curlyeqsucc|diamondsuit|UpDownArrow|Updownarrow|RuleDelayed|Rrightarrow|updownarrow|RightVector|nRightarrow|nrightarrow|eqslantless|LeftCeiling|Equilibrium|SmallCircle|expectation|NotSucceeds|thickapprox|GreaterLess|SquareUnion|NotPrecedes|NotLessLess|straightphi|succnapprox|succcurlyeq|SubsetEqual|sqsupseteq|Proportion|Laplacetrf|ImaginaryI|supsetneqq|NotGreater|gtreqqless|NotElement|ThickSpace|TildeEqual|TildeTilde|Fouriertrf|rmoustache|EqualTilde|eqslantgtr|UnderBrace|LeftVector|UpArrowBar|nLeftarrow|nsubseteqq|subsetneqq|nsupseteqq|nleftarrow|succapprox|lessapprox|UpTeeArrow|upuparrows|curlywedge|lesseqqgtr|varepsilon|varnothing|RightFloor|complement|CirclePlus|sqsubseteq|Lleftarrow|circledast|RightArrow|Rightarrow|rightarrow|lmoustache|Bernoullis|precapprox|mapstoleft|mapstodown|longmapsto|dotsquare|downarrow|DoubleDot|nsubseteq|supsetneq|leftarrow|nsupseteq|subsetneq|ThinSpace|ngeqslant|subseteqq|HumpEqual|NotSubset|triangleq|NotCupCap|lesseqgtr|heartsuit|TripleDot|Leftarrow|Coproduct|Congruent|varpropto|complexes|gvertneqq|LeftArrow|LessTilde|supseteqq|MinusPlus|CircleDot|nleqslant|NotExists|gtreqless|nparallel|UnionPlus|LeftFloor|checkmark|CenterDot|centerdot|Mellintrf|gtrapprox|bigotimes|OverBrace|spadesuit|therefore|pitchfork|rationals|PlusMinus|Backslash|Therefore|DownBreve|backsimeq|backprime|DownArrow|nshortmid|Downarrow|lvertneqq|eqvparsl|imagline|imagpart|infintie|integers|Integral|intercal|LessLess|Uarrocir|intlarhk|sqsupset|angmsdaf|sqsubset|llcorner|vartheta|cupbrcap|lnapprox|Superset|SuchThat|succnsim|succneqq|angmsdag|biguplus|curlyvee|trpezium|Succeeds|NotTilde|bigwedge|angmsdah|angrtvbd|triminus|cwconint|fpartint|lrcorner|smeparsl|subseteq|urcorner|lurdshar|laemptyv|DDotrahd|approxeq|ldrushar|awconint|mapstoup|backcong|shortmid|triangle|geqslant|gesdotol|timesbar|circledR|circledS|setminus|multimap|naturals|scpolint|ncongdot|RightTee|boxminus|gnapprox|boxtimes|andslope|thicksim|angmsdaa|varsigma|cirfnint|rtriltri|angmsdab|rppolint|angmsdac|barwedge|drbkarow|clubsuit|thetasym|bsolhsub|capbrcup|dzigrarr|doteqdot|DotEqual|dotminus|UnderBar|NotEqual|realpart|otimesas|ulcorner|hksearow|hkswarow|parallel|PartialD|elinters|emptyset|plusacir|bbrktbrk|angmsdad|pointint|bigoplus|angmsdae|Precedes|bigsqcup|varkappa|notindot|supseteq|precneqq|precnsim|profalar|profline|profsurf|leqslant|lesdotor|raemptyv|subplus|notnivb|notnivc|subrarr|zigrarr|vzigzag|submult|subedot|Element|between|cirscir|larrbfs|larrsim|lotimes|lbrksld|lbrkslu|lozenge|ldrdhar|dbkarow|bigcirc|epsilon|simrarr|simplus|ltquest|Epsilon|luruhar|gtquest|maltese|npolint|eqcolon|npreceq|bigodot|ddagger|gtrless|bnequiv|harrcir|ddotseq|equivDD|backsim|demptyv|nsqsube|nsqsupe|Upsilon|nsubset|upsilon|minusdu|nsucceq|swarrow|nsupset|coloneq|searrow|boxplus|napprox|natural|asympeq|alefsym|congdot|nearrow|bigstar|diamond|supplus|tritime|LeftTee|nvinfin|triplus|NewLine|nvltrie|nvrtrie|nwarrow|nexists|Diamond|ruluhar|Implies|supmult|angzarr|suplarr|suphsub|questeq|because|digamma|Because|olcross|bemptyv|omicron|Omicron|rotimes|NoBreak|intprod|angrtvb|orderof|uwangle|suphsol|lesdoto|orslope|DownTee|realine|cudarrl|rdldhar|OverBar|supedot|lessdot|supdsub|topfork|succsim|rbrkslu|rbrksld|pertenk|cudarrr|isindot|planckh|lessgtr|pluscir|gesdoto|plussim|plustwo|lesssim|cularrp|rarrsim|Cayleys|notinva|notinvb|notinvc|UpArrow|Uparrow|uparrow|NotLess|dwangle|precsim|Product|curarrm|Cconint|dotplus|rarrbfs|ccupssm|Cedilla|cemptyv|notniva|quatint|frac35|frac38|frac45|frac56|frac58|frac78|tridot|xoplus|gacute|gammad|Gammad|lfisht|lfloor|bigcup|sqsupe|gbreve|Gbreve|lharul|sqsube|sqcups|Gcedil|apacir|llhard|lmidot|Lmidot|lmoust|andand|sqcaps|approx|Abreve|spades|circeq|tprime|divide|topcir|Assign|topbot|gesdot|divonx|xuplus|timesd|gesles|atilde|solbar|SOFTcy|loplus|timesb|lowast|lowbar|dlcorn|dlcrop|softcy|dollar|lparlt|thksim|lrhard|Atilde|lsaquo|smashp|bigvee|thinsp|wreath|bkarow|lsquor|lstrok|Lstrok|lthree|ltimes|ltlarr|DotDot|simdot|ltrPar|weierp|xsqcup|angmsd|sigmav|sigmaf|zeetrf|Zcaron|zcaron|mapsto|vsupne|thetav|cirmid|marker|mcomma|Zacute|vsubnE|there4|gtlPar|vsubne|bottom|gtrarr|SHCHcy|shchcy|midast|midcir|middot|minusb|minusd|gtrdot|bowtie|sfrown|mnplus|models|colone|seswar|Colone|mstpos|searhk|gtrsim|nacute|Nacute|boxbox|telrec|hairsp|Tcedil|nbumpe|scnsim|ncaron|Ncaron|ncedil|Ncedil|hamilt|Scedil|nearhk|hardcy|HARDcy|tcedil|Tcaron|commat|nequiv|nesear|tcaron|target|hearts|nexist|varrho|scedil|Scaron|scaron|hellip|Sacute|sacute|hercon|swnwar|compfn|rtimes|rthree|rsquor|rsaquo|zacute|wedgeq|homtht|barvee|barwed|Barwed|rpargt|horbar|conint|swarhk|roplus|nltrie|hslash|hstrok|Hstrok|rmoust|Conint|bprime|hybull|hyphen|iacute|Iacute|supsup|supsub|supsim|varphi|coprod|brvbar|agrave|Supset|supset|igrave|Igrave|notinE|Agrave|iiiint|iinfin|copysr|wedbar|Verbar|vangrt|becaus|incare|verbar|inodot|bullet|drcorn|intcal|drcrop|cularr|vellip|Utilde|bumpeq|cupcap|dstrok|Dstrok|CupCap|cupcup|cupdot|eacute|Eacute|supdot|iquest|easter|ecaron|Ecaron|ecolon|isinsv|utilde|itilde|Itilde|curarr|succeq|Bumpeq|cacute|ulcrop|nparsl|Cacute|nprcue|egrave|Egrave|nrarrc|nrarrw|subsup|subsub|nrtrie|jsercy|nsccue|Jsercy|kappav|kcedil|Kcedil|subsim|ulcorn|nsimeq|egsdot|veebar|kgreen|capand|elsdot|Subset|subset|curren|aacute|lacute|Lacute|emptyv|ntilde|Ntilde|lagran|lambda|Lambda|capcap|Ugrave|langle|subdot|emsp13|numero|emsp14|nvdash|nvDash|nVdash|nVDash|ugrave|ufisht|nvHarr|larrfs|nvlArr|larrhk|larrlp|larrpl|nvrArr|Udblac|nwarhk|larrtl|nwnear|oacute|Oacute|latail|lAtail|sstarf|lbrace|odblac|Odblac|lbrack|udblac|odsold|eparsl|lcaron|Lcaron|ograve|Ograve|lcedil|Lcedil|Aacute|ssmile|ssetmn|squarf|ldquor|capcup|ominus|cylcty|rharul|eqcirc|dagger|rfloor|rfisht|Dagger|daleth|equals|origof|capdot|equest|dcaron|Dcaron|rdquor|oslash|Oslash|otilde|Otilde|otimes|Otimes|urcrop|Ubreve|ubreve|Yacute|Uacute|uacute|Rcedil|rcedil|urcorn|parsim|Rcaron|Vdashl|rcaron|Tstrok|percnt|period|permil|Exists|yacute|rbrack|rbrace|phmmat|ccaron|Ccaron|planck|ccedil|plankv|tstrok|female|plusdo|plusdu|ffilig|plusmn|ffllig|Ccedil|rAtail|dfisht|bernou|ratail|Rarrtl|rarrtl|angsph|rarrpl|rarrlp|rarrhk|xwedge|xotime|forall|ForAll|Vvdash|vsupnE|preceq|bigcap|frac12|frac13|frac14|primes|rarrfs|prnsim|frac15|Square|frac16|square|lesdot|frac18|frac23|propto|prurel|rarrap|rangle|puncsp|frac25|Racute|qprime|racute|lesges|frac34|abreve|AElig|eqsim|utdot|setmn|urtri|Equal|Uring|seArr|uring|searr|dashv|Dashv|mumap|nabla|iogon|Iogon|sdote|sdotb|scsim|napid|napos|equiv|natur|Acirc|dblac|erarr|nbump|iprod|erDot|ucirc|awint|esdot|angrt|ncong|isinE|scnap|Scirc|scirc|ndash|isins|Ubrcy|nearr|neArr|isinv|nedot|ubrcy|acute|Ycirc|iukcy|Iukcy|xutri|nesim|caret|jcirc|Jcirc|caron|twixt|ddarr|sccue|exist|jmath|sbquo|ngeqq|angst|ccaps|lceil|ngsim|UpTee|delta|Delta|rtrif|nharr|nhArr|nhpar|rtrie|jukcy|Jukcy|kappa|rsquo|Kappa|nlarr|nlArr|TSHcy|rrarr|aogon|Aogon|fflig|xrarr|tshcy|ccirc|nleqq|filig|upsih|nless|dharl|nlsim|fjlig|ropar|nltri|dharr|robrk|roarr|fllig|fltns|roang|rnmid|subnE|subne|lAarr|trisb|Ccirc|acirc|ccups|blank|VDash|forkv|Vdash|langd|cedil|blk12|blk14|laquo|strns|diams|notin|vDash|larrb|blk34|block|disin|uplus|vdash|vBarv|aelig|starf|Wedge|check|xrArr|lates|lbarr|lBarr|notni|lbbrk|bcong|frasl|lbrke|frown|vrtri|vprop|vnsup|gamma|Gamma|wedge|xodot|bdquo|srarr|doteq|ldquo|boxdl|boxdL|gcirc|Gcirc|boxDl|boxDL|boxdr|boxdR|boxDr|TRADE|trade|rlhar|boxDR|vnsub|npart|vltri|rlarr|boxhd|boxhD|nprec|gescc|nrarr|nrArr|boxHd|boxHD|boxhu|boxhU|nrtri|boxHu|clubs|boxHU|times|colon|Colon|gimel|xlArr|Tilde|nsime|tilde|nsmid|nspar|THORN|thorn|xlarr|nsube|nsubE|thkap|xhArr|comma|nsucc|boxul|boxuL|nsupe|nsupE|gneqq|gnsim|boxUl|boxUL|grave|boxur|boxuR|boxUr|boxUR|lescc|angle|bepsi|boxvh|varpi|boxvH|numsp|Theta|gsime|gsiml|theta|boxVh|boxVH|boxvl|gtcir|gtdot|boxvL|boxVl|boxVL|crarr|cross|Cross|nvsim|boxvr|nwarr|nwArr|sqsup|dtdot|Uogon|lhard|lharu|dtrif|ocirc|Ocirc|lhblk|duarr|odash|sqsub|Hacek|sqcup|llarr|duhar|oelig|OElig|ofcir|boxvR|uogon|lltri|boxVr|csube|uuarr|ohbar|csupe|ctdot|olarr|olcir|harrw|oline|sqcap|omacr|Omacr|omega|Omega|boxVR|aleph|lneqq|lnsim|loang|loarr|rharu|lobrk|hcirc|operp|oplus|rhard|Hcirc|orarr|Union|order|ecirc|Ecirc|cuepr|szlig|cuesc|breve|reals|eDDot|Breve|hoarr|lopar|utrif|rdquo|Umacr|umacr|efDot|swArr|ultri|alpha|rceil|ovbar|swarr|Wcirc|wcirc|smtes|smile|bsemi|lrarr|aring|parsl|lrhar|bsime|uhblk|lrtri|cupor|Aring|uharr|uharl|slarr|rbrke|bsolb|lsime|rbbrk|RBarr|lsimg|phone|rBarr|rbarr|icirc|lsquo|Icirc|emacr|Emacr|ratio|simne|plusb|simlE|simgE|simeq|pluse|ltcir|ltdot|empty|xharr|xdtri|iexcl|Alpha|ltrie|rarrw|pound|ltrif|xcirc|bumpe|prcue|bumpE|asymp|amacr|cuvee|Sigma|sigma|iiint|udhar|iiota|ijlig|IJlig|supnE|imacr|Imacr|prime|Prime|image|prnap|eogon|Eogon|rarrc|mdash|mDDot|cuwed|imath|supne|imped|Amacr|udarr|prsim|micro|rarrb|cwint|raquo|infin|eplus|range|rangd|Ucirc|radic|minus|amalg|veeeq|rAarr|epsiv|ycirc|quest|sharp|quot|zwnj|Qscr|race|qscr|Qopf|qopf|qint|rang|Rang|Zscr|zscr|Zopf|zopf|rarr|rArr|Rarr|Pscr|pscr|prop|prod|prnE|prec|ZHcy|zhcy|prap|Zeta|zeta|Popf|popf|Zdot|plus|zdot|Yuml|yuml|phiv|YUcy|yucy|Yscr|yscr|perp|Yopf|yopf|part|para|YIcy|Ouml|rcub|yicy|YAcy|rdca|ouml|osol|Oscr|rdsh|yacy|real|oscr|xvee|andd|rect|andv|Xscr|oror|ordm|ordf|xscr|ange|aopf|Aopf|rHar|Xopf|opar|Oopf|xopf|xnis|rhov|oopf|omid|xmap|oint|apid|apos|ogon|ascr|Ascr|odot|odiv|xcup|xcap|ocir|oast|nvlt|nvle|nvgt|nvge|nvap|Wscr|wscr|auml|ntlg|ntgl|nsup|nsub|nsim|Nscr|nscr|nsce|Wopf|ring|npre|wopf|npar|Auml|Barv|bbrk|Nopf|nopf|nmid|nLtv|beta|ropf|Ropf|Beta|beth|nles|rpar|nleq|bnot|bNot|nldr|NJcy|rscr|Rscr|Vscr|vscr|rsqb|njcy|bopf|nisd|Bopf|rtri|Vopf|nGtv|ngtr|vopf|boxh|boxH|boxv|nges|ngeq|boxV|bscr|scap|Bscr|bsim|Vert|vert|bsol|bull|bump|caps|cdot|ncup|scnE|ncap|nbsp|napE|Cdot|cent|sdot|Vbar|nang|vBar|chcy|Mscr|mscr|sect|semi|CHcy|Mopf|mopf|sext|circ|cire|mldr|mlcp|cirE|comp|shcy|SHcy|vArr|varr|cong|copf|Copf|copy|COPY|malt|male|macr|lvnE|cscr|ltri|sime|ltcc|simg|Cscr|siml|csub|Uuml|lsqb|lsim|uuml|csup|Lscr|lscr|utri|smid|lpar|cups|smte|lozf|darr|Lopf|Uscr|solb|lopf|sopf|Sopf|lneq|uscr|spar|dArr|lnap|Darr|dash|Sqrt|LJcy|ljcy|lHar|dHar|Upsi|upsi|diam|lesg|djcy|DJcy|leqq|dopf|Dopf|dscr|Dscr|dscy|ldsh|ldca|squf|DScy|sscr|Sscr|dsol|lcub|late|star|Star|Uopf|Larr|lArr|larr|uopf|dtri|dzcy|sube|subE|Lang|lang|Kscr|kscr|Kopf|kopf|KJcy|kjcy|KHcy|khcy|DZcy|ecir|edot|eDot|Jscr|jscr|succ|Jopf|jopf|Edot|uHar|emsp|ensp|Iuml|iuml|eopf|isin|Iscr|iscr|Eopf|epar|sung|epsi|escr|sup1|sup2|sup3|Iota|iota|supe|supE|Iopf|iopf|IOcy|iocy|Escr|esim|Esim|imof|Uarr|QUOT|uArr|uarr|euml|IEcy|iecy|Idot|Euml|euro|excl|Hscr|hscr|Hopf|hopf|TScy|tscy|Tscr|hbar|tscr|flat|tbrk|fnof|hArr|harr|half|fopf|Fopf|tdot|gvnE|fork|trie|gtcc|fscr|Fscr|gdot|gsim|Gscr|gscr|Gopf|gopf|gneq|Gdot|tosa|gnap|Topf|topf|geqq|toea|GJcy|gjcy|tint|gesl|mid|Sfr|ggg|top|ges|gla|glE|glj|geq|gne|gEl|gel|gnE|Gcy|gcy|gap|Tfr|tfr|Tcy|tcy|Hat|Tau|Ffr|tau|Tab|hfr|Hfr|ffr|Fcy|fcy|icy|Icy|iff|ETH|eth|ifr|Ifr|Eta|eta|int|Int|Sup|sup|ucy|Ucy|Sum|sum|jcy|ENG|ufr|Ufr|eng|Jcy|jfr|els|ell|egs|Efr|efr|Jfr|uml|kcy|Kcy|Ecy|ecy|kfr|Kfr|lap|Sub|sub|lat|lcy|Lcy|leg|Dot|dot|lEg|leq|les|squ|div|die|lfr|Lfr|lgE|Dfr|dfr|Del|deg|Dcy|dcy|lne|lnE|sol|loz|smt|Cup|lrm|cup|lsh|Lsh|sim|shy|map|Map|mcy|Mcy|mfr|Mfr|mho|gfr|Gfr|sfr|cir|Chi|chi|nap|Cfr|vcy|Vcy|cfr|Scy|scy|ncy|Ncy|vee|Vee|Cap|cap|nfr|scE|sce|Nfr|nge|ngE|nGg|vfr|Vfr|ngt|bot|nGt|nis|niv|Rsh|rsh|nle|nlE|bne|Bfr|bfr|nLl|nlt|nLt|Bcy|bcy|not|Not|rlm|wfr|Wfr|npr|nsc|num|ocy|ast|Ocy|ofr|xfr|Xfr|Ofr|ogt|ohm|apE|olt|Rho|ape|rho|Rfr|rfr|ord|REG|ang|reg|orv|And|and|AMP|Rcy|amp|Afr|ycy|Ycy|yen|yfr|Yfr|rcy|par|pcy|Pcy|pfr|Pfr|phi|Phi|afr|Acy|acy|zcy|Zcy|piv|acE|acd|zfr|Zfr|pre|prE|psi|Psi|qfr|Qfr|zwj|Or|ge|Gg|gt|gg|el|oS|lt|Lt|LT|Re|lg|gl|eg|ne|Im|it|le|DD|wp|wr|nu|Nu|dd|lE|Sc|sc|pi|Pi|ee|af|ll|Ll|rx|gE|xi|pm|Xi|ic|pr|Pr|in|ni|mp|mu|ac|Mu|or|ap|Gt|GT|ii);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)(?!;)([=a-zA-Z0-9]?)|&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+)/g, g = { aacute: "\xe1", Aacute: "\xc1", abreve: "\u0103", Abreve: "\u0102", ac: "\u223e", acd: "\u223f", acE: "\u223e\u0333", acirc: "\xe2", Acirc: "\xc2", acute: "\xb4", acy: "\u0430", Acy: "\u0410", aelig: "\xe6", AElig: "\xc6", af: "\u2061", afr: "\ud835\udd1e", Afr: "\ud835\udd04", agrave: "\xe0", Agrave: "\xc0", alefsym: "\u2135", aleph: "\u2135", alpha: "\u03b1", Alpha: "\u0391", amacr: "\u0101", Amacr: "\u0100", amalg: "\u2a3f", amp: "&", AMP: "&", and: "\u2227", And: "\u2a53", andand: "\u2a55", andd: "\u2a5c", andslope: "\u2a58", andv: "\u2a5a", ang: "\u2220", ange: "\u29a4", angle: "\u2220", angmsd: "\u2221", angmsdaa: "\u29a8", angmsdab: "\u29a9", angmsdac: "\u29aa", angmsdad: "\u29ab", angmsdae: "\u29ac", angmsdaf: "\u29ad", angmsdag: "\u29ae", angmsdah: "\u29af", angrt: "\u221f", angrtvb: "\u22be", angrtvbd: "\u299d", angsph: "\u2222", angst: "\xc5", angzarr: "\u237c", aogon: "\u0105", Aogon: "\u0104", aopf: "\ud835\udd52", Aopf: "\ud835\udd38", ap: "\u2248", apacir: "\u2a6f", ape: "\u224a", apE: "\u2a70", apid: "\u224b", apos: "'", ApplyFunction: "\u2061", approx: "\u2248", approxeq: "\u224a", aring: "\xe5", Aring: "\xc5", ascr: "\ud835\udcb6", Ascr: "\ud835\udc9c", Assign: "\u2254", ast: "*", asymp: "\u2248", asympeq: "\u224d", atilde: "\xe3", Atilde: "\xc3", auml: "\xe4", Auml: "\xc4", awconint: "\u2233", awint: "\u2a11", backcong: "\u224c", backepsilon: "\u03f6", backprime: "\u2035", backsim: "\u223d", backsimeq: "\u22cd", Backslash: "\u2216", Barv: "\u2ae7", barvee: "\u22bd", barwed: "\u2305", Barwed: "\u2306", barwedge: "\u2305", bbrk: "\u23b5", bbrktbrk: "\u23b6", bcong: "\u224c", bcy: "\u0431", Bcy: "\u0411", bdquo: "\u201e", becaus: "\u2235", because: "\u2235", Because: "\u2235", bemptyv: "\u29b0", bepsi: "\u03f6", bernou: "\u212c", Bernoullis: "\u212c", beta: "\u03b2", Beta: "\u0392", beth: "\u2136", between: "\u226c", bfr: "\ud835\udd1f", Bfr: "\ud835\udd05", bigcap: "\u22c2", bigcirc: "\u25ef", bigcup: "\u22c3", bigodot: "\u2a00", bigoplus: "\u2a01", bigotimes: "\u2a02", bigsqcup: "\u2a06", bigstar: "\u2605", bigtriangledown: "\u25bd", bigtriangleup: "\u25b3", biguplus: "\u2a04", bigvee: "\u22c1", bigwedge: "\u22c0", bkarow: "\u290d", blacklozenge: "\u29eb", blacksquare: "\u25aa", blacktriangle: "\u25b4", blacktriangledown: "\u25be", blacktriangleleft: "\u25c2", blacktriangleright: "\u25b8", blank: "\u2423", blk12: "\u2592", blk14: "\u2591", blk34: "\u2593", block: "\u2588", bne: "=\u20e5", bnequiv: "\u2261\u20e5", bnot: "\u2310", bNot: "\u2aed", bopf: "\ud835\udd53", Bopf: "\ud835\udd39", bot: "\u22a5", bottom: "\u22a5", bowtie: "\u22c8", boxbox: "\u29c9", boxdl: "\u2510", boxdL: "\u2555", boxDl: "\u2556", boxDL: "\u2557", boxdr: "\u250c", boxdR: "\u2552", boxDr: "\u2553", boxDR: "\u2554", boxh: "\u2500", boxH: "\u2550", boxhd: "\u252c", boxhD: "\u2565", boxHd: "\u2564", boxHD: "\u2566", boxhu: "\u2534", boxhU: "\u2568", boxHu: "\u2567", boxHU: "\u2569", boxminus: "\u229f", boxplus: "\u229e", boxtimes: "\u22a0", boxul: "\u2518", boxuL: "\u255b", boxUl: "\u255c", boxUL: "\u255d", boxur: "\u2514", boxuR: "\u2558", boxUr: "\u2559", boxUR: "\u255a", boxv: "\u2502", boxV: "\u2551", boxvh: "\u253c", boxvH: "\u256a", boxVh: "\u256b", boxVH: "\u256c", boxvl: "\u2524", boxvL: "\u2561", boxVl: "\u2562", boxVL: "\u2563", boxvr: "\u251c", boxvR: "\u255e", boxVr: "\u255f", boxVR: "\u2560", bprime: "\u2035", breve: "\u02d8", Breve: "\u02d8", brvbar: "\xa6", bscr: "\ud835\udcb7", Bscr: "\u212c", bsemi: "\u204f", bsim: "\u223d", bsime: "\u22cd", bsol: "\\", bsolb: "\u29c5", bsolhsub: "\u27c8", bull: "\u2022", bullet: "\u2022", bump: "\u224e", bumpe: "\u224f", bumpE: "\u2aae", bumpeq: "\u224f", Bumpeq: "\u224e", cacute: "\u0107", Cacute: "\u0106", cap: "\u2229", Cap: "\u22d2", capand: "\u2a44", capbrcup: "\u2a49", capcap: "\u2a4b", capcup: "\u2a47", capdot: "\u2a40", CapitalDifferentialD: "\u2145", caps: "\u2229\ufe00", caret: "\u2041", caron: "\u02c7", Cayleys: "\u212d", ccaps: "\u2a4d", ccaron: "\u010d", Ccaron: "\u010c", ccedil: "\xe7", Ccedil: "\xc7", ccirc: "\u0109", Ccirc: "\u0108", Cconint: "\u2230", ccups: "\u2a4c", ccupssm: "\u2a50", cdot: "\u010b", Cdot: "\u010a", cedil: "\xb8", Cedilla: "\xb8", cemptyv: "\u29b2", cent: "\xa2", centerdot: "\xb7", CenterDot: "\xb7", cfr: "\ud835\udd20", Cfr: "\u212d", chcy: "\u0447", CHcy: "\u0427", check: "\u2713", checkmark: "\u2713", chi: "\u03c7", Chi: "\u03a7", cir: "\u25cb", circ: "\u02c6", circeq: "\u2257", circlearrowleft: "\u21ba", circlearrowright: "\u21bb", circledast: "\u229b", circledcirc: "\u229a", circleddash: "\u229d", CircleDot: "\u2299", circledR: "\xae", circledS: "\u24c8", CircleMinus: "\u2296", CirclePlus: "\u2295", CircleTimes: "\u2297", cire: "\u2257", cirE: "\u29c3", cirfnint: "\u2a10", cirmid: "\u2aef", cirscir: "\u29c2", ClockwiseContourIntegral: "\u2232", CloseCurlyDoubleQuote: "\u201d", CloseCurlyQuote: "\u2019", clubs: "\u2663", clubsuit: "\u2663", colon: ":", Colon: "\u2237", colone: "\u2254", Colone: "\u2a74", coloneq: "\u2254", comma: ",", commat: "@", comp: "\u2201", compfn: "\u2218", complement: "\u2201", complexes: "\u2102", cong: "\u2245", congdot: "\u2a6d", Congruent: "\u2261", conint: "\u222e", Conint: "\u222f", ContourIntegral: "\u222e", copf: "\ud835\udd54", Copf: "\u2102", coprod: "\u2210", Coproduct: "\u2210", copy: "\xa9", COPY: "\xa9", copysr: "\u2117", CounterClockwiseContourIntegral: "\u2233", crarr: "\u21b5", cross: "\u2717", Cross: "\u2a2f", cscr: "\ud835\udcb8", Cscr: "\ud835\udc9e", csub: "\u2acf", csube: "\u2ad1", csup: "\u2ad0", csupe: "\u2ad2", ctdot: "\u22ef", cudarrl: "\u2938", cudarrr: "\u2935", cuepr: "\u22de", cuesc: "\u22df", cularr: "\u21b6", cularrp: "\u293d", cup: "\u222a", Cup: "\u22d3", cupbrcap: "\u2a48", cupcap: "\u2a46", CupCap: "\u224d", cupcup: "\u2a4a", cupdot: "\u228d", cupor: "\u2a45", cups: "\u222a\ufe00", curarr: "\u21b7", curarrm: "\u293c", curlyeqprec: "\u22de", curlyeqsucc: "\u22df", curlyvee: "\u22ce", curlywedge: "\u22cf", curren: "\xa4", curvearrowleft: "\u21b6", curvearrowright: "\u21b7", cuvee: "\u22ce", cuwed: "\u22cf", cwconint: "\u2232", cwint: "\u2231", cylcty: "\u232d", dagger: "\u2020", Dagger: "\u2021", daleth: "\u2138", darr: "\u2193", dArr: "\u21d3", Darr: "\u21a1", dash: "\u2010", dashv: "\u22a3", Dashv: "\u2ae4", dbkarow: "\u290f", dblac: "\u02dd", dcaron: "\u010f", Dcaron: "\u010e", dcy: "\u0434", Dcy: "\u0414", dd: "\u2146", DD: "\u2145", ddagger: "\u2021", ddarr: "\u21ca", DDotrahd: "\u2911", ddotseq: "\u2a77", deg: "\xb0", Del: "\u2207", delta: "\u03b4", Delta: "\u0394", demptyv: "\u29b1", dfisht: "\u297f", dfr: "\ud835\udd21", Dfr: "\ud835\udd07", dHar: "\u2965", dharl: "\u21c3", dharr: "\u21c2", DiacriticalAcute: "\xb4", DiacriticalDot: "\u02d9", DiacriticalDoubleAcute: "\u02dd", DiacriticalGrave: "`", DiacriticalTilde: "\u02dc", diam: "\u22c4", diamond: "\u22c4", Diamond: "\u22c4", diamondsuit: "\u2666", diams: "\u2666", die: "\xa8", DifferentialD: "\u2146", digamma: "\u03dd", disin: "\u22f2", div: "\xf7", divide: "\xf7", divideontimes: "\u22c7", divonx: "\u22c7", djcy: "\u0452", DJcy: "\u0402", dlcorn: "\u231e", dlcrop: "\u230d", dollar: "$", dopf: "\ud835\udd55", Dopf: "\ud835\udd3b", dot: "\u02d9", Dot: "\xa8", DotDot: "\u20dc", doteq: "\u2250", doteqdot: "\u2251", DotEqual: "\u2250", dotminus: "\u2238", dotplus: "\u2214", dotsquare: "\u22a1", doublebarwedge: "\u2306", DoubleContourIntegral: "\u222f", DoubleDot: "\xa8", DoubleDownArrow: "\u21d3", DoubleLeftArrow: "\u21d0", DoubleLeftRightArrow: "\u21d4", DoubleLeftTee: "\u2ae4", DoubleLongLeftArrow: "\u27f8", DoubleLongLeftRightArrow: "\u27fa", DoubleLongRightArrow: "\u27f9", DoubleRightArrow: "\u21d2", DoubleRightTee: "\u22a8", DoubleUpArrow: "\u21d1", DoubleUpDownArrow: "\u21d5", DoubleVerticalBar: "\u2225", downarrow: "\u2193", Downarrow: "\u21d3", DownArrow: "\u2193", DownArrowBar: "\u2913", DownArrowUpArrow: "\u21f5", DownBreve: "\u0311", downdownarrows: "\u21ca", downharpoonleft: "\u21c3", downharpoonright: "\u21c2", DownLeftRightVector: "\u2950", DownLeftTeeVector: "\u295e", DownLeftVector: "\u21bd", DownLeftVectorBar: "\u2956", DownRightTeeVector: "\u295f", DownRightVector: "\u21c1", DownRightVectorBar: "\u2957", DownTee: "\u22a4", DownTeeArrow: "\u21a7", drbkarow: "\u2910", drcorn: "\u231f", drcrop: "\u230c", dscr: "\ud835\udcb9", Dscr: "\ud835\udc9f", dscy: "\u0455", DScy: "\u0405", dsol: "\u29f6", dstrok: "\u0111", Dstrok: "\u0110", dtdot: "\u22f1", dtri: "\u25bf", dtrif: "\u25be", duarr: "\u21f5", duhar: "\u296f", dwangle: "\u29a6", dzcy: "\u045f", DZcy: "\u040f", dzigrarr: "\u27ff", eacute: "\xe9", Eacute: "\xc9", easter: "\u2a6e", ecaron: "\u011b", Ecaron: "\u011a", ecir: "\u2256", ecirc: "\xea", Ecirc: "\xca", ecolon: "\u2255", ecy: "\u044d", Ecy: "\u042d", eDDot: "\u2a77", edot: "\u0117", eDot: "\u2251", Edot: "\u0116", ee: "\u2147", efDot: "\u2252", efr: "\ud835\udd22", Efr: "\ud835\udd08", eg: "\u2a9a", egrave: "\xe8", Egrave: "\xc8", egs: "\u2a96", egsdot: "\u2a98", el: "\u2a99", Element: "\u2208", elinters: "\u23e7", ell: "\u2113", els: "\u2a95", elsdot: "\u2a97", emacr: "\u0113", Emacr: "\u0112", empty: "\u2205", emptyset: "\u2205", EmptySmallSquare: "\u25fb", emptyv: "\u2205", EmptyVerySmallSquare: "\u25ab", emsp: "\u2003", emsp13: "\u2004", emsp14: "\u2005", eng: "\u014b", ENG: "\u014a", ensp: "\u2002", eogon: "\u0119", Eogon: "\u0118", eopf: "\ud835\udd56", Eopf: "\ud835\udd3c", epar: "\u22d5", eparsl: "\u29e3", eplus: "\u2a71", epsi: "\u03b5", epsilon: "\u03b5", Epsilon: "\u0395", epsiv: "\u03f5", eqcirc: "\u2256", eqcolon: "\u2255", eqsim: "\u2242", eqslantgtr: "\u2a96", eqslantless: "\u2a95", Equal: "\u2a75", equals: "=", EqualTilde: "\u2242", equest: "\u225f", Equilibrium: "\u21cc", equiv: "\u2261", equivDD: "\u2a78", eqvparsl: "\u29e5", erarr: "\u2971", erDot: "\u2253", escr: "\u212f", Escr: "\u2130", esdot: "\u2250", esim: "\u2242", Esim: "\u2a73", eta: "\u03b7", Eta: "\u0397", eth: "\xf0", ETH: "\xd0", euml: "\xeb", Euml: "\xcb", euro: "\u20ac", excl: "!", exist: "\u2203", Exists: "\u2203", expectation: "\u2130", exponentiale: "\u2147", ExponentialE: "\u2147", fallingdotseq: "\u2252", fcy: "\u0444", Fcy: "\u0424", female: "\u2640", ffilig: "\ufb03", fflig: "\ufb00", ffllig: "\ufb04", ffr: "\ud835\udd23", Ffr: "\ud835\udd09", filig: "\ufb01", FilledSmallSquare: "\u25fc", FilledVerySmallSquare: "\u25aa", fjlig: "fj", flat: "\u266d", fllig: "\ufb02", fltns: "\u25b1", fnof: "\u0192", fopf: "\ud835\udd57", Fopf: "\ud835\udd3d", forall: "\u2200", ForAll: "\u2200", fork: "\u22d4", forkv: "\u2ad9", Fouriertrf: "\u2131", fpartint: "\u2a0d", frac12: "\xbd", frac13: "\u2153", frac14: "\xbc", frac15: "\u2155", frac16: "\u2159", frac18: "\u215b", frac23: "\u2154", frac25: "\u2156", frac34: "\xbe", frac35: "\u2157", frac38: "\u215c", frac45: "\u2158", frac56: "\u215a", frac58: "\u215d", frac78: "\u215e", frasl: "\u2044", frown: "\u2322", fscr: "\ud835\udcbb", Fscr: "\u2131", gacute: "\u01f5", gamma: "\u03b3", Gamma: "\u0393", gammad: "\u03dd", Gammad: "\u03dc", gap: "\u2a86", gbreve: "\u011f", Gbreve: "\u011e", Gcedil: "\u0122", gcirc: "\u011d", Gcirc: "\u011c", gcy: "\u0433", Gcy: "\u0413", gdot: "\u0121", Gdot: "\u0120", ge: "\u2265", gE: "\u2267", gel: "\u22db", gEl: "\u2a8c", geq: "\u2265", geqq: "\u2267", geqslant: "\u2a7e", ges: "\u2a7e", gescc: "\u2aa9", gesdot: "\u2a80", gesdoto: "\u2a82", gesdotol: "\u2a84", gesl: "\u22db\ufe00", gesles: "\u2a94", gfr: "\ud835\udd24", Gfr: "\ud835\udd0a", gg: "\u226b", Gg: "\u22d9", ggg: "\u22d9", gimel: "\u2137", gjcy: "\u0453", GJcy: "\u0403", gl: "\u2277", gla: "\u2aa5", glE: "\u2a92", glj: "\u2aa4", gnap: "\u2a8a", gnapprox: "\u2a8a", gne: "\u2a88", gnE: "\u2269", gneq: "\u2a88", gneqq: "\u2269", gnsim: "\u22e7", gopf: "\ud835\udd58", Gopf: "\ud835\udd3e", grave: "`", GreaterEqual: "\u2265", GreaterEqualLess: "\u22db", GreaterFullEqual: "\u2267", GreaterGreater: "\u2aa2", GreaterLess: "\u2277", GreaterSlantEqual: "\u2a7e", GreaterTilde: "\u2273", gscr: "\u210a", Gscr: "\ud835\udca2", gsim: "\u2273", gsime: "\u2a8e", gsiml: "\u2a90", gt: ">", Gt: "\u226b", GT: ">", gtcc: "\u2aa7", gtcir: "\u2a7a", gtdot: "\u22d7", gtlPar: "\u2995", gtquest: "\u2a7c", gtrapprox: "\u2a86", gtrarr: "\u2978", gtrdot: "\u22d7", gtreqless: "\u22db", gtreqqless: "\u2a8c", gtrless: "\u2277", gtrsim: "\u2273", gvertneqq: "\u2269\ufe00", gvnE: "\u2269\ufe00", Hacek: "\u02c7", hairsp: "\u200a", half: "\xbd", hamilt: "\u210b", hardcy: "\u044a", HARDcy: "\u042a", harr: "\u2194", hArr: "\u21d4", harrcir: "\u2948", harrw: "\u21ad", Hat: "^", hbar: "\u210f", hcirc: "\u0125", Hcirc: "\u0124", hearts: "\u2665", heartsuit: "\u2665", hellip: "\u2026", hercon: "\u22b9", hfr: "\ud835\udd25", Hfr: "\u210c", HilbertSpace: "\u210b", hksearow: "\u2925", hkswarow: "\u2926", hoarr: "\u21ff", homtht: "\u223b", hookleftarrow: "\u21a9", hookrightarrow: "\u21aa", hopf: "\ud835\udd59", Hopf: "\u210d", horbar: "\u2015", HorizontalLine: "\u2500", hscr: "\ud835\udcbd", Hscr: "\u210b", hslash: "\u210f", hstrok: "\u0127", Hstrok: "\u0126", HumpDownHump: "\u224e", HumpEqual: "\u224f", hybull: "\u2043", hyphen: "\u2010", iacute: "\xed", Iacute: "\xcd", ic: "\u2063", icirc: "\xee", Icirc: "\xce", icy: "\u0438", Icy: "\u0418", Idot: "\u0130", iecy: "\u0435", IEcy: "\u0415", iexcl: "\xa1", iff: "\u21d4", ifr: "\ud835\udd26", Ifr: "\u2111", igrave: "\xec", Igrave: "\xcc", ii: "\u2148", iiiint: "\u2a0c", iiint: "\u222d", iinfin: "\u29dc", iiota: "\u2129", ijlig: "\u0133", IJlig: "\u0132", Im: "\u2111", imacr: "\u012b", Imacr: "\u012a", image: "\u2111", ImaginaryI: "\u2148", imagline: "\u2110", imagpart: "\u2111", imath: "\u0131", imof: "\u22b7", imped: "\u01b5", Implies: "\u21d2", in: "\u2208", incare: "\u2105", infin: "\u221e", infintie: "\u29dd", inodot: "\u0131", int: "\u222b", Int: "\u222c", intcal: "\u22ba", integers: "\u2124", Integral: "\u222b", intercal: "\u22ba", Intersection: "\u22c2", intlarhk: "\u2a17", intprod: "\u2a3c", InvisibleComma: "\u2063", InvisibleTimes: "\u2062", iocy: "\u0451", IOcy: "\u0401", iogon: "\u012f", Iogon: "\u012e", iopf: "\ud835\udd5a", Iopf: "\ud835\udd40", iota: "\u03b9", Iota: "\u0399", iprod: "\u2a3c", iquest: "\xbf", iscr: "\ud835\udcbe", Iscr: "\u2110", isin: "\u2208", isindot: "\u22f5", isinE: "\u22f9", isins: "\u22f4", isinsv: "\u22f3", isinv: "\u2208", it: "\u2062", itilde: "\u0129", Itilde: "\u0128", iukcy: "\u0456", Iukcy: "\u0406", iuml: "\xef", Iuml: "\xcf", jcirc: "\u0135", Jcirc: "\u0134", jcy: "\u0439", Jcy: "\u0419", jfr: "\ud835\udd27", Jfr: "\ud835\udd0d", jmath: "\u0237", jopf: "\ud835\udd5b", Jopf: "\ud835\udd41", jscr: "\ud835\udcbf", Jscr: "\ud835\udca5", jsercy: "\u0458", Jsercy: "\u0408", jukcy: "\u0454", Jukcy: "\u0404", kappa: "\u03ba", Kappa: "\u039a", kappav: "\u03f0", kcedil: "\u0137", Kcedil: "\u0136", kcy: "\u043a", Kcy: "\u041a", kfr: "\ud835\udd28", Kfr: "\ud835\udd0e", kgreen: "\u0138", khcy: "\u0445", KHcy: "\u0425", kjcy: "\u045c", KJcy: "\u040c", kopf: "\ud835\udd5c", Kopf: "\ud835\udd42", kscr: "\ud835\udcc0", Kscr: "\ud835\udca6", lAarr: "\u21da", lacute: "\u013a", Lacute: "\u0139", laemptyv: "\u29b4", lagran: "\u2112", lambda: "\u03bb", Lambda: "\u039b", lang: "\u27e8", Lang: "\u27ea", langd: "\u2991", langle: "\u27e8", lap: "\u2a85", Laplacetrf: "\u2112", laquo: "\xab", larr: "\u2190", lArr: "\u21d0", Larr: "\u219e", larrb: "\u21e4", larrbfs: "\u291f", larrfs: "\u291d", larrhk: "\u21a9", larrlp: "\u21ab", larrpl: "\u2939", larrsim: "\u2973", larrtl: "\u21a2", lat: "\u2aab", latail: "\u2919", lAtail: "\u291b", late: "\u2aad", lates: "\u2aad\ufe00", lbarr: "\u290c", lBarr: "\u290e", lbbrk: "\u2772", lbrace: "{", lbrack: "[", lbrke: "\u298b", lbrksld: "\u298f", lbrkslu: "\u298d", lcaron: "\u013e", Lcaron: "\u013d", lcedil: "\u013c", Lcedil: "\u013b", lceil: "\u2308", lcub: "{", lcy: "\u043b", Lcy: "\u041b", ldca: "\u2936", ldquo: "\u201c", ldquor: "\u201e", ldrdhar: "\u2967", ldrushar: "\u294b", ldsh: "\u21b2", le: "\u2264", lE: "\u2266", LeftAngleBracket: "\u27e8", leftarrow: "\u2190", Leftarrow: "\u21d0", LeftArrow: "\u2190", LeftArrowBar: "\u21e4", LeftArrowRightArrow: "\u21c6", leftarrowtail: "\u21a2", LeftCeiling: "\u2308", LeftDoubleBracket: "\u27e6", LeftDownTeeVector: "\u2961", LeftDownVector: "\u21c3", LeftDownVectorBar: "\u2959", LeftFloor: "\u230a", leftharpoondown: "\u21bd", leftharpoonup: "\u21bc", leftleftarrows: "\u21c7", leftrightarrow: "\u2194", Leftrightarrow: "\u21d4", LeftRightArrow: "\u2194", leftrightarrows: "\u21c6", leftrightharpoons: "\u21cb", leftrightsquigarrow: "\u21ad", LeftRightVector: "\u294e", LeftTee: "\u22a3", LeftTeeArrow: "\u21a4", LeftTeeVector: "\u295a", leftthreetimes: "\u22cb", LeftTriangle: "\u22b2", LeftTriangleBar: "\u29cf", LeftTriangleEqual: "\u22b4", LeftUpDownVector: "\u2951", LeftUpTeeVector: "\u2960", LeftUpVector: "\u21bf", LeftUpVectorBar: "\u2958", LeftVector: "\u21bc", LeftVectorBar: "\u2952", leg: "\u22da", lEg: "\u2a8b", leq: "\u2264", leqq: "\u2266", leqslant: "\u2a7d", les: "\u2a7d", lescc: "\u2aa8", lesdot: "\u2a7f", lesdoto: "\u2a81", lesdotor: "\u2a83", lesg: "\u22da\ufe00", lesges: "\u2a93", lessapprox: "\u2a85", lessdot: "\u22d6", lesseqgtr: "\u22da", lesseqqgtr: "\u2a8b", LessEqualGreater: "\u22da", LessFullEqual: "\u2266", LessGreater: "\u2276", lessgtr: "\u2276", LessLess: "\u2aa1", lesssim: "\u2272", LessSlantEqual: "\u2a7d", LessTilde: "\u2272", lfisht: "\u297c", lfloor: "\u230a", lfr: "\ud835\udd29", Lfr: "\ud835\udd0f", lg: "\u2276", lgE: "\u2a91", lHar: "\u2962", lhard: "\u21bd", lharu: "\u21bc", lharul: "\u296a", lhblk: "\u2584", ljcy: "\u0459", LJcy: "\u0409", ll: "\u226a", Ll: "\u22d8", llarr: "\u21c7", llcorner: "\u231e", Lleftarrow: "\u21da", llhard: "\u296b", lltri: "\u25fa", lmidot: "\u0140", Lmidot: "\u013f", lmoust: "\u23b0", lmoustache: "\u23b0", lnap: "\u2a89", lnapprox: "\u2a89", lne: "\u2a87", lnE: "\u2268", lneq: "\u2a87", lneqq: "\u2268", lnsim: "\u22e6", loang: "\u27ec", loarr: "\u21fd", lobrk: "\u27e6", longleftarrow: "\u27f5", Longleftarrow: "\u27f8", LongLeftArrow: "\u27f5", longleftrightarrow: "\u27f7", Longleftrightarrow: "\u27fa", LongLeftRightArrow: "\u27f7", longmapsto: "\u27fc", longrightarrow: "\u27f6", Longrightarrow: "\u27f9", LongRightArrow: "\u27f6", looparrowleft: "\u21ab", looparrowright: "\u21ac", lopar: "\u2985", lopf: "\ud835\udd5d", Lopf: "\ud835\udd43", loplus: "\u2a2d", lotimes: "\u2a34", lowast: "\u2217", lowbar: "_", LowerLeftArrow: "\u2199", LowerRightArrow: "\u2198", loz: "\u25ca", lozenge: "\u25ca", lozf: "\u29eb", lpar: "(", lparlt: "\u2993", lrarr: "\u21c6", lrcorner: "\u231f", lrhar: "\u21cb", lrhard: "\u296d", lrm: "\u200e", lrtri: "\u22bf", lsaquo: "\u2039", lscr: "\ud835\udcc1", Lscr: "\u2112", lsh: "\u21b0", Lsh: "\u21b0", lsim: "\u2272", lsime: "\u2a8d", lsimg: "\u2a8f", lsqb: "[", lsquo: "\u2018", lsquor: "\u201a", lstrok: "\u0142", Lstrok: "\u0141", lt: "<", Lt: "\u226a", LT: "<", ltcc: "\u2aa6", ltcir: "\u2a79", ltdot: "\u22d6", lthree: "\u22cb", ltimes: "\u22c9", ltlarr: "\u2976", ltquest: "\u2a7b", ltri: "\u25c3", ltrie: "\u22b4", ltrif: "\u25c2", ltrPar: "\u2996", lurdshar: "\u294a", luruhar: "\u2966", lvertneqq: "\u2268\ufe00", lvnE: "\u2268\ufe00", macr: "\xaf", male: "\u2642", malt: "\u2720", maltese: "\u2720", map: "\u21a6", Map: "\u2905", mapsto: "\u21a6", mapstodown: "\u21a7", mapstoleft: "\u21a4", mapstoup: "\u21a5", marker: "\u25ae", mcomma: "\u2a29", mcy: "\u043c", Mcy: "\u041c", mdash: "\u2014", mDDot: "\u223a", measuredangle: "\u2221", MediumSpace: "\u205f", Mellintrf: "\u2133", mfr: "\ud835\udd2a", Mfr: "\ud835\udd10", mho: "\u2127", micro: "\xb5", mid: "\u2223", midast: "*", midcir: "\u2af0", middot: "\xb7", minus: "\u2212", minusb: "\u229f", minusd: "\u2238", minusdu: "\u2a2a", MinusPlus: "\u2213", mlcp: "\u2adb", mldr: "\u2026", mnplus: "\u2213", models: "\u22a7", mopf: "\ud835\udd5e", Mopf: "\ud835\udd44", mp: "\u2213", mscr: "\ud835\udcc2", Mscr: "\u2133", mstpos: "\u223e", mu: "\u03bc", Mu: "\u039c", multimap: "\u22b8", mumap: "\u22b8", nabla: "\u2207", nacute: "\u0144", Nacute: "\u0143", nang: "\u2220\u20d2", nap: "\u2249", napE: "\u2a70\u0338", napid: "\u224b\u0338", napos: "\u0149", napprox: "\u2249", natur: "\u266e", natural: "\u266e", naturals: "\u2115", nbsp: "\xa0", nbump: "\u224e\u0338", nbumpe: "\u224f\u0338", ncap: "\u2a43", ncaron: "\u0148", Ncaron: "\u0147", ncedil: "\u0146", Ncedil: "\u0145", ncong: "\u2247", ncongdot: "\u2a6d\u0338", ncup: "\u2a42", ncy: "\u043d", Ncy: "\u041d", ndash: "\u2013", ne: "\u2260", nearhk: "\u2924", nearr: "\u2197", neArr: "\u21d7", nearrow: "\u2197", nedot: "\u2250\u0338", NegativeMediumSpace: "\u200b", NegativeThickSpace: "\u200b", NegativeThinSpace: "\u200b", NegativeVeryThinSpace: "\u200b", nequiv: "\u2262", nesear: "\u2928", nesim: "\u2242\u0338", NestedGreaterGreater: "\u226b", NestedLessLess: "\u226a", NewLine: "\n", nexist: "\u2204", nexists: "\u2204", nfr: "\ud835\udd2b", Nfr: "\ud835\udd11", nge: "\u2271", ngE: "\u2267\u0338", ngeq: "\u2271", ngeqq: "\u2267\u0338", ngeqslant: "\u2a7e\u0338", nges: "\u2a7e\u0338", nGg: "\u22d9\u0338", ngsim: "\u2275", ngt: "\u226f", nGt: "\u226b\u20d2", ngtr: "\u226f", nGtv: "\u226b\u0338", nharr: "\u21ae", nhArr: "\u21ce", nhpar: "\u2af2", ni: "\u220b", nis: "\u22fc", nisd: "\u22fa", niv: "\u220b", njcy: "\u045a", NJcy: "\u040a", nlarr: "\u219a", nlArr: "\u21cd", nldr: "\u2025", nle: "\u2270", nlE: "\u2266\u0338", nleftarrow: "\u219a", nLeftarrow: "\u21cd", nleftrightarrow: "\u21ae", nLeftrightarrow: "\u21ce", nleq: "\u2270", nleqq: "\u2266\u0338", nleqslant: "\u2a7d\u0338", nles: "\u2a7d\u0338", nless: "\u226e", nLl: "\u22d8\u0338", nlsim: "\u2274", nlt: "\u226e", nLt: "\u226a\u20d2", nltri: "\u22ea", nltrie: "\u22ec", nLtv: "\u226a\u0338", nmid: "\u2224", NoBreak: "\u2060", NonBreakingSpace: "\xa0", nopf: "\ud835\udd5f", Nopf: "\u2115", not: "\xac", Not: "\u2aec", NotCongruent: "\u2262", NotCupCap: "\u226d", NotDoubleVerticalBar: "\u2226", NotElement: "\u2209", NotEqual: "\u2260", NotEqualTilde: "\u2242\u0338", NotExists: "\u2204", NotGreater: "\u226f", NotGreaterEqual: "\u2271", NotGreaterFullEqual: "\u2267\u0338", NotGreaterGreater: "\u226b\u0338", NotGreaterLess: "\u2279", NotGreaterSlantEqual: "\u2a7e\u0338", NotGreaterTilde: "\u2275", NotHumpDownHump: "\u224e\u0338", NotHumpEqual: "\u224f\u0338", notin: "\u2209", notindot: "\u22f5\u0338", notinE: "\u22f9\u0338", notinva: "\u2209", notinvb: "\u22f7", notinvc: "\u22f6", NotLeftTriangle: "\u22ea", NotLeftTriangleBar: "\u29cf\u0338", NotLeftTriangleEqual: "\u22ec", NotLess: "\u226e", NotLessEqual: "\u2270", NotLessGreater: "\u2278", NotLessLess: "\u226a\u0338", NotLessSlantEqual: "\u2a7d\u0338", NotLessTilde: "\u2274", NotNestedGreaterGreater: "\u2aa2\u0338", NotNestedLessLess: "\u2aa1\u0338", notni: "\u220c", notniva: "\u220c", notnivb: "\u22fe", notnivc: "\u22fd", NotPrecedes: "\u2280", NotPrecedesEqual: "\u2aaf\u0338", NotPrecedesSlantEqual: "\u22e0", NotReverseElement: "\u220c", NotRightTriangle: "\u22eb", NotRightTriangleBar: "\u29d0\u0338", NotRightTriangleEqual: "\u22ed", NotSquareSubset: "\u228f\u0338", NotSquareSubsetEqual: "\u22e2", NotSquareSuperset: "\u2290\u0338", NotSquareSupersetEqual: "\u22e3", NotSubset: "\u2282\u20d2", NotSubsetEqual: "\u2288", NotSucceeds: "\u2281", NotSucceedsEqual: "\u2ab0\u0338", NotSucceedsSlantEqual: "\u22e1", NotSucceedsTilde: "\u227f\u0338", NotSuperset: "\u2283\u20d2", NotSupersetEqual: "\u2289", NotTilde: "\u2241", NotTildeEqual: "\u2244", NotTildeFullEqual: "\u2247", NotTildeTilde: "\u2249", NotVerticalBar: "\u2224", npar: "\u2226", nparallel: "\u2226", nparsl: "\u2afd\u20e5", npart: "\u2202\u0338", npolint: "\u2a14", npr: "\u2280", nprcue: "\u22e0", npre: "\u2aaf\u0338", nprec: "\u2280", npreceq: "\u2aaf\u0338", nrarr: "\u219b", nrArr: "\u21cf", nrarrc: "\u2933\u0338", nrarrw: "\u219d\u0338", nrightarrow: "\u219b", nRightarrow: "\u21cf", nrtri: "\u22eb", nrtrie: "\u22ed", nsc: "\u2281", nsccue: "\u22e1", nsce: "\u2ab0\u0338", nscr: "\ud835\udcc3", Nscr: "\ud835\udca9", nshortmid: "\u2224", nshortparallel: "\u2226", nsim: "\u2241", nsime: "\u2244", nsimeq: "\u2244", nsmid: "\u2224", nspar: "\u2226", nsqsube: "\u22e2", nsqsupe: "\u22e3", nsub: "\u2284", nsube: "\u2288", nsubE: "\u2ac5\u0338", nsubset: "\u2282\u20d2", nsubseteq: "\u2288", nsubseteqq: "\u2ac5\u0338", nsucc: "\u2281", nsucceq: "\u2ab0\u0338", nsup: "\u2285", nsupe: "\u2289", nsupE: "\u2ac6\u0338", nsupset: "\u2283\u20d2", nsupseteq: "\u2289", nsupseteqq: "\u2ac6\u0338", ntgl: "\u2279", ntilde: "\xf1", Ntilde: "\xd1", ntlg: "\u2278", ntriangleleft: "\u22ea", ntrianglelefteq: "\u22ec", ntriangleright: "\u22eb", ntrianglerighteq: "\u22ed", nu: "\u03bd", Nu: "\u039d", num: "#", numero: "\u2116", numsp: "\u2007", nvap: "\u224d\u20d2", nvdash: "\u22ac", nvDash: "\u22ad", nVdash: "\u22ae", nVDash: "\u22af", nvge: "\u2265\u20d2", nvgt: ">\u20d2", nvHarr: "\u2904", nvinfin: "\u29de", nvlArr: "\u2902", nvle: "\u2264\u20d2", nvlt: "<\u20d2", nvltrie: "\u22b4\u20d2", nvrArr: "\u2903", nvrtrie: "\u22b5\u20d2", nvsim: "\u223c\u20d2", nwarhk: "\u2923", nwarr: "\u2196", nwArr: "\u21d6", nwarrow: "\u2196", nwnear: "\u2927", oacute: "\xf3", Oacute: "\xd3", oast: "\u229b", ocir: "\u229a", ocirc: "\xf4", Ocirc: "\xd4", ocy: "\u043e", Ocy: "\u041e", odash: "\u229d", odblac: "\u0151", Odblac: "\u0150", odiv: "\u2a38", odot: "\u2299", odsold: "\u29bc", oelig: "\u0153", OElig: "\u0152", ofcir: "\u29bf", ofr: "\ud835\udd2c", Ofr: "\ud835\udd12", ogon: "\u02db", ograve: "\xf2", Ograve: "\xd2", ogt: "\u29c1", ohbar: "\u29b5", ohm: "\u03a9", oint: "\u222e", olarr: "\u21ba", olcir: "\u29be", olcross: "\u29bb", oline: "\u203e", olt: "\u29c0", omacr: "\u014d", Omacr: "\u014c", omega: "\u03c9", Omega: "\u03a9", omicron: "\u03bf", Omicron: "\u039f", omid: "\u29b6", ominus: "\u2296", oopf: "\ud835\udd60", Oopf: "\ud835\udd46", opar: "\u29b7", OpenCurlyDoubleQuote: "\u201c", OpenCurlyQuote: "\u2018", operp: "\u29b9", oplus: "\u2295", or: "\u2228", Or: "\u2a54", orarr: "\u21bb", ord: "\u2a5d", order: "\u2134", orderof: "\u2134", ordf: "\xaa", ordm: "\xba", origof: "\u22b6", oror: "\u2a56", orslope: "\u2a57", orv: "\u2a5b", oS: "\u24c8", oscr: "\u2134", Oscr: "\ud835\udcaa", oslash: "\xf8", Oslash: "\xd8", osol: "\u2298", otilde: "\xf5", Otilde: "\xd5", otimes: "\u2297", Otimes: "\u2a37", otimesas: "\u2a36", ouml: "\xf6", Ouml: "\xd6", ovbar: "\u233d", OverBar: "\u203e", OverBrace: "\u23de", OverBracket: "\u23b4", OverParenthesis: "\u23dc", par: "\u2225", para: "\xb6", parallel: "\u2225", parsim: "\u2af3", parsl: "\u2afd", part: "\u2202", PartialD: "\u2202", pcy: "\u043f", Pcy: "\u041f", percnt: "%", period: ".", permil: "\u2030", perp: "\u22a5", pertenk: "\u2031", pfr: "\ud835\udd2d", Pfr: "\ud835\udd13", phi: "\u03c6", Phi: "\u03a6", phiv: "\u03d5", phmmat: "\u2133", phone: "\u260e", pi: "\u03c0", Pi: "\u03a0", pitchfork: "\u22d4", piv: "\u03d6", planck: "\u210f", planckh: "\u210e", plankv: "\u210f", plus: "+", plusacir: "\u2a23", plusb: "\u229e", pluscir: "\u2a22", plusdo: "\u2214", plusdu: "\u2a25", pluse: "\u2a72", PlusMinus: "\xb1", plusmn: "\xb1", plussim: "\u2a26", plustwo: "\u2a27", pm: "\xb1", Poincareplane: "\u210c", pointint: "\u2a15", popf: "\ud835\udd61", Popf: "\u2119", pound: "\xa3", pr: "\u227a", Pr: "\u2abb", prap: "\u2ab7", prcue: "\u227c", pre: "\u2aaf", prE: "\u2ab3", prec: "\u227a", precapprox: "\u2ab7", preccurlyeq: "\u227c", Precedes: "\u227a", PrecedesEqual: "\u2aaf", PrecedesSlantEqual: "\u227c", PrecedesTilde: "\u227e", preceq: "\u2aaf", precnapprox: "\u2ab9", precneqq: "\u2ab5", precnsim: "\u22e8", precsim: "\u227e", prime: "\u2032", Prime: "\u2033", primes: "\u2119", prnap: "\u2ab9", prnE: "\u2ab5", prnsim: "\u22e8", prod: "\u220f", Product: "\u220f", profalar: "\u232e", profline: "\u2312", profsurf: "\u2313", prop: "\u221d", Proportion: "\u2237", Proportional: "\u221d", propto: "\u221d", prsim: "\u227e", prurel: "\u22b0", pscr: "\ud835\udcc5", Pscr: "\ud835\udcab", psi: "\u03c8", Psi: "\u03a8", puncsp: "\u2008", qfr: "\ud835\udd2e", Qfr: "\ud835\udd14", qint: "\u2a0c", qopf: "\ud835\udd62", Qopf: "\u211a", qprime: "\u2057", qscr: "\ud835\udcc6", Qscr: "\ud835\udcac", quaternions: "\u210d", quatint: "\u2a16", quest: "?", questeq: "\u225f", quot: '"', QUOT: '"', rAarr: "\u21db", race: "\u223d\u0331", racute: "\u0155", Racute: "\u0154", radic: "\u221a", raemptyv: "\u29b3", rang: "\u27e9", Rang: "\u27eb", rangd: "\u2992", range: "\u29a5", rangle: "\u27e9", raquo: "\xbb", rarr: "\u2192", rArr: "\u21d2", Rarr: "\u21a0", rarrap: "\u2975", rarrb: "\u21e5", rarrbfs: "\u2920", rarrc: "\u2933", rarrfs: "\u291e", rarrhk: "\u21aa", rarrlp: "\u21ac", rarrpl: "\u2945", rarrsim: "\u2974", rarrtl: "\u21a3", Rarrtl: "\u2916", rarrw: "\u219d", ratail: "\u291a", rAtail: "\u291c", ratio: "\u2236", rationals: "\u211a", rbarr: "\u290d", rBarr: "\u290f", RBarr: "\u2910", rbbrk: "\u2773", rbrace: "}", rbrack: "]", rbrke: "\u298c", rbrksld: "\u298e", rbrkslu: "\u2990", rcaron: "\u0159", Rcaron: "\u0158", rcedil: "\u0157", Rcedil: "\u0156", rceil: "\u2309", rcub: "}", rcy: "\u0440", Rcy: "\u0420", rdca: "\u2937", rdldhar: "\u2969", rdquo: "\u201d", rdquor: "\u201d", rdsh: "\u21b3", Re: "\u211c", real: "\u211c", realine: "\u211b", realpart: "\u211c", reals: "\u211d", rect: "\u25ad", reg: "\xae", REG: "\xae", ReverseElement: "\u220b", ReverseEquilibrium: "\u21cb", ReverseUpEquilibrium: "\u296f", rfisht: "\u297d", rfloor: "\u230b", rfr: "\ud835\udd2f", Rfr: "\u211c", rHar: "\u2964", rhard: "\u21c1", rharu: "\u21c0", rharul: "\u296c", rho: "\u03c1", Rho: "\u03a1", rhov: "\u03f1", RightAngleBracket: "\u27e9", rightarrow: "\u2192", Rightarrow: "\u21d2", RightArrow: "\u2192", RightArrowBar: "\u21e5", RightArrowLeftArrow: "\u21c4", rightarrowtail: "\u21a3", RightCeiling: "\u2309", RightDoubleBracket: "\u27e7", RightDownTeeVector: "\u295d", RightDownVector: "\u21c2", RightDownVectorBar: "\u2955", RightFloor: "\u230b", rightharpoondown: "\u21c1", rightharpoonup: "\u21c0", rightleftarrows: "\u21c4", rightleftharpoons: "\u21cc", rightrightarrows: "\u21c9", rightsquigarrow: "\u219d", RightTee: "\u22a2", RightTeeArrow: "\u21a6", RightTeeVector: "\u295b", rightthreetimes: "\u22cc", RightTriangle: "\u22b3", RightTriangleBar: "\u29d0", RightTriangleEqual: "\u22b5", RightUpDownVector: "\u294f", RightUpTeeVector: "\u295c", RightUpVector: "\u21be", RightUpVectorBar: "\u2954", RightVector: "\u21c0", RightVectorBar: "\u2953", ring: "\u02da", risingdotseq: "\u2253", rlarr: "\u21c4", rlhar: "\u21cc", rlm: "\u200f", rmoust: "\u23b1", rmoustache: "\u23b1", rnmid: "\u2aee", roang: "\u27ed", roarr: "\u21fe", robrk: "\u27e7", ropar: "\u2986", ropf: "\ud835\udd63", Ropf: "\u211d", roplus: "\u2a2e", rotimes: "\u2a35", RoundImplies: "\u2970", rpar: ")", rpargt: "\u2994", rppolint: "\u2a12", rrarr: "\u21c9", Rrightarrow: "\u21db", rsaquo: "\u203a", rscr: "\ud835\udcc7", Rscr: "\u211b", rsh: "\u21b1", Rsh: "\u21b1", rsqb: "]", rsquo: "\u2019", rsquor: "\u2019", rthree: "\u22cc", rtimes: "\u22ca", rtri: "\u25b9", rtrie: "\u22b5", rtrif: "\u25b8", rtriltri: "\u29ce", RuleDelayed: "\u29f4", ruluhar: "\u2968", rx: "\u211e", sacute: "\u015b", Sacute: "\u015a", sbquo: "\u201a", sc: "\u227b", Sc: "\u2abc", scap: "\u2ab8", scaron: "\u0161", Scaron: "\u0160", sccue: "\u227d", sce: "\u2ab0", scE: "\u2ab4", scedil: "\u015f", Scedil: "\u015e", scirc: "\u015d", Scirc: "\u015c", scnap: "\u2aba", scnE: "\u2ab6", scnsim: "\u22e9", scpolint: "\u2a13", scsim: "\u227f", scy: "\u0441", Scy: "\u0421", sdot: "\u22c5", sdotb: "\u22a1", sdote: "\u2a66", searhk: "\u2925", searr: "\u2198", seArr: "\u21d8", searrow: "\u2198", sect: "\xa7", semi: ";", seswar: "\u2929", setminus: "\u2216", setmn: "\u2216", sext: "\u2736", sfr: "\ud835\udd30", Sfr: "\ud835\udd16", sfrown: "\u2322", sharp: "\u266f", shchcy: "\u0449", SHCHcy: "\u0429", shcy: "\u0448", SHcy: "\u0428", ShortDownArrow: "\u2193", ShortLeftArrow: "\u2190", shortmid: "\u2223", shortparallel: "\u2225", ShortRightArrow: "\u2192", ShortUpArrow: "\u2191", shy: "\xad", sigma: "\u03c3", Sigma: "\u03a3", sigmaf: "\u03c2", sigmav: "\u03c2", sim: "\u223c", simdot: "\u2a6a", sime: "\u2243", simeq: "\u2243", simg: "\u2a9e", simgE: "\u2aa0", siml: "\u2a9d", simlE: "\u2a9f", simne: "\u2246", simplus: "\u2a24", simrarr: "\u2972", slarr: "\u2190", SmallCircle: "\u2218", smallsetminus: "\u2216", smashp: "\u2a33", smeparsl: "\u29e4", smid: "\u2223", smile: "\u2323", smt: "\u2aaa", smte: "\u2aac", smtes: "\u2aac\ufe00", softcy: "\u044c", SOFTcy: "\u042c", sol: "/", solb: "\u29c4", solbar: "\u233f", sopf: "\ud835\udd64", Sopf: "\ud835\udd4a", spades: "\u2660", spadesuit: "\u2660", spar: "\u2225", sqcap: "\u2293", sqcaps: "\u2293\ufe00", sqcup: "\u2294", sqcups: "\u2294\ufe00", Sqrt: "\u221a", sqsub: "\u228f", sqsube: "\u2291", sqsubset: "\u228f", sqsubseteq: "\u2291", sqsup: "\u2290", sqsupe: "\u2292", sqsupset: "\u2290", sqsupseteq: "\u2292", squ: "\u25a1", square: "\u25a1", Square: "\u25a1", SquareIntersection: "\u2293", SquareSubset: "\u228f", SquareSubsetEqual: "\u2291", SquareSuperset: "\u2290", SquareSupersetEqual: "\u2292", SquareUnion: "\u2294", squarf: "\u25aa", squf: "\u25aa", srarr: "\u2192", sscr: "\ud835\udcc8", Sscr: "\ud835\udcae", ssetmn: "\u2216", ssmile: "\u2323", sstarf: "\u22c6", star: "\u2606", Star: "\u22c6", starf: "\u2605", straightepsilon: "\u03f5", straightphi: "\u03d5", strns: "\xaf", sub: "\u2282", Sub: "\u22d0", subdot: "\u2abd", sube: "\u2286", subE: "\u2ac5", subedot: "\u2ac3", submult: "\u2ac1", subne: "\u228a", subnE: "\u2acb", subplus: "\u2abf", subrarr: "\u2979", subset: "\u2282", Subset: "\u22d0", subseteq: "\u2286", subseteqq: "\u2ac5", SubsetEqual: "\u2286", subsetneq: "\u228a", subsetneqq: "\u2acb", subsim: "\u2ac7", subsub: "\u2ad5", subsup: "\u2ad3", succ: "\u227b", succapprox: "\u2ab8", succcurlyeq: "\u227d", Succeeds: "\u227b", SucceedsEqual: "\u2ab0", SucceedsSlantEqual: "\u227d", SucceedsTilde: "\u227f", succeq: "\u2ab0", succnapprox: "\u2aba", succneqq: "\u2ab6", succnsim: "\u22e9", succsim: "\u227f", SuchThat: "\u220b", sum: "\u2211", Sum: "\u2211", sung: "\u266a", sup: "\u2283", Sup: "\u22d1", sup1: "\xb9", sup2: "\xb2", sup3: "\xb3", supdot: "\u2abe", supdsub: "\u2ad8", supe: "\u2287", supE: "\u2ac6", supedot: "\u2ac4", Superset: "\u2283", SupersetEqual: "\u2287", suphsol: "\u27c9", suphsub: "\u2ad7", suplarr: "\u297b", supmult: "\u2ac2", supne: "\u228b", supnE: "\u2acc", supplus: "\u2ac0", supset: "\u2283", Supset: "\u22d1", supseteq: "\u2287", supseteqq: "\u2ac6", supsetneq: "\u228b", supsetneqq: "\u2acc", supsim: "\u2ac8", supsub: "\u2ad4", supsup: "\u2ad6", swarhk: "\u2926", swarr: "\u2199", swArr: "\u21d9", swarrow: "\u2199", swnwar: "\u292a", szlig: "\xdf", Tab: "\t", target: "\u2316", tau: "\u03c4", Tau: "\u03a4", tbrk: "\u23b4", tcaron: "\u0165", Tcaron: "\u0164", tcedil: "\u0163", Tcedil: "\u0162", tcy: "\u0442", Tcy: "\u0422", tdot: "\u20db", telrec: "\u2315", tfr: "\ud835\udd31", Tfr: "\ud835\udd17", there4: "\u2234", therefore: "\u2234", Therefore: "\u2234", theta: "\u03b8", Theta: "\u0398", thetasym: "\u03d1", thetav: "\u03d1", thickapprox: "\u2248", thicksim: "\u223c", ThickSpace: "\u205f\u200a", thinsp: "\u2009", ThinSpace: "\u2009", thkap: "\u2248", thksim: "\u223c", thorn: "\xfe", THORN: "\xde", tilde: "\u02dc", Tilde: "\u223c", TildeEqual: "\u2243", TildeFullEqual: "\u2245", TildeTilde: "\u2248", times: "\xd7", timesb: "\u22a0", timesbar: "\u2a31", timesd: "\u2a30", tint: "\u222d", toea: "\u2928", top: "\u22a4", topbot: "\u2336", topcir: "\u2af1", topf: "\ud835\udd65", Topf: "\ud835\udd4b", topfork: "\u2ada", tosa: "\u2929", tprime: "\u2034", trade: "\u2122", TRADE: "\u2122", triangle: "\u25b5", triangledown: "\u25bf", triangleleft: "\u25c3", trianglelefteq: "\u22b4", triangleq: "\u225c", triangleright: "\u25b9", trianglerighteq: "\u22b5", tridot: "\u25ec", trie: "\u225c", triminus: "\u2a3a", TripleDot: "\u20db", triplus: "\u2a39", trisb: "\u29cd", tritime: "\u2a3b", trpezium: "\u23e2", tscr: "\ud835\udcc9", Tscr: "\ud835\udcaf", tscy: "\u0446", TScy: "\u0426", tshcy: "\u045b", TSHcy: "\u040b", tstrok: "\u0167", Tstrok: "\u0166", twixt: "\u226c", twoheadleftarrow: "\u219e", twoheadrightarrow: "\u21a0", uacute: "\xfa", Uacute: "\xda", uarr: "\u2191", uArr: "\u21d1", Uarr: "\u219f", Uarrocir: "\u2949", ubrcy: "\u045e", Ubrcy: "\u040e", ubreve: "\u016d", Ubreve: "\u016c", ucirc: "\xfb", Ucirc: "\xdb", ucy: "\u0443", Ucy: "\u0423", udarr: "\u21c5", udblac: "\u0171", Udblac: "\u0170", udhar: "\u296e", ufisht: "\u297e", ufr: "\ud835\udd32", Ufr: "\ud835\udd18", ugrave: "\xf9", Ugrave: "\xd9", uHar: "\u2963", uharl: "\u21bf", uharr: "\u21be", uhblk: "\u2580", ulcorn: "\u231c", ulcorner: "\u231c", ulcrop: "\u230f", ultri: "\u25f8", umacr: "\u016b", Umacr: "\u016a", uml: "\xa8", UnderBar: "_", UnderBrace: "\u23df", UnderBracket: "\u23b5", UnderParenthesis: "\u23dd", Union: "\u22c3", UnionPlus: "\u228e", uogon: "\u0173", Uogon: "\u0172", uopf: "\ud835\udd66", Uopf: "\ud835\udd4c", uparrow: "\u2191", Uparrow: "\u21d1", UpArrow: "\u2191", UpArrowBar: "\u2912", UpArrowDownArrow: "\u21c5", updownarrow: "\u2195", Updownarrow: "\u21d5", UpDownArrow: "\u2195", UpEquilibrium: "\u296e", upharpoonleft: "\u21bf", upharpoonright: "\u21be", uplus: "\u228e", UpperLeftArrow: "\u2196", UpperRightArrow: "\u2197", upsi: "\u03c5", Upsi: "\u03d2", upsih: "\u03d2", upsilon: "\u03c5", Upsilon: "\u03a5", UpTee: "\u22a5", UpTeeArrow: "\u21a5", upuparrows: "\u21c8", urcorn: "\u231d", urcorner: "\u231d", urcrop: "\u230e", uring: "\u016f", Uring: "\u016e", urtri: "\u25f9", uscr: "\ud835\udcca", Uscr: "\ud835\udcb0", utdot: "\u22f0", utilde: "\u0169", Utilde: "\u0168", utri: "\u25b5", utrif: "\u25b4", uuarr: "\u21c8", uuml: "\xfc", Uuml: "\xdc", uwangle: "\u29a7", vangrt: "\u299c", varepsilon: "\u03f5", varkappa: "\u03f0", varnothing: "\u2205", varphi: "\u03d5", varpi: "\u03d6", varpropto: "\u221d", varr: "\u2195", vArr: "\u21d5", varrho: "\u03f1", varsigma: "\u03c2", varsubsetneq: "\u228a\ufe00", varsubsetneqq: "\u2acb\ufe00", varsupsetneq: "\u228b\ufe00", varsupsetneqq: "\u2acc\ufe00", vartheta: "\u03d1", vartriangleleft: "\u22b2", vartriangleright: "\u22b3", vBar: "\u2ae8", Vbar: "\u2aeb", vBarv: "\u2ae9", vcy: "\u0432", Vcy: "\u0412", vdash: "\u22a2", vDash: "\u22a8", Vdash: "\u22a9", VDash: "\u22ab", Vdashl: "\u2ae6", vee: "\u2228", Vee: "\u22c1", veebar: "\u22bb", veeeq: "\u225a", vellip: "\u22ee", verbar: "|", Verbar: "\u2016", vert: "|", Vert: "\u2016", VerticalBar: "\u2223", VerticalLine: "|", VerticalSeparator: "\u2758", VerticalTilde: "\u2240", VeryThinSpace: "\u200a", vfr: "\ud835\udd33", Vfr: "\ud835\udd19", vltri: "\u22b2", vnsub: "\u2282\u20d2", vnsup: "\u2283\u20d2", vopf: "\ud835\udd67", Vopf: "\ud835\udd4d", vprop: "\u221d", vrtri: "\u22b3", vscr: "\ud835\udccb", Vscr: "\ud835\udcb1", vsubne: "\u228a\ufe00", vsubnE: "\u2acb\ufe00", vsupne: "\u228b\ufe00", vsupnE: "\u2acc\ufe00", Vvdash: "\u22aa", vzigzag: "\u299a", wcirc: "\u0175", Wcirc: "\u0174", wedbar: "\u2a5f", wedge: "\u2227", Wedge: "\u22c0", wedgeq: "\u2259", weierp: "\u2118", wfr: "\ud835\udd34", Wfr: "\ud835\udd1a", wopf: "\ud835\udd68", Wopf: "\ud835\udd4e", wp: "\u2118", wr: "\u2240", wreath: "\u2240", wscr: "\ud835\udccc", Wscr: "\ud835\udcb2", xcap: "\u22c2", xcirc: "\u25ef", xcup: "\u22c3", xdtri: "\u25bd", xfr: "\ud835\udd35", Xfr: "\ud835\udd1b", xharr: "\u27f7", xhArr: "\u27fa", xi: "\u03be", Xi: "\u039e", xlarr: "\u27f5", xlArr: "\u27f8", xmap: "\u27fc", xnis: "\u22fb", xodot: "\u2a00", xopf: "\ud835\udd69", Xopf: "\ud835\udd4f", xoplus: "\u2a01", xotime: "\u2a02", xrarr: "\u27f6", xrArr: "\u27f9", xscr: "\ud835\udccd", Xscr: "\ud835\udcb3", xsqcup: "\u2a06", xuplus: "\u2a04", xutri: "\u25b3", xvee: "\u22c1", xwedge: "\u22c0", yacute: "\xfd", Yacute: "\xdd", yacy: "\u044f", YAcy: "\u042f", ycirc: "\u0177", Ycirc: "\u0176", ycy: "\u044b", Ycy: "\u042b", yen: "\xa5", yfr: "\ud835\udd36", Yfr: "\ud835\udd1c", yicy: "\u0457", YIcy: "\u0407", yopf: "\ud835\udd6a", Yopf: "\ud835\udd50", yscr: "\ud835\udcce", Yscr: "\ud835\udcb4", yucy: "\u044e", YUcy: "\u042e", yuml: "\xff", Yuml: "\u0178", zacute: "\u017a", Zacute: "\u0179", zcaron: "\u017e", Zcaron: "\u017d", zcy: "\u0437", Zcy: "\u0417", zdot: "\u017c", Zdot: "\u017b", zeetrf: "\u2128", ZeroWidthSpace: "\u200b", zeta: "\u03b6", Zeta: "\u0396", zfr: "\ud835\udd37", Zfr: "\u2128", zhcy: "\u0436", ZHcy: "\u0416", zigrarr: "\u21dd", zopf: "\ud835\udd6b", Zopf: "\u2124", zscr: "\ud835\udccf", Zscr: "\ud835\udcb5", zwj: "\u200d", zwnj: "\u200c" }, b = { aacute: "\xe1", Aacute: "\xc1", acirc: "\xe2", Acirc: "\xc2", acute: "\xb4", aelig: "\xe6", AElig: "\xc6", agrave: "\xe0", Agrave: "\xc0", amp: "&", AMP: "&", aring: "\xe5", Aring: "\xc5", atilde: "\xe3", Atilde: "\xc3", auml: "\xe4", Auml: "\xc4", brvbar: "\xa6", ccedil: "\xe7", Ccedil: "\xc7", cedil: "\xb8", cent: "\xa2", copy: "\xa9", COPY: "\xa9", curren: "\xa4", deg: "\xb0", divide: "\xf7", eacute: "\xe9", Eacute: "\xc9", ecirc: "\xea", Ecirc: "\xca", egrave: "\xe8", Egrave: "\xc8", eth: "\xf0", ETH: "\xd0", euml: "\xeb", Euml: "\xcb", frac12: "\xbd", frac14: "\xbc", frac34: "\xbe", gt: ">", GT: ">", iacute: "\xed", Iacute: "\xcd", icirc: "\xee", Icirc: "\xce", iexcl: "\xa1", igrave: "\xec", Igrave: "\xcc", iquest: "\xbf", iuml: "\xef", Iuml: "\xcf", laquo: "\xab", lt: "<", LT: "<", macr: "\xaf", micro: "\xb5", middot: "\xb7", nbsp: "\xa0", not: "\xac", ntilde: "\xf1", Ntilde: "\xd1", oacute: "\xf3", Oacute: "\xd3", ocirc: "\xf4", Ocirc: "\xd4", ograve: "\xf2", Ograve: "\xd2", ordf: "\xaa", ordm: "\xba", oslash: "\xf8", Oslash: "\xd8", otilde: "\xf5", Otilde: "\xd5", ouml: "\xf6", Ouml: "\xd6", para: "\xb6", plusmn: "\xb1", pound: "\xa3", quot: '"', QUOT: '"', raquo: "\xbb", reg: "\xae", REG: "\xae", sect: "\xa7", shy: "\xad", sup1: "\xb9", sup2: "\xb2", sup3: "\xb3", szlig: "\xdf", thorn: "\xfe", THORN: "\xde", times: "\xd7", uacute: "\xfa", Uacute: "\xda", ucirc: "\xfb", Ucirc: "\xdb", ugrave: "\xf9", Ugrave: "\xd9", uml: "\xa8", uuml: "\xfc", Uuml: "\xdc", yacute: "\xfd", Yacute: "\xdd", yen: "\xa5", yuml: "\xff" }, y = { 0: "\ufffd", 128: "\u20ac", 130: "\u201a", 131: "\u0192", 132: "\u201e", 133: "\u2026", 134: "\u2020", 135: "\u2021", 136: "\u02c6", 137: "\u2030", 138: "\u0160", 139: "\u2039", 140: "\u0152", 142: "\u017d", 145: "\u2018", 146: "\u2019", 147: "\u201c", 148: "\u201d", 149: "\u2022", 150: "\u2013", 151: "\u2014", 152: "\u02dc", 153: "\u2122", 154: "\u0161", 155: "\u203a", 156: "\u0153", 158: "\u017e", 159: "\u0178" }, E = [1, 2, 3, 4, 5, 6, 7, 8, 11, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 64976, 64977, 64978, 64979, 64980, 64981, 64982, 64983, 64984, 64985, 64986, 64987, 64988, 64989, 64990, 64991, 64992, 64993, 64994, 64995, 64996, 64997, 64998, 64999, 65e3, 65001, 65002, 65003, 65004, 65005, 65006, 65007, 65534, 65535, 131070, 131071, 196606, 196607, 262142, 262143, 327678, 327679, 393214, 393215, 458750, 458751, 524286, 524287, 589822, 589823, 655358, 655359, 720894, 720895, 786430, 786431, 851966, 851967, 917502, 917503, 983038, 983039, 1048574, 1048575, 1114110, 1114111], O = String.fromCharCode, S = {}.hasOwnProperty, w = function (e, t) { return S.call(e, t) }, A = function (e, t) { if (!e) return t; var r, n = {}; for (r in t) n[r] = w(e, r) ? e[r] : t[r]; return n }, C = function (e, t) { var r = ""; return e >= 55296 && e <= 57343 || e > 1114111 ? (t && k("character reference outside the permissible Unicode range"), "\ufffd") : w(y, e) ? (t && k("disallowed character reference"), y[e]) : (t && function (e, t) { for (var r = -1, n = e.length; ++r < n;)if (e[r] == t) return !0; return !1 }(E, e) && k("disallowed character reference"), e > 65535 && (r += O((e -= 65536) >>> 10 & 1023 | 55296), e = 56320 | 1023 & e), r += O(e)) }, T = function (e) { return "&#x" + e.toString(16).toUpperCase() + ";" }, j = function (e) { return "&#" + e + ";" }, k = function (e) { throw Error("Parse error: " + e) }, R = function e(t, r) { (r = A(r, e.options)).strict && h.test(t) && k("forbidden code point"); var n = r.encodeEverything, a = r.useNamedReferences, o = r.allowUnsafeSymbols, i = r.decimal ? j : T, p = function (e) { return i(e.charCodeAt(0)) }; return n ? (t = t.replace(s, function (e) { return a && w(f, e) ? "&" + f[e] + ";" : p(e) }), a && (t = t.replace(/&gt;\u20D2/g, "&nvgt;").replace(/&lt;\u20D2/g, "&nvlt;").replace(/&#x66;&#x6A;/g, "&fjlig;")), a && (t = t.replace(l, function (e) { return "&" + f[e] + ";" }))) : a ? (o || (t = t.replace(d, function (e) { return "&" + f[e] + ";" })), t = (t = t.replace(/&gt;\u20D2/g, "&nvgt;").replace(/&lt;\u20D2/g, "&nvlt;")).replace(l, function (e) { return "&" + f[e] + ";" })) : o || (t = t.replace(d, p)), t.replace(c, function (e) { var t = e.charCodeAt(0), r = e.charCodeAt(1); return i(1024 * (t - 55296) + r - 56320 + 65536) }).replace(u, p) }; R.options = { allowUnsafeSymbols: !1, encodeEverything: !1, strict: !1, useNamedReferences: !1, decimal: !1 }; var N = function e(t, r) { var n = (r = A(r, e.options)).strict; return n && m.test(t) && k("malformed character reference"), t.replace(v, function (e, t, a, o, i, c, s, u, l) { var f, d, p, m, h, v; return t ? g[h = t] : a ? (h = a, (v = o) && r.isAttributeValue ? (n && "=" == v && k("`&` did not start a character reference"), e) : (n && k("named character reference was not terminated by a semicolon"), b[h] + (v || ""))) : i ? (p = i, d = c, n && !d && k("character reference was not terminated by a semicolon"), f = parseInt(p, 10), C(f, n)) : s ? (m = s, d = u, n && !d && k("character reference was not terminated by a semicolon"), f = parseInt(m, 16), C(f, n)) : (n && k("named character reference was not terminated by a semicolon"), e) }) }; N.options = { isAttributeValue: !1, strict: !1 }; var L = { version: "1.2.0", encode: R, decode: N, escape: function (e) { return e.replace(d, function (e) { return p[e] }) }, unescape: N }; void 0 === (a = function () { return L }.call(t, r, t, e)) || (e.exports = a) }() }).call(this, r("./node_modules/webpack/buildin/module.js")(e), r("./node_modules/webpack/buildin/global.js")) }, "../../node_modules/immutable/dist/immutable.es.js": function (e, t, r) { "use strict"; r.r(t), r.d(t, "version", function () { return tn }), r.d(t, "Collection", function () { return b }), r.d(t, "Iterable", function () { return nn }), r.d(t, "Seq", function () { return U }), r.d(t, "Map", function () { return yt }), r.d(t, "OrderedMap", function () { return rr }), r.d(t, "List", function () { return Ht }), r.d(t, "Stack", function () { return cr }), r.d(t, "Set", function () { return gr }), r.d(t, "OrderedSet", function () { return Fr }), r.d(t, "Record", function () { return Kr }), r.d(t, "Range", function () { return Ar }), r.d(t, "Repeat", function () { return Qr }), r.d(t, "is", function () { return $ }), r.d(t, "fromJS", function () { return $r }), r.d(t, "hash", function () { return ne }), r.d(t, "isImmutable", function () { return A }), r.d(t, "isCollection", function () { return m }), r.d(t, "isKeyed", function () { return h }), r.d(t, "isIndexed", function () { return v }), r.d(t, "isAssociative", function () { return g }), r.d(t, "isOrdered", function () { return T }), r.d(t, "isValueObject", function () { return Q }), r.d(t, "get", function () { return qe }), r.d(t, "getIn", function () { return Cr }), r.d(t, "has", function () { return Ge }), r.d(t, "hasIn", function () { return jr }), r.d(t, "merge", function () { return ot }), r.d(t, "mergeDeep", function () { return ct }), r.d(t, "mergeWith", function () { return it }), r.d(t, "mergeDeepWith", function () { return st }), r.d(t, "remove", function () { return ze }), r.d(t, "removeIn", function () { return Ze }), r.d(t, "set", function () { return Ye }), r.d(t, "setIn", function () { return Xe }), r.d(t, "update", function () { return $e }), r.d(t, "updateIn", function () { return We }); var n = {}; function a(e) { e && (e.value = !0) } function o() { } function i(e) { return void 0 === e.size && (e.size = e.__iterate(s)), e.size } function c(e, t) { if ("number" != typeof t) { var r = t >>> 0; if ("" + r !== t || 4294967295 === r) return NaN; t = r } return t < 0 ? i(e) + t : t } function s() { return !0 } function u(e, t, r) { return (0 === e && !p(e) || void 0 !== r && e <= -r) && (void 0 === t || void 0 !== r && t >= r) } function l(e, t) { return d(e, t, 0) } function f(e, t) { return d(e, t, t) } function d(e, t, r) { return void 0 === e ? r : p(e) ? t === 1 / 0 ? t : 0 | Math.max(0, t + e) : void 0 === t || t === e ? e : 0 | Math.min(t, e) } function p(e) { return e < 0 || 0 === e && 1 / e == -1 / 0 } function m(e) { return Boolean(e && e["@@__IMMUTABLE_ITERABLE__@@"]) } function h(e) { return Boolean(e && e["@@__IMMUTABLE_KEYED__@@"]) } function v(e) { return Boolean(e && e["@@__IMMUTABLE_INDEXED__@@"]) } function g(e) { return h(e) || v(e) } var b = function (e) { return m(e) ? e : U(e) }, y = function (e) { function t(e) { return h(e) ? e : B(e) } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t }(b), E = function (e) { function t(e) { return v(e) ? e : F(e) } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t }(b), O = function (e) { function t(e) { return m(e) && !g(e) ? e : V(e) } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t }(b); function S(e) { return Boolean(e && e["@@__IMMUTABLE_SEQ__@@"]) } function w(e) { return Boolean(e && e["@@__IMMUTABLE_RECORD__@@"]) } function A(e) { return m(e) || w(e) } b.Keyed = y, b.Indexed = E, b.Set = O; var C = "@@__IMMUTABLE_ORDERED__@@"; function T(e) { return Boolean(e && e[C]) } var j = "function" == typeof Symbol && Symbol.iterator, k = j || "@@iterator", R = function (e) { this.next = e }; function N(e, t, r, n) { var a = 0 === e ? t : 1 === e ? r : [t, r]; return n ? n.value = a : n = { value: a, done: !1 }, n } function L() { return { value: void 0, done: !0 } } function _(e) { return !!x(e) } function I(e) { return e && "function" == typeof e.next } function M(e) { var t = x(e); return t && t.call(e) } function x(e) { var t = e && (j && e[j] || e["@@iterator"]); if ("function" == typeof t) return t } R.prototype.toString = function () { return "[Iterator]" }, R.KEYS = 0, R.VALUES = 1, R.ENTRIES = 2, R.prototype.inspect = R.prototype.toSource = function () { return this.toString() }, R.prototype[k] = function () { return this }; var D = Object.prototype.hasOwnProperty; function P(e) { return !(!Array.isArray(e) && "string" != typeof e) || e && "object" == typeof e && Number.isInteger(e.length) && e.length >= 0 && (0 === e.length ? 1 === Object.keys(e).length : e.hasOwnProperty(e.length - 1)) } var U = function (e) { function t(e) { return null == e ? z() : A(e) ? e.toSeq() : function (e) { var t = X(e); if (t) return t; if ("object" == typeof e) return new G(e); throw new TypeError("Expected Array or collection object of values, or keyed object: " + e) }(e) } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.prototype.toSeq = function () { return this }, t.prototype.toString = function () { return this.__toString("Seq {", "}") }, t.prototype.cacheResult = function () { return !this._cache && this.__iterateUncached && (this._cache = this.entrySeq().toArray(), this.size = this._cache.length), this }, t.prototype.__iterate = function (e, t) { var r = this._cache; if (r) { for (var n = r.length, a = 0; a !== n;) { var o = r[t ? n - ++a : a++]; if (!1 === e(o[1], o[0], this)) break } return a } return this.__iterateUncached(e, t) }, t.prototype.__iterator = function (e, t) { var r = this._cache; if (r) { var n = r.length, a = 0; return new R(function () { if (a === n) return { value: void 0, done: !0 }; var o = r[t ? n - ++a : a++]; return N(e, o[0], o[1]) }) } return this.__iteratorUncached(e, t) }, t }(b), B = function (e) { function t(e) { return null == e ? z().toKeyedSeq() : m(e) ? h(e) ? e.toSeq() : e.fromEntrySeq() : w(e) ? e.toSeq() : Y(e) } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.prototype.toKeyedSeq = function () { return this }, t }(U), F = function (e) { function t(e) { return null == e ? z() : m(e) ? h(e) ? e.entrySeq() : e.toIndexedSeq() : w(e) ? e.toSeq().entrySeq() : W(e) } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.of = function () { return t(arguments) }, t.prototype.toIndexedSeq = function () { return this }, t.prototype.toString = function () { return this.__toString("Seq [", "]") }, t }(U), V = function (e) { function t(e) { return (m(e) && !g(e) ? e : F(e)).toSetSeq() } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.of = function () { return t(arguments) }, t.prototype.toSetSeq = function () { return this }, t }(U); U.isSeq = S, U.Keyed = B, U.Set = V, U.Indexed = F, U.prototype["@@__IMMUTABLE_SEQ__@@"] = !0; var H = function (e) { function t(e) { this._array = e, this.size = e.length } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.prototype.get = function (e, t) { return this.has(e) ? this._array[c(this, e)] : t }, t.prototype.__iterate = function (e, t) { for (var r = this._array, n = r.length, a = 0; a !== n;) { var o = t ? n - ++a : a++; if (!1 === e(r[o], o, this)) break } return a }, t.prototype.__iterator = function (e, t) { var r = this._array, n = r.length, a = 0; return new R(function () { if (a === n) return { value: void 0, done: !0 }; var o = t ? n - ++a : a++; return N(e, o, r[o]) }) }, t }(F), G = function (e) { function t(e) { var t = Object.keys(e); this._object = e, this._keys = t, this.size = t.length } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.prototype.get = function (e, t) { return void 0 === t || this.has(e) ? this._object[e] : t }, t.prototype.has = function (e) { return D.call(this._object, e) }, t.prototype.__iterate = function (e, t) { for (var r = this._object, n = this._keys, a = n.length, o = 0; o !== a;) { var i = n[t ? a - ++o : o++]; if (!1 === e(r[i], i, this)) break } return o }, t.prototype.__iterator = function (e, t) { var r = this._object, n = this._keys, a = n.length, o = 0; return new R(function () { if (o === a) return { value: void 0, done: !0 }; var i = n[t ? a - ++o : o++]; return N(e, i, r[i]) }) }, t }(B); G.prototype[C] = !0; var q, K = function (e) { function t(e) { this._collection = e, this.size = e.length || e.size } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.prototype.__iterateUncached = function (e, t) { if (t) return this.cacheResult().__iterate(e, t); var r = M(this._collection), n = 0; if (I(r)) for (var a; !(a = r.next()).done && !1 !== e(a.value, n++, this);); return n }, t.prototype.__iteratorUncached = function (e, t) { if (t) return this.cacheResult().__iterator(e, t); var r = M(this._collection); if (!I(r)) return new R(L); var n = 0; return new R(function () { var t = r.next(); return t.done ? t : N(e, n++, t.value) }) }, t }(F); function z() { return q || (q = new H([])) } function Y(e) { var t = Array.isArray(e) ? new H(e) : _(e) ? new K(e) : void 0; if (t) return t.fromEntrySeq(); if ("object" == typeof e) return new G(e); throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: " + e) } function W(e) { var t = X(e); if (t) return t; throw new TypeError("Expected Array or collection object of values: " + e) } function X(e) { return P(e) ? new H(e) : _(e) ? new K(e) : void 0 } function J(e) { return Boolean(e && e["@@__IMMUTABLE_MAP__@@"]) } function Z(e) { return J(e) && T(e) } function Q(e) { return Boolean(e && "function" == typeof e.equals && "function" == typeof e.hashCode) } function $(e, t) { if (e === t || e != e && t != t) return !0; if (!e || !t) return !1; if ("function" == typeof e.valueOf && "function" == typeof t.valueOf) { if ((e = e.valueOf()) === (t = t.valueOf()) || e != e && t != t) return !0; if (!e || !t) return !1 } return !!(Q(e) && Q(t) && e.equals(t)) } var ee = "function" == typeof Math.imul && -2 === Math.imul(4294967295, 2) ? Math.imul : function (e, t) { var r = 65535 & (e |= 0), n = 65535 & (t |= 0); return r * n + ((e >>> 16) * n + r * (t >>> 16) << 16 >>> 0) | 0 }; function te(e) { return e >>> 1 & 1073741824 | 3221225471 & e } var re = Object.prototype.valueOf; function ne(e) { switch (typeof e) { case "boolean": return e ? 1108378657 : 1108378656; case "number": return function (e) { if (e != e || e === 1 / 0) return 0; var t = 0 | e; for (t !== e && (t ^= 4294967295 * e); e > 4294967295;)t ^= e /= 4294967295; return te(t) }(e); case "string": return e.length > fe ? (void 0 === (r = me[t = e]) && (r = ae(t), pe === de && (pe = 0, me = {}), pe++, me[t] = r), r) : ae(e); case "object": case "function": return null === e ? 1108378658 : "function" == typeof e.hashCode ? te(e.hashCode(e)) : (e.valueOf !== re && "function" == typeof e.valueOf && (e = e.valueOf(e)), function (e) { var t; if (se && void 0 !== (t = oe.get(e))) return t; if (void 0 !== (t = e[le])) return t; if (!ce) { if (void 0 !== (t = e.propertyIsEnumerable && e.propertyIsEnumerable[le])) return t; if (void 0 !== (t = function (e) { if (e && e.nodeType > 0) switch (e.nodeType) { case 1: return e.uniqueID; case 9: return e.documentElement && e.documentElement.uniqueID } }(e))) return t } if (t = ++ue, 1073741824 & ue && (ue = 0), se) oe.set(e, t); else { if (void 0 !== ie && !1 === ie(e)) throw new Error("Non-extensible objects are not allowed as keys."); if (ce) Object.defineProperty(e, le, { enumerable: !1, configurable: !1, writable: !1, value: t }); else if (void 0 !== e.propertyIsEnumerable && e.propertyIsEnumerable === e.constructor.prototype.propertyIsEnumerable) e.propertyIsEnumerable = function () { return this.constructor.prototype.propertyIsEnumerable.apply(this, arguments) }, e.propertyIsEnumerable[le] = t; else { if (void 0 === e.nodeType) throw new Error("Unable to set a non-enumerable property on object."); e[le] = t } } return t }(e)); case "undefined": return 1108378659; default: if ("function" == typeof e.toString) return ae(e.toString()); throw new Error("Value type " + typeof e + " cannot be hashed.") }var t, r } function ae(e) { for (var t = 0, r = 0; r < e.length; r++)t = 31 * t + e.charCodeAt(r) | 0; return te(t) } var oe, ie = Object.isExtensible, ce = function () { try { return Object.defineProperty({}, "@", {}), !0 } catch (e) { return !1 } }(), se = "function" == typeof WeakMap; se && (oe = new WeakMap); var ue = 0, le = "__immutablehash__"; "function" == typeof Symbol && (le = Symbol(le)); var fe = 16, de = 255, pe = 0, me = {}, he = function (e) { function t(e, t) { this._iter = e, this._useKeys = t, this.size = e.size } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.prototype.get = function (e, t) { return this._iter.get(e, t) }, t.prototype.has = function (e) { return this._iter.has(e) }, t.prototype.valueSeq = function () { return this._iter.valueSeq() }, t.prototype.reverse = function () { var e = this, t = Oe(this, !0); return this._useKeys || (t.valueSeq = function () { return e._iter.toSeq().reverse() }), t }, t.prototype.map = function (e, t) { var r = this, n = Ee(this, e, t); return this._useKeys || (n.valueSeq = function () { return r._iter.toSeq().map(e, t) }), n }, t.prototype.__iterate = function (e, t) { var r = this; return this._iter.__iterate(function (t, n) { return e(t, n, r) }, t) }, t.prototype.__iterator = function (e, t) { return this._iter.__iterator(e, t) }, t }(B); he.prototype[C] = !0; var ve = function (e) { function t(e) { this._iter = e, this.size = e.size } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.prototype.includes = function (e) { return this._iter.includes(e) }, t.prototype.__iterate = function (e, t) { var r = this, n = 0; return t && i(this), this._iter.__iterate(function (a) { return e(a, t ? r.size - ++n : n++, r) }, t) }, t.prototype.__iterator = function (e, t) { var r = this, n = this._iter.__iterator(1, t), a = 0; return t && i(this), new R(function () { var o = n.next(); return o.done ? o : N(e, t ? r.size - ++a : a++, o.value, o) }) }, t }(F), ge = function (e) { function t(e) { this._iter = e, this.size = e.size } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.prototype.has = function (e) { return this._iter.includes(e) }, t.prototype.__iterate = function (e, t) { var r = this; return this._iter.__iterate(function (t) { return e(t, t, r) }, t) }, t.prototype.__iterator = function (e, t) { var r = this._iter.__iterator(1, t); return new R(function () { var t = r.next(); return t.done ? t : N(e, t.value, t.value, t) }) }, t }(V), be = function (e) { function t(e) { this._iter = e, this.size = e.size } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.prototype.entrySeq = function () { return this._iter.toSeq() }, t.prototype.__iterate = function (e, t) { var r = this; return this._iter.__iterate(function (t) { if (t) { Le(t); var n = m(t); return e(n ? t.get(1) : t[1], n ? t.get(0) : t[0], r) } }, t) }, t.prototype.__iterator = function (e, t) { var r = this._iter.__iterator(1, t); return new R(function () { for (; ;) { var t = r.next(); if (t.done) return t; var n = t.value; if (n) { Le(n); var a = m(n); return N(e, a ? n.get(0) : n[0], a ? n.get(1) : n[1], t) } } }) }, t }(B); function ye(e) { var t = Ie(e); return t._iter = e, t.size = e.size, t.flip = function () { return e }, t.reverse = function () { var t = e.reverse.apply(this); return t.flip = function () { return e.reverse() }, t }, t.has = function (t) { return e.includes(t) }, t.includes = function (t) { return e.has(t) }, t.cacheResult = Me, t.__iterateUncached = function (t, r) { var n = this; return e.__iterate(function (e, r) { return !1 !== t(r, e, n) }, r) }, t.__iteratorUncached = function (t, r) { if (2 === t) { var n = e.__iterator(t, r); return new R(function () { var e = n.next(); if (!e.done) { var t = e.value[0]; e.value[0] = e.value[1], e.value[1] = t } return e }) } return e.__iterator(1 === t ? 0 : 1, r) }, t } function Ee(e, t, r) { var a = Ie(e); return a.size = e.size, a.has = function (t) { return e.has(t) }, a.get = function (a, o) { var i = e.get(a, n); return i === n ? o : t.call(r, i, a, e) }, a.__iterateUncached = function (n, a) { var o = this; return e.__iterate(function (e, a, i) { return !1 !== n(t.call(r, e, a, i), a, o) }, a) }, a.__iteratorUncached = function (n, a) { var o = e.__iterator(2, a); return new R(function () { var a = o.next(); if (a.done) return a; var i = a.value, c = i[0]; return N(n, c, t.call(r, i[1], c, e), a) }) }, a } function Oe(e, t) { var r = this, n = Ie(e); return n._iter = e, n.size = e.size, n.reverse = function () { return e }, e.flip && (n.flip = function () { var t = ye(e); return t.reverse = function () { return e.flip() }, t }), n.get = function (r, n) { return e.get(t ? r : -1 - r, n) }, n.has = function (r) { return e.has(t ? r : -1 - r) }, n.includes = function (t) { return e.includes(t) }, n.cacheResult = Me, n.__iterate = function (r, n) { var a = this, o = 0; return n && i(e), e.__iterate(function (e, i) { return r(e, t ? i : n ? a.size - ++o : o++, a) }, !n) }, n.__iterator = function (n, a) { var o = 0; a && i(e); var c = e.__iterator(2, !a); return new R(function () { var e = c.next(); if (e.done) return e; var i = e.value; return N(n, t ? i[0] : a ? r.size - ++o : o++, i[1], e) }) }, n } function Se(e, t, r, a) { var o = Ie(e); return a && (o.has = function (a) { var o = e.get(a, n); return o !== n && !!t.call(r, o, a, e) }, o.get = function (a, o) { var i = e.get(a, n); return i !== n && t.call(r, i, a, e) ? i : o }), o.__iterateUncached = function (n, o) { var i = this, c = 0; return e.__iterate(function (e, o, s) { if (t.call(r, e, o, s)) return c++, n(e, a ? o : c - 1, i) }, o), c }, o.__iteratorUncached = function (n, o) { var i = e.__iterator(2, o), c = 0; return new R(function () { for (; ;) { var o = i.next(); if (o.done) return o; var s = o.value, u = s[0], l = s[1]; if (t.call(r, l, u, e)) return N(n, a ? u : c++, l, o) } }) }, o } function we(e, t, r, n) { var a = e.size; if (u(t, r, a)) return e; var o = l(t, a), i = f(r, a); if (o != o || i != i) return we(e.toSeq().cacheResult(), t, r, n); var s, d = i - o; d == d && (s = d < 0 ? 0 : d); var p = Ie(e); return p.size = 0 === s ? s : e.size && s || void 0, !n && S(e) && s >= 0 && (p.get = function (t, r) { return (t = c(this, t)) >= 0 && t < s ? e.get(t + o, r) : r }), p.__iterateUncached = function (t, r) { var a = this; if (0 === s) return 0; if (r) return this.cacheResult().__iterate(t, r); var i = 0, c = !0, u = 0; return e.__iterate(function (e, r) { if (!c || !(c = i++ < o)) return u++, !1 !== t(e, n ? r : u - 1, a) && u !== s }), u }, p.__iteratorUncached = function (t, r) { if (0 !== s && r) return this.cacheResult().__iterator(t, r); if (0 === s) return new R(L); var a = e.__iterator(t, r), i = 0, c = 0; return new R(function () { for (; i++ < o;)a.next(); if (++c > s) return { value: void 0, done: !0 }; var e = a.next(); return n || 1 === t || e.done ? e : N(t, c - 1, 0 === t ? void 0 : e.value[1], e) }) }, p } function Ae(e, t, r, n) { var a = Ie(e); return a.__iterateUncached = function (a, o) { var i = this; if (o) return this.cacheResult().__iterate(a, o); var c = !0, s = 0; return e.__iterate(function (e, o, u) { if (!c || !(c = t.call(r, e, o, u))) return s++, a(e, n ? o : s - 1, i) }), s }, a.__iteratorUncached = function (a, o) { var i = this; if (o) return this.cacheResult().__iterator(a, o); var c = e.__iterator(2, o), s = !0, u = 0; return new R(function () { var e, o, l; do { if ((e = c.next()).done) return n || 1 === a ? e : N(a, u++, 0 === a ? void 0 : e.value[1], e); var f = e.value; o = f[0], l = f[1], s && (s = t.call(r, l, o, i)) } while (s); return 2 === a ? e : N(a, o, l, e) }) }, a } function Ce(e, t, r) { var n = Ie(e); return n.__iterateUncached = function (a, o) { if (o) return this.cacheResult().__iterate(a, o); var i = 0, c = !1; return function e(s, u) { s.__iterate(function (o, s) { return (!t || u < t) && m(o) ? e(o, u + 1) : (i++, !1 === a(o, r ? s : i - 1, n) && (c = !0)), !c }, o) }(e, 0), i }, n.__iteratorUncached = function (n, a) { if (a) return this.cacheResult().__iterator(n, a); var o = e.__iterator(n, a), i = [], c = 0; return new R(function () { for (; o;) { var e = o.next(); if (!1 === e.done) { var s = e.value; if (2 === n && (s = s[1]), t && !(i.length < t) || !m(s)) return r ? e : N(n, c++, s, e); i.push(o), o = s.__iterator(n, a) } else o = i.pop() } return { value: void 0, done: !0 } }) }, n } function Te(e, t, r) { t || (t = xe); var n = h(e), a = 0, o = e.toSeq().map(function (t, n) { return [n, t, a++, r ? r(t, n, e) : t] }).valueSeq().toArray(); return o.sort(function (e, r) { return t(e[3], r[3]) || e[2] - r[2] }).forEach(n ? function (e, t) { o[t].length = 2 } : function (e, t) { o[t] = e[1] }), n ? B(o) : v(e) ? F(o) : V(o) } function je(e, t, r) { if (t || (t = xe), r) { var n = e.toSeq().map(function (t, n) { return [t, r(t, n, e)] }).reduce(function (e, r) { return ke(t, e[1], r[1]) ? r : e }); return n && n[0] } return e.reduce(function (e, r) { return ke(t, e, r) ? r : e }) } function ke(e, t, r) { var n = e(r, t); return 0 === n && r !== t && (null == r || r != r) || n > 0 } function Re(e, t, r, n) { var a = Ie(e), o = new H(r).map(function (e) { return e.size }); return a.size = n ? o.max() : o.min(), a.__iterate = function (e, t) { for (var r, n = this.__iterator(1, t), a = 0; !(r = n.next()).done && !1 !== e(r.value, a++, this);); return a }, a.__iteratorUncached = function (e, a) { var o = r.map(function (e) { return e = b(e), M(a ? e.reverse() : e) }), i = 0, c = !1; return new R(function () { var r; return c || (r = o.map(function (e) { return e.next() }), c = n ? r.every(function (e) { return e.done }) : r.some(function (e) { return e.done })), c ? { value: void 0, done: !0 } : N(e, i++, t.apply(null, r.map(function (e) { return e.value }))) }) }, a } function Ne(e, t) { return e === t ? e : S(e) ? t : e.constructor(t) } function Le(e) { if (e !== Object(e)) throw new TypeError("Expected [K, V] tuple: " + e) } function _e(e) { return h(e) ? y : v(e) ? E : O } function Ie(e) { return Object.create((h(e) ? B : v(e) ? F : V).prototype) } function Me() { return this._iter.cacheResult ? (this._iter.cacheResult(), this.size = this._iter.size, this) : U.prototype.cacheResult.call(this) } function xe(e, t) { return void 0 === e && void 0 === t ? 0 : void 0 === e ? 1 : void 0 === t ? -1 : e > t ? 1 : e < t ? -1 : 0 } function De(e, t) { t = t || 0; for (var r = Math.max(0, e.length - t), n = new Array(r), a = 0; a < r; a++)n[a] = e[a + t]; return n } function Pe(e, t) { if (!e) throw new Error(t) } function Ue(e) { Pe(e !== 1 / 0, "Cannot perform this action with an infinite size.") } function Be(e) { if (P(e) && "string" != typeof e) return e; if (T(e)) return e.toArray(); throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: " + e) } function Fe(e) { return e && ("function" != typeof e.constructor || "Object" === e.constructor.name) } function Ve(e) { return "object" == typeof e && (A(e) || Array.isArray(e) || Fe(e)) } function He(e) { try { return "string" == typeof e ? JSON.stringify(e) : String(e) } catch (t) { return JSON.stringify(e) } } function Ge(e, t) { return A(e) ? e.has(t) : Ve(e) && D.call(e, t) } function qe(e, t, r) { return A(e) ? e.get(t, r) : Ge(e, t) ? "function" == typeof e.get ? e.get(t) : e[t] : r } function Ke(e) { if (Array.isArray(e)) return De(e); var t = {}; for (var r in e) D.call(e, r) && (t[r] = e[r]); return t } function ze(e, t) { if (!Ve(e)) throw new TypeError("Cannot update non-data-structure value: " + e); if (A(e)) { if (!e.remove) throw new TypeError("Cannot update immutable value without .remove() method: " + e); return e.remove(t) } if (!D.call(e, t)) return e; var r = Ke(e); return Array.isArray(r) ? r.splice(t, 1) : delete r[t], r } function Ye(e, t, r) { if (!Ve(e)) throw new TypeError("Cannot update non-data-structure value: " + e); if (A(e)) { if (!e.set) throw new TypeError("Cannot update immutable value without .set() method: " + e); return e.set(t, r) } if (D.call(e, t) && r === e[t]) return e; var n = Ke(e); return n[t] = r, n } function We(e, t, r, a) { a || (a = r, r = void 0); var o = function e(t, r, a, o, i, c) { var s = r === n; if (o === a.length) { var u = s ? i : r, l = c(u); return l === u ? r : l } if (!s && !Ve(r)) throw new TypeError("Cannot update within non-data-structure value in path [" + a.slice(0, o).map(He) + "]: " + r); var f = a[o], d = s ? n : qe(r, f, n), p = e(d === n ? t : A(d), d, a, o + 1, i, c); return p === d ? r : p === n ? ze(r, f) : Ye(s ? t ? Lt() : {} : r, f, p) }(A(e), e, Be(t), 0, r, a); return o === n ? r : o } function Xe(e, t, r) { return We(e, t, n, function () { return r }) } function Je(e, t) { return Xe(this, e, t) } function Ze(e, t) { return We(e, t, function () { return n }) } function Qe(e) { return Ze(this, e) } function $e(e, t, r, n) { return We(e, [t], r, n) } function et(e, t, r) { return 1 === arguments.length ? e(this) : $e(this, e, t, r) } function tt(e, t, r) { return We(this, e, t, r) } function rt() { for (var e = [], t = arguments.length; t--;)e[t] = arguments[t]; return at(this, e) } function nt(e) { for (var t = [], r = arguments.length - 1; r-- > 0;)t[r] = arguments[r + 1]; if ("function" != typeof e) throw new TypeError("Invalid merger function: " + e); return at(this, t, e) } function at(e, t, r) { for (var a = [], o = 0; o < t.length; o++) { var i = y(t[o]); 0 !== i.size && a.push(i) } return 0 === a.length ? e : 0 !== e.toSeq().size || e.__ownerID || 1 !== a.length ? e.withMutations(function (e) { for (var t = r ? function (t, a) { $e(e, a, n, function (e) { return e === n ? t : r(e, t, a) }) } : function (t, r) { e.set(r, t) }, o = 0; o < a.length; o++)a[o].forEach(t) }) : e.constructor(a[0]) } function ot(e) { for (var t = [], r = arguments.length - 1; r-- > 0;)t[r] = arguments[r + 1]; return lt(e, t) } function it(e, t) { for (var r = [], n = arguments.length - 2; n-- > 0;)r[n] = arguments[n + 2]; return lt(t, r, e) } function ct(e) { for (var t = [], r = arguments.length - 1; r-- > 0;)t[r] = arguments[r + 1]; return ut(e, t) } function st(e, t) { for (var r = [], n = arguments.length - 2; n-- > 0;)r[n] = arguments[n + 2]; return ut(t, r, e) } function ut(e, t, r) { return lt(e, t, function (e) { return function t(r, n, a) { return Ve(r) && Ve(n) ? lt(r, [n], t) : e ? e(r, n, a) : n } }(r)) } function lt(e, t, r) { if (!Ve(e)) throw new TypeError("Cannot merge into non-data-structure value: " + e); if (A(e)) return "function" == typeof r && e.mergeWith ? e.mergeWith.apply(e, [r].concat(t)) : e.merge ? e.merge.apply(e, t) : e.concat.apply(e, t); for (var n = Array.isArray(e), a = e, o = n ? E : y, i = n ? function (t) { a === e && (a = Ke(a)), a.push(t) } : function (t, n) { var o = D.call(a, n), i = o && r ? r(a[n], t, n) : t; o && i === a[n] || (a === e && (a = Ke(a)), a[n] = i) }, c = 0; c < t.length; c++)o(t[c]).forEach(i); return a } function ft() { for (var e = [], t = arguments.length; t--;)e[t] = arguments[t]; return ut(this, e) } function dt(e) { for (var t = [], r = arguments.length - 1; r-- > 0;)t[r] = arguments[r + 1]; return ut(this, t, e) } function pt(e) { for (var t = [], r = arguments.length - 1; r-- > 0;)t[r] = arguments[r + 1]; return We(this, e, Lt(), function (e) { return lt(e, t) }) } function mt(e) { for (var t = [], r = arguments.length - 1; r-- > 0;)t[r] = arguments[r + 1]; return We(this, e, Lt(), function (e) { return ut(e, t) }) } function ht(e) { var t = this.asMutable(); return e(t), t.wasAltered() ? t.__ensureOwner(this.__ownerID) : this } function vt() { return this.__ownerID ? this : this.__ensureOwner(new o) } function gt() { return this.__ensureOwner() } function bt() { return this.__altered } ve.prototype.cacheResult = he.prototype.cacheResult = ge.prototype.cacheResult = be.prototype.cacheResult = Me; var yt = function (e) { function t(t) { return null == t ? Lt() : J(t) && !T(t) ? t : Lt().withMutations(function (r) { var n = e(t); Ue(n.size), n.forEach(function (e, t) { return r.set(t, e) }) }) } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.of = function () { for (var e = [], t = arguments.length; t--;)e[t] = arguments[t]; return Lt().withMutations(function (t) { for (var r = 0; r < e.length; r += 2) { if (r + 1 >= e.length) throw new Error("Missing value for key: " + e[r]); t.set(e[r], e[r + 1]) } }) }, t.prototype.toString = function () { return this.__toString("Map {", "}") }, t.prototype.get = function (e, t) { return this._root ? this._root.get(0, void 0, e, t) : t }, t.prototype.set = function (e, t) { return _t(this, e, t) }, t.prototype.remove = function (e) { return _t(this, e, n) }, t.prototype.deleteAll = function (e) { var t = b(e); return 0 === t.size ? this : this.withMutations(function (e) { t.forEach(function (t) { return e.remove(t) }) }) }, t.prototype.clear = function () { return 0 === this.size ? this : this.__ownerID ? (this.size = 0, this._root = null, this.__hash = void 0, this.__altered = !0, this) : Lt() }, t.prototype.sort = function (e) { return rr(Te(this, e)) }, t.prototype.sortBy = function (e, t) { return rr(Te(this, t, e)) }, t.prototype.map = function (e, t) { return this.withMutations(function (r) { r.forEach(function (n, a) { r.set(a, e.call(t, n, a, r)) }) }) }, t.prototype.__iterator = function (e, t) { return new jt(this, e, t) }, t.prototype.__iterate = function (e, t) { var r = this, n = 0; return this._root && this._root.iterate(function (t) { return n++, e(t[1], t[0], r) }, t), n }, t.prototype.__ensureOwner = function (e) { return e === this.__ownerID ? this : e ? Nt(this.size, this._root, e, this.__hash) : 0 === this.size ? Lt() : (this.__ownerID = e, this.__altered = !1, this) }, t }(y); yt.isMap = J; var Et = yt.prototype; Et["@@__IMMUTABLE_MAP__@@"] = !0, Et.delete = Et.remove, Et.removeAll = Et.deleteAll, Et.setIn = Je, Et.removeIn = Et.deleteIn = Qe, Et.update = et, Et.updateIn = tt, Et.merge = Et.concat = rt, Et.mergeWith = nt, Et.mergeDeep = ft, Et.mergeDeepWith = dt, Et.mergeIn = pt, Et.mergeDeepIn = mt, Et.withMutations = ht, Et.wasAltered = bt, Et.asImmutable = gt, Et["@@transducer/init"] = Et.asMutable = vt, Et["@@transducer/step"] = function (e, t) { return e.set(t[0], t[1]) }, Et["@@transducer/result"] = function (e) { return e.asImmutable() }; var Ot = function (e, t) { this.ownerID = e, this.entries = t }; Ot.prototype.get = function (e, t, r, n) { for (var a = this.entries, o = 0, i = a.length; o < i; o++)if ($(r, a[o][0])) return a[o][1]; return n }, Ot.prototype.update = function (e, t, r, i, c, s, u) { for (var l = c === n, f = this.entries, d = 0, p = f.length; d < p && !$(i, f[d][0]); d++); var m = d < p; if (m ? f[d][1] === c : l) return this; if (a(u), (l || !m) && a(s), !l || 1 !== f.length) { if (!m && !l && f.length >= Ut) return function (e, t, r, n) { e || (e = new o); for (var a = new Ct(e, ne(r), [r, n]), i = 0; i < t.length; i++) { var c = t[i]; a = a.update(e, 0, void 0, c[0], c[1]) } return a }(e, f, i, c); var h = e && e === this.ownerID, v = h ? f : De(f); return m ? l ? d === p - 1 ? v.pop() : v[d] = v.pop() : v[d] = [i, c] : v.push([i, c]), h ? (this.entries = v, this) : new Ot(e, v) } }; var St = function (e, t, r) { this.ownerID = e, this.bitmap = t, this.nodes = r }; St.prototype.get = function (e, t, r, n) { void 0 === t && (t = ne(r)); var a = 1 << (31 & (0 === e ? t : t >>> e)), o = this.bitmap; return 0 == (o & a) ? n : this.nodes[Dt(o & a - 1)].get(e + 5, t, r, n) }, St.prototype.update = function (e, t, r, a, o, i, c) { void 0 === r && (r = ne(a)); var s = 31 & (0 === t ? r : r >>> t), u = 1 << s, l = this.bitmap, f = 0 != (l & u); if (!f && o === n) return this; var d = Dt(l & u - 1), p = this.nodes, m = f ? p[d] : void 0, h = It(m, e, t + 5, r, a, o, i, c); if (h === m) return this; if (!f && h && p.length >= Bt) return function (e, t, r, n, a) { for (var o = 0, i = new Array(32), c = 0; 0 !== r; c++, r >>>= 1)i[c] = 1 & r ? t[o++] : void 0; return i[n] = a, new wt(e, o + 1, i) }(e, p, l, s, h); if (f && !h && 2 === p.length && Mt(p[1 ^ d])) return p[1 ^ d]; if (f && h && 1 === p.length && Mt(h)) return h; var v = e && e === this.ownerID, g = f ? h ? l : l ^ u : l | u, b = f ? h ? Pt(p, d, h, v) : function (e, t, r) { var n = e.length - 1; if (r && t === n) return e.pop(), e; for (var a = new Array(n), o = 0, i = 0; i < n; i++)i === t && (o = 1), a[i] = e[i + o]; return a }(p, d, v) : function (e, t, r, n) { var a = e.length + 1; if (n && t + 1 === a) return e[t] = r, e; for (var o = new Array(a), i = 0, c = 0; c < a; c++)c === t ? (o[c] = r, i = -1) : o[c] = e[c + i]; return o }(p, d, h, v); return v ? (this.bitmap = g, this.nodes = b, this) : new St(e, g, b) }; var wt = function (e, t, r) { this.ownerID = e, this.count = t, this.nodes = r }; wt.prototype.get = function (e, t, r, n) { void 0 === t && (t = ne(r)); var a = 31 & (0 === e ? t : t >>> e), o = this.nodes[a]; return o ? o.get(e + 5, t, r, n) : n }, wt.prototype.update = function (e, t, r, a, o, i, c) { void 0 === r && (r = ne(a)); var s = 31 & (0 === t ? r : r >>> t), u = o === n, l = this.nodes, f = l[s]; if (u && !f) return this; var d = It(f, e, t + 5, r, a, o, i, c); if (d === f) return this; var p = this.count; if (f) { if (!d && --p < Ft) return function (e, t, r, n) { for (var a = 0, o = 0, i = new Array(r), c = 0, s = 1, u = t.length; c < u; c++, s <<= 1) { var l = t[c]; void 0 !== l && c !== n && (a |= s, i[o++] = l) } return new St(e, a, i) }(e, l, p, s) } else p++; var m = e && e === this.ownerID, h = Pt(l, s, d, m); return m ? (this.count = p, this.nodes = h, this) : new wt(e, p, h) }; var At = function (e, t, r) { this.ownerID = e, this.keyHash = t, this.entries = r }; At.prototype.get = function (e, t, r, n) { for (var a = this.entries, o = 0, i = a.length; o < i; o++)if ($(r, a[o][0])) return a[o][1]; return n }, At.prototype.update = function (e, t, r, o, i, c, s) { void 0 === r && (r = ne(o)); var u = i === n; if (r !== this.keyHash) return u ? this : (a(s), a(c), xt(this, e, t, r, [o, i])); for (var l = this.entries, f = 0, d = l.length; f < d && !$(o, l[f][0]); f++); var p = f < d; if (p ? l[f][1] === i : u) return this; if (a(s), (u || !p) && a(c), u && 2 === d) return new Ct(e, this.keyHash, l[1 ^ f]); var m = e && e === this.ownerID, h = m ? l : De(l); return p ? u ? f === d - 1 ? h.pop() : h[f] = h.pop() : h[f] = [o, i] : h.push([o, i]), m ? (this.entries = h, this) : new At(e, this.keyHash, h) }; var Ct = function (e, t, r) { this.ownerID = e, this.keyHash = t, this.entry = r }; Ct.prototype.get = function (e, t, r, n) { return $(r, this.entry[0]) ? this.entry[1] : n }, Ct.prototype.update = function (e, t, r, o, i, c, s) { var u = i === n, l = $(o, this.entry[0]); return (l ? i === this.entry[1] : u) ? this : (a(s), u ? void a(c) : l ? e && e === this.ownerID ? (this.entry[1] = i, this) : new Ct(e, this.keyHash, [o, i]) : (a(c), xt(this, e, t, ne(o), [o, i]))) }, Ot.prototype.iterate = At.prototype.iterate = function (e, t) { for (var r = this.entries, n = 0, a = r.length - 1; n <= a; n++)if (!1 === e(r[t ? a - n : n])) return !1 }, St.prototype.iterate = wt.prototype.iterate = function (e, t) { for (var r = this.nodes, n = 0, a = r.length - 1; n <= a; n++) { var o = r[t ? a - n : n]; if (o && !1 === o.iterate(e, t)) return !1 } }, Ct.prototype.iterate = function (e, t) { return e(this.entry) }; var Tt, jt = function (e) { function t(e, t, r) { this._type = t, this._reverse = r, this._stack = e._root && Rt(e._root) } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.prototype.next = function () { for (var e = this._type, t = this._stack; t;) { var r = t.node, n = t.index++, a = void 0; if (r.entry) { if (0 === n) return kt(e, r.entry) } else if (r.entries) { if (n <= (a = r.entries.length - 1)) return kt(e, r.entries[this._reverse ? a - n : n]) } else if (n <= (a = r.nodes.length - 1)) { var o = r.nodes[this._reverse ? a - n : n]; if (o) { if (o.entry) return kt(e, o.entry); t = this._stack = Rt(o, t) } continue } t = this._stack = this._stack.__prev } return { value: void 0, done: !0 } }, t }(R); function kt(e, t) { return N(e, t[0], t[1]) } function Rt(e, t) { return { node: e, index: 0, __prev: t } } function Nt(e, t, r, n) { var a = Object.create(Et); return a.size = e, a._root = t, a.__ownerID = r, a.__hash = n, a.__altered = !1, a } function Lt() { return Tt || (Tt = Nt(0)) } function _t(e, t, r) { var a, o; if (e._root) { var i = { value: !1 }, c = { value: !1 }; if (a = It(e._root, e.__ownerID, 0, void 0, t, r, i, c), !c.value) return e; o = e.size + (i.value ? r === n ? -1 : 1 : 0) } else { if (r === n) return e; o = 1, a = new Ot(e.__ownerID, [[t, r]]) } return e.__ownerID ? (e.size = o, e._root = a, e.__hash = void 0, e.__altered = !0, e) : a ? Nt(o, a) : Lt() } function It(e, t, r, o, i, c, s, u) { return e ? e.update(t, r, o, i, c, s, u) : c === n ? e : (a(u), a(s), new Ct(t, o, [i, c])) } function Mt(e) { return e.constructor === Ct || e.constructor === At } function xt(e, t, r, n, a) { if (e.keyHash === n) return new At(t, n, [e.entry, a]); var o, i = 31 & (0 === r ? e.keyHash : e.keyHash >>> r), c = 31 & (0 === r ? n : n >>> r), s = i === c ? [xt(e, t, r + 5, n, a)] : (o = new Ct(t, n, a), i < c ? [e, o] : [o, e]); return new St(t, 1 << i | 1 << c, s) } function Dt(e) { return e = (e = (858993459 & (e -= e >> 1 & 1431655765)) + (e >> 2 & 858993459)) + (e >> 4) & 252645135, e += e >> 8, 127 & (e += e >> 16) } function Pt(e, t, r, n) { var a = n ? e : De(e); return a[t] = r, a } var Ut = 8, Bt = 16, Ft = 8; function Vt(e) { return Boolean(e && e["@@__IMMUTABLE_LIST__@@"]) } var Ht = function (e) { function t(t) { var r = Xt(); if (null == t) return r; if (Vt(t)) return t; var n = e(t), a = n.size; return 0 === a ? r : (Ue(a), a > 0 && a < 32 ? Wt(0, a, 5, null, new qt(n.toArray())) : r.withMutations(function (e) { e.setSize(a), n.forEach(function (t, r) { return e.set(r, t) }) })) } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.of = function () { return this(arguments) }, t.prototype.toString = function () { return this.__toString("List [", "]") }, t.prototype.get = function (e, t) { if ((e = c(this, e)) >= 0 && e < this.size) { var r = Qt(this, e += this._origin); return r && r.array[31 & e] } return t }, t.prototype.set = function (e, t) { return function (e, t, r) { if ((t = c(e, t)) != t) return e; if (t >= e.size || t < 0) return e.withMutations(function (e) { t < 0 ? $t(e, t).set(0, r) : $t(e, 0, t + 1).set(t, r) }); t += e._origin; var n = e._tail, a = e._root, o = { value: !1 }; return t >= er(e._capacity) ? n = Jt(n, e.__ownerID, 0, t, r, o) : a = Jt(a, e.__ownerID, e._level, t, r, o), o.value ? e.__ownerID ? (e._root = a, e._tail = n, e.__hash = void 0, e.__altered = !0, e) : Wt(e._origin, e._capacity, e._level, a, n) : e }(this, e, t) }, t.prototype.remove = function (e) { return this.has(e) ? 0 === e ? this.shift() : e === this.size - 1 ? this.pop() : this.splice(e, 1) : this }, t.prototype.insert = function (e, t) { return this.splice(e, 0, t) }, t.prototype.clear = function () { return 0 === this.size ? this : this.__ownerID ? (this.size = this._origin = this._capacity = 0, this._level = 5, this._root = this._tail = null, this.__hash = void 0, this.__altered = !0, this) : Xt() }, t.prototype.push = function () { var e = arguments, t = this.size; return this.withMutations(function (r) { $t(r, 0, t + e.length); for (var n = 0; n < e.length; n++)r.set(t + n, e[n]) }) }, t.prototype.pop = function () { return $t(this, 0, -1) }, t.prototype.unshift = function () { var e = arguments; return this.withMutations(function (t) { $t(t, -e.length); for (var r = 0; r < e.length; r++)t.set(r, e[r]) }) }, t.prototype.shift = function () { return $t(this, 1) }, t.prototype.concat = function () { for (var t = arguments, r = [], n = 0; n < arguments.length; n++) { var a = t[n], o = e("string" != typeof a && _(a) ? a : [a]); 0 !== o.size && r.push(o) } return 0 === r.length ? this : 0 !== this.size || this.__ownerID || 1 !== r.length ? this.withMutations(function (e) { r.forEach(function (t) { return t.forEach(function (t) { return e.push(t) }) }) }) : this.constructor(r[0]) }, t.prototype.setSize = function (e) { return $t(this, 0, e) }, t.prototype.map = function (e, t) { var r = this; return this.withMutations(function (n) { for (var a = 0; a < r.size; a++)n.set(a, e.call(t, n.get(a), a, n)) }) }, t.prototype.slice = function (e, t) { var r = this.size; return u(e, t, r) ? this : $t(this, l(e, r), f(t, r)) }, t.prototype.__iterator = function (e, t) { var r = t ? this.size : 0, n = Yt(this, t); return new R(function () { var a = n(); return a === zt ? { value: void 0, done: !0 } : N(e, t ? --r : r++, a) }) }, t.prototype.__iterate = function (e, t) { for (var r, n = t ? this.size : 0, a = Yt(this, t); (r = a()) !== zt && !1 !== e(r, t ? --n : n++, this);); return n }, t.prototype.__ensureOwner = function (e) { return e === this.__ownerID ? this : e ? Wt(this._origin, this._capacity, this._level, this._root, this._tail, e, this.__hash) : 0 === this.size ? Xt() : (this.__ownerID = e, this.__altered = !1, this) }, t }(E); Ht.isList = Vt; var Gt = Ht.prototype; Gt["@@__IMMUTABLE_LIST__@@"] = !0, Gt.delete = Gt.remove, Gt.merge = Gt.concat, Gt.setIn = Je, Gt.deleteIn = Gt.removeIn = Qe, Gt.update = et, Gt.updateIn = tt, Gt.mergeIn = pt, Gt.mergeDeepIn = mt, Gt.withMutations = ht, Gt.wasAltered = bt, Gt.asImmutable = gt, Gt["@@transducer/init"] = Gt.asMutable = vt, Gt["@@transducer/step"] = function (e, t) { return e.push(t) }, Gt["@@transducer/result"] = function (e) { return e.asImmutable() }; var qt = function (e, t) { this.array = e, this.ownerID = t }; qt.prototype.removeBefore = function (e, t, r) { if (r === t ? 1 << t : 0 === this.array.length) return this; var n = r >>> t & 31; if (n >= this.array.length) return new qt([], e); var a, o = 0 === n; if (t > 0) { var i = this.array[n]; if ((a = i && i.removeBefore(e, t - 5, r)) === i && o) return this } if (o && !a) return this; var c = Zt(this, e); if (!o) for (var s = 0; s < n; s++)c.array[s] = void 0; return a && (c.array[n] = a), c }, qt.prototype.removeAfter = function (e, t, r) { if (r === (t ? 1 << t : 0) || 0 === this.array.length) return this; var n, a = r - 1 >>> t & 31; if (a >= this.array.length) return this; if (t > 0) { var o = this.array[a]; if ((n = o && o.removeAfter(e, t - 5, r)) === o && a === this.array.length - 1) return this } var i = Zt(this, e); return i.array.splice(a + 1), n && (i.array[a] = n), i }; var Kt, zt = {}; function Yt(e, t) { var r = e._origin, n = e._capacity, a = er(n), o = e._tail; return function e(i, c, s) { return 0 === c ? function (e, i) { var c = i === a ? o && o.array : e && e.array, s = i > r ? 0 : r - i, u = n - i; return u > 32 && (u = 32), function () { if (s === u) return zt; var e = t ? --u : s++; return c && c[e] } }(i, s) : function (a, o, i) { var c, s = a && a.array, u = i > r ? 0 : r - i >> o, l = 1 + (n - i >> o); return l > 32 && (l = 32), function () { for (; ;) { if (c) { var r = c(); if (r !== zt) return r; c = null } if (u === l) return zt; var n = t ? --l : u++; c = e(s && s[n], o - 5, i + (n << o)) } } }(i, c, s) }(e._root, e._level, 0) } function Wt(e, t, r, n, a, o, i) { var c = Object.create(Gt); return c.size = t - e, c._origin = e, c._capacity = t, c._level = r, c._root = n, c._tail = a, c.__ownerID = o, c.__hash = i, c.__altered = !1, c } function Xt() { return Kt || (Kt = Wt(0, 0, 5)) } function Jt(e, t, r, n, o, i) { var c, s = n >>> r & 31, u = e && s < e.array.length; if (!u && void 0 === o) return e; if (r > 0) { var l = e && e.array[s], f = Jt(l, t, r - 5, n, o, i); return f === l ? e : ((c = Zt(e, t)).array[s] = f, c) } return u && e.array[s] === o ? e : (i && a(i), c = Zt(e, t), void 0 === o && s === c.array.length - 1 ? c.array.pop() : c.array[s] = o, c) } function Zt(e, t) { return t && e && t === e.ownerID ? e : new qt(e ? e.array.slice() : [], t) } function Qt(e, t) { if (t >= er(e._capacity)) return e._tail; if (t < 1 << e._level + 5) { for (var r = e._root, n = e._level; r && n > 0;)r = r.array[t >>> n & 31], n -= 5; return r } } function $t(e, t, r) { void 0 !== t && (t |= 0), void 0 !== r && (r |= 0); var n = e.__ownerID || new o, a = e._origin, i = e._capacity, c = a + t, s = void 0 === r ? i : r < 0 ? i + r : a + r; if (c === a && s === i) return e; if (c >= s) return e.clear(); for (var u = e._level, l = e._root, f = 0; c + f < 0;)l = new qt(l && l.array.length ? [void 0, l] : [], n), f += 1 << (u += 5); f && (c += f, a += f, s += f, i += f); for (var d = er(i), p = er(s); p >= 1 << u + 5;)l = new qt(l && l.array.length ? [l] : [], n), u += 5; var m = e._tail, h = p < d ? Qt(e, s - 1) : p > d ? new qt([], n) : m; if (m && p > d && c < i && m.array.length) { for (var v = l = Zt(l, n), g = u; g > 5; g -= 5) { var b = d >>> g & 31; v = v.array[b] = Zt(v.array[b], n) } v.array[d >>> 5 & 31] = m } if (s < i && (h = h && h.removeAfter(n, 0, s)), c >= p) c -= p, s -= p, u = 5, l = null, h = h && h.removeBefore(n, 0, c); else if (c > a || p < d) { for (f = 0; l;) { var y = c >>> u & 31; if (y !== p >>> u & 31) break; y && (f += (1 << u) * y), u -= 5, l = l.array[y] } l && c > a && (l = l.removeBefore(n, u, c - f)), l && p < d && (l = l.removeAfter(n, u, p - f)), f && (c -= f, s -= f) } return e.__ownerID ? (e.size = s - c, e._origin = c, e._capacity = s, e._level = u, e._root = l, e._tail = h, e.__hash = void 0, e.__altered = !0, e) : Wt(c, s, u, l, h) } function er(e) { return e < 32 ? 0 : e - 1 >>> 5 << 5 } var tr, rr = function (e) { function t(e) { return null == e ? ar() : Z(e) ? e : ar().withMutations(function (t) { var r = y(e); Ue(r.size), r.forEach(function (e, r) { return t.set(r, e) }) }) } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.of = function () { return this(arguments) }, t.prototype.toString = function () { return this.__toString("OrderedMap {", "}") }, t.prototype.get = function (e, t) { var r = this._map.get(e); return void 0 !== r ? this._list.get(r)[1] : t }, t.prototype.clear = function () { return 0 === this.size ? this : this.__ownerID ? (this.size = 0, this._map.clear(), this._list.clear(), this) : ar() }, t.prototype.set = function (e, t) { return or(this, e, t) }, t.prototype.remove = function (e) { return or(this, e, n) }, t.prototype.wasAltered = function () { return this._map.wasAltered() || this._list.wasAltered() }, t.prototype.__iterate = function (e, t) { var r = this; return this._list.__iterate(function (t) { return t && e(t[1], t[0], r) }, t) }, t.prototype.__iterator = function (e, t) { return this._list.fromEntrySeq().__iterator(e, t) }, t.prototype.__ensureOwner = function (e) { if (e === this.__ownerID) return this; var t = this._map.__ensureOwner(e), r = this._list.__ensureOwner(e); return e ? nr(t, r, e, this.__hash) : 0 === this.size ? ar() : (this.__ownerID = e, this._map = t, this._list = r, this) }, t }(yt); function nr(e, t, r, n) { var a = Object.create(rr.prototype); return a.size = e ? e.size : 0, a._map = e, a._list = t, a.__ownerID = r, a.__hash = n, a } function ar() { return tr || (tr = nr(Lt(), Xt())) } function or(e, t, r) { var a, o, i = e._map, c = e._list, s = i.get(t), u = void 0 !== s; if (r === n) { if (!u) return e; c.size >= 32 && c.size >= 2 * i.size ? (a = (o = c.filter(function (e, t) { return void 0 !== e && s !== t })).toKeyedSeq().map(function (e) { return e[0] }).flip().toMap(), e.__ownerID && (a.__ownerID = o.__ownerID = e.__ownerID)) : (a = i.remove(t), o = s === c.size - 1 ? c.pop() : c.set(s, void 0)) } else if (u) { if (r === c.get(s)[1]) return e; a = i, o = c.set(s, [t, r]) } else a = i.set(t, c.size), o = c.set(c.size, [t, r]); return e.__ownerID ? (e.size = a.size, e._map = a, e._list = o, e.__hash = void 0, e) : nr(a, o) } function ir(e) { return Boolean(e && e["@@__IMMUTABLE_STACK__@@"]) } rr.isOrderedMap = Z, rr.prototype[C] = !0, rr.prototype.delete = rr.prototype.remove; var cr = function (e) { function t(e) { return null == e ? fr() : ir(e) ? e : fr().pushAll(e) } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.of = function () { return this(arguments) }, t.prototype.toString = function () { return this.__toString("Stack [", "]") }, t.prototype.get = function (e, t) { var r = this._head; for (e = c(this, e); r && e--;)r = r.next; return r ? r.value : t }, t.prototype.peek = function () { return this._head && this._head.value }, t.prototype.push = function () { var e = arguments; if (0 === arguments.length) return this; for (var t = this.size + arguments.length, r = this._head, n = arguments.length - 1; n >= 0; n--)r = { value: e[n], next: r }; return this.__ownerID ? (this.size = t, this._head = r, this.__hash = void 0, this.__altered = !0, this) : lr(t, r) }, t.prototype.pushAll = function (t) { if (0 === (t = e(t)).size) return this; if (0 === this.size && ir(t)) return t; Ue(t.size); var r = this.size, n = this._head; return t.__iterate(function (e) { r++, n = { value: e, next: n } }, !0), this.__ownerID ? (this.size = r, this._head = n, this.__hash = void 0, this.__altered = !0, this) : lr(r, n) }, t.prototype.pop = function () { return this.slice(1) }, t.prototype.clear = function () { return 0 === this.size ? this : this.__ownerID ? (this.size = 0, this._head = void 0, this.__hash = void 0, this.__altered = !0, this) : fr() }, t.prototype.slice = function (t, r) { if (u(t, r, this.size)) return this; var n = l(t, this.size); if (f(r, this.size) !== this.size) return e.prototype.slice.call(this, t, r); for (var a = this.size - n, o = this._head; n--;)o = o.next; return this.__ownerID ? (this.size = a, this._head = o, this.__hash = void 0, this.__altered = !0, this) : lr(a, o) }, t.prototype.__ensureOwner = function (e) { return e === this.__ownerID ? this : e ? lr(this.size, this._head, e, this.__hash) : 0 === this.size ? fr() : (this.__ownerID = e, this.__altered = !1, this) }, t.prototype.__iterate = function (e, t) { var r = this; if (t) return new H(this.toArray()).__iterate(function (t, n) { return e(t, n, r) }, t); for (var n = 0, a = this._head; a && !1 !== e(a.value, n++, this);)a = a.next; return n }, t.prototype.__iterator = function (e, t) { if (t) return new H(this.toArray()).__iterator(e, t); var r = 0, n = this._head; return new R(function () { if (n) { var t = n.value; return n = n.next, N(e, r++, t) } return { value: void 0, done: !0 } }) }, t }(E); cr.isStack = ir; var sr, ur = cr.prototype; function lr(e, t, r, n) { var a = Object.create(ur); return a.size = e, a._head = t, a.__ownerID = r, a.__hash = n, a.__altered = !1, a } function fr() { return sr || (sr = lr(0)) } function dr(e) { return Boolean(e && e["@@__IMMUTABLE_SET__@@"]) } function pr(e) { return dr(e) && T(e) } function mr(e, t) { if (e === t) return !0; if (!m(t) || void 0 !== e.size && void 0 !== t.size && e.size !== t.size || void 0 !== e.__hash && void 0 !== t.__hash && e.__hash !== t.__hash || h(e) !== h(t) || v(e) !== v(t) || T(e) !== T(t)) return !1; if (0 === e.size && 0 === t.size) return !0; var r = !g(e); if (T(e)) { var a = e.entries(); return t.every(function (e, t) { var n = a.next().value; return n && $(n[1], e) && (r || $(n[0], t)) }) && a.next().done } var o = !1; if (void 0 === e.size) if (void 0 === t.size) "function" == typeof e.cacheResult && e.cacheResult(); else { o = !0; var i = e; e = t, t = i } var c = !0, s = t.__iterate(function (t, a) { if (r ? !e.has(t) : o ? !$(t, e.get(a, n)) : !$(e.get(a, n), t)) return c = !1, !1 }); return c && e.size === s } function hr(e, t) { var r = function (r) { e.prototype[r] = t[r] }; return Object.keys(t).forEach(r), Object.getOwnPropertySymbols && Object.getOwnPropertySymbols(t).forEach(r), e } function vr(e) { if (!e || "object" != typeof e) return e; if (!m(e)) { if (!Ve(e)) return e; e = U(e) } if (h(e)) { var t = {}; return e.__iterate(function (e, r) { t[r] = vr(e) }), t } var r = []; return e.__iterate(function (e) { r.push(vr(e)) }), r } ur["@@__IMMUTABLE_STACK__@@"] = !0, ur.shift = ur.pop, ur.unshift = ur.push, ur.unshiftAll = ur.pushAll, ur.withMutations = ht, ur.wasAltered = bt, ur.asImmutable = gt, ur["@@transducer/init"] = ur.asMutable = vt, ur["@@transducer/step"] = function (e, t) { return e.unshift(t) }, ur["@@transducer/result"] = function (e) { return e.asImmutable() }; var gr = function (e) { function t(t) { return null == t ? Sr() : dr(t) && !T(t) ? t : Sr().withMutations(function (r) { var n = e(t); Ue(n.size), n.forEach(function (e) { return r.add(e) }) }) } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.of = function () { return this(arguments) }, t.fromKeys = function (e) { return this(y(e).keySeq()) }, t.intersect = function (e) { return (e = b(e).toArray()).length ? yr.intersect.apply(t(e.pop()), e) : Sr() }, t.union = function (e) { return (e = b(e).toArray()).length ? yr.union.apply(t(e.pop()), e) : Sr() }, t.prototype.toString = function () { return this.__toString("Set {", "}") }, t.prototype.has = function (e) { return this._map.has(e) }, t.prototype.add = function (e) { return Er(this, this._map.set(e, e)) }, t.prototype.remove = function (e) { return Er(this, this._map.remove(e)) }, t.prototype.clear = function () { return Er(this, this._map.clear()) }, t.prototype.map = function (e, t) { var r = this, n = [], a = []; return this.forEach(function (o) { var i = e.call(t, o, o, r); i !== o && (n.push(o), a.push(i)) }), this.withMutations(function (e) { n.forEach(function (t) { return e.remove(t) }), a.forEach(function (t) { return e.add(t) }) }) }, t.prototype.union = function () { for (var t = [], r = arguments.length; r--;)t[r] = arguments[r]; return 0 === (t = t.filter(function (e) { return 0 !== e.size })).length ? this : 0 !== this.size || this.__ownerID || 1 !== t.length ? this.withMutations(function (r) { for (var n = 0; n < t.length; n++)e(t[n]).forEach(function (e) { return r.add(e) }) }) : this.constructor(t[0]) }, t.prototype.intersect = function () { for (var t = [], r = arguments.length; r--;)t[r] = arguments[r]; if (0 === t.length) return this; t = t.map(function (t) { return e(t) }); var n = []; return this.forEach(function (e) { t.every(function (t) { return t.includes(e) }) || n.push(e) }), this.withMutations(function (e) { n.forEach(function (t) { e.remove(t) }) }) }, t.prototype.subtract = function () { for (var t = [], r = arguments.length; r--;)t[r] = arguments[r]; if (0 === t.length) return this; t = t.map(function (t) { return e(t) }); var n = []; return this.forEach(function (e) { t.some(function (t) { return t.includes(e) }) && n.push(e) }), this.withMutations(function (e) { n.forEach(function (t) { e.remove(t) }) }) }, t.prototype.sort = function (e) { return Fr(Te(this, e)) }, t.prototype.sortBy = function (e, t) { return Fr(Te(this, t, e)) }, t.prototype.wasAltered = function () { return this._map.wasAltered() }, t.prototype.__iterate = function (e, t) { var r = this; return this._map.__iterate(function (t) { return e(t, t, r) }, t) }, t.prototype.__iterator = function (e, t) { return this._map.__iterator(e, t) }, t.prototype.__ensureOwner = function (e) { if (e === this.__ownerID) return this; var t = this._map.__ensureOwner(e); return e ? this.__make(t, e) : 0 === this.size ? this.__empty() : (this.__ownerID = e, this._map = t, this) }, t }(O); gr.isSet = dr; var br, yr = gr.prototype; function Er(e, t) { return e.__ownerID ? (e.size = t.size, e._map = t, e) : t === e._map ? e : 0 === t.size ? e.__empty() : e.__make(t) } function Or(e, t) { var r = Object.create(yr); return r.size = e ? e.size : 0, r._map = e, r.__ownerID = t, r } function Sr() { return br || (br = Or(Lt())) } yr["@@__IMMUTABLE_SET__@@"] = !0, yr.delete = yr.remove, yr.merge = yr.concat = yr.union, yr.withMutations = ht, yr.asImmutable = gt, yr["@@transducer/init"] = yr.asMutable = vt, yr["@@transducer/step"] = function (e, t) { return e.add(t) }, yr["@@transducer/result"] = function (e) { return e.asImmutable() }, yr.__empty = Sr, yr.__make = Or; var wr, Ar = function (e) { function t(e, r, n) { if (!(this instanceof t)) return new t(e, r, n); if (Pe(0 !== n, "Cannot step a Range by 0"), e = e || 0, void 0 === r && (r = 1 / 0), n = void 0 === n ? 1 : Math.abs(n), r < e && (n = -n), this._start = e, this._end = r, this._step = n, this.size = Math.max(0, Math.ceil((r - e) / n - 1) + 1), 0 === this.size) { if (wr) return wr; wr = this } } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.prototype.toString = function () { return 0 === this.size ? "Range []" : "Range [ " + this._start + "..." + this._end + (1 !== this._step ? " by " + this._step : "") + " ]" }, t.prototype.get = function (e, t) { return this.has(e) ? this._start + c(this, e) * this._step : t }, t.prototype.includes = function (e) { var t = (e - this._start) / this._step; return t >= 0 && t < this.size && t === Math.floor(t) }, t.prototype.slice = function (e, r) { return u(e, r, this.size) ? this : (e = l(e, this.size), (r = f(r, this.size)) <= e ? new t(0, 0) : new t(this.get(e, this._end), this.get(r, this._end), this._step)) }, t.prototype.indexOf = function (e) { var t = e - this._start; if (t % this._step == 0) { var r = t / this._step; if (r >= 0 && r < this.size) return r } return -1 }, t.prototype.lastIndexOf = function (e) { return this.indexOf(e) }, t.prototype.__iterate = function (e, t) { for (var r = this.size, n = this._step, a = t ? this._start + (r - 1) * n : this._start, o = 0; o !== r && !1 !== e(a, t ? r - ++o : o++, this);)a += t ? -n : n; return o }, t.prototype.__iterator = function (e, t) { var r = this.size, n = this._step, a = t ? this._start + (r - 1) * n : this._start, o = 0; return new R(function () { if (o === r) return { value: void 0, done: !0 }; var i = a; return a += t ? -n : n, N(e, t ? r - ++o : o++, i) }) }, t.prototype.equals = function (e) { return e instanceof t ? this._start === e._start && this._end === e._end && this._step === e._step : mr(this, e) }, t }(F); function Cr(e, t, r) { for (var a = Be(t), o = 0; o !== a.length;)if ((e = qe(e, a[o++], n)) === n) return r; return e } function Tr(e, t) { return Cr(this, e, t) } function jr(e, t) { return Cr(e, t, n) !== n } function kr() { Ue(this.size); var e = {}; return this.__iterate(function (t, r) { e[r] = t }), e } b.isIterable = m, b.isKeyed = h, b.isIndexed = v, b.isAssociative = g, b.isOrdered = T, b.Iterator = R, hr(b, { toArray: function () { Ue(this.size); var e = new Array(this.size || 0), t = h(this), r = 0; return this.__iterate(function (n, a) { e[r++] = t ? [a, n] : n }), e }, toIndexedSeq: function () { return new ve(this) }, toJS: function () { return vr(this) }, toKeyedSeq: function () { return new he(this, !0) }, toMap: function () { return yt(this.toKeyedSeq()) }, toObject: kr, toOrderedMap: function () { return rr(this.toKeyedSeq()) }, toOrderedSet: function () { return Fr(h(this) ? this.valueSeq() : this) }, toSet: function () { return gr(h(this) ? this.valueSeq() : this) }, toSetSeq: function () { return new ge(this) }, toSeq: function () { return v(this) ? this.toIndexedSeq() : h(this) ? this.toKeyedSeq() : this.toSetSeq() }, toStack: function () { return cr(h(this) ? this.valueSeq() : this) }, toList: function () { return Ht(h(this) ? this.valueSeq() : this) }, toString: function () { return "[Collection]" }, __toString: function (e, t) { return 0 === this.size ? e + t : e + " " + this.toSeq().map(this.__toStringMapper).join(", ") + " " + t }, concat: function () { for (var e = [], t = arguments.length; t--;)e[t] = arguments[t]; return Ne(this, function (e, t) { var r = h(e), n = [e].concat(t).map(function (e) { return m(e) ? r && (e = y(e)) : e = r ? Y(e) : W(Array.isArray(e) ? e : [e]), e }).filter(function (e) { return 0 !== e.size }); if (0 === n.length) return e; if (1 === n.length) { var a = n[0]; if (a === e || r && h(a) || v(e) && v(a)) return a } var o = new H(n); return r ? o = o.toKeyedSeq() : v(e) || (o = o.toSetSeq()), (o = o.flatten(!0)).size = n.reduce(function (e, t) { if (void 0 !== e) { var r = t.size; if (void 0 !== r) return e + r } }, 0), o }(this, e)) }, includes: function (e) { return this.some(function (t) { return $(t, e) }) }, entries: function () { return this.__iterator(2) }, every: function (e, t) { Ue(this.size); var r = !0; return this.__iterate(function (n, a, o) { if (!e.call(t, n, a, o)) return r = !1, !1 }), r }, filter: function (e, t) { return Ne(this, Se(this, e, t, !0)) }, find: function (e, t, r) { var n = this.findEntry(e, t); return n ? n[1] : r }, forEach: function (e, t) { return Ue(this.size), this.__iterate(t ? e.bind(t) : e) }, join: function (e) { Ue(this.size), e = void 0 !== e ? "" + e : ","; var t = "", r = !0; return this.__iterate(function (n) { r ? r = !1 : t += e, t += null != n ? n.toString() : "" }), t }, keys: function () { return this.__iterator(0) }, map: function (e, t) { return Ne(this, Ee(this, e, t)) }, reduce: function (e, t, r) { return _r(this, e, t, r, arguments.length < 2, !1) }, reduceRight: function (e, t, r) { return _r(this, e, t, r, arguments.length < 2, !0) }, reverse: function () { return Ne(this, Oe(this, !0)) }, slice: function (e, t) { return Ne(this, we(this, e, t, !0)) }, some: function (e, t) { return !this.every(xr(e), t) }, sort: function (e) { return Ne(this, Te(this, e)) }, values: function () { return this.__iterator(1) }, butLast: function () { return this.slice(0, -1) }, isEmpty: function () { return void 0 !== this.size ? 0 === this.size : !this.some(function () { return !0 }) }, count: function (e, t) { return i(e ? this.toSeq().filter(e, t) : this) }, countBy: function (e, t) { return function (e, t, r) { var n = yt().asMutable(); return e.__iterate(function (a, o) { n.update(t.call(r, a, o, e), 0, function (e) { return e + 1 }) }), n.asImmutable() }(this, e, t) }, equals: function (e) { return mr(this, e) }, entrySeq: function () { var e = this; if (e._cache) return new H(e._cache); var t = e.toSeq().map(Mr).toIndexedSeq(); return t.fromEntrySeq = function () { return e.toSeq() }, t }, filterNot: function (e, t) { return this.filter(xr(e), t) }, findEntry: function (e, t, r) { var n = r; return this.__iterate(function (r, a, o) { if (e.call(t, r, a, o)) return n = [a, r], !1 }), n }, findKey: function (e, t) { var r = this.findEntry(e, t); return r && r[0] }, findLast: function (e, t, r) { return this.toKeyedSeq().reverse().find(e, t, r) }, findLastEntry: function (e, t, r) { return this.toKeyedSeq().reverse().findEntry(e, t, r) }, findLastKey: function (e, t) { return this.toKeyedSeq().reverse().findKey(e, t) }, first: function (e) { return this.find(s, null, e) }, flatMap: function (e, t) { return Ne(this, function (e, t, r) { var n = _e(e); return e.toSeq().map(function (a, o) { return n(t.call(r, a, o, e)) }).flatten(!0) }(this, e, t)) }, flatten: function (e) { return Ne(this, Ce(this, e, !0)) }, fromEntrySeq: function () { return new be(this) }, get: function (e, t) { return this.find(function (t, r) { return $(r, e) }, void 0, t) }, getIn: Tr, groupBy: function (e, t) { return function (e, t, r) { var n = h(e), a = (T(e) ? rr() : yt()).asMutable(); e.__iterate(function (o, i) { a.update(t.call(r, o, i, e), function (e) { return (e = e || []).push(n ? [i, o] : o), e }) }); var o = _e(e); return a.map(function (t) { return Ne(e, o(t)) }).asImmutable() }(this, e, t) }, has: function (e) { return this.get(e, n) !== n }, hasIn: function (e) { return jr(this, e) }, isSubset: function (e) { return e = "function" == typeof e.includes ? e : b(e), this.every(function (t) { return e.includes(t) }) }, isSuperset: function (e) { return (e = "function" == typeof e.isSubset ? e : b(e)).isSubset(this) }, keyOf: function (e) { return this.findKey(function (t) { return $(t, e) }) }, keySeq: function () { return this.toSeq().map(Ir).toIndexedSeq() }, last: function (e) { return this.toSeq().reverse().first(e) }, lastKeyOf: function (e) { return this.toKeyedSeq().reverse().keyOf(e) }, max: function (e) { return je(this, e) }, maxBy: function (e, t) { return je(this, t, e) }, min: function (e) { return je(this, e ? Dr(e) : Ur) }, minBy: function (e, t) { return je(this, t ? Dr(t) : Ur, e) }, rest: function () { return this.slice(1) }, skip: function (e) { return 0 === e ? this : this.slice(Math.max(0, e)) }, skipLast: function (e) { return 0 === e ? this : this.slice(0, -Math.max(0, e)) }, skipWhile: function (e, t) { return Ne(this, Ae(this, e, t, !0)) }, skipUntil: function (e, t) { return this.skipWhile(xr(e), t) }, sortBy: function (e, t) { return Ne(this, Te(this, t, e)) }, take: function (e) { return this.slice(0, Math.max(0, e)) }, takeLast: function (e) { return this.slice(-Math.max(0, e)) }, takeWhile: function (e, t) { return Ne(this, function (e, t, r) { var n = Ie(e); return n.__iterateUncached = function (n, a) { var o = this; if (a) return this.cacheResult().__iterate(n, a); var i = 0; return e.__iterate(function (e, a, c) { return t.call(r, e, a, c) && ++i && n(e, a, o) }), i }, n.__iteratorUncached = function (n, a) { var o = this; if (a) return this.cacheResult().__iterator(n, a); var i = e.__iterator(2, a), c = !0; return new R(function () { if (!c) return { value: void 0, done: !0 }; var e = i.next(); if (e.done) return e; var a = e.value, s = a[0], u = a[1]; return t.call(r, u, s, o) ? 2 === n ? e : N(n, s, u, e) : (c = !1, { value: void 0, done: !0 }) }) }, n }(this, e, t)) }, takeUntil: function (e, t) { return this.takeWhile(xr(e), t) }, update: function (e) { return e(this) }, valueSeq: function () { return this.toIndexedSeq() }, hashCode: function () { return this.__hash || (this.__hash = function (e) { if (e.size === 1 / 0) return 0; var t = T(e), r = h(e), n = t ? 1 : 0; return function (e, t) { return t = ee(t, 3432918353), t = ee(t << 15 | t >>> -15, 461845907), t = ee(t << 13 | t >>> -13, 5), t = ee((t = (t + 3864292196 | 0) ^ e) ^ t >>> 16, 2246822507), t = te((t = ee(t ^ t >>> 13, 3266489909)) ^ t >>> 16) }(e.__iterate(r ? t ? function (e, t) { n = 31 * n + Br(ne(e), ne(t)) | 0 } : function (e, t) { n = n + Br(ne(e), ne(t)) | 0 } : t ? function (e) { n = 31 * n + ne(e) | 0 } : function (e) { n = n + ne(e) | 0 }), n) }(this)) } }); var Rr = b.prototype; Rr["@@__IMMUTABLE_ITERABLE__@@"] = !0, Rr[k] = Rr.values, Rr.toJSON = Rr.toArray, Rr.__toStringMapper = He, Rr.inspect = Rr.toSource = function () { return this.toString() }, Rr.chain = Rr.flatMap, Rr.contains = Rr.includes, hr(y, { flip: function () { return Ne(this, ye(this)) }, mapEntries: function (e, t) { var r = this, n = 0; return Ne(this, this.toSeq().map(function (a, o) { return e.call(t, [o, a], n++, r) }).fromEntrySeq()) }, mapKeys: function (e, t) { var r = this; return Ne(this, this.toSeq().flip().map(function (n, a) { return e.call(t, n, a, r) }).flip()) } }); var Nr = y.prototype; Nr["@@__IMMUTABLE_KEYED__@@"] = !0, Nr[k] = Rr.entries, Nr.toJSON = kr, Nr.__toStringMapper = function (e, t) { return He(t) + ": " + He(e) }, hr(E, { toKeyedSeq: function () { return new he(this, !1) }, filter: function (e, t) { return Ne(this, Se(this, e, t, !1)) }, findIndex: function (e, t) { var r = this.findEntry(e, t); return r ? r[0] : -1 }, indexOf: function (e) { var t = this.keyOf(e); return void 0 === t ? -1 : t }, lastIndexOf: function (e) { var t = this.lastKeyOf(e); return void 0 === t ? -1 : t }, reverse: function () { return Ne(this, Oe(this, !1)) }, slice: function (e, t) { return Ne(this, we(this, e, t, !1)) }, splice: function (e, t) { var r = arguments.length; if (t = Math.max(t || 0, 0), 0 === r || 2 === r && !t) return this; e = l(e, e < 0 ? this.count() : this.size); var n = this.slice(0, e); return Ne(this, 1 === r ? n : n.concat(De(arguments, 2), this.slice(e + t))) }, findLastIndex: function (e, t) { var r = this.findLastEntry(e, t); return r ? r[0] : -1 }, first: function (e) { return this.get(0, e) }, flatten: function (e) { return Ne(this, Ce(this, e, !1)) }, get: function (e, t) { return (e = c(this, e)) < 0 || this.size === 1 / 0 || void 0 !== this.size && e > this.size ? t : this.find(function (t, r) { return r === e }, void 0, t) }, has: function (e) { return (e = c(this, e)) >= 0 && (void 0 !== this.size ? this.size === 1 / 0 || e < this.size : -1 !== this.indexOf(e)) }, interpose: function (e) { return Ne(this, function (e, t) { var r = Ie(e); return r.size = e.size && 2 * e.size - 1, r.__iterateUncached = function (r, n) { var a = this, o = 0; return e.__iterate(function (e) { return (!o || !1 !== r(t, o++, a)) && !1 !== r(e, o++, a) }, n), o }, r.__iteratorUncached = function (r, n) { var a, o = e.__iterator(1, n), i = 0; return new R(function () { return (!a || i % 2) && (a = o.next()).done ? a : i % 2 ? N(r, i++, t) : N(r, i++, a.value, a) }) }, r }(this, e)) }, interleave: function () { var e = [this].concat(De(arguments)), t = Re(this.toSeq(), F.of, e), r = t.flatten(!0); return t.size && (r.size = t.size * e.length), Ne(this, r) }, keySeq: function () { return Ar(0, this.size) }, last: function (e) { return this.get(-1, e) }, skipWhile: function (e, t) { return Ne(this, Ae(this, e, t, !1)) }, zip: function () { var e = [this].concat(De(arguments)); return Ne(this, Re(this, Pr, e)) }, zipAll: function () { var e = [this].concat(De(arguments)); return Ne(this, Re(this, Pr, e, !0)) }, zipWith: function (e) { var t = De(arguments); return t[0] = this, Ne(this, Re(this, e, t)) } }); var Lr = E.prototype; function _r(e, t, r, n, a, o) { return Ue(e.size), e.__iterate(function (e, o, i) { a ? (a = !1, r = e) : r = t.call(n, r, e, o, i) }, o), r } function Ir(e, t) { return t } function Mr(e, t) { return [t, e] } function xr(e) { return function () { return !e.apply(this, arguments) } } function Dr(e) { return function () { return -e.apply(this, arguments) } } function Pr() { return De(arguments) } function Ur(e, t) { return e < t ? 1 : e > t ? -1 : 0 } function Br(e, t) { return e ^ t + 2654435769 + (e << 6) + (e >> 2) | 0 } Lr["@@__IMMUTABLE_INDEXED__@@"] = !0, Lr[C] = !0, hr(O, { get: function (e, t) { return this.has(e) ? e : t }, includes: function (e) { return this.has(e) }, keySeq: function () { return this.valueSeq() } }), O.prototype.has = Rr.includes, O.prototype.contains = O.prototype.includes, hr(B, y.prototype), hr(F, E.prototype), hr(V, O.prototype); var Fr = function (e) { function t(e) { return null == e ? qr() : pr(e) ? e : qr().withMutations(function (t) { var r = O(e); Ue(r.size), r.forEach(function (e) { return t.add(e) }) }) } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.of = function () { return this(arguments) }, t.fromKeys = function (e) { return this(y(e).keySeq()) }, t.prototype.toString = function () { return this.__toString("OrderedSet {", "}") }, t }(gr); Fr.isOrderedSet = pr; var Vr, Hr = Fr.prototype; function Gr(e, t) { var r = Object.create(Hr); return r.size = e ? e.size : 0, r._map = e, r.__ownerID = t, r } function qr() { return Vr || (Vr = Gr(ar())) } Hr[C] = !0, Hr.zip = Lr.zip, Hr.zipWith = Lr.zipWith, Hr.__empty = qr, Hr.__make = Gr; var Kr = function (e, t) { var r, n = function n(o) { var i = this; if (o instanceof n) return o; if (!(this instanceof n)) return new n(o); if (!r) { r = !0; var c = Object.keys(e), s = a._indices = {}; a._name = t, a._keys = c, a._defaultValues = e; for (var u = 0; u < c.length; u++) { var l = c[u]; s[l] = u, a[l] ? "object" == typeof console && console.warn && console.warn("Cannot define " + Wr(this) + ' with property "' + l + '" since that property name is part of the Record API.') : Jr(a, l) } } this.__ownerID = void 0, this._values = Ht().withMutations(function (e) { e.setSize(i._keys.length), y(o).forEach(function (t, r) { e.set(i._indices[r], t === i._defaultValues[r] ? void 0 : t) }) }) }, a = n.prototype = Object.create(zr); return a.constructor = n, t && (n.displayName = t), n }; Kr.prototype.toString = function () { for (var e, t = Wr(this) + " { ", r = this._keys, n = 0, a = r.length; n !== a; n++)t += (n ? ", " : "") + (e = r[n]) + ": " + He(this.get(e)); return t + " }" }, Kr.prototype.equals = function (e) { return this === e || e && this._keys === e._keys && Xr(this).equals(Xr(e)) }, Kr.prototype.hashCode = function () { return Xr(this).hashCode() }, Kr.prototype.has = function (e) { return this._indices.hasOwnProperty(e) }, Kr.prototype.get = function (e, t) { if (!this.has(e)) return t; var r = this._indices[e], n = this._values.get(r); return void 0 === n ? this._defaultValues[e] : n }, Kr.prototype.set = function (e, t) { if (this.has(e)) { var r = this._values.set(this._indices[e], t === this._defaultValues[e] ? void 0 : t); if (r !== this._values && !this.__ownerID) return Yr(this, r) } return this }, Kr.prototype.remove = function (e) { return this.set(e) }, Kr.prototype.clear = function () { var e = this._values.clear().setSize(this._keys.length); return this.__ownerID ? this : Yr(this, e) }, Kr.prototype.wasAltered = function () { return this._values.wasAltered() }, Kr.prototype.toSeq = function () { return Xr(this) }, Kr.prototype.toJS = function () { return vr(this) }, Kr.prototype.entries = function () { return this.__iterator(2) }, Kr.prototype.__iterator = function (e, t) { return Xr(this).__iterator(e, t) }, Kr.prototype.__iterate = function (e, t) { return Xr(this).__iterate(e, t) }, Kr.prototype.__ensureOwner = function (e) { if (e === this.__ownerID) return this; var t = this._values.__ensureOwner(e); return e ? Yr(this, t, e) : (this.__ownerID = e, this._values = t, this) }, Kr.isRecord = w, Kr.getDescriptiveName = Wr; var zr = Kr.prototype; function Yr(e, t, r) { var n = Object.create(Object.getPrototypeOf(e)); return n._values = t, n.__ownerID = r, n } function Wr(e) { return e.constructor.displayName || e.constructor.name || "Record" } function Xr(e) { return Y(e._keys.map(function (t) { return [t, e.get(t)] })) } function Jr(e, t) { try { Object.defineProperty(e, t, { get: function () { return this.get(t) }, set: function (e) { Pe(this.__ownerID, "Cannot set on an immutable record."), this.set(t, e) } }) } catch (e) { } } zr["@@__IMMUTABLE_RECORD__@@"] = !0, zr.delete = zr.remove, zr.deleteIn = zr.removeIn = Qe, zr.getIn = Tr, zr.hasIn = Rr.hasIn, zr.merge = rt, zr.mergeWith = nt, zr.mergeIn = pt, zr.mergeDeep = ft, zr.mergeDeepWith = dt, zr.mergeDeepIn = mt, zr.setIn = Je, zr.update = et, zr.updateIn = tt, zr.withMutations = ht, zr.asMutable = vt, zr.asImmutable = gt, zr[k] = zr.entries, zr.toJSON = zr.toObject = Rr.toObject, zr.inspect = zr.toSource = function () { return this.toString() }; var Zr, Qr = function (e) { function t(e, r) { if (!(this instanceof t)) return new t(e, r); if (this._value = e, this.size = void 0 === r ? 1 / 0 : Math.max(0, r), 0 === this.size) { if (Zr) return Zr; Zr = this } } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.prototype.toString = function () { return 0 === this.size ? "Repeat []" : "Repeat [ " + this._value + " " + this.size + " times ]" }, t.prototype.get = function (e, t) { return this.has(e) ? this._value : t }, t.prototype.includes = function (e) { return $(this._value, e) }, t.prototype.slice = function (e, r) { var n = this.size; return u(e, r, n) ? this : new t(this._value, f(r, n) - l(e, n)) }, t.prototype.reverse = function () { return this }, t.prototype.indexOf = function (e) { return $(this._value, e) ? 0 : -1 }, t.prototype.lastIndexOf = function (e) { return $(this._value, e) ? this.size : -1 }, t.prototype.__iterate = function (e, t) { for (var r = this.size, n = 0; n !== r && !1 !== e(this._value, t ? r - ++n : n++, this);); return n }, t.prototype.__iterator = function (e, t) { var r = this, n = this.size, a = 0; return new R(function () { return a === n ? { value: void 0, done: !0 } : N(e, t ? n - ++a : a++, r._value) }) }, t.prototype.equals = function (e) { return e instanceof t ? $(this._value, e._value) : mr(e) }, t }(F); function $r(e, t) { return function e(t, r, n, a, o, i) { var c = Array.isArray(n) ? F : Fe(n) ? B : null; if (c) { if (~t.indexOf(n)) throw new TypeError("Cannot convert circular structure to Immutable"); t.push(n), o && "" !== a && o.push(a); var s = r.call(i, a, c(n).map(function (a, i) { return e(t, r, a, i, o, n) }), o && o.slice()); return t.pop(), o && o.pop(), s } return n }([], t || en, e, "", t && t.length > 2 ? [] : void 0, { "": e }) } function en(e, t) { return h(t) ? t.toMap() : t.toList() } var tn = "4.0.0-rc.11", rn = { version: tn, Collection: b, Iterable: b, Seq: U, Map: yt, OrderedMap: rr, List: Ht, Stack: cr, Set: gr, OrderedSet: Fr, Record: Kr, Range: Ar, Repeat: Qr, is: $, fromJS: $r, hash: ne, isImmutable: A, isCollection: m, isKeyed: h, isIndexed: v, isAssociative: g, isOrdered: T, isValueObject: Q, isSeq: S, isList: Vt, isMap: J, isOrderedMap: Z, isStack: ir, isSet: dr, isOrderedSet: pr, isRecord: w, get: qe, getIn: Cr, has: Ge, hasIn: jr, merge: ot, mergeDeep: ct, mergeWith: it, mergeDeepWith: st, remove: ze, removeIn: Ze, set: Ye, setIn: Xe, update: $e, updateIn: We }, nn = b; t.default = rn }, "../../node_modules/strnum/strnum.js": function (e, t) { var r = /^[-+]?0x[a-fA-F0-9]+$/, n = /^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/, a = { hex: !0, leadingZeros: !0, decimalPoint: "." }; e.exports = function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; if (t = Object.assign({}, a, t), !e || "string" != typeof e) return e; var o = e.trim(); if (void 0 !== t.skipLike && t.skipLike.test(o)) return e; if (t.hex && r.test(o)) return Number.parseInt(o, 16); var i = n.exec(o); if (i) { i[1]; var c = i[2], s = i[3]; return i[4] || i[6], 1 === c.length && "." === s[0] ? Number(e) : !t.leadingZeros && c.length > 0 ? e : Number(o) } return e } }, "./node_modules/webpack/buildin/global.js": function (e, t) { var r; r = function () { return this }(); try { r = r || new Function("return this")() } catch (e) { "object" == typeof window && (r = window) } e.exports = r }, "./node_modules/webpack/buildin/module.js": function (e, t) { e.exports = function (e) { return e.webpackPolyfill || (e.deprecate = function () { }, e.paths = [], e.children || (e.children = []), Object.defineProperty(e, "loaded", { enumerable: !0, get: function () { return e.l } }), Object.defineProperty(e, "id", { enumerable: !0, get: function () { return e.i } }), e.webpackPolyfill = 1), e } }, "./src/index.ts": function (e, t, r) { "use strict"; var n = this && this.__createBinding || (Object.create ? function (e, t, r, n) { void 0 === n && (n = r), Object.defineProperty(e, n, { enumerable: !0, get: function () { return t[r] } }) } : function (e, t, r, n) { void 0 === n && (n = r), e[n] = t[r] }), a = this && this.__exportStar || function (e, t) { for (var r in e) "default" === r || Object.prototype.hasOwnProperty.call(t, r) || n(t, e, r) }; Object.defineProperty(t, "__esModule", { value: !0 }), a(r("./src/utils/index.ts"), t) }, "./src/utils/Service.ts": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = r("./src/utils/events.ts"), a = function (e) { p(r, e); var t = S(r); function r() { var e; v(this, r); var n = (e = t.call(this)).constructor.instance; return m(e, n || (e.constructor.instance = f(e))) } return g(r, null, [{ key: "factory", value: function () { var e = this; return function () { return e.instance || (e.instance = new e), e.instance } } }]), r }(n.EventEmitter); t.default = a }, "./src/utils/blob.ts": function (e, t, r) { "use strict"; function n(e) { return new Promise(function (t) { var r = new FileReader; r.addEventListener("loadend", function () { var e = r.result; e instanceof ArrayBuffer && t(e) }), r.readAsArrayBuffer(e) }) } Object.defineProperty(t, "__esModule", { value: !0 }), t.arrayBufferToBlob = t.readBlobByteArray = t.readBlobArrayBuffer = void 0, t.readBlobArrayBuffer = n, t.readBlobByteArray = function () { var e = u(s.mark(function e(t) { return s.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.t0 = Uint8Array, e.next = 3, n(t); case 3: return e.t1 = e.sent, e.abrupt("return", new e.t0(e.t1)); case 5: case "end": return e.stop() } }, e) })); return function (t) { return e.apply(this, arguments) } }(), t.arrayBufferToBlob = function (e, t) { return new Blob([e], { type: t }) } }, "./src/utils/collections.ts": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.chunk = void 0; var n = r("../../node_modules/immutable/dist/immutable.es.js"); t.chunk = function (e, t) { if (n.List.isList(e)) { for (var r = e.count(), a = n.List(), o = 0; o < r; o += t)a = a.push(e.slice(o, o + t)); return a } for (var i = [], c = 0; c < e.length; c += t)i.push(e.slice(c, c + t)); return i } }, "./src/utils/colorUtils.ts": function (e, t, r) { "use strict"; function n(e) { var t = document.createElement("canvas"); t.height = 1, t.width = 1; var r = t.getContext("2d"); return r ? (r.fillStyle = e, r.fillRect(0, 0, 1, 1), Array.from(r.getImageData(0, 0, 1, 1).data)) : [0, 0, 0, 0] } function a(e) { return ("0" + e.toString(16)).slice(-2) } function o(e) { return "#" + ["r", "g", "b"].map(function (t, r) { return a(e[r]) }).join("") } Object.defineProperty(t, "__esModule", { value: !0 }), t.decToHex = t.rgbaToCot = t.cotColorToRGBA = t.colorToHex = t.hexToRgba = t.rgbaToHex = t.byteToHex = t.colorToRGBA = void 0, t.colorToRGBA = n, t.byteToHex = a, t.rgbaToHex = o, t.hexToRgba = function (e) { var t; if (/^#([A-Fa-f0-9]{3}){1,2}$/.test(e)) return 3 == (t = e.substring(1).split("")).length && (t = [t[0], t[0], t[1], t[1], t[2], t[2]]), [(t = Number("0x" + t.join(""))) >> 16 & 255, t >> 8 & 255, 255 & t, 1]; throw new Error("Bad Hex") }, t.colorToHex = function (e) { return o(n(e)) }, t.cotColorToRGBA = function (e) { return [e >> 16 & 255, e >> 8 & 255, 255 & e, e >> 24 & 255] }, t.rgbaToCot = function (e) { var t = c(e, 4), r = t[0], n = t[1], a = t[2], o = t[3]; return (255 & o) << 24 | (255 & r) << 16 | (255 & n) << 8 | 255 & a }, t.decToHex = function (e) { var t = e; return t < 0 && (t = 4294967295 + e + 1), t.toString(16) } }, "./src/utils/coordinateUtils.ts": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.dmsToLatLon = t.mgrsToLatLon = t.utmToLatLon = t.toDMSString = t.toDMS = t.toDMString = t.toDM = t.toUTMString = t.toUTM = t.toMGRSString = t.toMGRS = t.CoordinateTypes = void 0; var n = r("../../node_modules/coordinator/coordinator.js"); function a(e, t) { var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 5, a = n.converters; try { var o = a.latlong.toMgrs(e, t, r, "object"), i = o.zone, c = o.square, s = o.easting, u = o.northing; return { zone: i || "---", square: c || "--", easting: s || "--", northing: u || "--" } } catch (e) { return { zone: "---", square: "--", easting: "-----", northing: "-----" } } } function o(e, t) { var r = n.converters; try { var a = r.latlong.toUtm(e, t), o = a.zoneNumber, i = a.northing, c = a.easting, s = a.hemisphere; return o || (o = "--"), s || (s = "-"), c || (c = "------"), i || (i = "------"), { zone: o, northing: i, hemisphere: s, easting: c } } catch (e) { return { zone: "--", northing: "-", hemisphere: "------", easting: "-----" } } } function i(e, t) { return n.converters.latlong.toDegMinSec(e, t, "object") } function c(e) { var t, r, n = {}; if ("object" == typeof e) n = function (e) { var t = {}; if ("object" != typeof e || !e.degrees || !e.minutes || !e.seconds) throw new Error('Invalid DMS object. Properties "degree", "minute", "seconds" are required. '); return "string" == typeof e.degrees ? t.degrees = parseInt(e.degrees, 10) : t.degrees = e.degrees, e.direction && ("S" === e.direction || "W" === e.direction ? t.degrees = -Math.abs(t.degrees) : t.degrees = Math.abs(t.degrees)), "string" == typeof e.minutes ? t.minutes = Math.abs(parseInt(e.minutes, 10)) : t.minutes = Math.abs(e.minutes), "string" == typeof e.seconds ? t.seconds = Math.abs(parseInt(e.seconds, 10)) : t.seconds = Math.abs(e.seconds), t }(e); else { if (!/^[NSEW\-]?\d{1,3}[\xb0 ]\d{1,2}[' ]\d{1,2}(\.\d{1,3})?[" ][NSEW]?$/.test(e)) throw "Angle not formatted correctly: " + e; t = e.match(/-?\d+(\.\d+)?/g), n.degrees = parseInt(t[0], 10), n.minutes = parseInt(t[1], 10), n.seconds = parseFloat(t[2]) } return t = String(Number(n.minutes) / 60 + Number(n.seconds) / 3600), r = n.degrees + "." + t.substring(t.indexOf(".") + 1), parseFloat(r) } !function (e) { e.Degrees = "dd", e.MGRS = "mrgs", e.UTM = "utm", e.DM = "dm", e.DMS = "dms" }(t.CoordinateTypes || (t.CoordinateTypes = {})), t.toMGRS = a, t.toMGRSString = function (e, t) { var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 5, n = a(e, t, r), o = n.zone, i = n.square, c = n.easting, s = n.northing; return "".concat(o, " ").concat(i, " ").concat(c, " ").concat(s) }, t.toUTM = o, t.toUTMString = function (e, t) { var r = o(e, t), n = r.zone, a = r.northing, i = r.hemisphere, c = r.easting; return "".concat(n).concat(i, " ").concat(c, " ").concat(a) }, t.toDM = i, t.toDMString = function (e, t) { var r = i(e, t), n = r.latitude, a = r.longitude; return "".concat(n.degrees, "\xb0").concat(n.minutes, "' ").concat(n.direction, " ").concat(a.degrees, "\xb0").concat(a.minutes, "' ").concat(a.direction) }, t.toDMS = function (e, t) { var r = n.converters; try { var a = r.latlong.toDegMinSec(e, t, "object", 2), o = a.latitude, i = a.longitude; return { latitude: o, longitude: i } } catch (e) { return { latitude: { degrees: "--", minutes: "--", seconds: "--" }, longitude: { degrees: "--", minutes: "--", seconds: "--" } } } }, t.toDMSString = function (e, t) { var r = n.converters; try { var a = r.latlong.toDegMinSec(e, t, "string", 2), o = a.latitude, i = a.longitude; return "".concat(o, " ").concat(i) } catch (e) { return "----.-- ------.--" } }, t.utmToLatLon = function (e) { var t = e.zone, r = e.northing, a = e.easting; return n.converters.utm.toLatLong(r, a, t) }, t.mgrsToLatLon = function (e) { var t = e.zone, r = e.square, a = e.easting, o = e.northing, i = n.converters, c = "".concat(t).concat(r).concat(a).concat(o), s = i.mgrs.toUtm(c), u = s.Zone, l = s.Easting, f = s.Northing; return i.utm.toLatLong(f, l, u) }, t.dmsToLatLon = function (e, t) { var r = c(e), n = c(t); if (r < -90 || r > 90) throw "Latitude out of bounds: " + r; if (n < -180 || n > 180) throw "Longitude out of bounds: " + n; return [r, n] } }, "./src/utils/events.ts": function (e, t, r) { "use strict"; function n() { var e = {}, t = {}, r = null; return { clear: function () { null !== r && (clearTimeout(r), r = null), [t, e].forEach(function (e) { Object.keys(e).forEach(function (t) { e[t] = null, delete e[t] }) }) }, on: function (e, r) { t[e] || (t[e] = []), t[e].push(r) }, once: function (t, r) { e[t] || (e[t] = []), e[t].push(r) }, off: function (r, n) { var a = t[r], o = e[r]; if (a) { for (var i = [], c = 0; c < a.length; c++)a[c] !== n && i.push(a[c]); t[r] = i } if (o) { for (var s = [], u = 0; u < o.length; u++)o[u] !== n && s.push(o[u]); e[r] = s } }, emit: function (n) { for (var a = arguments.length, o = new Array(a > 1 ? a - 1 : 0), i = 1; i < a; i++)o[i - 1] = arguments[i]; r = setTimeout(function () { r = null, [e[n], t[n]].forEach(function (e) { e && e.forEach(function (e) { e.apply(void 0, o) }) }), e[n] = [] }, 0) } } } Object.defineProperty(t, "__esModule", { value: !0 }), t.Eventable = t.EventEmitter = t.createEmitter = void 0, t.createEmitter = n, t.EventEmitter = function e() { v(this, e); var t = n(); this.on = t.on, this.once = t.once, this.off = t.off, this.clear = t.clear, this.emit = t.emit }, t.Eventable = function (e) { return function (e) { p(r, e); var t = S(r); function r() { var e; v(this, r); for (var a = arguments.length, o = new Array(a), i = 0; i < a; i++)o[i] = arguments[i]; e = t.call.apply(t, [this].concat(o)); var c = n(); return e.on = c.on, e.once = c.once, e.off = c.off, e.clear = c.clear, e.emit = c.emit, e } return r }(e) } }, "./src/utils/fileUtils.ts": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.isKMZ = t.isKML = t.isImage = void 0, t.isImage = function (e) { return /\.(gif|jpe?g|svg|png|webp|bmp)$/i.test(e) }, t.isKML = function (e) { return /\.(kml|KML)$/i.test(e) }, t.isKMZ = function (e) { return /\.(kmz|KMZ)$/i.test(e) } }, "./src/utils/functional.ts": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.clone = t.nanOrElse = t.identity = t.curryRight = void 0, t.curryRight = function (e) { var t = e.length; function r() { for (var n = arguments.length, a = new Array(n), o = 0; o < n; o++)a[o] = arguments[o]; return a.length >= t ? e.apply(void 0, i(a.slice(0, t).reverse())) : r.bind.apply(r, [void 0].concat(a)) } for (var n = arguments.length, a = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++)a[o - 1] = arguments[o]; return a.length ? r.apply(void 0, a) : r }, t.identity = function (e) { return e }, t.nanOrElse = function (e, t) { return Number.isNaN(Number(e)) ? Number(e) : t || 0 }, t.clone = function e(t) { return (r = t) && !0 !== r && "number" != typeof r && "string" != typeof r && "function" != typeof r ? Array.isArray(t) ? function (t) { for (var r = i(t), n = 0; n < r.length; n++)r[n] = e(r[n]); return r }(t) : function (t) { for (var r = O({}, t), n = Object.keys(r), a = 0; a < n.length; a++) { var o = n[a]; r[o] = e(r[o]) } return r }(t) : t; var r } }, "./src/utils/getRandomCallsign.ts": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.getRandomCallsign = void 0; var n = function (e) { return Math.floor(Math.random() * e) }; t.getRandomCallsign = function () { return "".concat(a[n(a.length)]).concat(String(n(999)).padStart(3, "0")) }; var a = ["AARDVARK", "ABIDE", "ABLOW", "ABNORMAL", "ABSOLUTION", "ABYSS", "ACES", "ACKER", "ACME", "ACROBAT", "ACTON", "ADIN", "ADIOS", "ADMN", "AERO", "AFTON", "AGAR", "AGILE", "AGIO", "AGOG", "AGONY", "AIREVAC", "AIRGUN", "AKSARBEN", "ALFALFA", "ALGA", "ALGER", "ALLEYCAT", "ALLOY", "ALMIGHTY", "ALTA", "ALVA", "AMBUSH", "AME", "AMINO", "AMMON", "AMWAY", "ANDY", "ANGEL", "ANGOL", "ANGRY OWL", "ANGRY WARRIOR", "ANIMAL", "ANITA", "ANKER", "ANKLE", "ANNIE", "ANODE", "ANTAR", "ANTLER", "ANVIL", "APACHE", "APROPOS", "ARBY", "ARCHITECT", "ARCO", "ARCTIC", "ARIA", "ARIGO", "ARISE", "ARNOLD CONTROL", "ARRID", "ARTER", "ARTLY", "ASCOT", "ASHER", "ASPEN", "ASTRA", "ATAP", "ATLAS", "ATOKA", "ATTIC", "AUGGIE", "AUGUR", "AUSSIE", "AUSTIN", "AUTUMN", "AVALON", "AWOKE", "AXE", "AXEMAN", "AXION", "AXIS", "AXLE", "BABS", "BACKSPIN", "BACKSTOP", "BACKY", "BACON", "BADER", "BADGER", "BAF", "BAFFLE", "BAGGY", "BAKE", "BALKY", "BALL", "BAMA", "BAMBO", "BANDIT", "BANDSAW", "BANDSAW ABC", "BANDSAW JULIET", "BANDWAGON", "BANG", "BANGER", "BANGOR", "BANKS", "BAR", "BARRACUDA", "BARBARIC", "BARBER", "BARD", "BARK", "BARN", "BARON", "BARON CONTROL", "BARRACUDA", "BART", "BASCO", "BASH", "BASS", "BAT", "BATCH", "BATEY", "BATH", "BATON", "BATTER UP", "BATTLESTAR", "BAY RIDER", "BAYSIDE", "BAZOO", "BEACHBALL", "BEAK", "BEAN", "BEAR", "BEARMAT", "BEAVER", "BEEF", "BEEFSTEAK", "BEER", "BELGA", "BERTH", "BETA", "BETH", "BETSY", "BIDDLE", "BIDDY", "BIG DOG", "BIG RED", "BIGGY", "BILK", "BILKO", "BILLFISH", "BILLO", "BINAL", "BINDER", "BIONIC", "BIRCH", "BIRD", "BIRTH", "BISON", "BIXBY", "BLACK", "BLACK BEAR", "BLACK CAT", "BLACK EAGLE", "BLACK HAWK", "BLACK LION", "BLACK LIST", "BLACK SHEEP", "BLACK WIND", "BLACKBIRD", "BLACKFOOT", "BLACKSHEEP", "BLADE", "BLADEMAN", "BLAZER", "BLEED", "BLOB", "BLOIE", "BLOKE", "BLOND", "BLOODHOUND", "BLOT", "BLUE", "BLUE ANGELS", "BLUE BIRD", "BLUE CHIP", "BLUE DIAMOND", "BLUE FIRE", "BLUE FLITE", "BLUE GHOST", "BLUE KNIGHT", "BLUE STAR", "BLUE THUNDER", "BOAR", "BOAT SAIL", "BOBCAT", "BODE", "BOGUE", "BOLA", "BOLAR", "BOLT", "BOMAR", "BOMBER", "BONE", "BONNIE SUE", "BONNO", "BONSI", "BOOMER", "BOOT", "BORAGE", "BORBA", "BORER", "BOSCO", "BOSOX", "BOTE", "BOXER", "BRAMA", "BRANDYWINE", "BRASS HAT", "BRAT", "BRAVE", "BRAVO", "BRAWLER", "BRAY", "BREW", "BRIARPATCH", "BRICE", "BRICKSTON", "BRICKWALL", "BRICKYARD", "BRIGG", "BRIGHAM", "BRINEY", "BRINY", "BROADWAY", "BROCHURE", "BRODY", "BROMO", "BRONCO", "BROOK", "BROOM", "BROWN BEAR", "BRUCE", "BUBBA", "BUCKEYE", "BUFF", "BUILD", "BULB", "BULL", "BULLDOG", "BULLET", "BULLFROG TANGO", "BULLSEYE", "BUMPY", "BURGLAR", "BURNER", "BURNING BUSH", "BURR", "BURT", "BUTCH", "BUXOM", "BUZZ", "BUZZARD", "BUZZSAW", "BYLAW", "DACOTAH", "DAE", "DAGDA", "DAGGER", "DAGO", "DAGON", "DAGRAT", "DAILY", "DALLAS", "DALLY", "DAME", "DAMON", "DANDA", "DANDER", "DANNO", "DAPPER DAN", "DARE", "DARK", "DARKSTAR", "DART", "DAUBY", "DAWG", "DAZZLE", "DEAL", "DEATH", "DEER HUNTER", "DEERLODGE", "DEFY", "DELVE", "DEMO", "DEMON", "DEMUS", "DENALI", "DEPOT", "DERBY", "DERMA", "DESERT BASE", "DESERT CONTROL", "DETONE", "DEUCE", "DEVIL", "DEVON", "DEWEY", "DIAL", "DIAMOND", "DIAMOND OPS", "DIAMONDBACK", "DICEY", "DIDO", "DIGGER", "DILLON", "DINO", "DIPPER", "DIRK", "DIRT", "DISCO", "DITTY", "DIXIE", "DIZZY", "DOBBY", "DOG", "DOGGY", "DOGWOOD", "DOMB", "DOMINO", "DONG", "DONNA", "DOOM", "DOORWAY CONTROL", "DORSAL", "DOUD", "DOUGHBOY", "DOVER", "DOWN RIGGER", "DOWNFALL", "DOWNY", "DRAGNET", "DRAGON", "DRAGONFIRE", "DRAKO", "DRAW", "DREAMLAND", "DROPKICK", "DRUB", "DRUG", "DRY", "DRYDEN", "DUCK", "DUDE", "DUKE", "DUNMORE", "DUPE", "DUPLE", "DUSTER", "DUSTY", "EAGLE", "EAGLE CLIFF", "EAGLE NEST", "EARL", "EARP", "EASY", "EASY RIDER", "EATHAN", "EDGAR", "EDGY", "EEL", "EFFORT", "ELCID", "ELECTRIC", "ELF", "ELGIN", "ELITE", "ELTON", "ELVAN", "ELVIS", "EMMET", "EMPIRE", "ENERGY", "ENTRY", "EPIC", "EPOXY", "ERGOT", "ESSEX", "ESSO", "ETHEL", "EUREKA", "EVA", "EVAC", "EVADER", "EVEN", "EVIL EYE", "EXPO", "EXUDE", "EXULT", "EXXON", "FAF", "FALCON", "FALKE", "FALLON", "FALLS", "FAME", "FANG", "FANGS", "FANTOM", "FANTOP", "FARMER", "FASTEAGLE", "FATBOY", "FATLY", "FAULT", "FELIX", "FENCE HEAD", "FENNY", "FERRY", "FETCH", "FEUD", "FEVER", "FILO", "FINA", "FIR", "FIREBALL", "FIREBRAND", "FIRESIDE", "FIRM", "FIRST", "FIRST FLT CNTRL", "FISHER BODY", "FIST", "FITCH", "FLAG PLOT", "FLAME", "FLASH", "FLEAGLE", "FLEAGO", "FLINT BASE", "FLOSS", "FLOUT", "FLU", "FLUME", "FLYING ACE", "FLYNEST", "FOCAL", "FOCUS", "FOG PATCH CONTR", "FONDA", "FONG", "FONT", "FORCE", "FORKS", "FOSDICK", "FOSS", "FOX", "FOXTROT TANGO", "FOXTROT WHISKEY", "FOXY", "FRANK", "FRATE", "FRAY", "FREDDY", "FREE", "FREEBIE", "FREEDOM", "FREEMASON", "FRIED CHICKEN", "FRISCO", "FRISK", "FROM", "FRONTIER CONTL", "FRONTLINE", "FROSTY", "FUJIN", "FUNGO", "FUNNY", "FURIOUS", "FUROR", "FURR", "FURY", "FUSS", "FYY", "GABBY", "GAF", "GAIN", "GAINER", "GALE", "GAM", "GAMBLE", "GAMMA RAY", "GANGSTER", "GARBY", "GASLIGHT", "GASPIPE", "GASSER", "GATOR", "GEKKO", "GELD", "GELT", "GEMINI", "GENUS", "GETUP", "GHOST", "GHOST WALKER", "GIANT KILLER", "GIANT TALK", "GILA", "GIN", "GLASS EYE", "GLOBAL", "GLUCOSE", "GNARLY", "GOAT", "GOBO", "GOLAN", "GOLD", "GOLD EAGLE", "GOLDENROD", "GOMER", "GONDOLA", "GOOD", "GOODY", "GOOFY", "GOPHER", "GORAL", "GORDO", "GOURD", "GRAMBY", "GRAND SLAM CTL", "GRAY EAGLE", "GRAY HAWK", "GRAY KNIGHT", "GREEN PINE", "GRIFFIN", "GRIMEY", "GRIP", "GRIZZLY", "GROAT", "GROUCH", "GROUP", "GROUT", "GROWL", "GROWN", "GRUB", "GRUMAN", "GRUMPY", "GRUNT", "GUARDIAN", "GUCCI", "GUDA", "GULL", "GUMBO", "GUN TRAIN", "GUNFIGHTER", "GUNRUNNER", "GUNSMOKE", "GUNTRAIN", "GUPPY", "GUSS", "GYPSY", "HACK", "HAF", "HAIL", "HAITI", "HAKE", "HAL", "HALIBUT", "HALL", "HALT", "HAMMER", "HAMPSHIRE", "HANGOVER", "HAPPY", "HAPPY HOUR", "HAPPY HUNTER", "HARDBALL", "HARDY", "HARLEY", "HARM", "HARMO", "HARPO", "HARPY", "HART", "HASSLE", "HAVOC", "HAWG", "HAWK", "HAWKEYE", "HEAD DANCER", "HEADCAP", "HEALER", "HEAT", "HELL CAT", "HELLION", "HEMPY", "HENRY", "HERC", "HERKY", "HERMA", "HERSHEY", "HEWIT", "HEWN", "HEWY", "HEXAD", "HIFI", "HIGH COUNTRY", "HIGH ROLLER", "HIGHTEST", "HIKE", "HILDA", "HIPPO", "HIPPY", "HIRAM", "HOBBY", "HOBO", "HOG", "HOGMAN", "HOIST", "HOKY", "HOLE", "HOMEPLATE", "HOMER", "HONK", "HOOK", "HOOPER", "HOOSIER", "HOPE", "HORNET", "HORSE", "HOSER", "HOSS", "HOTLIPS", "HOUND", "HOWEL", "HOWL", "HUEY", "HUGO", "HULA DANCER", "HUMMER", "HUN", "HUNT", "HUNTER", "HUNTRESS", "HURA", "HURC", "HURDS", "HURKY", "HURLY", "HURON", "HURRICANE", "HUSKER", "HUSKY", "HUSTLER", "HUTCH", "HYDRO", "HYMN", "IAF", "ICEMAN", "IDLER", "IDOL", "IGLOO", "IGUANA", "ILLINI", "IMPAC", "IMPACT", "IMPLY", "IMPY", "INDIA", "INDIAN", "INDY", "INKLE", "INSTIGATOR", "INTAC", "INTO", "IONIC", "IONS", "IOTA", "IRISH MIST", "IRON", "IRON MAN", "IRONROD", "IRONROD 1", "ISLAND RULER", "IVANHOE", "IVORY", "JABBA", "JACKPOT", "JADE", "JAKAL", "JAKE", "JAMBO", "JAMESON", "JDOG", "JAPE", "JAREM", "JASON", "JASPER", "JAVA", "JAW", "JAWS", "JAYHAWK", "JAZZ", "JEDI", "JEEP", "JENNY", "JERRY", "JERSEY", "JEST", "JESTER", "JIFFY", "JIGGS", "JIMMY", "JITTERBUG", "JIVE", "JOCK", "JOHN", "JOINT", "JOJO", "JOKER", "JOLLY", "JONAS", "JOSA", "JOSE", "JOSS", "JOYCE", "JUBA", "JUBY", "JUDGE", "JUDO", "JUICE", "JUMBO", "JUMP", "JUNE", "JUNIOR", "JUNK", "JUNO", "JURY", "JUST", "KALE", "KAPUT", "KARMA", "KATE", "KAYO", "KELP", "KELT", "KEMP", "KENNARD", "KENYA", "KETCH", "KEYSTONE", "KHARMA", "KICK", "KILLER", "KILN", "KILO", "KING", "KIOWA", "KIPPY", "KIRBY", "KIRK", "KISKA", "KIST", "KITE", "KITTY HAWK", "KLEENEX", "KNIFE", "KNIGHT", "KNIGHTRIDER", "KNOT", "KNOWN", "KOALA", "KOPEK", "KOTO", "KRILL", "KRUPA", "LACTOSE", "LAG", "LAITY", "LAKER", "LAMPO", "LANCE", "LANCER", "LANDO", "LANDSLIDE", "LANG", "LARADO", "LARK", "LARMA", "LARVA", "LAVA", "LEGAL", "LEHI", "LEICA", "LEMAY", "LENNA", "LEON", "LEOPARD", "LEPER", "LESTER", "LETHAL", "LETTERMAN", "LEVI", "LIBERTY", "LIBERTY STAR", "LIBRA", "LIDO", "LIFTER", "LIGHTNING", "LILY", "LIMA", "LINED", "LINFIELD", "LION", "LISA", "LITE", "LITZ", "LLOYD", "LOBO", "LOLLY", "LONE STAR", "LONE WOLF", "LONG FIRE", "LONG RIFLE", "LONGHORN", "LONNY", "LOOK", "LOOKING GLASS", "LOOP", "LOOSEFOOT", "LOPER", "LORNWOLF", "LOS", "LOT", "LOTTO", "LOUIE", "LOUT", "LUBO", "LUCKY", "LUGO", "LUMP", "LUNAR", "LUNDY", "LUSTY", "LYNX", "MACE", "MAFIA", "MAGIC", "MAGNET", "MAGNI", "MAGNOLIA", "MAGNUM", "MAGPIE", "MAILTRUCK", "MAINE", "MAINSAIL", "MAINSTAY", "MAJAN", "MAKO", "MALAN", "MALE", "MALTY", "MAMBY", "MANIAC", "MANTA", "MANX", "MAPES", "MAPLE", "MARATHON MARKET", "MARLIN", "MARS", "MARTA", "MASH", "MAST", "MASTADON", "MATH", "MATRA", "MAVERICK", "MAXIE", "MAY", "MAYO", "MAZDA", "McCOY", "MEDEVAC", "MEGA", "MELBA", "MELD", "MELLOW", "MELON", "MENDER", "MERCURY", "MERL", "MESQUITE", "METAL", "METMAN", "MIAMI MONITOR", "MIDAS", "MIDDLEGROUND", "MIG", "MILER", "MILESTONE", "MILL", "MILLER", "MIME CONTROL", "MIND", "MINE", "MINT", "MINTY", "MINUTEMAN", "MISSIONARY", "MISTY", "MITE", "MOBILE", "MOCKINGBIRD", "MOHAWK", "MOHO", "MOJO", "MOKIE", "MOLLY", "MONARCH", "MONGOL", "MONROE", "MONSTER", "MOOCH", "MOODY", "MOON", "MOOR", "MOOSE", "MOPE", "MOPED", "MOPUP", "MORE", "MORNING STAR", "MOTEL", "MOTOWN", "MOULD", "MOUNTAINEER", "MOURN", "MOUSE", "MOVER", "MOZLE", "MUDBUG", "MULL", "MURK", "MURKY", "MUROC", "MUSHROOM", "MUSIC", "MUSKET", "MUSTANG", "NAIL", "NALO", "NANCY", "NAPPY", "NATHE", "NATO", "NATRO", "NAVEL", "NEARS", "NEST", "NEVIN", "NEWLY", "NICKEL", "NIGHTHAWK", "NIGHTMARE", "NIGHTWATCH", "NINJA", "NIOBE", "NITER", "NITRATE", "NITRO", "NOAH", "NODAK", "NOMAD", "NOMEX", "NOON", "NOOSE", "NORSE", "NORTH", "NORTHERN LIGHTS", "NORTHWIND", "NORWEGIAN", "NOVA", "NOVAR", "NUCAR", "NUTMEG", "OAK", "OAKS", "OCEAN", "OCEAN LORD", "OCEANSIDE", "ODOUR", "OGRADY", "OHIO", "OILER", "OILGATE", "OKIE", "OLD", "OLD SALT", "OLDS", "OLMIS", "OLMOS", "OLSON", "OMAHA", "OMAR", "OMEGA", "ONYX", "OPBAT", "OPEC", "OPEN SKIES", "ORCA", "ORION", "ORKIN", "OSCAR", "OTIS", "OUTDO", "OUTLAW", "OUTRIDER", "OVERLORD", "OVERWORK", "PACER", "PACK", "PACOM", "PAGEBOY", "PAGUS", "PALL", "PAN HANDLE", "PANAMA", "PANSY", "PANTHER", "PANTS", "PAOLA", "PAPPY", "PARADISE", "PARDO", "PARROT", "PART", "PARTRIDGE CNTRL", "PARTS", "PASH", "PASHA", "PASS", "PASSWORD", "PASTY", "PAT", "PATCH", "PATIO", "PATLO", "PATSY", "PAVE", "PEACH", "PEAR", "PEDRO", "PEEWEE", "PELA", "PELICAN", "PENCE", "PEPSI", "PERCY", "PERK", "PERM", "PERMA", "PETE", "PETIT", "PETRO", "PHANTOM", "PHANTOM OPS", "PHILANDER", "PHOBIA", "PHOENIX", "PHONY", "PICKUP", "PICKY", "PICO", "PIGGY", "PIGPEN", "PIKES PEAK", "PIKESIDE", "PILGRIM", "PILOT", "PINBALL", "PINEAPPLE", "PINETREE", "PING PONG", "PINION", "PISTON", "PIT", "PIT STOP", "PITTS", "PIXIE", "PIZZA", "PLANT", "PLATE", "PLOD", "PLUSH", "POGO", "POKER", "POLAR", "POLE VAULTER", "POLECAT", "POLLY", "PONY", "POOK", "POPA", "POPPER", "POPPYA", "PORT CITY CNTRL", "POSEY", "POWER", "PRIDE", "PRIME BEEF", "PRIMO", "PRO", "PROCLAIM", "PROFILE", "PRONG", "PROPS", "PROSE", "PROUD EAGLE", "PROUD WARRIOR", "PROVO", "PUEBLO", "PUGET", "PULL", "PULSAR", "PURE", "PUSH", "PYOTE", "PYRAMID", "PYTHON", "QUAIL", "QUASAR", "QUEEN", "QUEST", "QUID", "QUIRT", "QUOTE", "QUOTH", "TACK", "TACO", "TAFFY", "TAKE", "TALC", "TALLY", "TALON", "TANGO", "TANGY", "TANK", "TAPE", "TAPER", "TARAGON", "TARTAN", "TASTY", "TATER", "TAZ", "TBOLT", "TEAL", "TEASE", "TEMPO", "TERMITE", "TERRY", "TESS", "TESTLINE", "TEX", "TEXACO", "TEXAS", "THINKER", "THOMAS", "THOR", "THREE GEESE", "THUD", "THUG", "THUMPER", "THUNDERBIRD", "TIER", "TIGER", "TIGERTAIL", "TIGRE", "TILE", "TIME", "TIMON", "TINSIL", "TIRE", "TITAN", "TOAD", "TOGA", "TOLER", "TOLL", "TOMCAT", "TOMMY", "TONER", "TONG", "TONIGHT", "TONUS", "TOPCAT", "TOPGUN", "TOPHAND", "TOPHAT", "TOPSOIL", "TORCH", "TORCO", "TOREADOR", "TORF", "TORY", "TOSA", "TOTAL", "TOTTY", "TOUCH", "TOUR", "TOWER", "TOXI", "TOXIC", "TRAILED", "TRAIN", "TRAP", "TRAVIS", "TRAW", "TRELD", "TREND", "TRIAL", "TRIBE", "TRICE", "TRIDENT", "TRIGGER", "TRILL", "TRIM", "TRIST", "TRITON", "TROCH", "TROIT", "TROLL", "TROMP", "TRON", "TROPIC AIR", "TROUBLESHOOTER", "TROUT", "TRUAX", "TRUCE", "TRUDY", "TRYST", "TUG", "TUGGER", "TULLY", "TULSA", "TUNE", "TUNER", "TUPPY", "TURBO", "TURF", "TURNER", "TUSK", "TUTTY", "UNCLE", "UNION", "UNSEW", "UNTIL", "UPSET", "UTAH", "UTTER", "VADER", "VAGUE", "VALOR", "VALVO", "VAMP", "VANDY", "VAPID", "VEGA", "VEIN", "VELVA", "VENOM", "VENUE", "VENUS", "VERSE", "VESPA", "VEST", "VETCH", "VETTE", "VICKI", "VICTOR", "VICTORY", "VIGA", "VIKING", "VINAL", "VINE", "VINO", "VIPER", "VIXEN", "VOID", "VOLVE", "VOLVO", "VOTE", "VOTER", "VULCAN", "VULTURE "] }, "./src/utils/immutable.ts": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.memoizeResult = t.memoize = t.shallowCompare = t.mapConverter = t.safeKeyBy = t.safeListMap = t.safeListConstruct = t.safeConstruct = void 0; var n = r("../../node_modules/immutable/dist/immutable.es.js"); function a(e, t) { return function (e, t) { return t instanceof e }(e, t) ? t : new e(t || void 0) } function o(e, t) { var r = []; return (Array.isArray(t) || n.List.isList(t)) && t.forEach(function (t) { r.push(a(e, t)) }), n.List(r) } t.safeConstruct = a, t.safeListConstruct = o, t.safeListMap = function (e, t) { return e ? Array.isArray(e) ? n.List(e.map(t)) : e.map(t) : n.List() }; var i = function (e, t) { return t.uid }; t.safeKeyBy = function (e, t) { var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : i; return t ? Array.isArray(t) || t instanceof n.List ? o(e, t).toMap().mapKeys(r) : n.Map(t).map(function (t) { return a(e, t) }) : n.List().toMap() }, t.mapConverter = function (e) { var t = n.Map(); return e && !n.default.isMap(e) && (t = n.Map(e)), t }; var c = Object.prototype.hasOwnProperty; function s(e, t) { return e === t ? 0 !== e || 1 / e == 1 / t : e != e && t != t } function u(e, t) { var r = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2]; if (r) { if (n.isImmutable(e)) return n.isImmutable(t) && e.equals(t); if (n.isImmutable(t)) return !1 } if (s(e, t)) return !0; if ("object" != typeof e || null === e || "object" != typeof t || null === t) return !1; var a = Object.keys(e), o = Object.keys(t); if (a.length !== o.length) return !1; for (var i = 0; i < a.length; i += 1)if (!c.call(t, a[i]) || !s(e[a[i]], t[a[i]])) return !1; return !0 } function l(e) { var t, r = void 0; return function () { for (var n = arguments.length, a = new Array(n), o = 0; o < n; o++)a[o] = arguments[o]; return null !== r && u(a, r) || (t = e.apply(void 0, a), r = a), t } } t.shallowCompare = u, t.memoize = l, t.memoizeResult = function (e) { var t; return l(function () { var r = e.apply(void 0, arguments); return u(t, r, !0) || (t = r), t }) } }, "./src/utils/index.ts": function (e, t, r) { "use strict"; var n = this && this.__createBinding || (Object.create ? function (e, t, r, n) { void 0 === n && (n = r), Object.defineProperty(e, n, { enumerable: !0, get: function () { return t[r] } }) } : function (e, t, r, n) { void 0 === n && (n = r), e[n] = t[r] }), a = this && this.__exportStar || function (e, t) { for (var r in e) "default" === r || Object.prototype.hasOwnProperty.call(t, r) || n(t, e, r) }; Object.defineProperty(t, "__esModule", { value: !0 }), t.Service = void 0, a(r("./src/utils/blob.ts"), t), a(r("./src/utils/collections.ts"), t), a(r("./src/utils/colorUtils.ts"), t), a(r("./src/utils/coordinateUtils.ts"), t), a(r("./src/utils/events.ts"), t), a(r("./src/utils/fileUtils.ts"), t), a(r("./src/utils/functional.ts"), t), a(r("./src/utils/getRandomCallsign.ts"), t), a(r("./src/utils/immutable.ts"), t), a(r("./src/utils/levenshtein.ts"), t), a(r("./src/utils/request.ts"), t), a(r("./src/utils/safelyHandle.ts"), t), a(r("./src/utils/Service.ts"), t); var o = r("./src/utils/Service.ts"); Object.defineProperty(t, "Service", { enumerable: !0, get: function () { return o.default } }), a(r("./src/utils/sorting.ts"), t), a(r("./src/utils/tasks.ts"), t), a(r("./src/utils/uuid.ts"), t), a(r("./src/utils/validate.ts"), t), a(r("./src/utils/validation.ts"), t), a(r("./src/utils/xml.ts"), t) }, "./src/utils/levenshtein.ts": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.levenshtein = void 0, t.levenshtein = function (e, t) { var r = e.length, n = t.length, a = r + 1, o = n + 1, i = Array(a); if (0 === r) return n; if (0 === n) return r; for (var c = 0; c < a; c += 1)i[c] = Array(o), i[c][0] = c; for (var s = 0; s < o; s += 1)i[0][s] = s; for (var u = 1; u <= r; u += 1)for (var l = e.charAt(u - 1), f = 1; f <= n; f += 1) { if (u === f && i[u][f] > 4) return r; var d = t.charAt(f - 1), p = l === d ? 0 : 1; i[u][f] = Math.min(i[u - 1][f] + 1, i[u][f - 1] + 1, i[u - 1][f - 1] + p), u > 1 && f > 1 && l === t.charAt(f - 2) && e.charAt(u - 2) === d && (i[u][f] = Math.min(i[u][f], i[u - 2][f - 2] + p)) } return i[r][n] } }, "./src/utils/request.ts": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.sanitizeURL = t.isLocalhost = t.generateRequestUrl = t.parseQueryParam = t.encodeParam = t.parseJSON = t.get = void 0; var n = {}; function a(e, t) { return Array.isArray(t) ? t.map(function (t, r) { return a("" + e, t) }).join("&") : t instanceof Object ? Object.keys(t).map(function (r) { return a("".concat(e, "[").concat(r, "]"), t[r]) }).join("&") : "".concat(e, "=").concat(encodeURIComponent(String(t))) } function o(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r = {}; Object.keys(t).forEach(function (e) { var n = t[e]; (n || 0 === n) && (r[e] = n) }); var n = Object.keys(r).map(function (e) { return a(e, r[e]) }); return n.length ? "".concat(e, "?").concat(n.join("&")) : e } t.get = function (e, t) { var r = o(e, t); return n[r] || (n[r] = new Promise(function () { var e = u(s.mark(function e(t, a) { var o, i; return s.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.prev = 0, e.next = 3, fetch(r, { method: "GET", mode: "no-cors" }); case 3: return o = e.sent, e.next = 6, o.text(); case 6: i = e.sent, delete n[r], t(i), e.next = 13; break; case 10: e.prev = 10, e.t0 = e.catch(0), a(e.t0); case 13: case "end": return e.stop() } }, e, null, [[0, 10]]) })); return function (t, r) { return e.apply(this, arguments) } }())), n[r] }, t.parseJSON = function () { var e = u(s.mark(function e(t) { return s.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if ("string" != typeof t) { e.next = 4; break } e.t0 = JSON.parse(t), e.next = 12; break; case 4: if (!(t instanceof Response)) { e.next = 8; break } e.t1 = t.json(), e.next = 11; break; case 8: return e.next = 10, Promise.resolve(t).then(function (e) { return "string" == typeof e ? JSON.parse(e) : e.json() }); case 10: e.t1 = e.sent; case 11: e.t0 = e.t1; case 12: return e.abrupt("return", e.t0); case 13: case "end": return e.stop() } }, e) })); return function (t) { return e.apply(this, arguments) } }(), t.encodeParam = a, t.parseQueryParam = function (e) { e = e.replace(/&amp;/g, "&"); for (var t = {}, r = new URL(e).search, n = ("?" === r[0] ? r.substr(1) : r).split("&"), a = 0; a < n.length; a++) { var o = n[a].split("="); t[decodeURIComponent(o[0])] = decodeURIComponent(o[1] || "") } return t }, t.generateRequestUrl = o, t.isLocalhost = function () { var e = "localhost" === self.location.hostname, t = "[::1]" === self.location.hostname, r = self.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/); return e || t || r }, t.sanitizeURL = function (e) { return e.replace(/([^:])(\/\/+)/g, "$1/") } }, "./src/utils/safelyHandle.ts": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.safelyHandle = void 0, t.safelyHandle = function (e) { var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1], r = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2]; return function (n) { for (var a = arguments.length, o = new Array(a > 1 ? a - 1 : 0), i = 1; i < a; i++)o[i - 1] = arguments[i]; n && (t && "function" == typeof n.preventDefault && n.preventDefault(), r && "function" == typeof n.stopPropagation && n.stopPropagation()), "function" == typeof e && e.apply(void 0, [n].concat(o)) } } }, "./src/utils/sorting.ts": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.naturalSort = t.alphaSort = t.SortDirection = void 0, function (e) { e[e.NONE = 0] = "NONE", e[e.DESC = -1] = "DESC", e[e.ASC = 1] = "ASC" }(t.SortDirection || (t.SortDirection = {})), t.alphaSort = function (e, t) { var r = String(e).toLowerCase(), n = String(t).toLowerCase(); return r > n ? 1 : n > r ? -1 : 0 }, t.naturalSort = function (e, t) { return e > t ? 1 : t > e ? -1 : 0 } }, "./src/utils/tasks.ts": function (e, t, r) { "use strict"; function n(e) { var t = setTimeout(e, 0); return function () { return clearTimeout(t) } } Object.defineProperty(t, "__esModule", { value: !0 }), t.debounce = t.throttleFrame = t.throttle = t.queueMicroTask = t.queueTask = void 0, t.queueTask = n, t.queueMicroTask = function (e) { var t = !1; return Promise.resolve().then(function () { t || e() }), function () { t = !0 } }, t.throttle = function (e) { var t, r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 50, a = !1, o = !1; return function c() { for (var s = arguments.length, u = new Array(s), l = 0; l < s; l++)u[l] = arguments[l]; t = u, a ? o = !0 : (n(function () { return e.apply(void 0, i(t)) }), a = !0, setTimeout(function () { a = !1, o && (o = !1, c.apply(void 0, i(t))) }, r)) } }, t.throttleFrame = function (e) { var t, r = null; return function () { for (var n = arguments.length, a = new Array(n), o = 0; o < n; o++)a[o] = arguments[o]; t = a, null === r && (r = requestAnimationFrame(function () { e.apply(void 0, i(t)), r = null })) } }, t.debounce = function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 50, r = null; return function () { for (var n = arguments.length, a = new Array(n), o = 0; o < n; o++)a[o] = arguments[o]; null !== r && (clearTimeout(r), r = null), r = setTimeout(function () { e.apply(void 0, a), r = null }, t) } } }, "./src/utils/uuid.ts": function (e, t, r) { "use strict"; function n() { return Math.floor(65536 * (1 + Math.random())).toString(16).substring(1) } Object.defineProperty(t, "__esModule", { value: !0 }), t.uuid = void 0, t.uuid = function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : -1; if (-1 === e) return "".concat(n()).concat(n(), "-").concat(n(), "-").concat(n(), "-").concat(n(), "-").concat(n()).concat(n()).concat(n()); for (var t = ""; t.length < e;)t += n(); return t.substring(0, e) } }, "./src/utils/validate.ts": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.validate = void 0, t.validate = function (e, t) { return e.every(function (e) { return e(t) }) } }, "./src/utils/validation.ts": function (e, t, r) { "use strict"; function n(e) { return void 0 === e } function a(e) { return "function" == typeof e } function o(e) { return "string" == typeof e } function i(e) { return "number" == typeof e && !isNaN(e) } function c(e) { return i(e) && !Number.isNaN(e) && e >= -90 && e <= 90 } function s(e) { return i(e) && !Number.isNaN(e) && e >= -180 && e <= 180 } Object.defineProperty(t, "__esModule", { value: !0 }), t.fail = t.pass = t.isPoint = t.isCoordinate = t.isLongitude = t.isLatitude = t.isValidDuration = t.isNonEmptyString = t.isObject = t.isNumber = t.isString = t.isFunction = t.isBool = t.isNull = t.isUndefined = t.isOneOf = t.isOptional = t.isNullable = t.isInstanceOf = t.isEnumMember = void 0, t.isEnumMember = function (e) { return function (t) { return !!e && void 0 !== t && -1 !== Object.values(e).indexOf(t) } }, t.isInstanceOf = function (e) { return function (t) { return !!t && t instanceof e } }, t.isNullable = function (e) { if (!a(e)) throw new Error("isNullable first argument must be a validator function."); return function (t) { return null === t || e(t) } }, t.isOptional = function (e) { if (!a(e)) throw new Error("isOptional first argument must be a validator function."); return function (t) { return void 0 === t || e(t) } }, t.isOneOf = function (e, t, r) { if (!a(e)) throw new Error("isOneOf first argument must be a validator function."); if (void 0 !== t && !a(t)) throw new Error("isOneOf second argument must be a validator function if provided."); if (void 0 !== r && !a(r)) throw new Error("isOneOf third argument must be a validator function if provided."); return function (n) { var a = [e]; return t && a.push(t), r && a.push(r), a.some(function (e) { return e(n) }) } }, t.isUndefined = n, t.isNull = function (e) { return null === e }, t.isBool = function (e) { return "boolean" == typeof e }, t.isFunction = a, t.isString = o, t.isNumber = i, t.isObject = function (e) { return !!e && "object" == typeof e }, t.isNonEmptyString = function (e) { return o(e) && !!e.length }, t.isValidDuration = function (e) { return i(e) && e >= 0 }, t.isLatitude = c, t.isLongitude = s, t.isCoordinate = function (e) { return Array.isArray(e) && 2 === e.length && s(e[0]) && c(e[1]) }, t.isPoint = function (e) { return !!e && s(e.lon) && c(e.lat) && (n(e.ce) || i(e.ce)) && (n(e.le) || i(e.le)) && (n(e.hae) || i(e.hae)) }, t.pass = function (e) { return !0 }, t.fail = function (e) { return !1 } }, "./src/utils/xml.ts": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.toXML = t.fromXML = t.HEADER = t.XML_ATTRIBUTE_KEY = t.XML_TEXT_KEY = void 0; var n = r("../../node_modules/fast-xml-parser/src/parser.js"), a = r("../../node_modules/he/he.js"); t.XML_TEXT_KEY = "#text", t.XML_ATTRIBUTE_KEY = "#attr"; var o = { attributeNamePrefix: "", attrNodeName: t.XML_ATTRIBUTE_KEY, textNodeName: t.XML_TEXT_KEY, ignoreAttributes: !1, allowBooleanAttributes: !0, parseNodeValue: !0, parseAttributeValue: !0, parseTrueNumberOnly: !0, trimValues: !0, attrValueProcessor: function (e) { return a.decode(e, { isAttributeValue: !0 }) }, tagValueProcessor: function (e) { return a.decode(e) } }, i = new n.j2xParser(o); function s(e) { var r = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]; if (!e || "object" != typeof e) return l({}, t.XML_TEXT_KEY, e); var n = r ? {} : e; return Object.entries(e).map(function (e) { var a = c(e, 2), o = a[0], i = a[1]; o === t.XML_ATTRIBUTE_KEY ? n[o] = r ? O({}, i) : i : o === t.XML_TEXT_KEY ? n[o] = i : null === i || "object" != typeof i ? n[o] = l({}, t.XML_TEXT_KEY, i) : Array.isArray(i) ? n[o] = i.map(function (e) { return s(e, r) }) : n[o] = s(i, r) }), n } t.HEADER = '<?xml version="1.0" encoding="UTF-8"?>', t.fromXML = function (e) { var r = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]; return s(r ? n.parse("".concat(t.HEADER).concat(e), o) : n.parse(e, o), !1) }, t.toXML = function (e) { var r = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]; return r ? "".concat(t.HEADER).concat(i.parse(s(e, !0))) : i.parse(s(e, !0)) } } }) }, e.exports = n() }, function (e, t, r) { "use strict"; var n = r(19); r.o(n, "animated") && r.d(t, "animated", function () { return n.animated }), r.o(n, "config") && r.d(t, "config", function () { return n.config }), r.o(n, "useSpring") && r.d(t, "useSpring", function () { return n.useSpring }) }, function (e, t) { e.exports = a }, function (e, t, r) { "use strict"; r.d(t, "a", function () { return a }); var n = r(0), a = "undefined" != typeof window && window.document && window.document.createElement ? n.useLayoutEffect : n.useEffect }, function (e, t, r) { "use strict"; r.d(t, "g", function () { return a }), r.d(t, "a", function () { return o }), r.d(t, "d", function () { return i }), r.d(t, "f", function () { return c }), r.d(t, "e", function () { return s }), r.d(t, "b", function () { return u }), r.d(t, "h", function () { return l }), r.d(t, "c", function () { return f }); var n = r(4), a = function () { }, o = function (e, t, r) { return Object.defineProperty(e, t, { value: r, writable: !0, configurable: !0 }) }, i = { arr: Array.isArray, obj: function (e) { return !!e && "Object" === e.constructor.name }, fun: function (e) { return "function" == typeof e }, str: function (e) { return "string" == typeof e }, num: function (e) { return "number" == typeof e }, und: function (e) { return void 0 === e } }; function c(e, t) { if (i.arr(e)) { if (!i.arr(t) || e.length !== t.length) return !1; for (var r = 0; r < e.length; r++)if (e[r] !== t[r]) return !1; return !0 } return e === t } var s = function (e) { return i.str(e) && ("#" == e[0] || /\d/.test(e) || !(!n.colorNames || !n.colorNames[e])) }, u = function (e, t, r) { i.fun(e.forEach) ? e.forEach(t, r) : Object.keys(e).forEach(function (n) { return t.call(r, e[n], n) }) }, l = function (e) { return i.und(e) ? [] : i.arr(e) ? e : [e] }; function f(e, t) { if (e.size) { var r = Array.from(e); e.clear(), u(r, t) } } }, function (e, t, r) { "use strict"; r.d(t, "config", function () { return j }), r.d(t, "useSpring", function () { return Ae }); var n = r(10), a = r(1); r.d(t, "Globals", function () { return a.Globals }); var l = r(3), y = r(0), E = r(5), O = r(4), w = r(17), A = r(18), C = r(6), T = r(16); r(23); var j = { default: { tension: 170, friction: 26 }, gentle: { tension: 120, friction: 14 }, wobbly: { tension: 180, friction: 12 }, stiff: { tension: 210, friction: 20 }, slow: { tension: 280, friction: 60 }, molasses: { tension: 280, friction: 120 } }, k = Object(l.a)(Object(l.a)({}, j.default), {}, { mass: 1, damping: 1, easing: function (e) { return e }, clamp: !1 }), R = function e() { v(this, e), this.tension = void 0, this.friction = void 0, this.frequency = void 0, this.damping = void 0, this.mass = void 0, this.velocity = 0, this.restVelocity = void 0, this.precision = void 0, this.progress = void 0, this.duration = void 0, this.easing = void 0, this.clamp = void 0, this.bounce = void 0, this.decay = void 0, this.round = void 0, Object.assign(this, k) }; function N(e, t) { if (a.is.und(t.decay)) { var r = !a.is.und(t.tension) || !a.is.und(t.friction); !r && a.is.und(t.frequency) && a.is.und(t.damping) && a.is.und(t.mass) || (e.duration = void 0, e.decay = void 0), r && (e.frequency = void 0) } else e.duration = void 0 } var L = [], _ = function e() { v(this, e), this.changed = !1, this.values = L, this.toValues = null, this.fromValues = L, this.to = void 0, this.from = void 0, this.config = new R, this.immediate = !1, this.onStart = void 0, this.onChange = void 0, this.onRest = [] }, I = function (e, t) { return Object(w.b)(e, t || [{}]) }; function M(e) { for (var t = arguments.length, r = new Array(t > 1 ? t - 1 : 0), n = 1; n < t; n++)r[n - 1] = arguments[n]; return a.is.fun(e) ? e.apply(void 0, r) : e } var x = function (e, t) { return !0 === e || !!(t && e && (a.is.fun(e) ? e(t) : Object(a.toArray)(e).includes(t))) }, D = function (e, t, r) { return e && (a.is.fun(e) ? e(t, r) : a.is.arr(e) ? e[t] : Object(l.a)({}, e)) }, P = function (e, t) { return !0 === e.default ? e[t] : e.default ? e.default[t] : void 0 }, U = function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [], r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, n = B; e.default && !0 !== e.default && (e = e.default, n = Object.keys(e)); var o, i = b(n); try { for (i.s(); !(o = i.n()).done;) { var c = o.value, s = e[c]; a.is.und(s) || t.includes(c) || (r[c] = s) } } catch (u) { i.e(u) } finally { i.f() } return r }, B = ["pause", "cancel", "config", "immediate", "onDelayEnd", "onProps", "onStart", "onChange", "onRest"], F = { config: 1, from: 1, to: 1, ref: 1, loop: 1, reset: 1, pause: 1, cancel: 1, reverse: 1, immediate: 1, default: 1, delay: 1, onDelayEnd: 1, onProps: 1, onStart: 1, onChange: 1, onRest: 1, items: 1, trail: 1, sort: 1, expires: 1, initial: 1, enter: 1, update: 1, leave: 1, children: 1, keys: 1, callId: 1, parentId: 1 }; function V(e) { var t = function (e) { var t = {}, r = 0; if (Object(a.each)(e, function (e, n) { F[n] || (t[n] = e, r++) }), r) return t }(e); if (t) { var r = { to: t }; return Object(a.each)(e, function (e, n) { return n in t || (r[n] = e) }), r } return Object(l.a)({}, e) } function H(e) { var t = Object(a.getFluidConfig)(e); return t ? H(t.get()) : a.is.arr(e) ? e.map(H) : Object(a.isAnimatedString)(e) ? Object(O.createStringInterpolator)({ range: [0, 1], output: [e, e] })(1) : e } function G(e, t) { var r = t.key, n = t.props, o = t.state, i = t.actions; return new Promise(function (t, c) { var s, u, f = !1, d = x(n.cancel, r); function p() { o.resumeQueue.add(m), u.cancel(), s = u.time - a.Globals.now() } function m() { s > 0 ? (o.pauseQueue.add(p), u = a.Globals.frameLoop.setTimeout(h, s)) : h() } function h() { o.pauseQueue.delete(p), e <= (o.cancelId || 0) && (d = !0); try { i.start(Object(l.a)(Object(l.a)({}, n), {}, { callId: e, delay: s, cancel: d, pause: f }), t) } catch (e) { c(e) } } d ? h() : (s = M(n.delay || 0, r), (f = x(n.pause, r)) ? (o.resumeQueue.add(m), i.pause()) : (i.resume(), m())) }) } var q = function (e, t) { return 1 == t.length ? t[0] : t.some(function (e) { return e.cancelled }) ? Y(e) : t.every(function (e) { return e.noop }) ? K(e) : z(e, t.every(function (e) { return e.finished })) }, K = function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : e.get(); return { value: t, noop: !0, finished: !0, target: e } }, z = function (e, t) { var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : e.get(); return { value: r, finished: t, target: e } }, Y = function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : e.get(); return { value: t, cancelled: !0, target: e } }; function W(e, t, r, n) { return X.apply(this, arguments) } function X() { return (X = u(s.mark(function e(t, r, n, o) { var i, c, f, d, p; return s.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (e.t0 = r.pause, !e.t0) { e.next = 4; break } return e.next = 4, new Promise(function (e) { n.resumeQueue.add(e) }); case 4: return i = r.callId, c = r.parentId, f = r.onRest, d = n.asyncTo, p = n.promise, e.abrupt("return", c || t !== d || r.reset ? n.promise = u(s.mark(function e() { var m, h, v, g, y, E, S, w, A; return s.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return n.asyncId = i, n.asyncTo = t, m = U(r, ["onRest"]), g = new Promise(function (e, t) { return h = e, v = t }), y = function (e) { var t = i <= (n.cancelId || 0) && Y(o) || i !== n.asyncId && z(o, !1); if (t) throw e.result = t, e }, S = function (e, t) { var r = new Z; y(r); var c = a.is.obj(e) ? Object(l.a)({}, e) : Object(l.a)(Object(l.a)({}, t), {}, { to: e }); return c.parentId = i, Object(a.each)(m, function (e, t) { a.is.und(c[t]) && (c[t] = e) }), o.start(c).then(function () { var e = u(s.mark(function e(t) { return s.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (y(r), e.t0 = o.is("PAUSED"), !e.t0) { e.next = 5; break } return e.next = 5, new Promise(function (e) { n.resumeQueue.add(e) }); case 5: return e.abrupt("return", t); case 6: case "end": return e.stop() } }, e) })); return function (t) { return e.apply(this, arguments) } }()) }, E = function () { var e = function (e) { throw e instanceof Z && v(e), e }; try { return S.apply(void 0, arguments).catch(e) } catch (t) { e(t) } }, e.prev = 3, a.is.arr(t) ? A = function () { var e = u(s.mark(function e(t) { var r, n, a; return s.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: r = b(t), e.prev = 1, r.s(); case 3: if ((n = r.n()).done) { e.next = 9; break } return a = n.value, e.next = 7, E(a); case 7: e.next = 3; break; case 9: e.next = 14; break; case 11: e.prev = 11, e.t0 = e.catch(1), r.e(e.t0); case 14: return e.prev = 14, r.f(), e.finish(14); case 17: case "end": return e.stop() } }, e, null, [[1, 11, 14, 17]]) })); return function (t) { return e.apply(this, arguments) } }()(t) : a.is.fun(t) && (A = Promise.resolve(t(E, o.stop.bind(o)))), e.next = 7, Promise.all([A.then(h), g]); case 7: w = z(o, !0), e.next = 15; break; case 10: if (e.prev = 10, e.t0 = e.catch(3), e.t0 instanceof Z) { e.next = 14; break } throw e.t0; case 14: w = e.t0.result; case 15: return e.prev = 15, i == n.asyncId && (n.asyncId = c, n.asyncTo = c ? d : void 0, n.promise = c ? p : void 0), e.finish(15); case 18: return e.abrupt("return", (a.is.fun(f) && Object(O.batchedUpdates)(function () { f(w) }), w)); case 19: case "end": return e.stop() } }, e, null, [[3, 10, 15, 18]]) }))() : p); case 6: case "end": return e.stop() } }, e) }))).apply(this, arguments) } function J(e, t) { e.cancelId = t, e.asyncId = e.asyncTo = e.promise = void 0 } var Z = function (e) { p(r, e); var t = S(r); function r() { var e; return v(this, r), (e = t.call(this, "An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")).result = void 0, e } return r }(o(Error)), Q = function (e) { return e instanceof ee }, $ = 1, ee = function (e) { p(r, e); var t = S(r); function r() { var e; v(this, r); for (var n = arguments.length, a = new Array(n), o = 0; o < n; o++)a[o] = arguments[o]; return (e = t.call.apply(t, [this].concat(a))).id = $++, e.key = void 0, e._priority = 0, e._children = new Set, e } return g(r, [{ key: "priority", get: function () { return this._priority }, set: function (e) { this._priority != e && (this._priority = e, this._onPriorityChange(e)) } }, { key: "get", value: function () { var e = Object(E.f)(this); return e && e.getValue() } }, { key: "to", value: function () { for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++)t[r] = arguments[r]; return Object(O.to)(this, t) } }, { key: "interpolate", value: function () { for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++)t[r] = arguments[r]; return Object(A.a)(), Object(O.to)(this, t) } }, { key: "addChild", value: function (e) { this._children.size || this._attach(), this._children.add(e) } }, { key: "removeChild", value: function (e) { this._children.delete(e), this._children.size || this._detach() } }, { key: "onParentChange", value: function (e) { var t = e.type; this.idle ? "start" == t && (this._reset(), this._start()) : "reset" == t && this._reset() } }, { key: "_attach", value: function () { } }, { key: "_detach", value: function () { } }, { key: "_reset", value: function () { this._emit({ type: "reset", parent: this }) } }, { key: "_start", value: function () { this._emit({ type: "start", parent: this }) } }, { key: "_onChange", value: function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]; this._emit({ type: "change", parent: this, value: e, idle: t }) } }, { key: "_onPriorityChange", value: function (e) { this.idle || O.frameLoop.start(this), this._emit({ type: "priority", parent: this, priority: e }) } }, { key: "_emit", value: function (e) { Object(a.each)(Array.from(this._children), function (t) { t.onParentChange(e) }) } }]), r }(a.FluidValue), te = "ACTIVE", re = function (e) { p(r, e); var t = S(r); function r(e, n) { var o; if (v(this, r), (o = t.call(this)).key = void 0, o.animation = new _, o.queue = void 0, o._phase = "CREATED", o._state = { pauseQueue: new Set, resumeQueue: new Set }, o._defaultProps = {}, o._lastCallId = 0, o._lastToId = 0, !a.is.und(e) || !a.is.und(n)) { var i = a.is.obj(e) ? Object(l.a)({}, e) : Object(l.a)(Object(l.a)({}, n), {}, { from: e }); i.default = !0, o.start(i) } return m(o) } return g(r, [{ key: "idle", get: function () { return !this.is(te) && !this._state.asyncTo } }, { key: "goal", get: function () { return Object(a.getFluidValue)(this.animation.to) } }, { key: "velocity", get: function () { var e = Object(E.f)(this); return e instanceof E.d ? e.lastVelocity || 0 : e.getPayload().map(function (e) { return e.lastVelocity || 0 }) } }, { key: "advance", value: function (e) { var t = this, r = !0, n = !1, o = this.animation, i = o.config, c = o.toValues, s = Object(E.g)(o.to); if (!s) { var u = Object(a.getFluidConfig)(o.to); u && (c = Object(a.toArray)(u.get())) } return o.values.forEach(function (u, l) { if (!u.done) { var f = s ? s[l].lastPosition : c[l], d = o.immediate, p = f; if (!d) { if (p = u.lastPosition, i.tension <= 0) return void (u.done = !0); var m, h = u.elapsedTime += e, v = o.fromValues[l], g = null != u.v0 ? u.v0 : u.v0 = a.is.arr(i.velocity) ? i.velocity[l] : i.velocity; if (a.is.und(i.duration)) if (i.decay) { var b = !0 === i.decay ? .998 : i.decay, y = Math.exp(-(1 - b) * h); p = v + g / (1 - b) * (1 - y), d = Math.abs(u.lastPosition - p) < .1, m = g * y } else { m = null == u.lastVelocity ? g : u.lastVelocity; for (var E = i.precision || (v == f ? .005 : Math.min(1, .001 * Math.abs(f - v))), O = i.restVelocity || E / 10, S = i.clamp ? 0 : i.bounce, w = !a.is.und(S), A = v == f ? u.v0 > 0 : v < f, C = Math.ceil(e / 1), T = 0; T < C && (Math.abs(m) > O || !(d = Math.abs(f - p) <= E)); ++T)w && (p == f || p > f == A) && (m = -m * S, p = f), m += (1e-6 * -i.tension * (p - f) + .001 * -i.friction * m) / i.mass * 1, p += 1 * m } else { var j = i.progress || 0; i.duration <= 0 ? j = 1 : j += (1 - j) * Math.min(1, h / i.duration), p = v + i.easing(j) * (f - v), m = (p - u.lastPosition) / e, d = 1 == j } u.lastVelocity = m, Number.isNaN(p) && (console.warn("Got NaN while animating:", t), d = !0) } s && !s[l].done && (d = !1), d ? u.done = !0 : r = !1, u.setValue(p, i.round) && (n = !0) } }), r ? this.finish() : n && this._onChange(this.get()), r } }, { key: "is", value: function (e) { return this._phase == e } }, { key: "set", value: function (e) { var t = this; return Object(O.batchedUpdates)(function () { if (t._focus(e), t._set(e) && !t.is(te)) return t._onChange(t.get(), !0); t._stop() }), this } }, { key: "pause", value: function () { ne(this, "pause"), this.is("PAUSED") || (this._phase = "PAUSED", Object(a.flush)(this._state.pauseQueue, function (e) { return e() })) } }, { key: "resume", value: function () { ne(this, "resume"), this.is("PAUSED") && (this._start(), Object(a.flush)(this._state.resumeQueue, function (e) { return e() })) } }, { key: "finish", value: function (e) { var t = this; if (this.resume(), this.is(te)) { var r = this.animation; !r.config.decay && a.is.und(e) && (e = r.to), a.is.und(e) || this._set(e), Object(O.batchedUpdates)(function () { r.changed || (r.changed = !0, r.onStart && r.onStart(t)), t._stop() }) } return this } }, { key: "update", value: function (e) { return ne(this, "update"), (this.queue || (this.queue = [])).push(e), this } }, { key: "start", value: function () { var e = u(s.mark(function e(t, r) { var n, o, i = this; return s.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return ne(this, "start"), a.is.und(t) ? (n = this.queue || [], this.queue = []) : n = [a.is.obj(t) ? t : Object(l.a)(Object(l.a)({}, r), {}, { to: t })], e.next = 3, Promise.all(n.map(function (e) { return i._update(e) })); case 3: return o = e.sent, e.abrupt("return", q(this, o)); case 5: case "end": return e.stop() } }, e, this) })); return function (t, r) { return e.apply(this, arguments) } }() }, { key: "stop", value: function (e) { var t = this; return this.is("DISPOSED") || (J(this._state, this._lastCallId), this._focus(this.get()), Object(O.batchedUpdates)(function () { return t._stop(e) })), this } }, { key: "reset", value: function () { this._update({ reset: !0 }) } }, { key: "dispose", value: function () { this.is("DISPOSED") || (this.animation && (this.animation.onRest = []), this.stop(), this._phase = "DISPOSED") } }, { key: "onParentChange", value: function (e) { d(h(r.prototype), "onParentChange", this).call(this, e), "change" == e.type ? this.is(te) || (this._reset(), this.is("PAUSED") || this._start()) : "priority" == e.type && (this.priority = e.priority + 1) } }, { key: "_prepareNode", value: function (e) { var t = e.to, r = e.from, n = e.reverse, o = this.key || "", i = { to: t = !a.is.obj(t) || Object(a.getFluidConfig)(t) ? t : t[o], from: r = !a.is.obj(r) || Object(a.getFluidConfig)(r) ? r : r[o] }; if (this.is("CREATED")) { var c; n && (t = (c = [r, t])[0], r = c[1]), r = Object(a.getFluidValue)(r); var s = this._updateNode(a.is.und(r) ? Object(a.getFluidValue)(t) : r); s && !a.is.und(r) && s.setValue(r) } return i } }, { key: "_updateNode", value: function (e) { var t = Object(E.f)(this); if (!a.is.und(e)) { var r = this._getNodeType(e); t && t.constructor === r || Object(E.h)(this, t = r.create(e)) } return t } }, { key: "_getNodeType", value: function (e) { var t = Object(E.f)(e); return t ? t.constructor : a.is.arr(e) ? E.a : Object(a.isAnimatedString)(e) ? E.c : E.d } }, { key: "_update", value: function (e, t) { var r = this, n = this._defaultProps, o = function (t) { var r = P(e, t); a.is.und(r) || (n[t] = r), n[t] && (e[t] = n[t]) }; o("cancel"), o("pause"); var i = this._prepareNode(e); return G(++this._lastCallId, { key: this.key, props: e, state: this._state, actions: { pause: this.pause.bind(this), resume: this.resume.bind(this), start: this._merge.bind(this, i) } }).then(function (n) { if (e.loop && n.finished && (!t || !n.noop)) { var a = ie(e); if (a) return r._update(a, !0) } return n }) } }, { key: "_merge", value: function (e, t, r) { var n; if (t.cancel) return this.stop(!0), r(Y(this)); var o = this.key, i = this.animation, c = this._defaultProps, s = !a.is.und(e.to), u = !a.is.und(e.from); if (s || u) { if (!(t.callId > this._lastToId)) return r(Y(this)); this._lastToId = t.callId } var f = function (e) { return a.is.und(t[e]) ? c[e] : t[e] }, d = ae(f("onDelayEnd"), o); d && d(t, this), t.default && function (e, t, r) { U(t, ["pause", "cancel"], e) }(c, t); var p = i.to, m = i.from, h = e.to, v = void 0 === h ? p : h, g = e.from, b = void 0 === g ? m : g; u && !s && (v = b), t.reverse && (v = (n = [b, v])[0], b = n[1]); var y = !Object(a.isEqual)(b, m); y && (i.from = b); var S = !Object(a.isEqual)(v, p); S && this._focus(v); var w = Object(a.getFluidConfig)(v), A = Object(a.getFluidConfig)(b); A && (b = A.get()); var C = a.is.arr(t.to) || a.is.fun(t.to), T = i.config, j = T.decay, R = T.velocity; t.config && !C && function (e, t, r) { for (var n in r && (N(r = Object(l.a)({}, r), t), t = Object(l.a)(Object(l.a)({}, r), t)), N(e, t), Object.assign(e, t), k) null == e[n] && (e[n] = k[n]); var o = e.mass, i = e.frequency, c = e.damping; a.is.und(i) || (i < .01 && (i = .01), c < 0 && (c = 0), e.tension = Math.pow(2 * Math.PI / i, 2) * o, e.friction = 4 * Math.PI * c * o / i) }(T, M(t.config, o), t.config !== c.config ? M(c.config, o) : void 0); var L = Object(E.f)(this); if (!L || a.is.und(v)) return r(z(this, !0)); var _ = a.is.und(t.reset) ? u && !t.default : !a.is.und(b) && x(t.reset, o), I = _ ? b : this.get(), D = H(v), P = a.is.num(D) || a.is.arr(D) || Object(a.isAnimatedString)(D), B = !C && (!P || x(c.immediate || t.immediate, o)); if (S) if (B) L = this._updateNode(D); else { var F = this._getNodeType(v); if (F !== L.constructor) throw Error("Cannot animate between " + L.constructor.name + " and " + F.name + ', as the "to" prop suggests') } var V = L.constructor, G = !!w, q = !1; if (!G) { var X = _ || this.is("CREATED") && y; (S || X) && (q = Object(a.isEqual)(H(I), D), G = !q), Object(a.isEqual)(T.decay, j) && Object(a.isEqual)(T.velocity, R) || (G = !0) } if (q && this.is(te) && (i.changed && !_ ? G = !0 : G || this._stop()), !C) { (G || Object(a.getFluidConfig)(p)) && (i.values = L.getPayload(), i.toValues = w ? null : V == E.c ? [1] : Object(a.toArray)(D)), i.immediate = B, i.onStart = ae(f("onStart"), o), i.onChange = ae(f("onChange"), o); var J = i.onRest, Z = _ && !t.onRest ? J[0] || a.noop : oe(ae(f("onRest"), o), this); if (G) { i.onRest = [Z, oe(r, this)]; var Q = _ ? 0 : 1; Q < J.length && Object(O.batchedUpdates)(function () { for (; Q < J.length; Q++)J[Q]() }) } else (_ || t.onRest) && (i.onRest[0] = Z) } var $ = ae(f("onProps"), o); $ && $(t, this), _ && L.setValue(I), C ? r(W(t.to, t, this._state, this)) : G ? (_ && (this._phase = "IDLE"), this._reset(), this._start()) : this.is(te) && !S ? i.onRest.push(oe(r, this)) : r(K(this, I)) } }, { key: "_focus", value: function (e) { var t = this.animation; if (e !== t.to) { var r = Object(a.getFluidConfig)(t.to); r && r.removeChild(this), t.to = e; var n = 0; (r = Object(a.getFluidConfig)(e)) && (r.addChild(this), Q(e) && (n = (e.priority || 0) + 1)), this.priority = n } } }, { key: "_set", value: function (e) { var t = Object(a.getFluidConfig)(e); t && (e = t.get()); var r = Object(E.f)(this), n = r && r.getValue(); return r ? r.setValue(e) : this._updateNode(e), !Object(a.isEqual)(e, n) } }, { key: "_onChange", value: function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1], n = this.animation; n.changed || t || (n.changed = !0, n.onStart && n.onStart(this)), n.onChange && n.onChange(e, this), d(h(r.prototype), "_onChange", this).call(this, e, t) } }, { key: "_reset", value: function () { var e = this.animation; Object(E.f)(this).reset(e.to), this.is(te) || (e.changed = !1), e.immediate || (e.fromValues = e.values.map(function (e) { return e.lastPosition })), d(h(r.prototype), "_reset", this).call(this) } }, { key: "_start", value: function () { this.is(te) || (this._phase = te, d(h(r.prototype), "_start", this).call(this), O.skipAnimation ? this.finish() : O.frameLoop.start(this)) } }, { key: "_stop", value: function (e) { if (this.resume(), this.is(te)) { this._phase = "IDLE", this._onChange(this.get(), !0); var t = this.animation; Object(a.each)(t.values, function (e) { e.done = !0 }); var r = t.onRest; r.length && (t.onRest = [t.toValues ? a.noop : r[0]], t.changed || (r[0] = a.noop), Object(a.each)(r, function (t) { return t(e) })) } } }]), r }(ee); function ne(e, t) { if (e.is("DISPOSED")) throw Error('Cannot call "' + t + '" of disposed "' + e.constructor.name + '" object') } function ae(e, t) { return a.is.fun(e) ? e : t && e ? e[t] : void 0 } var oe = function (e, t) { var r = t.animation.to; return e ? function (n) { if (n) e(Y(t)); else { var o = H(r), i = H(t.get()), c = Object(a.isEqual)(i, o); e(z(t, c)) } } : a.noop }; function ie(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : e.loop, r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : e.to, n = M(t); if (n) { var o = !0 !== n && V(n), i = (o || e).reverse, c = !o || o.reset; return ce(Object(l.a)(Object(l.a)({}, e), {}, { loop: t, default: !1, to: !i || a.is.arr(r) || a.is.fun(r) ? r : void 0, from: c ? e.from : void 0, reset: c }, o)) } } function ce(e) { var t = e = V(e), r = t.to, n = t.from, o = new Set; return n ? ue(n, o) : delete e.from, a.is.obj(r) ? ue(r, o) : r || delete e.to, e.keys = o.size ? Array.from(o) : null, e } function se(e) { var t = ce(e); return a.is.und(t.default) && (t.default = U(t, [!0 === t.immediate && "immediate"])), t } function ue(e, t) { Object(a.each)(e, function (e, r) { return null != e && t.add(r) }) } var le = ["onStart", "onChange", "onRest"], fe = 1, de = function () { function e(t, r) { v(this, e), this.id = fe++, this.springs = {}, this.queue = [], this._flush = void 0, this._initialProps = void 0, this._phase = "CREATED", this._lastAsyncId = 0, this._active = new Set, this._state = { pauseQueue: new Set, resumeQueue: new Set }, this._events = { onStart: new Set, onChange: new Set, onRest: new Map }, this._onFrame = this._onFrame.bind(this), r && (this._flush = r), t && this.start(t) } return g(e, [{ key: "idle", get: function () { return !this._state.asyncTo && Object.values(this.springs).every(function (e) { return e.idle }) } }, { key: "is", value: function (e) { return this._phase == e } }, { key: "get", value: function () { var e = {}; return this.each(function (t, r) { return e[r] = t.get() }), e } }, { key: "update", value: function (e) { return e && this.queue.push(ce(e)), this } }, { key: "start", value: function (e) { var t = e ? Object(a.toArray)(e).map(ce) : this.queue; return e || (this.queue = []), this._flush ? this._flush(this, t) : (be(this, t), pe(this, t)) } }, { key: "stop", value: function (e) { if (a.is.und(e)) this.each(function (e) { return e.stop() }), J(this._state, this._lastAsyncId); else { var t = this.springs; Object(a.each)(Object(a.toArray)(e), function (e) { return t[e].stop() }) } return this } }, { key: "pause", value: function (e) { if (a.is.und(e)) this.each(function (e) { return e.pause() }); else { var t = this.springs; Object(a.each)(Object(a.toArray)(e), function (e) { return t[e].pause() }) } return this } }, { key: "resume", value: function (e) { if (a.is.und(e)) this.each(function (e) { return e.resume() }); else { var t = this.springs; Object(a.each)(Object(a.toArray)(e), function (e) { return t[e].resume() }) } return this } }, { key: "reset", value: function () { return this.each(function (e) { return e.reset() }), this } }, { key: "each", value: function (e) { Object(a.each)(this.springs, e) } }, { key: "dispose", value: function () { this._state.asyncTo = void 0, this.each(function (e) { return e.dispose() }), this.springs = {} } }, { key: "_onFrame", value: function () { var e = this, t = this._events, r = t.onStart, n = t.onChange, o = t.onRest, i = this._active.size > 0; i && this._phase != te && (this._phase = te, Object(a.flush)(r, function (t) { return t(e) })); var s = (n.size || !i && o.size) && this.get(); Object(a.flush)(n, function (e) { return e(s) }), i || (this._phase = "IDLE", Object(a.flush)(o, function (e) { var t = c(e, 2), r = t[0], n = t[1]; n.value = s, r(n) })) } }, { key: "onParentChange", value: function (e) { "change" == e.type && (this._active[e.idle ? "delete" : "add"](e.parent), O.frameLoop.onFrame(this._onFrame)) } }]), e }(); function pe(e, t) { return Promise.all(t.map(function (t) { return function e(t, r, n) { var o = r.to, i = r.loop, c = r.onRest; i && (r.loop = !1); var s = a.is.arr(o) || a.is.fun(o) ? o : void 0; s ? (r.to = void 0, r.onRest = void 0) : Object(a.each)(le, function (e) { var n = r[e]; if (a.is.fun(n)) { var o = t._events[e]; o instanceof Set ? r[e] = function () { return o.add(n) } : r[e] = function (e) { var t = e.finished, r = e.cancelled, a = o.get(n); a ? (t || (a.finished = !1), r && (a.cancelled = !0)) : o.set(n, { value: null, finished: t, cancelled: r }) } } }); var u = (r.keys || Object.keys(t.springs)).map(function (e) { return t.springs[e].start(r) }), l = t._state; return s ? u.push(G(++t._lastAsyncId, { props: r, state: l, actions: { pause: a.noop, resume: a.noop, start: function (e, r) { e.onRest = c, e.cancel ? function (e, t) { return !a.is.und(P(e, "cancel")) }(e) && J(l, e.callId) : r(W(s, e, l, t)) } } })) : r.keys || !0 !== r.cancel || J(l, t._lastAsyncId), Promise.all(u).then(function (a) { var c = q(t, a); if (i && c.finished && (!n || !c.noop)) { var s = ie(r, i, o); if (s) return be(t, [s]), e(t, s, !0) } return c }) }(e, t) })).then(function (t) { return q(e, t) }) } function me(e, t) { var r = Object(l.a)({}, e.springs); return t && Object(a.each)(Object(a.toArray)(t), function (e) { a.is.und(e.keys) && (e = ce(e)), a.is.obj(e.to) || (e = Object(l.a)(Object(l.a)({}, e), {}, { to: void 0 })), ge(r, e, function (e) { return ve(e) }) }), r } function he(e, t) { Object(a.each)(t, function (t, r) { e.springs[r] || (e.springs[r] = t, t.addChild(e)) }) } function ve(e, t) { var r = new re; return r.key = e, t && r.addChild(t), r } function ge(e, t, r) { t.keys && Object(a.each)(t.keys, function (n) { (e[n] || (e[n] = r(n)))._prepareNode(t) }) } function be(e, t) { Object(a.each)(t, function (t) { ge(e.springs, t, function (t) { return ve(t, e) }) }) } var ye = Object(y.createContext)({}), Ee = function (e) { var t = e.children, r = Object(C.a)(e, ["children"]), n = Object(y.useContext)(ye); r = I(function () { return Object(l.a)(Object(l.a)({}, n), r) }, [n, r.pause, r.cancel, r.immediate, r.config]); var a = ye.Provider; return Object(y.createElement)(a, { value: r }, t) }; Ee.Provider = ye.Provider, Ee.Consumer = ye.Consumer; var Oe = function () { return Object(y.useContext)(ye) }, Se = function (e) { return { get controllers() { return e() }, update: function (t) { return Object(a.each)(e(), function (e, r) { e.update(D(t, r, e)) }), this }, start: function () { var t = u(s.mark(function t(r) { var n; return s.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, Promise.all(e().map(function (e, t) { var n = D(r, t, e); return e.start(n) })); case 2: return n = t.sent, t.abrupt("return", { value: n.map(function (e) { return e.value }), finished: n.every(function (e) { return e.finished }) }); case 4: case "end": return t.stop() } }, t) })); return function (e) { return t.apply(this, arguments) } }(), stop: function (t) { return Object(a.each)(e(), function (e) { return e.stop(t) }) }, pause: function (t) { return Object(a.each)(e(), function (e) { return e.pause(t) }) }, resume: function (t) { return Object(a.each)(e(), function (e) { return e.resume(t) }) } } }; function we(e, t, r) { var o = a.is.fun(t) && t; o && !r && (r = []); var s = Object(y.useRef)(0), u = Object(a.useForceUpdate)(), f = Object(y.useState)(function () { return { ctrls: [], queue: [], flush: function (e, t) { var r = me(e, t); return s.current > 0 && !p.queue.length && !Object.keys(r).some(function (t) { return !e.springs[t] }) ? pe(e, t) : new Promise(function (n) { he(e, r), p.queue.push(function () { n(pe(e, t)) }), u() }) } } }), d = c(f, 1), p = d[0], m = Object(y.useRef)(), h = i(p.ctrls), v = [], g = Object(a.usePrev)(e) || 0, b = h.slice(e, g); function E(e, r) { for (var n = e; n < r; n++) { var a = h[n] || (h[n] = new de(null, p.flush)), i = o ? o(n, a) : t[n]; i && (i = v[n] = se(i), 0 == n && (m.current = i.ref, i.ref = void 0)) } } I(function () { h.length = e, E(g, e) }, [e]), I(function () { E(0, Math.min(g, e)) }, r); var O = Object(y.useMemo)(function () { return Se(function () { return p.ctrls }) }, []), S = h.map(function (e, t) { return me(e, v[t]) }), w = Oe(); Object(n.a)(function () { s.current++, p.ctrls = h, m.current && (m.current.current = O); var e = p.queue; e.length && (p.queue = [], Object(a.each)(e, function (e) { return e() })), Object(a.each)(b, function (e) { return e.dispose() }), Object(a.each)(h, function (e, t) { he(e, S[t]), e.start({ default: w }); var r = v[t]; r && (m.current ? e.queue.push(r) : e.start(r)) }) }), Object(a.useOnce)(function () { return function () { Object(a.each)(p.ctrls, function (e) { return e.dispose() }) } }); var A = S.map(function (e) { return Object(l.a)({}, e) }); return o || 3 == arguments.length ? [A, O.start, O.stop] : A } function Ae(e, t) { var r = a.is.fun(e), n = we(1, r ? e : [e], r ? t || [] : t), o = c(n, 3), i = c(o[0], 1), s = i[0], u = o[1], l = o[2]; return r || 2 == arguments.length ? [s, u, l] : s } var Ce = function (e) { p(r, e); var t = S(r); function r(e, n) { var o; v(this, r), (o = t.call(this)).source = e, o.key = void 0, o.idle = !0, o.calc = void 0, o.calc = Object(a.createInterpolator).apply(void 0, i(n)); var c = o._get(), s = a.is.arr(c) ? E.a : E.d; return Object(E.h)(f(o), s.create(c)), o } return g(r, [{ key: "advance", value: function (e) { var t = this._get(), r = this.get(); Object(a.isEqual)(t, r) || (Object(E.f)(this).setValue(t), this._onChange(t, this.idle)) } }, { key: "_get", value: function () { var e = a.is.arr(this.source) ? this.source.map(function (e) { return e.get() }) : Object(a.toArray)(this.source.get()); return this.calc.apply(this, i(e)) } }, { key: "_reset", value: function () { Object(a.each)(Object(E.g)(this), function (e) { return e.reset() }), d(h(r.prototype), "_reset", this).call(this) } }, { key: "_start", value: function () { this.idle = !1, d(h(r.prototype), "_start", this).call(this), O.skipAnimation ? (this.idle = !0, this.advance()) : O.frameLoop.start(this) } }, { key: "_attach", value: function () { var e = this, t = !0, r = 1; Object(a.each)(Object(a.toArray)(this.source), function (n) { Q(n) && (n.idle || (t = !1), r = Math.max(r, n.priority + 1)), n.addChild(e) }), this.priority = r, t || (this._reset(), this._start()) } }, { key: "_detach", value: function () { var e = this; Object(a.each)(Object(a.toArray)(this.source), function (t) { t.removeChild(e) }), this.idle = !0 } }, { key: "onParentChange", value: function (e) { "start" == e.type ? this.advance() : "change" == e.type ? this.idle ? this.advance() : e.idle && (this.idle = Object(a.toArray)(this.source).every(function (e) { return !1 !== e.idle }), this.idle && (this.advance(), Object(a.each)(Object(E.g)(this), function (e) { e.done = !0 }))) : "priority" == e.type && (this.priority = Object(a.toArray)(this.source).reduce(function (e, t) { return Math.max(e, (t.priority || 0) + 1) }, 0)), d(h(r.prototype), "onParentChange", this).call(this, e) } }]), r }(ee); a.Globals.assign({ createStringInterpolator: T.a, to: function (e, t) { return new Ce(e, t) } }) }, function (e, t, r) { "use strict"; (function (e) { r.d(t, "a", function () { return o }); var n = r(4), a = function (e) { return (0, n.requestAnimationFrame)(e) }, o = function (e) { void 0 === e && (e = a); var t = !0, r = !1, o = 0, c = [], s = 0, u = new Set, l = new Set, f = new Set, d = function (e) { var t = c.indexOf(e); t < 0 && (t = c.findIndex(function (t) { return t.priority > e.priority }), c.splice(~t ? t : c.length, 0, e)) }, p = function r() { if (!t) try { v(), e(r) } catch (e) { console.error(e) } }, m = function () { t && (t = !1, 0 == o && (o = n.now(), e(p))) }, h = []; this.setTimeout = function (e, t) { var r = n.now() + t, a = i(h, function (e) { return e.time > r }), o = { time: r, handler: e, cancel: function e() { var t = h.findIndex(function (t) { return t.cancel == e }); t >= 0 && h.splice(t, 1) } }; return h.splice(a, 0, o), m(), o }; var v = this.advance = function () { var e = n.now(); if (u.size && (u.forEach(d), u.clear()), h.length && n.batchedUpdates(function () { var t = i(h, function (t) { return t.time > e }); h.splice(0, t).forEach(function (e) { return e.handler() }) }), e > o) { var t = Math.min(64, e - o); o = e, n.batchedUpdates(function () { c.length && (n.willAdvance(c), c = c.filter(function (e) { return s = e.priority, e.idle || e.advance(t), !e.idle }), s = 0), l.size && (l.forEach(function (t) { return t(e) }), l.clear()), f.size && (r = !0, f.forEach(function (t) { return t(e) }), f.clear(), r = !1) }) } }; this.start = function (e) { s > e.priority ? u.add(e) : (d(e), m()) }, this.onFrame = function (e) { l.add(e), m() }, this.onWrite = function (e) { r ? e(o) : f.add(e) } }; function i(e, t) { var r = e.findIndex(t); return r < 0 ? e.length : r } }).call(this, r(51)) }, function (e, t, r) { "use strict"; r.d(t, "a", function () { return o }); var n = r(4), a = r(11), o = function e(t, r, o) { if (a.d.fun(t)) return t; if (a.d.arr(t)) return e({ range: t, output: r, extrapolate: o }); if (a.d.str(t.output[0])) return n.createStringInterpolator(t); var i = t, c = i.output, s = i.range || [0, 1], u = i.extrapolateLeft || i.extrapolate || "extend", l = i.extrapolateRight || i.extrapolate || "extend", f = i.easing || function (e) { return e }; return function (e) { var t = function (e, t) { for (var r = 1; r < t.length - 1 && !(t[r] >= e); ++r); return r - 1 }(e, s); return function (e, t, r, n, a, o, i, c, s) { var u = s ? s(e) : e; if (u < t) { if ("identity" === i) return u; "clamp" === i && (u = t) } if (u > r) { if ("identity" === c) return u; "clamp" === c && (u = r) } return n === a ? n : t === r ? e <= t ? n : a : (t === -1 / 0 ? u = -u : r === 1 / 0 ? u -= t : u = (u - t) / (r - t), u = o(u), n === -1 / 0 ? u = -u : a === 1 / 0 ? u += n : u = u * (a - n) + n, u) }(e, s[t], s[t + 1], c[t], c[t + 1], f, u, l, i.map) } } }, function (e, t, r) { "use strict"; r.d(t, "c", function () { return a }), r.d(t, "b", function () { return o }), r.d(t, "a", function () { return i }); var n = Symbol.for("FluidValue:config"); function a(e) { var t = o(e); return t ? t.get() : e } function o(e) { if (e) return e[n] } var i = function () { Object.defineProperty(this, n, { value: this, configurable: !0 }) } }, function (e, t, r) { "use strict"; r.d(t, "a", function () { return k }); var n = function () { return (n = Object.assign || function (e) { for (var t, r = 1, n = arguments.length; r < n; r++)for (var a in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a]); return e }).apply(this, arguments) }, a = r(15), o = r(14), i = "[-+]?\\d*\\.?\\d+"; function c() { for (var e = [], t = 0; t < arguments.length; t++)e[t] = arguments[t]; return "\\(\\s*(" + e.join(")\\s*,\\s*(") + ")\\s*\\)" } var s = new RegExp("rgb" + c(i, i, i)), u = new RegExp("rgba" + c(i, i, i, i)), l = new RegExp("hsl" + c(i, "[-+]?\\d*\\.?\\d+%", "[-+]?\\d*\\.?\\d+%")), f = new RegExp("hsla" + c(i, "[-+]?\\d*\\.?\\d+%", "[-+]?\\d*\\.?\\d+%", i)), d = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/, p = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/, m = /^#([0-9a-fA-F]{6})$/, h = /^#([0-9a-fA-F]{8})$/, v = r(4); function g(e, t, r) { var n = (1 - Math.abs(2 * r - 1)) * t, a = r - n / 2, o = function (e, t, r) { return e < 60 ? [t, r, 0] : e < 120 ? [r, t, 0] : e < 180 ? [0, t, r] : e < 240 ? [0, r, t] : e < 300 ? [r, 0, t] : [t, 0, r] }(e, n, n * (1 - Math.abs(e / 60 % 2 - 1))), i = o[0], c = o[1], s = o[2]; return Math.round(255 * (i + a)) << 24 | Math.round(255 * (c + a)) << 16 | Math.round(255 * (s + a)) << 8 } function b(e) { var t = parseInt(e, 10); return t < 0 ? 0 : t > 255 ? 255 : t } function y(e) { return (parseFloat(e) % 360 + 360) % 360 / 360 } function E(e) { var t = parseFloat(e); return t < 0 ? 0 : t > 1 ? 255 : Math.round(255 * t) } function O(e) { var t = parseFloat(e); return t < 0 ? 0 : t > 100 ? 1 : t / 100 } function S(e) { var t, r, n = "number" == typeof (t = e) ? t >>> 0 === t && t >= 0 && t <= 4294967295 ? t : null : (r = m.exec(t)) ? parseInt(r[1] + "ff", 16) >>> 0 : v.colorNames && void 0 !== v.colorNames[t] ? v.colorNames[t] : (r = s.exec(t)) ? (b(r[1]) << 24 | b(r[2]) << 16 | b(r[3]) << 8 | 255) >>> 0 : (r = u.exec(t)) ? (b(r[1]) << 24 | b(r[2]) << 16 | b(r[3]) << 8 | E(r[4])) >>> 0 : (r = d.exec(t)) ? parseInt(r[1] + r[1] + r[2] + r[2] + r[3] + r[3] + "ff", 16) >>> 0 : (r = h.exec(t)) ? parseInt(r[1], 16) >>> 0 : (r = p.exec(t)) ? parseInt(r[1] + r[1] + r[2] + r[2] + r[3] + r[3] + r[4] + r[4], 16) >>> 0 : (r = l.exec(t)) ? (255 | g(y(r[1]), O(r[2]), O(r[3]))) >>> 0 : (r = f.exec(t)) ? (g(y(r[1]), O(r[2]), O(r[3])) | E(r[4])) >>> 0 : null; return null === n ? e : "rgba(" + ((4278190080 & (n = n || 0)) >>> 24) + ", " + ((16711680 & n) >>> 16) + ", " + ((65280 & n) >>> 8) + ", " + (255 & n) / 255 + ")" } var w, A = /[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, C = /(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi, T = /rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi, j = function (e, t, r, n, a) { return "rgba(" + Math.round(t) + ", " + Math.round(r) + ", " + Math.round(n) + ", " + a + ")" }, k = function (e) { w || (w = v.colorNames ? new RegExp("(" + Object.keys(v.colorNames).join("|") + ")", "g") : /^\b$/); var t = e.output.map(function (e) { return Object(a.c)(e).replace(C, S).replace(w, S) }), r = t.map(function (e) { return e.match(A).map(Number) }), i = r[0].map(function (e, t) { return r.map(function (e) { if (!(t in e)) throw Error('The arity of each "output" value must be equal'); return e[t] }) }).map(function (t) { return Object(o.a)(n(n({}, e), { output: t })) }); return function (e) { var r = 0; return t[0].replace(A, function () { return String(i[r++](e)) }).replace(T, j) } } }, function (e, t, r) { "use strict"; r.d(t, "a", function () { return o }), r.d(t, "b", function () { return a }); var n = r(0); function a(e, t) { var r = Object(n.useState)(function () { return { inputs: t, result: e() } })[0], a = Object(n.useRef)(!0), o = Object(n.useRef)(r), i = a.current || Boolean(t && o.current.inputs && function (e, t) { if (e.length !== t.length) return !1; for (var r = 0; r < e.length; r++)if (e[r] !== t[r]) return !1; return !0 }(t, o.current.inputs)) ? o.current : { inputs: t, result: e() }; return Object(n.useEffect)(function () { a.current = !1, o.current = i }, [i]), i.result } function o(e, t) { return a(function () { return e }, t) } }, function (e, t, r) { "use strict"; r.d(t, "a", function () { return a }); var n = !1; function a() { n || (n = !0, console.warn('react-spring: The "interpolate" function is deprecated in v10 (use "to" instead)')) } }, function (e, t, r) { "use strict"; r.d(t, "animated", function () { return j }); var n = r(6), a = r(12); r.o(a, "config") && r.d(t, "config", function () { return a.config }), r.o(a, "useSpring") && r.d(t, "useSpring", function () { return a.useSpring }); var o = r(9), i = r(16), s = r(26), u = r(5), l = r(1), f = /^--/; function d(e, t) { return null == t || "boolean" == typeof t || "" === t ? "" : "number" != typeof t || 0 === t || f.test(e) || h.hasOwnProperty(e) && h[e] ? ("" + t).trim() : t + "px" } var m = {}, h = { animationIterationCount: !0, borderImageOutset: !0, borderImageSlice: !0, borderImageWidth: !0, boxFlex: !0, boxFlexGroup: !0, boxOrdinalGroup: !0, columnCount: !0, columns: !0, flex: !0, flexGrow: !0, flexPositive: !0, flexShrink: !0, flexNegative: !0, flexOrder: !0, gridRow: !0, gridRowEnd: !0, gridRowSpan: !0, gridRowStart: !0, gridColumn: !0, gridColumnEnd: !0, gridColumnSpan: !0, gridColumnStart: !0, fontWeight: !0, lineClamp: !0, lineHeight: !0, opacity: !0, order: !0, orphans: !0, tabSize: !0, widows: !0, zIndex: !0, zoom: !0, fillOpacity: !0, floodOpacity: !0, stopOpacity: !0, strokeDasharray: !0, strokeDashoffset: !0, strokeMiterlimit: !0, strokeOpacity: !0, strokeWidth: !0 }, b = ["Webkit", "Ms", "Moz", "O"]; h = Object.keys(h).reduce(function (e, t) { return b.forEach(function (r) { return e[function (e, t) { return e + t.charAt(0).toUpperCase() + t.substring(1) }(r, t)] = e[t] }), e }, h); var y = /^(matrix|translate|scale|rotate|skew)/, E = /^(translate)/, O = /^(rotate|skew)/, w = function (e, t) { return l.is.num(e) && 0 !== e ? e + t : e }, A = function e(t, r) { return l.is.arr(t) ? t.every(function (t) { return e(t, r) }) : l.is.num(t) ? t === r : parseFloat(t) === r }, C = function (e) { p(r, e); var t = S(r); function r(e) { v(this, r); var a = e.x, o = e.y, i = e.z, s = Object(n.a)(e, ["x", "y", "z"]), u = [], f = []; return (a || o || i) && (u.push([a || 0, o || 0, i || 0]), f.push(function (e) { return ["translate3d(" + e.map(function (e) { return w(e, "px") }).join(",") + ")", A(e, 0)] })), Object(l.each)(s, function (e, t) { if ("transform" === t) u.push([e || ""]), f.push(function (e) { return [e, "" === e] }); else if (y.test(t)) { if (delete s[t], l.is.und(e)) return; var r = E.test(t) ? "px" : O.test(t) ? "deg" : ""; u.push(Object(l.toArray)(e)), f.push("rotate3d" === t ? function (e) { var t = c(e, 4), n = t[0], a = t[1], o = t[2], i = t[3]; return ["rotate3d(" + n + "," + a + "," + o + "," + w(i, r) + ")", A(i, 0)] } : function (e) { return [t + "(" + e.map(function (e) { return w(e, r) }).join(",") + ")", A(e, t.startsWith("scale") ? 1 : 0)] }) } }), u.length && (s.transform = new T(u, f)), t.call(this, s) } return r }(u.b), T = function (e) { p(r, e); var t = S(r); function r(e, n) { var a; return v(this, r), (a = t.call(this)).inputs = e, a.transforms = n, a._value = null, a._children = new Set, a } return g(r, [{ key: "get", value: function () { return this._value || (this._value = this._get()) } }, { key: "_get", value: function () { var e = this, t = "", r = !0; return Object(l.each)(this.inputs, function (n, a) { var o = Object(l.getFluidValue)(n[0]), i = e.transforms[a](l.is.arr(o) ? o : n.map(l.getFluidValue)), s = c(i, 2), u = s[0], f = s[1]; t += " " + u, r = r && f }), r ? "none" : t } }, { key: "addChild", value: function (e) { var t = this; this._children.size || Object(l.each)(this.inputs, function (e) { return Object(l.each)(e, function (e) { var r = Object(l.getFluidConfig)(e); r && r.addChild(t) }) }), this._children.add(e) } }, { key: "removeChild", value: function (e) { var t = this; this._children.delete(e), this._children.size || Object(l.each)(this.inputs, function (e) { return Object(l.each)(e, function (e) { var r = Object(l.getFluidConfig)(e); r && r.removeChild(t) }) }) } }, { key: "onParentChange", value: function (e) { "change" == e.type && (this._value = null), Object(l.each)(this._children, function (t) { t.onParentChange(e) }) } }]), r }(l.FluidValue); a.Globals.assign({ colorNames: s.a, createStringInterpolator: i.a, batchedUpdates: o.unstable_batchedUpdates }); var j = Object(u.e)(["a", "abbr", "address", "area", "article", "aside", "audio", "b", "base", "bdi", "bdo", "big", "blockquote", "body", "br", "button", "canvas", "caption", "cite", "code", "col", "colgroup", "data", "datalist", "dd", "del", "details", "dfn", "dialog", "div", "dl", "dt", "em", "embed", "fieldset", "figcaption", "figure", "footer", "form", "h1", "h2", "h3", "h4", "h5", "h6", "head", "header", "hgroup", "hr", "html", "i", "iframe", "img", "input", "ins", "kbd", "keygen", "label", "legend", "li", "link", "main", "map", "mark", "menu", "menuitem", "meta", "meter", "nav", "noscript", "object", "ol", "optgroup", "option", "output", "p", "param", "picture", "pre", "progress", "q", "rp", "rt", "ruby", "s", "samp", "script", "section", "select", "small", "source", "span", "strong", "style", "sub", "summary", "sup", "table", "tbody", "td", "textarea", "tfoot", "th", "thead", "time", "title", "tr", "track", "u", "ul", "var", "video", "wbr", "circle", "clipPath", "defs", "ellipse", "foreignObject", "g", "image", "line", "linearGradient", "mask", "path", "pattern", "polygon", "polyline", "radialGradient", "rect", "stop", "svg", "text", "tspan"], { applyAnimatedValues: function (e, t) { if (!e.nodeType || !e.setAttribute) return !1; var r = "filter" === e.nodeName || e.parentNode && "filter" === e.parentNode.nodeName, a = t, o = a.style, i = a.children, c = a.scrollTop, s = a.scrollLeft, u = Object(n.a)(a, ["style", "children", "scrollTop", "scrollLeft"]), p = Object.values(u), h = Object.keys(u).map(function (t) { return r || e.hasAttribute(t) ? t : m[t] || (m[t] = t.replace(/([A-Z])/g, function (e) { return "-" + e.toLowerCase() })) }); l.Globals.frameLoop.onWrite(function () { for (var t in void 0 !== i && (e.textContent = i), o) if (o.hasOwnProperty(t)) { var r = d(t, o[t]); "float" === t ? t = "cssFloat" : f.test(t) ? e.style.setProperty(t, r) : e.style[t] = r } h.forEach(function (t, r) { e.setAttribute(t, p[r]) }), void 0 !== c && (e.scrollTop = c), void 0 !== s && (e.scrollLeft = s) }) }, createAnimatedStyle: function (e) { return new C(e) }, getComponentProps: function (e) { return Object(n.a)(e, ["scrollTop", "scrollLeft"]) } }).animated }, function (e, t, r) { "use strict"; var n = r(21); r.o(n, "FluidValue") && r.d(t, "FluidValue", function () { return n.FluidValue }), r.o(n, "createInterpolator") && r.d(t, "createInterpolator", function () { return n.createInterpolator }), r.o(n, "defineHidden") && r.d(t, "defineHidden", function () { return n.defineHidden }), r.o(n, "each") && r.d(t, "each", function () { return n.each }), r.o(n, "flush") && r.d(t, "flush", function () { return n.flush }), r.o(n, "getFluidConfig") && r.d(t, "getFluidConfig", function () { return n.getFluidConfig }), r.o(n, "getFluidValue") && r.d(t, "getFluidValue", function () { return n.getFluidValue }), r.o(n, "is") && r.d(t, "is", function () { return n.is }), r.o(n, "isAnimatedString") && r.d(t, "isAnimatedString", function () { return n.isAnimatedString }), r.o(n, "isEqual") && r.d(t, "isEqual", function () { return n.isEqual }), r.o(n, "noop") && r.d(t, "noop", function () { return n.noop }), r.o(n, "toArray") && r.d(t, "toArray", function () { return n.toArray }), r.o(n, "useForceUpdate") && r.d(t, "useForceUpdate", function () { return n.useForceUpdate }), r.o(n, "useOnce") && r.d(t, "useOnce", function () { return n.useOnce }), r.o(n, "usePrev") && r.d(t, "usePrev", function () { return n.usePrev }) }, function (e, t) { }, function (e, t, r) { "use strict"; r.d(t, "b", function () { return a }), r.d(t, "a", function () { return o }), r.d(t, "c", function () { return i }); var n = r(0), a = function (e) { return Object(n.useEffect)(e, []) }, o = function () { var e = Object(n.useState)(0)[1], t = Object(n.useRef)(!1); return a(function () { return function () { t.current = !0 } }), function () { t.current || e({}) } }; function i(e) { var t = Object(n.useRef)(void 0); return Object(n.useEffect)(function () { t.current = e }), t.current } }, function (e, t) { }, function (e, t, r) { "use strict"; (e.exports = {}).forEach = function (e, t) { for (var r = 0; r < e.length; r++) { var n = t(e[r]); if (n) return n } } }, function (e, t, r) { "use strict"; var n = e.exports = {}; n.isIE = function (e) { return (-1 !== (t = navigator.userAgent.toLowerCase()).indexOf("msie") || -1 !== t.indexOf("trident") || -1 !== t.indexOf(" edge/")) && (!e || e === function () { var e = 3, t = document.createElement("div"), r = t.getElementsByTagName("i"); do { t.innerHTML = "\x3c!--[if gt IE " + ++e + "]><i></i><![endif]--\x3e" } while (r[0]); return e > 4 ? e : void 0 }()); var t }, n.isLegacyOpera = function () { return !!window.opera } }, function (e, t, r) { "use strict"; t.a = { transparent: 0, aliceblue: 4042850303, antiquewhite: 4209760255, aqua: 16777215, aquamarine: 2147472639, azure: 4043309055, beige: 4126530815, bisque: 4293182719, black: 255, blanchedalmond: 4293643775, blue: 65535, blueviolet: 2318131967, brown: 2771004159, burlywood: 3736635391, burntsienna: 3934150143, cadetblue: 1604231423, chartreuse: 2147418367, chocolate: 3530104575, coral: 4286533887, cornflowerblue: 1687547391, cornsilk: 4294499583, crimson: 3692313855, cyan: 16777215, darkblue: 35839, darkcyan: 9145343, darkgoldenrod: 3095792639, darkgray: 2846468607, darkgreen: 6553855, darkgrey: 2846468607, darkkhaki: 3182914559, darkmagenta: 2332068863, darkolivegreen: 1433087999, darkorange: 4287365375, darkorchid: 2570243327, darkred: 2332033279, darksalmon: 3918953215, darkseagreen: 2411499519, darkslateblue: 1211993087, darkslategray: 793726975, darkslategrey: 793726975, darkturquoise: 13554175, darkviolet: 2483082239, deeppink: 4279538687, deepskyblue: 12582911, dimgray: 1768516095, dimgrey: 1768516095, dodgerblue: 512819199, firebrick: 2988581631, floralwhite: 4294635775, forestgreen: 579543807, fuchsia: 4278255615, gainsboro: 3705462015, ghostwhite: 4177068031, gold: 4292280575, goldenrod: 3668254975, gray: 2155905279, green: 8388863, greenyellow: 2919182335, grey: 2155905279, honeydew: 4043305215, hotpink: 4285117695, indianred: 3445382399, indigo: 1258324735, ivory: 4294963455, khaki: 4041641215, lavender: 3873897215, lavenderblush: 4293981695, lawngreen: 2096890111, lemonchiffon: 4294626815, lightblue: 2916673279, lightcoral: 4034953471, lightcyan: 3774873599, lightgoldenrodyellow: 4210742015, lightgray: 3553874943, lightgreen: 2431553791, lightgrey: 3553874943, lightpink: 4290167295, lightsalmon: 4288707327, lightseagreen: 548580095, lightskyblue: 2278488831, lightslategray: 2005441023, lightslategrey: 2005441023, lightsteelblue: 2965692159, lightyellow: 4294959359, lime: 16711935, limegreen: 852308735, linen: 4210091775, magenta: 4278255615, maroon: 2147483903, mediumaquamarine: 1724754687, mediumblue: 52735, mediumorchid: 3126187007, mediumpurple: 2473647103, mediumseagreen: 1018393087, mediumslateblue: 2070474495, mediumspringgreen: 16423679, mediumturquoise: 1221709055, mediumvioletred: 3340076543, midnightblue: 421097727, mintcream: 4127193855, mistyrose: 4293190143, moccasin: 4293178879, navajowhite: 4292783615, navy: 33023, oldlace: 4260751103, olive: 2155872511, olivedrab: 1804477439, orange: 4289003775, orangered: 4282712319, orchid: 3664828159, palegoldenrod: 4008225535, palegreen: 2566625535, paleturquoise: 2951671551, palevioletred: 3681588223, papayawhip: 4293907967, peachpuff: 4292524543, peru: 3448061951, pink: 4290825215, plum: 3718307327, powderblue: 2967529215, purple: 2147516671, rebeccapurple: 1714657791, red: 4278190335, rosybrown: 3163525119, royalblue: 1097458175, saddlebrown: 2336560127, salmon: 4202722047, sandybrown: 4104413439, seagreen: 780883967, seashell: 4294307583, sienna: 2689740287, silver: 3233857791, skyblue: 2278484991, slateblue: 1784335871, slategray: 1887473919, slategrey: 1887473919, snow: 4294638335, springgreen: 16744447, steelblue: 1182971135, tan: 3535047935, teal: 8421631, thistle: 3636451583, tomato: 4284696575, turquoise: 1088475391, violet: 4001558271, wheat: 4125012991, white: 4294967295, whitesmoke: 4126537215, yellow: 4294902015, yellowgreen: 2597139199 } }, function (e, t, r) { "use strict"; function n(e) { return e && "object" == typeof e && "default" in e ? e.default : e } var a = r(0), o = n(a), i = n(r(9)), c = n(r(55)), s = r(56), u = n(r(57)), l = n(r(68)); function f(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function d(e, t) { for (var r = 0; r < t.length; r++) { var n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function p(e, t, r) { return t && d(e.prototype, t), r && d(e, r), e } function m(e, t, r) { return t in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e } function h() { return (h = Object.assign || function (e) { for (var t = 1; t < arguments.length; t++) { var r = arguments[t]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }).apply(this, arguments) } function v(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable })), r.push.apply(r, n) } return r } function g(e) { for (var t = 1; t < arguments.length; t++) { var r = null != arguments[t] ? arguments[t] : {}; t % 2 ? v(Object(r), !0).forEach(function (t) { m(e, t, r[t]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : v(Object(r)).forEach(function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t)) }) } return e } function b(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && function (e, t) { (Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e })(e, t) }(e, t) } function y(e) { return (y = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } function E(e, t) { if (null == e) return {}; var r, n, a = function (e, t) { if (null == e) return {}; var r, n, a = {}, o = Object.keys(e); for (n = 0; n < o.length; n++)r = o[n], t.indexOf(r) >= 0 || (a[r] = e[r]); return a }(e, t); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); for (n = 0; n < o.length; n++)r = o[n], t.indexOf(r) >= 0 || Object.prototype.propertyIsEnumerable.call(e, r) && (a[r] = e[r]) } return a } function O(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e } function S(e, t) { return !t || "object" != typeof t && "function" != typeof t ? O(e) : t } var w = {}; function A() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "scroll"; return w[e] || (w[e] = u({ strategy: e })), w[e] } var C = "react-sizeme: an error occurred whilst stopping to listen to node size changes", T = { monitorWidth: !0, monitorHeight: !1, monitorPosition: !1, refreshRate: 16, refreshMode: "throttle", noPlaceholder: !1, resizeDetectorStrategy: "scroll" }; function j(e) { return e.displayName || e.name || "Component" } var k = function (e) { function t() { return f(this, t), S(this, y(t).apply(this, arguments)) } return b(t, e), p(t, [{ key: "render", value: function () { return a.Children.only(this.props.children) } }]), t }(a.Component); function R(e) { var t = e.className, r = e.style, n = {}; return t || r ? (t && (n.className = t), r && (n.style = r)) : n.style = { width: "100%", height: "100%" }, o.createElement("div", n) } m(k, "displayName", "SizeMeReferenceWrapper"), R.displayName = "SizeMePlaceholder"; var N = function (e) { function t(t) { var r = t.explicitRef, n = t.className, a = t.style, i = t.size, c = t.disablePlaceholder, s = (t.onSize, E(t, ["explicitRef", "className", "style", "size", "disablePlaceholder", "onSize"])), u = (null == i || null == i.width && null == i.height && null == i.position) && !c, l = { className: n, style: a }; null != i && (l.size = i); var f = u ? o.createElement(R, { className: n, style: a }) : o.createElement(e, h({}, l, s)); return o.createElement(k, { ref: r }, f) } return t.displayName = "SizeMeRenderer(".concat(j(e), ")"), t }; function L() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : T, t = e.monitorWidth, r = void 0 === t ? T.monitorWidth : t, n = e.monitorHeight, a = void 0 === n ? T.monitorHeight : n, u = e.monitorPosition, l = void 0 === u ? T.monitorPosition : u, d = e.refreshRate, v = void 0 === d ? T.refreshRate : d, E = e.refreshMode, w = void 0 === E ? T.refreshMode : E, k = e.noPlaceholder, R = void 0 === k ? T.noPlaceholder : k, _ = e.resizeDetectorStrategy, I = void 0 === _ ? T.resizeDetectorStrategy : _; c(r || a || l, 'You have to monitor at least one of the width, height, or position when using "sizeMe"'), c(v >= 16, "It is highly recommended that you don't put your refreshRate lower than 16 as this may cause layout thrashing."), c("throttle" === w || "debounce" === w, 'The refreshMode should have a value of "throttle" or "debounce"'); var M = "throttle" === w ? s.throttle : s.debounce; return function (e) { var t = N(e), n = function (e) { function n() { var e, t; f(this, n); for (var o = arguments.length, i = new Array(o), c = 0; c < o; c++)i[c] = arguments[c]; return m(O(t = S(this, (e = y(n)).call.apply(e, [this].concat(i)))), "domEl", null), m(O(t), "state", { width: void 0, height: void 0, position: void 0 }), m(O(t), "uninstall", function () { if (t.domEl) { try { t.detector.uninstall(t.domEl) } catch (e) { console.warn(C) } t.domEl = null } }), m(O(t), "determineStrategy", function (e) { e.onSize ? (t.callbackState || (t.callbackState = g({}, t.state)), t.strategy = "callback") : t.strategy = "render" }), m(O(t), "strategisedSetState", function (e) { "callback" === t.strategy && (t.callbackState = e, t.props.onSize(e)), t.setState(e) }), m(O(t), "strategisedGetState", function () { return "callback" === t.strategy ? t.callbackState : t.state }), m(O(t), "refCallback", function (e) { t.element = e }), m(O(t), "hasSizeChanged", function (e, t) { var n = e, o = t, i = n.position || {}, c = o.position || {}; return r && n.width !== o.width || a && n.height !== o.height || l && (i.top !== c.top || i.left !== c.left || i.bottom !== c.bottom || i.right !== c.right) }), m(O(t), "checkIfSizeChanged", M(v, function (e) { var n = e.getBoundingClientRect(), o = n.width, i = n.height, c = n.right, s = n.left, u = n.top, f = n.bottom, d = { width: r ? o : null, height: a ? i : null, position: l ? { right: c, left: s, top: u, bottom: f } : null }; t.hasSizeChanged(t.strategisedGetState(), d) && t.strategisedSetState(d) })), t } return b(n, e), p(n, [{ key: "componentDidMount", value: function () { this.detector = A(I), this.determineStrategy(this.props), this.handleDOMNode() } }, { key: "componentDidUpdate", value: function () { this.determineStrategy(this.props), this.handleDOMNode() } }, { key: "componentWillUnmount", value: function () { this.hasSizeChanged = function () { }, this.checkIfSizeChanged = function () { }, this.uninstall() } }, { key: "handleDOMNode", value: function () { var e = this.element && i.findDOMNode(this.element); e ? this.domEl ? (this.domEl.isSameNode && !this.domEl.isSameNode(e) || this.domEl !== e) && (this.uninstall(), this.domEl = e, this.detector.listenTo(this.domEl, this.checkIfSizeChanged)) : (this.domEl = e, this.detector.listenTo(this.domEl, this.checkIfSizeChanged)) : this.uninstall() } }, { key: "render", value: function () { var e = L.enableSSRBehaviour || L.noPlaceholders || R || "callback" === this.strategy, r = g({}, this.state); return o.createElement(t, h({ explicitRef: this.refCallback, size: "callback" === this.strategy ? null : r, disablePlaceholder: e }, this.props)) } }]), n }(o.Component); return m(n, "displayName", "SizeMe(".concat(j(e), ")")), n.WrappedComponent = e, n } } L.enableSSRBehaviour = !1, L.noPlaceholders = !1; var _ = function (e) { function t(e) { var r; f(this, t), m(O(r = S(this, y(t).call(this, e))), "createComponent", function (e) { r.SizeAware = L(e)(function (e) { return e.children }) }), m(O(r), "onSize", function (e) { return r.setState({ size: e }) }), e.children, e.render; var n = E(e, ["children", "render"]); return r.createComponent(n), r.state = { size: { width: void 0, height: void 0 } }, r } return b(t, e), p(t, [{ key: "componentDidUpdate", value: function (e) { var t = this.props, r = (t.children, t.render, E(t, ["children", "render"])), n = (e.children, e.render, E(e, ["children", "render"])); l(r, n) || this.createComponent(r) } }, { key: "render", value: function () { var e = this.SizeAware, t = this.props.children || this.props.render; return o.createElement(e, { onSize: this.onSize }, t({ size: this.state.size })) } }]), t }(a.Component); m(_, "defaultProps", { children: void 0, render: void 0 }), L.SizeMe = _, L.withSize = L, e.exports = L }, function (e, t, r) { e.exports = { animationDuration: "250" } }, function (e, t, r) { }, function (e, t, r) { }, function (e, t, r) { }, function (e, t, r) { }, function (e, t, r) { }, function (e, t, r) { "use strict"; var n = r(35); function a() { } function o() { } o.resetWarningCache = a, e.exports = function () { function e(e, t, r, a, o, i) { if (i !== n) { var c = new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"); throw c.name = "Invariant Violation", c } } function t() { return e } e.isRequired = e; var r = { array: e, bool: e, func: e, number: e, object: e, string: e, symbol: e, any: e, arrayOf: t, element: e, elementType: e, instanceOf: t, node: e, objectOf: t, oneOf: t, oneOfType: t, shape: t, exact: t, checkPropTypes: o, resetWarningCache: a }; return r.PropTypes = r, r } }, function (e, t, r) { "use strict"; e.exports = "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED" }, function (e, t, r) { }, function (e, t, r) { }, function (e, t, r) { }, function (e, t, r) { }, function (e, t, r) { }, function (e, t, r) { }, function (e, t, r) { }, function (e, t, r) { }, function (e, t, r) { }, function (e, t, r) { }, function (e, t, r) { }, function (e, t, r) { }, function (e, t, r) { }, function (e, t, r) { }, function (e, t, r) { }, function (e, t) { var r, n, a = e.exports = {}; function o() { throw new Error("setTimeout has not been defined") } function i() { throw new Error("clearTimeout has not been defined") } function c(e) { if (r === setTimeout) return setTimeout(e, 0); if ((r === o || !r) && setTimeout) return r = setTimeout, setTimeout(e, 0); try { return r(e, 0) } catch (t) { try { return r.call(null, e, 0) } catch (t) { return r.call(this, e, 0) } } } !function () { try { r = "function" == typeof setTimeout ? setTimeout : o } catch (e) { r = o } try { n = "function" == typeof clearTimeout ? clearTimeout : i } catch (e) { n = i } }(); var s, u = [], l = !1, f = -1; function d() { l && s && (l = !1, s.length ? u = s.concat(u) : f = -1, u.length && p()) } function p() { if (!l) { var e = c(d); l = !0; for (var t = u.length; t;) { for (s = u, u = []; ++f < t;)s && s[f].run(); f = -1, t = u.length } s = null, l = !1, function (e) { if (n === clearTimeout) return clearTimeout(e); if ((n === i || !n) && clearTimeout) return n = clearTimeout, clearTimeout(e); try { n(e) } catch (t) { try { return n.call(null, e) } catch (t) { return n.call(this, e) } } }(e) } } function m(e, t) { this.fun = e, this.array = t } function h() { } a.nextTick = function (e) { var t = new Array(arguments.length - 1); if (arguments.length > 1) for (var r = 1; r < arguments.length; r++)t[r - 1] = arguments[r]; u.push(new m(e, t)), 1 !== u.length || l || c(p) }, m.prototype.run = function () { this.fun.apply(null, this.array) }, a.title = "browser", a.browser = !0, a.env = {}, a.argv = [], a.version = "", a.versions = {}, a.on = h, a.addListener = h, a.once = h, a.off = h, a.removeListener = h, a.removeAllListeners = h, a.emit = h, a.prependListener = h, a.prependOnceListener = h, a.listeners = function (e) { return [] }, a.binding = function (e) { throw new Error("process.binding is not supported") }, a.cwd = function () { return "/" }, a.chdir = function (e) { throw new Error("process.chdir is not supported") }, a.umask = function () { return 0 } }, function (e, t, r) { }, function (e, t, r) { }, function (e, t, r) { }, function (e, t, r) { "use strict"; e.exports = function (e, t, r, n, a, o, i, c) { if (!e) { var s; if (void 0 === t) s = new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings."); else { var u = [r, n, a, o, i, c], l = 0; (s = new Error(t.replace(/%s/g, function () { return u[l++] }))).name = "Invariant Violation" } throw s.framesToPop = 1, s } } }, function (e, t, r) { !function (e) { "use strict"; function t(e, t, r, n) { var a, o = !1, i = 0; function c() { a && clearTimeout(a) } function s() { for (var s = arguments.length, u = new Array(s), l = 0; l < s; l++)u[l] = arguments[l]; var f = this, d = Date.now() - i; function p() { i = Date.now(), r.apply(f, u) } o || (n && !a && p(), c(), void 0 === n && d > e ? p() : !0 !== t && (a = setTimeout(n ? function () { a = void 0 } : p, void 0 === n ? e - d : e))) } return "boolean" != typeof t && (n = r, r = t, t = void 0), s.cancel = function () { c(), o = !0 }, s } e.debounce = function (e, r, n) { return void 0 === n ? t(e, r, !1) : t(e, n, !1 !== r) }, e.throttle = t, Object.defineProperty(e, "__esModule", { value: !0 }) }(t) }, function (e, t, r) { "use strict"; var n = r(24).forEach, a = r(58), o = r(59), i = r(60), c = r(61), s = r(62), u = r(25), l = r(63), f = r(65), d = r(66), p = r(67); function m(e) { return Array.isArray(e) || void 0 !== e.length } function h(e) { if (Array.isArray(e)) return e; var t = []; return n(e, function (e) { t.push(e) }), t } function v(e) { return e && 1 === e.nodeType } function g(e, t, r) { var n = e[t]; return null == n && void 0 !== r ? r : n } e.exports = function (e) { var t; if ((e = e || {}).idHandler) t = { get: function (t) { return e.idHandler.get(t, !0) }, set: e.idHandler.set }; else { var r = i(), b = c({ idGenerator: r, stateHandler: f }); t = b } var y = e.reporter; y || (y = s(!1 === y)); var E = g(e, "batchProcessor", l({ reporter: y })), O = {}; O.callOnAdd = !!g(e, "callOnAdd", !0), O.debug = !!g(e, "debug", !1); var S, w = o(t), A = a({ stateHandler: f }), C = g(e, "strategy", "object"), T = g(e, "important", !1), j = { reporter: y, batchProcessor: E, stateHandler: f, idHandler: t, important: T }; if ("scroll" === C && (u.isLegacyOpera() ? (y.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."), C = "object") : u.isIE(9) && (y.warn("Scroll strategy is not supported on IE9. Changing to object strategy."), C = "object")), "scroll" === C) S = p(j); else { if ("object" !== C) throw new Error("Invalid strategy name: " + C); S = d(j) } var k = {}; return { listenTo: function (e, r, a) { function o(e) { var t = w.get(e); n(t, function (t) { t(e) }) } function i(e, t, r) { w.add(t, r), e && r(t) } if (a || (a = r, r = e, e = {}), !r) throw new Error("At least one element required."); if (!a) throw new Error("Listener required."); if (v(r)) r = [r]; else { if (!m(r)) return y.error("Invalid arguments. Must be a DOM element or a collection of DOM elements."); r = h(r) } var c = 0, s = g(e, "callOnAdd", O.callOnAdd), u = g(e, "onReady", function () { }), l = g(e, "debug", O.debug); n(r, function (e) { f.getState(e) || (f.initState(e), t.set(e)); var d = t.get(e); if (l && y.log("Attaching listener to element", d, e), !A.isDetectable(e)) return l && y.log(d, "Not detectable."), A.isBusy(e) ? (l && y.log(d, "System busy making it detectable"), i(s, e, a), k[d] = k[d] || [], void k[d].push(function () { ++c === r.length && u() })) : (l && y.log(d, "Making detectable..."), A.markBusy(e, !0), S.makeDetectable({ debug: l, important: T }, e, function (e) { if (l && y.log(d, "onElementDetectable"), f.getState(e)) { A.markAsDetectable(e), A.markBusy(e, !1), S.addListener(e, o), i(s, e, a); var t = f.getState(e); if (t && t.startSize) { var p = e.offsetWidth, m = e.offsetHeight; t.startSize.width === p && t.startSize.height === m || o(e) } k[d] && n(k[d], function (e) { e() }) } else l && y.log(d, "Element uninstalled before being detectable."); delete k[d], ++c === r.length && u() })); l && y.log(d, "Already detecable, adding listener."), i(s, e, a), c++ }), c === r.length && u() }, removeListener: w.removeListener, removeAllListeners: w.removeAllListeners, uninstall: function (e) { if (!e) return y.error("At least one element is required."); if (v(e)) e = [e]; else { if (!m(e)) return y.error("Invalid arguments. Must be a DOM element or a collection of DOM elements."); e = h(e) } n(e, function (e) { w.removeAllListeners(e), S.uninstall(e), f.cleanState(e) }) }, initDocument: function (e) { S.initDocument && S.initDocument(e) } } } }, function (e, t, r) { "use strict"; e.exports = function (e) { var t = e.stateHandler.getState; return { isDetectable: function (e) { var r = t(e); return r && !!r.isDetectable }, markAsDetectable: function (e) { t(e).isDetectable = !0 }, isBusy: function (e) { return !!t(e).busy }, markBusy: function (e, r) { t(e).busy = !!r } } } }, function (e, t, r) { "use strict"; e.exports = function (e) { var t = {}; function r(r) { var n = e.get(r); return void 0 === n ? [] : t[n] || [] } return { get: r, add: function (r, n) { var a = e.get(r); t[a] || (t[a] = []), t[a].push(n) }, removeListener: function (e, t) { for (var n = r(e), a = 0, o = n.length; a < o; ++a)if (n[a] === t) { n.splice(a, 1); break } }, removeAllListeners: function (e) { var t = r(e); t && (t.length = 0) } } } }, function (e, t, r) { "use strict"; e.exports = function () { var e = 1; return { generate: function () { return e++ } } } }, function (e, t, r) { "use strict"; e.exports = function (e) { var t = e.idGenerator, r = e.stateHandler.getState; return { get: function (e) { var t = r(e); return t && void 0 !== t.id ? t.id : null }, set: function (e) { var n = r(e); if (!n) throw new Error("setId required the element to have a resize detection state."); var a = t.generate(); return n.id = a, a } } } }, function (e, t, r) { "use strict"; e.exports = function (e) { function t() { } var r = { log: t, warn: t, error: t }; if (!e && window.console) { var n = function (e, t) { e[t] = function () { var e = console[t]; if (e.apply) e.apply(console, arguments); else for (var r = 0; r < arguments.length; r++)e(arguments[r]) } }; n(r, "log"), n(r, "warn"), n(r, "error") } return r } }, function (e, t, r) { "use strict"; var n = r(64); function a() { var e = {}, t = 0, r = 0, n = 0; return { add: function (a, o) { o || (o = a, a = 0), a > r ? r = a : a < n && (n = a), e[a] || (e[a] = []), e[a].push(o), t++ }, process: function () { for (var t = n; t <= r; t++)for (var a = e[t], o = 0; o < a.length; o++)(0, a[o])() }, size: function () { return t } } } e.exports = function (e) { var t = (e = e || {}).reporter, r = n.getOption(e, "async", !0), o = n.getOption(e, "auto", !0); o && !r && (t && t.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."), r = !0); var i, c = a(), s = !1; function u() { for (s = !0; c.size();) { var e = c; c = a(), e.process() } s = !1 } function l() { i = setTimeout(u, 0) } return { add: function (e, t) { !s && o && r && 0 === c.size() && l(), c.add(e, t) }, force: function (e) { s || (void 0 === e && (e = r), i && (clearTimeout(i), i = null), e ? l() : u()) } } } }, function (e, t, r) { "use strict"; (e.exports = {}).getOption = function (e, t, r) { var n = e[t]; return null == n && void 0 !== r ? r : n } }, function (e, t, r) { "use strict"; function n(e) { return e._erd } e.exports = { initState: function (e) { return e._erd = {}, n(e) }, getState: n, cleanState: function (e) { delete e._erd } } }, function (e, t, r) { "use strict"; var n = r(25); e.exports = function (e) { var t = (e = e || {}).reporter, r = e.batchProcessor, a = e.stateHandler.getState; if (!t) throw new Error("Missing required dependency: reporter."); function o(t) { var r = e.important ? " !important; " : "; "; return (t.join(r) + r).trim() } function i(e) { return a(e).object } return { makeDetectable: function (e, i, c) { c || (c = i, i = e, e = null), (e = e || {}).debug, n.isIE(8) ? c(i) : function (i, c) { var s = o(["display: block", "position: absolute", "top: 0", "left: 0", "width: 100%", "height: 100%", "border: none", "padding: 0", "margin: 0", "opacity: 0", "z-index: -1000", "pointer-events: none"]), u = !1, l = window.getComputedStyle(i), f = i.offsetWidth, d = i.offsetHeight; function p() { function r() { if ("static" === l.position) { i.style.setProperty("position", "relative", e.important ? "important" : ""); var r = function (t, r, n, a) { var o = n[a]; "auto" !== o && "0" !== function (e) { return e.replace(/[^-\d\.]/g, "") }(o) && (t.warn("An element that is positioned static has style." + a + "=" + o + " which is ignored due to the static positioning. The element will need to be positioned relative, so the style." + a + " will be set to 0. Element: ", r), r.style.setProperty(a, "0", e.important ? "important" : "")) }; r(t, i, l, "top"), r(t, i, l, "right"), r(t, i, l, "bottom"), r(t, i, l, "left") } } "" !== l.position && (r(), u = !0); var o = document.createElement("object"); o.style.cssText = s, o.tabIndex = -1, o.type = "text/html", o.setAttribute("aria-hidden", "true"), o.onload = function () { u || r(), function e(t, r) { if (!t.contentDocument) { var n = a(t); return n.checkForObjectDocumentTimeoutId && window.clearTimeout(n.checkForObjectDocumentTimeoutId), void (n.checkForObjectDocumentTimeoutId = setTimeout(function () { n.checkForObjectDocumentTimeoutId = 0, e(t, r) }, 100)) } r(t.contentDocument) }(this, function (e) { c(i) }) }, n.isIE() || (o.data = "about:blank"), a(i) && (i.appendChild(o), a(i).object = o, n.isIE() && (o.data = "about:blank")) } a(i).startSize = { width: f, height: d }, r ? r.add(p) : p() }(i, c) }, addListener: function (e, t) { function r() { t(e) } if (n.isIE(8)) a(e).object = { proxy: r }, e.attachEvent("onresize", r); else { var o = i(e); if (!o) throw new Error("Element is not detectable by this strategy."); o.contentDocument.defaultView.addEventListener("resize", r) } }, uninstall: function (e) { if (a(e)) { var t = i(e); t && (n.isIE(8) ? e.detachEvent("onresize", t.proxy) : e.removeChild(t), a(e).checkForObjectDocumentTimeoutId && window.clearTimeout(a(e).checkForObjectDocumentTimeoutId), delete a(e).object) } } } } }, function (e, t, r) { "use strict"; var n = r(24).forEach; e.exports = function (e) { var t = (e = e || {}).reporter, r = e.batchProcessor, a = e.stateHandler.getState, o = (e.stateHandler.hasState, e.idHandler); if (!r) throw new Error("Missing required dependency: batchProcessor"); if (!t) throw new Error("Missing required dependency: reporter."); var i = function () { var e = document.createElement("div"); e.style.cssText = s(["position: absolute", "width: 1000px", "height: 1000px", "visibility: hidden", "margin: 0", "padding: 0"]); var t = document.createElement("div"); t.style.cssText = s(["position: absolute", "width: 500px", "height: 500px", "overflow: scroll", "visibility: none", "top: -1500px", "left: -1500px", "visibility: hidden", "margin: 0", "padding: 0"]), t.appendChild(e), document.body.insertBefore(t, document.body.firstChild); var r = 500 - t.clientWidth, n = 500 - t.clientHeight; return document.body.removeChild(t), { width: r, height: n } }(); function c(e) { !function (e, t, r) { if (!e.getElementById(t)) { var n = r + "_animation", a = "/* Created by the element-resize-detector library. */\n"; a += "." + r + " > div::-webkit-scrollbar { " + s(["display: none"]) + " }\n\n", a += ".erd_scroll_detection_container_animation_active { " + s(["-webkit-animation-duration: 0.1s", "animation-duration: 0.1s", "-webkit-animation-name: " + n, "animation-name: " + n]) + " }\n", a += "@-webkit-keyframes " + n + " { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n", function (r, n) { n = n || function (t) { e.head.appendChild(t) }; var a = e.createElement("style"); a.innerHTML = r, a.id = t, n(a) }(a += "@keyframes " + n + " { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }") } }(e, "erd_scroll_detection_scrollbar_style", "erd_scroll_detection_container") } function s(t) { var r = e.important ? " !important; " : "; "; return (t.join(r) + r).trim() } function u(e, r, n) { if (e.addEventListener) e.addEventListener(r, n); else { if (!e.attachEvent) return t.error("[scroll] Don't know how to add event listeners."); e.attachEvent("on" + r, n) } } function l(e, r, n) { if (e.removeEventListener) e.removeEventListener(r, n); else { if (!e.detachEvent) return t.error("[scroll] Don't know how to remove event listeners."); e.detachEvent("on" + r, n) } } function f(e) { return a(e).container.childNodes[0].childNodes[0].childNodes[0] } function d(e) { return a(e).container.childNodes[0].childNodes[0].childNodes[1] } return c(window.document), { makeDetectable: function (e, c, l) { function p() { if (e.debug) { var r = Array.prototype.slice.call(arguments); if (r.unshift(o.get(c), "Scroll: "), t.log.apply) t.log.apply(null, r); else for (var n = 0; n < r.length; n++)t.log(r[n]) } } function m(e) { var t = a(e).container.childNodes[0], r = window.getComputedStyle(t); return !r.width || -1 === r.width.indexOf("px") } function h() { var e = window.getComputedStyle(c), t = {}; return t.position = e.position, t.width = c.offsetWidth, t.height = c.offsetHeight, t.top = e.top, t.right = e.right, t.bottom = e.bottom, t.left = e.left, t.widthCSS = e.width, t.heightCSS = e.height, t } function v() { if (p("storeStyle invoked."), a(c)) { var e = h(); a(c).style = e } else p("Aborting because element has been uninstalled") } function g(e, t, r) { a(e).lastWidth = t, a(e).lastHeight = r } function b() { return 2 * i.width + 1 } function y() { return 2 * i.height + 1 } function E(e) { return e + 10 + b() } function O(e) { return e + 10 + y() } function S(e, t, r) { var n = f(e), a = d(e), o = E(t), i = O(r), c = NaN + b(), s = NaN + y(); n.scrollLeft = o, n.scrollTop = i, a.scrollLeft = c, a.scrollTop = s } function w() { var e = a(c).container; if (!e) { (e = document.createElement("div")).className = "erd_scroll_detection_container", e.style.cssText = s(["visibility: hidden", "display: inline", "width: 0px", "height: 0px", "z-index: -1", "overflow: hidden", "margin: 0", "padding: 0"]), a(c).container = e, function (e) { e.className += " erd_scroll_detection_container_animation_active" }(e), c.appendChild(e); var t = function () { a(c).onRendered && a(c).onRendered() }; u(e, "animationstart", t), a(c).onAnimationStart = t } return e } function A() { if (p("Injecting elements"), a(c)) { !function () { var r = a(c).style; if ("static" === r.position) { c.style.setProperty("position", "relative", e.important ? "important" : ""); var n = function (e, t, r, n) { var a = r[n]; "auto" !== a && "0" !== function (e) { return e.replace(/[^-\d\.]/g, "") }(a) && (e.warn("An element that is positioned static has style." + n + "=" + a + " which is ignored due to the static positioning. The element will need to be positioned relative, so the style." + n + " will be set to 0. Element: ", t), t.style[n] = 0) }; n(t, c, r, "top"), n(t, c, r, "right"), n(t, c, r, "bottom"), n(t, c, r, "left") } }(); var r = a(c).container; r || (r = w()); var n, o, l, f, d = i.width, m = i.height, h = s(["position: absolute", "flex: none", "overflow: hidden", "z-index: -1", "visibility: hidden", "width: 100%", "height: 100%", "left: 0px", "top: 0px"]), v = s(["position: absolute", "flex: none", "overflow: hidden", "z-index: -1", "visibility: hidden"].concat(["left: " + (n = (n = -(1 + d)) ? n + "px" : "0"), "top: " + (o = (o = -(1 + m)) ? o + "px" : "0"), "right: " + (f = (f = -d) ? f + "px" : "0"), "bottom: " + (l = (l = -m) ? l + "px" : "0")])), g = s(["position: absolute", "flex: none", "overflow: scroll", "z-index: -1", "visibility: hidden", "width: 100%", "height: 100%"]), b = s(["position: absolute", "flex: none", "overflow: scroll", "z-index: -1", "visibility: hidden", "width: 100%", "height: 100%"]), y = s(["position: absolute", "left: 0", "top: 0"]), E = s(["position: absolute", "width: 200%", "height: 200%"]), O = document.createElement("div"), S = document.createElement("div"), A = document.createElement("div"), C = document.createElement("div"), T = document.createElement("div"), j = document.createElement("div"); O.dir = "ltr", O.style.cssText = h, O.className = "erd_scroll_detection_container", S.className = "erd_scroll_detection_container", S.style.cssText = v, A.style.cssText = g, C.style.cssText = y, T.style.cssText = b, j.style.cssText = E, A.appendChild(C), T.appendChild(j), S.appendChild(A), S.appendChild(T), O.appendChild(S), r.appendChild(O), u(A, "scroll", k), u(T, "scroll", R), a(c).onExpandScroll = k, a(c).onShrinkScroll = R } else p("Aborting because element has been uninstalled"); function k() { a(c).onExpand && a(c).onExpand() } function R() { a(c).onShrink && a(c).onShrink() } } function C() { function i(t, r, n) { var a = function (e) { return f(e).childNodes[0] }(t), o = E(r), i = O(n); a.style.setProperty("width", o + "px", e.important ? "important" : ""), a.style.setProperty("height", i + "px", e.important ? "important" : "") } function s(n) { var s = c.offsetWidth, l = c.offsetHeight, f = s !== a(c).lastWidth || l !== a(c).lastHeight; p("Storing current size", s, l), g(c, s, l), r.add(0, function () { if (f) if (a(c)) if (u()) { if (e.debug) { var r = c.offsetWidth, n = c.offsetHeight; r === s && n === l || t.warn(o.get(c), "Scroll: Size changed before updating detector elements.") } i(c, s, l) } else p("Aborting because element container has not been initialized"); else p("Aborting because element has been uninstalled") }), r.add(1, function () { a(c) ? u() ? S(c, s, l) : p("Aborting because element container has not been initialized") : p("Aborting because element has been uninstalled") }), f && n && r.add(2, function () { a(c) ? u() ? n() : p("Aborting because element container has not been initialized") : p("Aborting because element has been uninstalled") }) } function u() { return !!a(c).container } function l() { p("notifyListenersIfNeeded invoked"); var e = a(c); return void 0 === a(c).lastNotifiedWidth && e.lastWidth === e.startSize.width && e.lastHeight === e.startSize.height ? p("Not notifying: Size is the same as the start size, and there has been no notification yet.") : e.lastWidth === e.lastNotifiedWidth && e.lastHeight === e.lastNotifiedHeight ? p("Not notifying: Size already notified") : (p("Current size not notified, notifying..."), e.lastNotifiedWidth = e.lastWidth, e.lastNotifiedHeight = e.lastHeight, void n(a(c).listeners, function (e) { e(c) })) } function h() { p("Scroll detected."), m(c) ? p("Scroll event fired while unrendered. Ignoring...") : s(l) } if (p("registerListenersAndPositionElements invoked."), a(c)) { a(c).onRendered = function () { if (p("startanimation triggered."), m(c)) p("Ignoring since element is still unrendered..."); else { p("Element rendered."); var e = f(c), t = d(c); 0 !== e.scrollLeft && 0 !== e.scrollTop && 0 !== t.scrollLeft && 0 !== t.scrollTop || (p("Scrollbars out of sync. Updating detector elements..."), s(l)) } }, a(c).onExpand = h, a(c).onShrink = h; var v = a(c).style; i(c, v.width, v.height) } else p("Aborting because element has been uninstalled") } function T() { if (p("finalizeDomMutation invoked."), a(c)) { var e = a(c).style; g(c, e.width, e.height), S(c, e.width, e.height) } else p("Aborting because element has been uninstalled") } function j() { l(c) } function k() { var e; p("Installing..."), a(c).listeners = [], e = h(), a(c).startSize = { width: e.width, height: e.height }, p("Element start size", a(c).startSize), r.add(0, v), r.add(1, A), r.add(2, C), r.add(3, T), r.add(4, j) } l || (l = c, c = e, e = null), e = e || {}, p("Making detectable..."), function (e) { return !function (e) { var t = e.getRootNode && e.getRootNode().contains(e); return e === e.ownerDocument.body || e.ownerDocument.body.contains(e) || t }(e) || null === window.getComputedStyle(e) }(c) ? (p("Element is detached"), w(), p("Waiting until element is attached..."), a(c).onRendered = function () { p("Element is now attached"), k() }) : k() }, addListener: function (e, t) { if (!a(e).listeners.push) throw new Error("Cannot add listener to an element that is not detectable."); a(e).listeners.push(t) }, uninstall: function (e) { var t = a(e); t && (t.onExpandScroll && l(f(e), "scroll", t.onExpandScroll), t.onShrinkScroll && l(d(e), "scroll", t.onShrinkScroll), t.onAnimationStart && l(t.container, "animationstart", t.onAnimationStart), t.container && e.removeChild(t.container)) }, initDocument: c } } }, function (e, t) { e.exports = function (e, t, r, n) { var a = r ? r.call(n, e, t) : void 0; if (void 0 !== a) return !!a; if (e === t) return !0; if ("object" != typeof e || !e || "object" != typeof t || !t) return !1; var o = Object.keys(e), i = Object.keys(t); if (o.length !== i.length) return !1; for (var c = Object.prototype.hasOwnProperty.bind(t), s = 0; s < o.length; s++) { var u = o[s]; if (!c(u)) return !1; var l = e[u], f = t[u]; if (!1 === (a = r ? r.call(n, l, f, u) : void 0) || void 0 === a && l !== f) return !1 } return !0 } }, function (e, t, r) { }, function (e, t, r) { }, function (e, t, r) { }, function (e, t, r) { }, function (e, t, r) { e.exports = { animationDuration: "250" } }, function (e, t, r) { e.exports = { animationDuration: "250" } }, function (e, t, r) { }, function (e, t, r) { }, function (e, t, r) { "use strict"; r.r(t), r.d(t, "getTransitionClasses", function () { return a }), r.d(t, "getVariable", function () { return i }), r.d(t, "PREFIX", function () { return c }), r.d(t, "prefix", function () { return s }), r.d(t, "ELEMENT_SEPARATOR", function () { return u }), r.d(t, "element", function () { return l }), r.d(t, "MODIFIER_SEPARATOR", function () { return m }), r.d(t, "modifier", function () { return h }), r.d(t, "getClasses", function () { return v }), r.d(t, "className", function () { return g }), r.d(t, "userAgent", function () { return A }), r.d(t, "useNavigationGuard", function () { return L }), r.d(t, "useResponsiveSize", function () { return z }), r.d(t, "useOnClickOutside", function () { return Y }), r.d(t, "Button", function () { return $ }), r.d(t, "Card", function () { return He }), r.d(t, "Checkbox", function () { return Ke }), r.d(t, "Collapse", function () { return Fe }), r.d(t, "DrawerFooter", function () { return Xe }), r.d(t, "DrawerHeader", function () { return $e }), r.d(t, "NavigationDrawerHeader", function () { return rt }), r.d(t, "DrawerLayout", function () { return ot }), r.d(t, "Icon", function () { return ae }), r.d(t, "iconPaths", function () { return ee }), r.d(t, "inlineSvg", function () { return ct }), r.d(t, "toURL", function () { return it }), r.d(t, "StatusIcon", function () { return st }), r.d(t, "WebSAEShieldIcon", function () { return ut }), r.d(t, "WebSAELogo", function () { return lt }), r.d(t, "WebSAEWordLogo", function () { return ft }), r.d(t, "InstructionType", function () { return We }), r.d(t, "Instruction", function () { return ht }), r.d(t, "Loader", function () { return gt }), r.d(t, "NavigationController", function () { return At }), r.d(t, "NavigationContext", function () { return N }), r.d(t, "withNavigation", function () { return Tt }), r.d(t, "NonIdealState", function () { return kt }), r.d(t, "PlatformManager", function () { return Rt }), r.d(t, "SegmentedControl", function () { return Lt }), r.d(t, "Select", function () { return Mt }), r.d(t, "Switch", function () { return Ut }), r.d(t, "TabHeader", function () { return Ft }), r.d(t, "TextInput", function () { return zt }), r.d(t, "TooltipPosition", function () { return Kt }), r.d(t, "Tooltip", function () { return fr }), r.d(t, "Tip", function () { return or }), r.d(t, "SheetTip", function () { return Xt }), r.d(t, "invertAnimation", function () { return vr }), r.d(t, "determineAnimation", function () { return gr }), r.d(t, "Portal", function () { return Jt }), r.d(t, "Popover", function () { return Er }), r.d(t, "MenuItem", function () { return Sr }), r.d(t, "Menu", function () { return Cr }), r.d(t, "Overlay", function () { return _r }), r.d(t, "ANIMATION_DURATION", function () { return kr }), r.d(t, "Dialog", function () { return Ur }), r.d(t, "List", function () { return Zr }), r.d(t, "range", function () { return Vr }), r.d(t, "Tag", function () { return $r }), r.d(t, "CopyClipboard", function () { return en }), r.d(t, "ClassificationBanner", function () { return cn }), r.d(t, "DODClassificationLevel", function () { return zr }), r.d(t, "CSISClassificationLevel", function () { return Yr }), r.d(t, "GlobalClassificationDispatch", function () { return an }), r.d(t, "GlobalClassificationIdentifier", function () { return on }), r(29); var n = function () { return (n = Object.assign || function (e) { for (var t, r = 1, n = arguments.length; r < n; r++)for (var a in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a]); return e }).apply(this, arguments) }; function a(e) { return { appear: e + "--appear", appearActive: e + "--appear-active", appearDone: e + "--appear-done", enter: e + "--enter", enterActive: e + "--enter-active", enterDone: e + "--enter-done", exit: e + "--exit", exitActive: e + "--exit-active", exitDone: e + "--exit-done" } } var o = Object.prototype.hasOwnProperty; function i(e, t, r) { return o.call(e, t) && void 0 !== e[t] ? String(e[t]).replace("px", "") : r } var c = "wt-"; function s(e) { return e.startsWith(c) ? e : "" + c + e } var u = "__"; function l(e, t) { if (e.includes(u)) throw new Error("BEM element classes cannot have nested elements."); return "" + s(e) + u + t } var f, d, p, m = "--"; function h(e, t) { if (e.includes(m)) throw new Error("BEM modifier classes cannot have nested modifiers."); return "" + s(e) + m + t } function v(e, t, r) { return { BASE: s(e), Elements: t.reduce(function (t, r) { var a; return n(n({}, t), ((a = {})[r] = l(e, r), a)) }, {}), Modifiers: r.reduce(function (t, r) { var a; return n(n({}, t), ((a = {})[r] = h(e, r), a)) }, {}) } } function g() { for (var e = [], t = 0; t < arguments.length; t++)e[t] = arguments[t]; var r = [], n = e.filter(function (e) { return !!e }); return n.forEach(function (e) { "object" == typeof e ? Object.keys(e).forEach(function (t) { e[t] && (r = r.concat(t.split(" "))) }) : r = r.concat(e.split(" ")) }), r.join(" ") } !function (e) { e.WINDOWS_PHONE = "Windows Phone", e.IPHONE = "iPhone", e.BLACKBERRY = "BlackBerry", e.PALM = "Palm", e.ANDROID = "Android" }(f || (f = {})), function (e) { e.WINDOWS = "Windows", e.MAC = "Macintosh", e.LINUX = "Linux" }(d || (d = {})), function (e) { e.IPAD = "iPad", e.KINDLE = "Kindle", e.PLAYBOOK = "PlayBook" }(p || (p = {})); var b, y = [{ name: p.IPAD, value: "iPad", version: "OS" }, { name: p.KINDLE, value: "Silk", version: "Silk" }, { name: p.PLAYBOOK, value: "PlayBook", version: "OS" }], E = [{ name: d.WINDOWS, value: "Win", version: "NT" }, { name: d.MAC, value: "Mac", version: "OS X" }, { name: d.LINUX, value: "Linux", version: "rv" }], O = function () { for (var e = 0, t = 0, r = arguments.length; t < r; t++)e += arguments[t].length; var n = Array(e), a = 0; for (t = 0; t < r; t++)for (var o = arguments[t], i = 0, c = o.length; i < c; i++, a++)n[a] = o[i]; return n }([{ name: f.WINDOWS_PHONE, value: "Windows Phone", version: "OS" }, { name: f.IPHONE, value: "iPhone", version: "OS" }, { name: f.ANDROID, value: "Android", version: "Android" }, { name: f.BLACKBERRY, value: "BlackBerry", version: "/" }, { name: f.PALM, value: "Palm", version: "PalmOS" }], E, y); !function (e) { e.CHROME = "Chrome", e.FIREFOX = "Firefox", e.SAFARI = "Safari", e.IE = "Internet Explorer", e.OPERA = "Opera", e.BLACKBERRY = "BlackBerry", e.MOZILLA = "Mozilla" }(b || (b = {})); var S = [{ name: b.CHROME, value: "Chrome", version: "Chrome" }, { name: b.FIREFOX, value: "Firefox", version: "Firefox" }, { name: b.SAFARI, value: "Safari", version: "Version" }, { name: b.IE, value: "MSIE", version: "MSIE" }, { name: b.OPERA, value: "Opera", version: "Opera" }, { name: b.BLACKBERRY, value: "CLDC", version: "CLDC" }, { name: b.MOZILLA, value: "Mozilla", version: "Mozilla" }]; function w(e, t) { for (var r = 0; r < t.length; r += 1)if (new RegExp(t[r].value, "i").test(e)) { var n = new RegExp(t[r].version + "[- /:;]([\\d._]+)", "i"), a = e.match(n), o = "", i = void 0; if (a && a[1] && (i = a[1]), i) { a = i.split(/[._]+/); for (var c = 0; c < a.length; c += 1)o += 0 === c ? a[c] + "." : a[c] } else o = "0"; return { name: t[r].name, version: parseFloat(o) } } return { name: "unknown", version: 0 } } var A = function () { if (void 0 === typeof window) return { os: null, browser: null }; var e = [navigator.platform, navigator.userAgent, navigator.appVersion, navigator.vendor].join(" "); return { os: w(e, O), browser: w(e, S) } }, C = function (e, t) { return function (e, t) { return Object.values(t).includes(e.os.name) }(e, t) }, T = function (e) { return C(e, f) }, j = function (e) { return C(e, p) }, k = r(0), R = r.n(k), N = Object(k.createContext)({}); function L(e) { var t = Object(k.useContext)(N), r = t.addGuard, n = t.removeGuard, a = Object(k.useCallback)(function (t) { return e(t) }, []); Object(k.useEffect)(function () { return r(a), function () { return n(a) } }, []) } var _ = /[A-Z]/g, I = /^ms-/, M = function (e) { return "-" + e.toLowerCase() }, x = function (e, t) { void 0 === t && (t = !1); var r, n = Object(k.useState)(t), a = n[0], o = n[1], i = (r = e, Object.entries(r).map(function (e) { var t = e[0], r = e[1]; if ("boolean" == typeof r) return r ? t : "not " + t; var n = "number" == typeof r ? r + "px" : String(r); return "(" + function (e) { var t = e.replace(_, M); return I.test(t) ? "-" + t : t }(t) + ": " + n + ")" }).join(" and ")); return Object(k.useEffect)(function () { var e = !0, t = window.matchMedia("" + i), r = function () { e && o(!!t.matches) }; return t.addListener(r), o(!!t.matches), function () { e = !1, t.removeListener(r) } }, [i]), a }, D = [], P = !1; function U() { D.forEach(function (e) { e() }) } var B, F = { minWidth: 1280 }, V = { minWidth: 1025, maxWidth: 1280 }, H = { minWidth: 768, maxWidth: 1024, orientation: "portrait" }, G = { minWidth: 768, maxWidth: 1024, orientation: "landscape" }, q = { minWidth: 481, maxWidth: 767 }, K = { minWidth: 320, maxWidth: 480 }, z = function () { var e = Object(k.useState)(window.innerWidth), t = e[0], r = e[1], n = Object(k.useState)(window.innerWidth), a = n[0], o = n[1], i = Object(k.useState)(A()), c = i[0], s = (i[1], x(F)), u = x(V), l = x(H), f = x(G), d = x(q), p = x(K); return Object(k.useEffect)(function () { var e = function () { window.innerHeight > window.innerWidth && d ? (o(window.innerWidth), r(window.innerHeight)) : (o(window.innerHeight), r(window.innerWidth)) }; return function (e) { D.push(e), P || (window.addEventListener("resize", U), window.addEventListener("orientationchange", U), P = !0) }(e), e(), function () { !function (e) { (D = D.filter(function (t) { return t !== e })).length || (window.removeEventListener("resize", U), window.removeEventListener("orientationchange", U), P = !1) }(e) } }), { desktopLarge: s, desktop: u, tabletPortrait: l, tabletLandscape: f, mobileLandscape: d, mobilePortrait: p, tablet: l || f || j(c), mobile: p || d || T(c), width: t, height: a } }, Y = function (e, t) { Object(k.useEffect)(function () { var r = function (r) { e.current && !e.current.contains(r.target) && t(r) }; return document.addEventListener("pointerdown", r), document.addEventListener("mousedown", r), document.addEventListener("touchstart", r), function () { document.removeEventListener("pointerdown", r), document.removeEventListener("mousedown", r), document.removeEventListener("touchstart", r) } }, [e, t]) }, W = (r(30), function () { return (W = Object.assign || function (e) { for (var t, r = 1, n = arguments.length; r < n; r++)for (var a in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a]); return e }).apply(this, arguments) }), X = function (e, t) { var r = {}; for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && t.indexOf(n) < 0 && (r[n] = e[n]); if (null != e && "function" == typeof Object.getOwnPropertySymbols) { var a = 0; for (n = Object.getOwnPropertySymbols(e); a < n.length; a++)t.indexOf(n[a]) < 0 && Object.prototype.propertyIsEnumerable.call(e, n[a]) && (r[n[a]] = e[n[a]]) } return r }; !function (e) { e[e.PRIMARY = 0] = "PRIMARY", e[e.SECONDARY = 1] = "SECONDARY", e[e.WARNING = 2] = "WARNING", e[e.DANGER = 3] = "DANGER" }(B || (B = {})); var J = v("button", [], ["primary", "secondary", "warning", "danger", "minimal", "outlined", "small", "large"]); function Z(e, t) { var r, n = e.className, a = e.large, o = e.minimal, i = e.outlined, c = e.small, s = X(e, ["className", "large", "minimal", "outlined", "small"]), u = g(J.BASE, ((r = {})[J.Modifiers.primary] = t === B.PRIMARY, r[J.Modifiers.secondary] = t === B.SECONDARY, r[J.Modifiers.warning] = t === B.WARNING, r[J.Modifiers.danger] = t === B.DANGER, r[J.Modifiers.large] = !!a, r[J.Modifiers.minimal] = !!o, r[J.Modifiers.small] = !!c, r[J.Modifiers.outlined] = !!i, r), n); return R.a.createElement("button", W({}, s, { className: u })) } var Q = function (e) { return Z(e, B.PRIMARY) }; Q.Primary = function (e) { return Z(e, B.PRIMARY) }, Q.Secondary = function (e) { return Z(e, B.SECONDARY) }, Q.Warning = function (e) { return Z(e, B.WARNING) }, Q.Danger = function (e) { return Z(e, B.DANGER) }; var $ = Q, ee = (r(31), r(32), { alert: "M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z", aoi: "M6.354 14.096h-3.34L2.38 16H.355l3.44-9.242H5.56L9.02 16H6.995l-.641-1.904zm-2.825-1.543h2.31l-1.161-3.46-1.15 3.46zm14.812-.965c0 .91-.16 1.708-.482 2.393-.322.686-.782 1.215-1.38 1.587-.6.373-1.286.559-2.06.559-.766 0-1.45-.184-2.05-.552-.602-.368-1.067-.894-1.397-1.578-.33-.683-.498-1.47-.502-2.358v-.457c0-.91.164-1.71.492-2.402.328-.692.791-1.223 1.39-1.594.6-.37 1.284-.555 2.054-.555.77 0 1.454.185 2.053.555.599.37 1.062.902 1.39 1.594.328.691.492 1.49.492 2.396v.412zm-1.93-.419c0-.969-.173-1.705-.52-2.209-.347-.503-.842-.755-1.485-.755-.64 0-1.132.249-1.48.746-.346.497-.522 1.226-.526 2.187v.45c0 .944.173 1.676.52 2.197.347.52.847.78 1.498.78.64 0 1.13-.25 1.473-.752.343-.501.516-1.232.52-2.193v-.45zM22.75 16h-1.904V6.758h1.904V16z", aoi_bounds: "M19 12h-2v3h-3v2h5v-5zM7 9h3V7H5v5h2V9zm14-6H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02z", "arrow-collapse-left": "M11.92,19.92L4,12L11.92,4.08L13.33,5.5L7.83,11H22V13H7.83L13.34,18.5L11.92,19.92M4,12V2H2V22H4V12Z", "arrow-collapse-down": "M19.92,12.08L12,20L4.08,12.08L5.5,10.67L11,16.17V2H13V16.17L18.5,10.66L19.92,12.08M12,20H2V22H22V20H12Z", "arrow-left": "M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z", away: "M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z", bell: "M21,19V20H3V19L5,17V11C5,7.9 7.03,5.17 10,4.29C10,4.19 10,4.1 10,4A2,2 0 0,1 12,2A2,2 0 0,1 14,4C14,4.1 14,4.19 14,4.29C16.97,5.17 19,7.9 19,11V17L21,19M14,21A2,2 0 0,1 12,23A2,2 0 0,1 10,21", "chat-bubble": "M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z", "checkbox-blank": "M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z", "chevron-down": "M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z", "chevron-up": "M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z", circle: "M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z", "circle-check": "M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z", "circle-cross": "M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z", "circle-outline": "M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z", contacts: "M20,0H4V2H20V0M4,24H20V22H4V24M20,4H4A2,2 0 0,0 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6A2,2 0 0,0 20,4M12,6.75A2.25,2.25 0 0,1 14.25,9A2.25,2.25 0 0,1 12,11.25A2.25,2.25 0 0,1 9.75,9A2.25,2.25 0 0,1 12,6.75M17,17H7V15.5C7,13.83 10.33,13 12,13C13.67,13 17,13.83 17,15.5V17Z", "drag-horizontal": "M3,15V13H5V15H3M3,11V9H5V11H3M7,15V13H9V15H7M7,11V9H9V11H7M11,15V13H13V15H11M11,11V9H13V11H11M15,15V13H17V15H15M15,11V9H17V11H15M19,15V13H21V15H19M19,11V9H21V11H19Z", dropbox: "M12,14.56L16.35,18.16L18.2,16.95V18.3L12,22L5.82,18.3V16.95L7.68,18.16L12,14.56M7.68,2.5L12,6.09L16.32,2.5L22.5,6.5L18.23,9.94L22.5,13.36L16.32,17.39L12,13.78L7.68,17.39L1.5,13.36L5.77,9.94L1.5,6.5L7.68,2.5M12,13.68L18.13,9.94L12,6.19L5.87,9.94L12,13.68Z", "dots-horizontal": "M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z", "dots-vertical": "M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z", "arrow-expand-vertical": "M13,9V15H16L12,19L8,15H11V9H8L12,5L16,9H13M4,2H20V4H4V2M4,20H20V22H4V20Z", "arrow-expand": "M10,21V19H6.41L10.91,14.5L9.5,13.09L5,17.59V14H3V21H10M14.5,10.91L19,6.41V10H21V3H14V5H17.59L13.09,9.5L14.5,10.91Z", "export-variant": "M12,1L8,5H11V14H13V5H16M18,23H6C4.89,23 4,22.1 4,21V9A2,2 0 0,1 6,7H9V9H6V21H18V9H15V7H18A2,2 0 0,1 20,9V21A2,2 0 0,1 18,23Z", file: "M13,9V3.5L18.5,9M6,2C4.89,2 4,2.89 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6Z", gesture: "M4.59,6.89C5.29,6.18 6,5.54 6.3,5.67C6.8,5.87 6.3,6.7 6,7.19C5.75,7.61 3.14,11.08 3.14,13.5C3.14,14.78 3.62,15.84 4.5,16.5C5.23,17.04 6.22,17.21 7.12,16.94C8.19,16.63 9.07,15.54 10.18,14.17C11.39,12.68 13,10.73 14.26,10.73C15.89,10.73 15.91,11.74 16,12.5C12.24,13.16 10.64,16.19 10.64,17.89C10.64,19.59 12.08,21 13.85,21C15.5,21 18.14,19.65 18.54,14.88H21V12.38H18.53C18.38,10.73 17.44,8.18 14.5,8.18C12.25,8.18 10.32,10.09 9.56,11C9,11.75 7.5,13.5 7.27,13.74C7,14.04 6.59,14.58 6.16,14.58C5.71,14.58 5.44,13.75 5.8,12.66C6.15,11.57 7.2,9.8 7.65,9.14C8.43,8 8.95,7.22 8.95,5.86C8.95,3.69 7.31,3 6.44,3C5.12,3 3.97,4 3.72,4.25C3.36,4.61 3.06,4.91 2.84,5.18L4.59,6.89M13.88,18.55C13.57,18.55 13.14,18.29 13.14,17.83C13.14,17.23 13.87,15.63 16,15.07C15.71,17.76 14.58,18.55 13.88,18.55Z", ghost: "M12,2A9,9 0 0,0 3,11V22L6,19L9,22L12,19L15,22L18,19L21,22V11A9,9 0 0,0 12,2M9,8A2,2 0 0,1 11,10A2,2 0 0,1 9,12A2,2 0 0,1 7,10A2,2 0 0,1 9,8M15,8A2,2 0 0,1 17,10A2,2 0 0,1 15,12A2,2 0 0,1 13,10A2,2 0 0,1 15,8Z", gps_fixed: "M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z", group: "M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z", layers: "M12,16L19.36,10.27L21,9L12,2L3,9L4.63,10.27M12,18.54L4.62,12.81L3,14.07L12,21.07L21,14.07L19.37,12.8L12,18.54Z", "layers-triple-outline": "M12 16.54L19.37 10.8L21 12.07L12 19.07L3 12.07L4.62 10.81L12 16.54M12 14L3 7L12 0L21 7L12 14M12 2.53L6.26 7L12 11.47L17.74 7L12 2.53M12 21.47L19.37 15.73L21 17L12 24L3 17L4.62 15.74L12 21.47", "library-video": "M4,6H2V20A2,2 0 0,0 4,22H18V20H4V6M20,2H8A2,2 0 0,0 6,4V16A2,2 0 0,0 8,18H20A2,2 0 0,0 22,16V4A2,2 0 0,0 20,2M12,14.5V5.5L18,10L12,14.5Z", "video-box": "M18,16L14,12.8V16H6V8H14V11.2L18,8M20,4H4A2,2 0 0,0 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4Z", "video-box-off": "M6,8H6.73L14,15.27V16H6M2.27,1L1,2.27L3,4.28C2.41,4.62 2,5.26 2,6V18A2,2 0 0,0 4,20H18.73L20.73,22L22,20.73M20,4H7.82L11.82,8H14V10.18L14.57,10.75L18,8V14.18L22,18.17C22,18.11 22,18.06 22,18V6A2,2 0 0,0 20,4Z", "map-marker-plus": "M9,11.5A2.5,2.5 0 0,0 11.5,9A2.5,2.5 0 0,0 9,6.5A2.5,2.5 0 0,0 6.5,9A2.5,2.5 0 0,0 9,11.5M9,2C12.86,2 16,5.13 16,9C16,14.25 9,22 9,22C9,22 2,14.25 2,9A7,7 0 0,1 9,2M15,17H18V14H20V17H23V19H20V22H18V19H15V17Z", "map-outline": "M20.5,3L20.34,3.03L15,5.1L9,3L3.36,4.9C3.15,4.97 3,5.15 3,5.38V20.5A0.5,0.5 0 0,0 3.5,21L3.66,20.97L9,18.9L15,21L20.64,19.1C20.85,19.03 21,18.85 21,18.62V3.5A0.5,0.5 0 0,0 20.5,3M10,5.47L14,6.87V18.53L10,17.13V5.47M5,6.46L8,5.45V17.15L5,18.31V6.46M19,17.54L16,18.55V6.86L19,5.7V17.54Z", "minus-box-outline": "M19,19V5H5V19H19M19,3A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5C3,3.89 3.9,3 5,3H19M17,11V13H7V11H17Z", "minus-circle": "M17,13H7V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z", "plus-circle": "M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z", plus: "M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z", settings: "M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z", "shape-circle-plus": "M11,19A6,6 0 0,0 17,13H19A8,8 0 0,1 11,21A8,8 0 0,1 3,13A8,8 0 0,1 11,5V7A6,6 0 0,0 5,13A6,6 0 0,0 11,19M19,5H22V7H19V10H17V7H14V5H17V2H19V5Z", "shape-plus": "M2,2H11V11H2V2M17.5,2C20,2 22,4 22,6.5C22,9 20,11 17.5,11C15,11 13,9 13,6.5C13,4 15,2 17.5,2M6.5,14L11,22H2L6.5,14M19,17H22V19H19V22H17V19H14V17H17V14H19V17Z", "shape-polygon-plus": "M17,15.7V13H19V17L10,21L3,14L7,5H11V7H8.3L5.4,13.6L10.4,18.6L17,15.7M22,5V7H19V10H17V7H14V5H17V2H19V5H22Z", "shape-rectangle-plus": "M19,6H22V8H19V11H17V8H14V6H17V3H19V6M17,17V14H19V19H3V6H11V8H5V17H17Z", "sort-asc": "M6,12c-0.28,0-0.53,0.11-0.71,0.29L5,12.59V9c0-0.55-0.45-1-1-1 C3.45,8,3,8.45,3,9v3.59l-0.29-0.29h0C2.53,12.11,2.28,12,2,12c-0.55,0-1,0.45-1,1c0,0.28,0.11,0.53,0.29,0.71l2,2 C3.48,15.89,3.73,16,4,16c0.28,0,0.53-0.11,0.71-0.29l2-2c0.18-0.18,0.29-0.43,0.29-0.71C7.01,12.45,6.56,12,6,12z M13.93,11.05 v-1.04H9.25v1.11h2.94L9,14.96V16h5.02v-1.11h-3.27L13.93,11.05z M12.51,6.21l0.62,1.78H15l-3.06-7.98H10.1L7,7.99h1.81l0.64-1.78 H12.51z M10.99,1.97h0.02l1.03,2.93H9.92L10.99,1.97z", "sort-ascending": "M10 11V13H18V11H10M10 17V19H14V17H10M10 5V7H22V5H10M6 7H8.5L5 3.5L1.5 7H4V20H6V7Z", "sort-desc": "M5.99,11.99c-0.28,0-0.53,0.11-0.71,0.29v0l-0.29,0.29V8.99c0-0.55-0.45-1-1-1 c-0.55,0-1,0.45-1,1v3.59L2.7,12.29c-0.18-0.18-0.43-0.29-0.71-0.29c-0.55,0-1,0.45-1,1c0,0.28,0.11,0.53,0.29,0.71l2,2 c0.18,0.18,0.43,0.29,0.71,0.29c0.28,0,0.53-0.11,0.71-0.29l2-2c0.18-0.18,0.29-0.43,0.29-0.71C6.99,12.44,6.54,11.99,5.99,11.99z M12.7,10h-1.38L9,15.99h1.36l0.48-1.33h2.3l0.46,1.33H15L12.7,10z M11.19,13.67l0.8-2.2h0.02l0.77,2.2H11.19z M14.99,6.5h-4.57 l4.45-5.12V0H8.34v1.48h4.1L7.99,6.59v1.39h7V6.5z", "sort-descending": "M10,13V11H18V13H10M10,19V17H14V19H10M10,7V5H22V7H10M6,17H8.5L5,20.5L1.5,17H4V4H6V17Z", stop: "M18,18H6V6H18V18Z", sync: "M12,18A6,6 0 0,1 6,12C6,11 6.25,10.03 6.7,9.2L5.24,7.74C4.46,8.97 4,10.43 4,12A8,8 0 0,0 12,20V23L16,19L12,15M12,4V1L8,5L12,9V6A6,6 0 0,1 18,12C18,13 17.75,13.97 17.3,14.8L18.76,16.26C19.54,15.03 20,13.57 20,12A8,8 0 0,0 12,4Z", tools: ["M17.793 2.256l3.104 3.383-.518.564c1.035 1.128 1.552 1.692 2.07 1.128L24 9.023c0 1.127-1.552 2.82-2.586 2.82l-1.552-1.693c.517-.564 0-1.127-1.034-2.255l-1.035 1.128-3.103-3.384c1.551-2.256 0-4.511-4.138-3.383C11.586 1.128 12.62 0 13.655 0c.517 0 2.07 0 4.138 2.256zM3.31 19.173l2.07 2.256L15.723 10.15l-2.069-2.255L3.31 19.173z", "M16.217 15.553l-7.41-7.106c-.246-.236-.378-.692-.293-1.016 0 0 .002.063.038-.205a4.01 4.01 0 0 0-1.221-3.45 4.36 4.36 0 0 0-2.67-1.19c-.346-.03-.405-.005-.405-.005-.35.018-.432.232-.184.469l1.74 1.669c.493.473.494 1.24 0 1.712L4.026 8.146a1.301 1.301 0 0 1-1.786 0L.551 6.525l-.055-.053C.25 6.24.033 6.318.01 6.653c0 0-.026.067.005.403.086.929.5 1.835 1.241 2.546a4.403 4.403 0 0 0 3.628 1.167c.27-.036.181-.031.181-.031.34-.078.815.042 1.061.279l7.411 7.106c.245.236.377.692.292 1.017 0 0 0-.07-.037.194a4.01 4.01 0 0 0 1.22 3.46 4.368 4.368 0 0 0 2.857 1.202c.284.012.346-.007.346-.007.281-.02.345-.192.148-.381l-1.832-1.757a1.176 1.176 0 0 1 0-1.712l1.788-1.715a1.301 1.301 0 0 1 1.785 0l1.832 1.757c.196.188.375.126.397-.142 0 0 .021-.078.007-.36a4.027 4.027 0 0 0-1.253-2.71 4.402 4.402 0 0 0-3.6-1.172c-.278.035-.212.037-.212.037-.34.077-.811-.044-1.058-.28z"], play: "M8,5.14V19.14L19,12.14L8,5.14Z", pause: "M14,19H18V5H14M6,19H10V5H6V19Z", "open-in-new": "M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z", "play-box-multiple": "M4,6H2V20A2,2 0 0,0 4,22H18V20H4V6M20,2H8A2,2 0 0,0 6,4V16A2,2 0 0,0 8,18H20A2,2 0 0,0 22,16V4A2,2 0 0,0 20,2M12,14.5V5.5L18,10L12,14.5Z", "view-grid-plus": "M13 3V11H21V3H13M3 21H11V13H3V21M3 3V11H11V3H3M13 16H16V13H18V16H21V18H18V21H16V18H13V16Z", warning: "M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z", "cursor-move": "M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z", "magnify-plus": "M9,2A7,7 0 0,1 16,9C16,10.57 15.5,12 14.61,13.19L15.41,14H16L22,20L20,22L14,16V15.41L13.19,14.61C12,15.5 10.57,16 9,16A7,7 0 0,1 2,9A7,7 0 0,1 9,2M8,5V8H5V10H8V13H10V10H13V8H10V5H8Z", pound: "M5.41,21L6.12,17H2.12L2.47,15H6.47L7.53,9H3.53L3.88,7H7.88L8.59,3H10.59L9.88,7H15.88L16.59,3H18.59L17.88,7H21.88L21.53,9H17.53L16.47,15H20.47L20.12,17H16.12L15.41,21H13.41L14.12,17H8.12L7.41,21H5.41M9.53,9L8.47,15H14.47L15.53,9H9.53Z", people: "M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z", person: "M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z", "delete-outline": "M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19M8,9H16V19H8V9M15.5,4L14.5,3H9.5L8.5,4H5V6H19V4H15.5Z", delete: "M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z", "delete-off": "M2 5.27L3.28 4L5 5.72L5.28 6L6.28 7L18 18.72L20 20.72L18.73 22L17.27 20.54C16.93 20.83 16.5 21 16 21H8C6.9 21 6 20.1 6 19V9.27L2 5.27M19 4V6H7.82L5.82 4H8.5L9.5 3H14.5L15.5 4H19M18 7V16.18L8.82 7H18Z", "clipboard-text": "M17,9H7V7H17M17,13H7V11H17M14,17H7V15H14M12,3A1,1 0 0,1 13,4A1,1 0 0,1 12,5A1,1 0 0,1 11,4A1,1 0 0,1 12,3M19,3H14.82C14.4,1.84 13.3,1 12,1C10.7,1 9.6,1.84 9.18,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3Z", send: "M2,21L23,12L2,3V10L17,12L2,14V21Z", "chevron-right": "M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z", "chevron-double-right": "M5.59,7.41L7,6L13,12L7,18L5.59,16.59L10.17,12L5.59,7.41M11.59,7.41L13,6L19,12L13,18L11.59,16.59L16.17,12L11.59,7.41Z", "chevron-double-left": "M18.41,7.41L17,6L11,12L17,18L18.41,16.59L13.83,12L18.41,7.41M12.41,7.41L11,6L5,12L11,18L12.41,16.59L7.83,12L12.41,7.41Z", close: "M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z", "file-tree": "M3,3H9V7H3V3M15,10H21V14H15V10M15,17H21V21H15V17M13,13H7V18H13V20H7L5,20V9H7V11H13V13Z", "file-import": "M6,2C4.89,2 4,2.9 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M13,3.5L18.5,9H13M10.05,11.22L12.88,14.05L15,11.93V19H7.93L10.05,16.88L7.22,14.05", "playlist-edit": "M2,6V8H14V6H2M2,10V12H14V10H2M20.04,10.13C19.9,10.13 19.76,10.19 19.65,10.3L18.65,11.3L20.7,13.35L21.7,12.35C21.92,12.14 21.92,11.79 21.7,11.58L20.42,10.3C20.31,10.19 20.18,10.13 20.04,10.13M18.07,11.88L12,17.94V20H14.06L20.12,13.93L18.07,11.88M2,14V16H10V14H2Z", "playlist-plus": "M2,16H10V14H2M18,14V10H16V14H12V16H16V20H18V16H22V14M14,6H2V8H14M14,10H2V12H14V10Z", "playlist-minus": "M2,16H10V14H2M12,14V16H22V14M14,6H2V8H14M14,10H2V12H14V10Z", "folder-multiple": "M22,4H14L12,2H6A2,2 0 0,0 4,4V16A2,2 0 0,0 6,18H22A2,2 0 0,0 24,16V6A2,2 0 0,0 22,4M2,6H0V11H0V20A2,2 0 0,0 2,22H20V20H2V6Z", eye: "M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z", "eye-off": "M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z", "format-list-bulleted": "M7,5H21V7H7V5M7,13V11H21V13H7M4,4.5A1.5,1.5 0 0,1 5.5,6A1.5,1.5 0 0,1 4,7.5A1.5,1.5 0 0,1 2.5,6A1.5,1.5 0 0,1 4,4.5M4,10.5A1.5,1.5 0 0,1 5.5,12A1.5,1.5 0 0,1 4,13.5A1.5,1.5 0 0,1 2.5,12A1.5,1.5 0 0,1 4,10.5M7,19V17H21V19H7M4,16.5A1.5,1.5 0 0,1 5.5,18A1.5,1.5 0 0,1 4,19.5A1.5,1.5 0 0,1 2.5,18A1.5,1.5 0 0,1 4,16.5Z", "map-marker": "M12,11.5A2.5,2.5 0 0,1 9.5,9A2.5,2.5 0 0,1 12,6.5A2.5,2.5 0 0,1 14.5,9A2.5,2.5 0 0,1 12,11.5M12,2A7,7 0 0,0 5,9C5,14.25 12,22 12,22C12,22 19,14.25 19,9A7,7 0 0,0 12,2Z", "map-plus": "M9,3L3.36,4.9C3.16,4.97 3,5.15 3,5.38V20.5A0.5,0.5 0 0,0 3.5,21C3.55,21 3.6,21 3.66,20.97L9,18.9L13.16,20.36C13.06,19.92 13,19.46 13,19C13,18.77 13,18.54 13.04,18.3L9,16.9V5L15,7.1V14.56C16.07,13.6 17.47,13 19,13C19.7,13 20.37,13.13 21,13.36V3.5A0.5,0.5 0 0,0 20.5,3H20.34L15,5.1L9,3M18,15V18H15V20H18V23H20V20H23V18H20V15H18Z", "file-plus-outline": "M12,14V11H10V14H7V16H10V19H12V16H15V14M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18", "google-earth": "M12,12.14C11.09,10.77 10.14,9.78 9.14,9.19C8.14,8.59 7.27,8.38 6.5,8.55C5.77,8.73 5.14,9.14 4.64,9.8C4.2,10.39 4,11.06 4,11.81V12C4,12.78 4.11,13.58 4.36,14.39C4.45,14.64 4.5,14.64 4.55,14.39C4.67,13.77 4.96,13.31 5.41,13.03C5.87,12.75 6.47,12.76 7.22,13.05C7.97,13.35 8.7,14 9.42,14.95C10.7,16.67 12.2,17.72 13.92,18.09C16.14,18.41 17.81,17.7 18.94,16C19.25,15.39 19.5,14.86 19.64,14.39C19.73,14.08 19.69,14.05 19.5,14.3C19.03,14.92 18.4,15.33 17.6,15.5C16.8,15.7 15.89,15.5 14.86,15C13.83,14.43 12.88,13.5 12,12.14M16.97,8.16C15.41,5.81 13.72,4.5 11.91,4.17C10.47,3.95 8.91,4.45 7.22,5.67C7,5.83 6.9,5.91 6.91,5.93C6.93,5.95 7.06,5.89 7.31,5.77C9.81,4.55 12.22,5.83 14.53,9.61C15.03,10.45 15.55,11.11 16.1,11.58C16.65,12.05 17.16,12.33 17.65,12.42C18.13,12.5 18.57,12.5 18.96,12.38C19.35,12.25 19.7,12.05 20,11.77C20,11.17 19.91,10.5 19.69,9.8C19.19,9.92 18.74,9.88 18.35,9.68C17.96,9.5 17.5,8.97 16.97,8.16M12,2C14.75,2 17.1,3 19.05,4.95C21,6.9 22,9.25 22,12C22,14.75 21,17.1 19.05,19.05C17.1,21 14.75,22 12,22C9.25,22 6.9,21 4.95,19.05C3,17.1 2,14.75 2,12C2,9.25 3,6.9 4.95,4.95C6.9,3 9.25,2 12,2Z", lock: "M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z", "link-variant": "M10.59,13.41C11,13.8 11,14.44 10.59,14.83C10.2,15.22 9.56,15.22 9.17,14.83C7.22,12.88 7.22,9.71 9.17,7.76V7.76L12.71,4.22C14.66,2.27 17.83,2.27 19.78,4.22C21.73,6.17 21.73,9.34 19.78,11.29L18.29,12.78C18.3,11.96 18.17,11.14 17.89,10.36L18.36,9.88C19.54,8.71 19.54,6.81 18.36,5.64C17.19,4.46 15.29,4.46 14.12,5.64L10.59,9.17C9.41,10.34 9.41,12.24 10.59,13.41M13.41,9.17C13.8,8.78 14.44,8.78 14.83,9.17C16.78,11.12 16.78,14.29 14.83,16.24V16.24L11.29,19.78C9.34,21.73 6.17,21.73 4.22,19.78C2.27,17.83 2.27,14.66 4.22,12.71L5.71,11.22C5.7,12.04 5.83,12.86 6.11,13.65L5.64,14.12C4.46,15.29 4.46,17.19 5.64,18.36C6.81,19.54 8.71,19.54 9.88,18.36L13.41,14.83C14.59,13.66 14.59,11.76 13.41,10.59C13,10.2 13,9.56 13.41,9.17Z", "lock-open-variant": "M18 1C15.24 1 13 3.24 13 6V8H4C2.9 8 2 8.89 2 10V20C2 21.11 2.9 22 4 22H16C17.11 22 18 21.11 18 20V10C18 8.9 17.11 8 16 8H15V6C15 4.34 16.34 3 18 3C19.66 3 21 4.34 21 6V8H23V6C23 3.24 20.76 1 18 1M10 13C11.1 13 12 13.89 12 15C12 16.11 11.11 17 10 17C8.9 17 8 16.11 8 15C8 13.9 8.9 13 10 13Z", "image-mutiple": "M22,16V4A2,2 0 0,0 20,2H8A2,2 0 0,0 6,4V16A2,2 0 0,0 8,18H20A2,2 0 0,0 22,16M11,12L13.03,14.71L16,11L20,16H8M2,6V20A2,2 0 0,0 4,22H18V20H4V6", "image-plus": "M5,3A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H14.09C14.03,20.67 14,20.34 14,20C14,19.32 14.12,18.64 14.35,18H5L8.5,13.5L11,16.5L14.5,12L16.73,14.97C17.7,14.34 18.84,14 20,14C20.34,14 20.67,14.03 21,14.09V5C21,3.89 20.1,3 19,3H5M19,16V19H16V21H19V24H21V21H24V19H21V16H19Z", account: "M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z", "calendar-sync": "M18,11V12.5C21.19,12.5 23.09,16.05 21.33,18.71L20.24,17.62C21.06,15.96 19.85,14 18,14V15.5L15.75,13.25L18,11M18,22V20.5C14.81,20.5 12.91,16.95 14.67,14.29L15.76,15.38C14.94,17.04 16.15,19 18,19V17.5L20.25,19.75L18,22M19,3H18V1H16V3H8V1H6V3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H14C13.36,20.45 12.86,19.77 12.5,19H5V8H19V10.59C19.71,10.7 20.39,10.94 21,11.31V5A2,2 0 0,0 19,3Z", "bell-alert": "M17.75 21.16L15 18.16L16.16 17L17.75 18.59L21.34 15L22.5 16.41L17.75 21.16M10 21H12.8C13.04 21.41 13.33 21.79 13.65 22.13C13.29 22.66 12.69 23 12 23C10.9 23 10 22.11 10 21M3 20V19L5 17V11C5 7.9 7.03 5.18 10 4.29V4C10 2.9 10.9 2 12 2C13.11 2 14 2.9 14 4V4.29C16.97 5.18 19 7.9 19 11V12.08L18 12L17 12.08V11C17 8.24 14.76 6 12 6C9.24 6 7 8.24 7 11V18H12C12 18.7 12.12 19.37 12.34 20H3Z", "bell-off": "M20.84,22.73L18.11,20H3V19L5,17V11C5,9.86 5.29,8.73 5.83,7.72L1.11,3L2.39,1.73L22.11,21.46L20.84,22.73M19,15.8V11C19,7.9 16.97,5.17 14,4.29C14,4.19 14,4.1 14,4A2,2 0 0,0 12,2A2,2 0 0,0 10,4C10,4.1 10,4.19 10,4.29C9.39,4.47 8.8,4.74 8.26,5.09L19,15.8M12,23A2,2 0 0,0 14,21H10A2,2 0 0,0 12,23Z", "checkbox-marked-circle-outline": "M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2,4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z", "notification-clear-all": "M5,13H19V11H5M3,17H17V15H3M7,7V9H21V7", loading: "M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z", camera: "M4,4H7L9,2H15L17,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9Z", "help-circle-outline": "M11,18H13V16H11V18M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,6A4,4 0 0,0 8,10H10A2,2 0 0,1 12,8A2,2 0 0,1 14,10C14,12 11,11.75 11,15H13C13,12.75 16,12.5 16,10A4,4 0 0,0 12,6Z", "help-circle": "M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z", "forum-outlined": "M15,4V11H5.17L4,12.17V4H15M16,2H3A1,1 0 0,0 2,3V17L6,13H16A1,1 0 0,0 17,12V3A1,1 0 0,0 16,2M21,6H19V15H6V17A1,1 0 0,0 7,18H18L22,22V7A1,1 0 0,0 21,6Z", plug: "M21.4 7.5C22.2 8.3 22.2 9.6 21.4 10.3L18.6 13.1L10.8 5.3L13.6 2.5C14.4 1.7 15.7 1.7 16.4 2.5L18.2 4.3L21.2 1.3L22.6 2.7L19.6 5.7L21.4 7.5M15.6 13.3L14.2 11.9L11.4 14.7L9.3 12.6L12.1 9.8L10.7 8.4L7.9 11.2L6.4 9.8L3.6 12.6C2.8 13.4 2.8 14.7 3.6 15.4L5.4 17.2L1.4 21.2L2.8 22.6L6.8 18.6L8.6 20.4C9.4 21.2 10.7 21.2 11.4 20.4L14.2 17.6L12.8 16.2L15.6 13.3Z", widget: "M23,13 L23,23 L13,23 L13,13 L23,13 Z M7,13 L7,17 L11,17 L11,19 L7,19 L7,23 L5,23 L5,19 L1,19 L1,17 L5,17 L5,13 L7,13 Z M11,1 L11,11 L1,11 L1,1 L11,1 Z M22,2 L22,10 L14,10 L14,2 L22,2 Z", routes: "M11,10H5L3,8L5,6H11V3L12,2L13,3V4H19L21,6L19,8H13V10H19L21,12L19,14H13V20A2,2 0 0,1 15,22H9A2,2 0 0,1 11,20V10Z", "map-marker-path": "M18,15A3,3 0 0,1 21,18A3,3 0 0,1 18,21C16.69,21 15.58,20.17 15.17,19H14V17H15.17C15.58,15.83 16.69,15 18,15M18,17A1,1 0 0,0 17,18A1,1 0 0,0 18,19A1,1 0 0,0 19,18A1,1 0 0,0 18,17M18,8A1.43,1.43 0 0,0 19.43,6.57C19.43,5.78 18.79,5.14 18,5.14C17.21,5.14 16.57,5.78 16.57,6.57A1.43,1.43 0 0,0 18,8M18,2.57A4,4 0 0,1 22,6.57C22,9.56 18,14 18,14C18,14 14,9.56 14,6.57A4,4 0 0,1 18,2.57M8.83,17H10V19H8.83C8.42,20.17 7.31,21 6,21A3,3 0 0,1 3,18C3,16.69 3.83,15.58 5,15.17V14H7V15.17C7.85,15.47 8.53,16.15 8.83,17M6,17A1,1 0 0,0 5,18A1,1 0 0,0 6,19A1,1 0 0,0 7,18A1,1 0 0,0 6,17M6,3A3,3 0 0,1 9,6C9,7.31 8.17,8.42 7,8.83V10H5V8.83C3.83,8.42 3,7.31 3,6A3,3 0 0,1 6,3M6,5A1,1 0 0,0 5,6A1,1 0 0,0 6,7A1,1 0 0,0 7,6A1,1 0 0,0 6,5M11,19V17H13V19H11M7,13H5V11H7V13Z", import: "M14,12L10,8V11H2V13H10V16M20,18V6C20,4.89 19.1,4 18,4H6A2,2 0 0,0 4,6V9H6V6H18V18H6V15H4V18A2,2 0 0,0 6,20H18A2,2 0 0,0 20,18Z", flag: "M14.4,6L14,4H5V21H7V14H12.6L13,16H20V6H14.4Z", pencil: "M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z", "compare-horizontal": "M9 14H2V16H9V19L13 15L9 11V14M15 13V10H22V8H15V5L11 9L15 13Z", "account-voice": "M9,5A4,4 0 0,1 13,9A4,4 0 0,1 9,13A4,4 0 0,1 5,9A4,4 0 0,1 9,5M9,15C11.67,15 17,16.34 17,19V21H1V19C1,16.34 6.33,15 9,15M16.76,5.36C18.78,7.56 18.78,10.61 16.76,12.63L15.08,10.94C15.92,9.76 15.92,8.23 15.08,7.05L16.76,5.36M20.07,2C24,6.05 23.97,12.11 20.07,16L18.44,14.37C21.21,11.19 21.21,6.65 18.44,3.63L20.07,2Z", label: "M17.63,5.84C17.27,5.33 16.67,5 16,5H5A2,2 0 0,0 3,7V17A2,2 0 0,0 5,19H16C16.67,19 17.27,18.66 17.63,18.15L22,12L17.63,5.84Z", copy: "M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z", measure: "M20 19.88V22L18.2 20.83L13.41 11.83A4.94 4.94 0 0 0 15.19 10.83M15 7A3 3 0 0 1 12 10A3.27 3.27 0 0 1 11.56 10L5.8 20.83L4 22V19.88L9.79 9A3 3 0 0 1 12 4V2A1 1 0 0 1 13 3V4.18A3 3 0 0 1 15 7M13 7A1 1 0 1 0 12 8A1 1 0 0 0 13 7M4.22 10L6 11.8L4.56 14.56L2.1 12.1M12 17.76L10.5 16.25L9 19L12 22L15 19L13.53 16.23M19.78 10L18 11.8L19.5 14.56L21.9 12.1Z", "pencil-ruler": "M3 17.25V21H6.75L17.81 9.93L14.06 6.18L3 17.25M22.61 18.36L18.36 22.61L13.16 17.41L14.93 15.64L15.93 16.64L18.4 14.16L19.82 15.58L18.36 17L19.42 18L20.84 16.6L22.61 18.36M6.61 10.83L1.39 5.64L5.64 1.39L7.4 3.16L4.93 5.64L6 6.7L8.46 4.22L9.88 5.64L8.46 7.05L9.46 8.05L6.61 10.83M20.71 7C21.1 6.61 21.1 6 20.71 5.59L18.37 3.29C18 2.9 17.35 2.9 16.96 3.29L15.12 5.12L18.87 8.87L20.71 7Z", "circle-edit-outline": "M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12H20A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4V2M18.78,3C18.61,3 18.43,3.07 18.3,3.2L17.08,4.41L19.58,6.91L20.8,5.7C21.06,5.44 21.06,5 20.8,4.75L19.25,3.2C19.12,3.07 18.95,3 18.78,3M16.37,5.12L9,12.5V15H11.5L18.87,7.62L16.37,5.12Z", filter: "M14,12V19.88C14.04,20.18 13.94,20.5 13.71,20.71C13.32,21.1 12.69,21.1 12.3,20.71L10.29,18.7C10.06,18.47 9.96,18.16 10,17.87V12H9.97L4.21,4.62C3.87,4.19 3.95,3.56 4.38,3.22C4.57,3.08 4.78,3 5,3V3H19V3C19.22,3 19.43,3.08 19.62,3.22C20.05,3.56 20.13,4.19 19.79,4.62L14.03,12H14Z", "picture-in-picture-top-right": "M19,7H11V13H19V7M21,3H3A2,2 0 0,0 1,5V19A2,2 0 0,0 3,21H21A2,2 0 0,0 23,19V5A2,2 0 0,0 21,3M21,19H3V5H21V19Z", vlc: "M12,1C11.58,1 11.19,1.23 11,1.75L9.88,4.88C10.36,5.4 11.28,5.5 12,5.5C12.72,5.5 13.64,5.4 14.13,4.88L13,1.75C12.82,1.25 12.42,1 12,1M8.44,8.91L7,12.91C8.07,14.27 10.26,14.5 12,14.5C13.74,14.5 15.93,14.27 17,12.91L15.56,8.91C14.76,9.83 13.24,10 12,10C10.76,10 9.24,9.83 8.44,8.91M5.44,15C4.62,15 3.76,15.65 3.53,16.44L2.06,21.56C1.84,22.35 2.3,23 3.13,23H20.88C21.7,23 22.16,22.35 21.94,21.56L20.47,16.44C20.24,15.65 19.38,15 18.56,15H17.75L18.09,15.97C18.21,16.29 18.29,16.69 18.09,16.97C16.84,18.7 14.14,19 12,19C9.86,19 7.16,18.7 5.91,16.97C5.71,16.69 5.79,16.29 5.91,15.97L6.25,15H5.44Z", reload: "M2 12C2 16.97 6.03 21 11 21C13.39 21 15.68 20.06 17.4 18.4L15.9 16.9C14.63 18.25 12.86 19 11 19C4.76 19 1.64 11.46 6.05 7.05C10.46 2.64 18 5.77 18 12H15L19 16H19.1L23 12H20C20 7.03 15.97 3 11 3C6.03 3 2 7.03 2 12Z", folder: "M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z", "folder-open": "M19,20H4C2.89,20 2,19.1 2,18V6C2,4.89 2.89,4 4,4H10L12,6H19A2,2 0 0,1 21,8H21L4,8V18L6.14,10H23.21L20.93,18.5C20.7,19.37 19.92,20 19,20Z" }), te = function () { return (te = Object.assign || function (e) { for (var t, r = 1, n = arguments.length; r < n; r++)for (var a in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a]); return e }).apply(this, arguments) }, re = v("icon", ["interactive"], []), ne = function (e) { var t, r = e.icon, n = e.svgPath, a = e.className, o = e.viewBox, i = void 0 === o ? "0 0 24 24" : o, c = e.color, s = e.onClick, u = e.onMouseEnter, l = e.onMouseLeave, f = e.onMouseMove, d = e.style; if (r) { var p = ee[r]; t = Array.isArray(p) ? p.map(function (e, t) { return R.a.createElement("path", { key: t, d: e }) }) : R.a.createElement("path", { d: p }) } else n && (t = R.a.createElement("path", { d: n })); return R.a.createElement("svg", { style: te({ fill: c }, d), width: 24, height: 24, className: g(re.BASE, a, s ? re.Elements.interactive : void 0), viewBox: i, preserveAspectRatio: "xMidYMid meet", onClick: s, onMouseEnter: u, onMouseLeave: l, onMouseMove: f, role: s ? "button" : "" }, R.a.createElement("g", null, t)) }, ae = ne, oe = (r(33), r(3)), ie = r(6); function ce(e, t) { return (ce = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e })(e, t) } function se(e, t) { e.prototype = Object.create(t.prototype), e.prototype.constructor = e, ce(e, t) } var ue = r(2), le = r.n(ue); function fe(e, t) { return e.replace(new RegExp("(^|\\s)" + t + "(?:\\s|$)", "g"), "$1").replace(/\s+/g, " ").replace(/^\s*|\s*$/g, "") } var de = r(9), pe = r.n(de), me = R.a.createContext(null), he = "entering", ve = "entered", ge = function (e) { function t(t, r) { var n; n = e.call(this, t, r) || this; var a, o = r && !r.isMounting ? t.enter : t.appear; return n.appearStatus = null, t.in ? o ? (a = "exited", n.appearStatus = he) : a = ve : a = t.unmountOnExit || t.mountOnEnter ? "unmounted" : "exited", n.state = { status: a }, n.nextCallback = null, n } se(t, e), t.getDerivedStateFromProps = function (e, t) { return e.in && "unmounted" === t.status ? { status: "exited" } : null }; var r = t.prototype; return r.componentDidMount = function () { this.updateStatus(!0, this.appearStatus) }, r.componentDidUpdate = function (e) { var t = null; if (e !== this.props) { var r = this.state.status; this.props.in ? r !== he && r !== ve && (t = he) : r !== he && r !== ve || (t = "exiting") } this.updateStatus(!1, t) }, r.componentWillUnmount = function () { this.cancelNextCallback() }, r.getTimeouts = function () { var e, t, r, n = this.props.timeout; return e = t = r = n, null != n && "number" != typeof n && (e = n.exit, t = n.enter, r = void 0 !== n.appear ? n.appear : t), { exit: e, enter: t, appear: r } }, r.updateStatus = function (e, t) { if (void 0 === e && (e = !1), null !== t) { this.cancelNextCallback(); var r = pe.a.findDOMNode(this); t === he ? this.performEnter(r, e) : this.performExit(r) } else this.props.unmountOnExit && "exited" === this.state.status && this.setState({ status: "unmounted" }) }, r.performEnter = function (e, t) { var r = this, n = this.props.enter, a = this.context ? this.context.isMounting : t, o = this.getTimeouts(), i = a ? o.appear : o.enter; t || n ? (this.props.onEnter(e, a), this.safeSetState({ status: he }, function () { r.props.onEntering(e, a), r.onTransitionEnd(e, i, function () { r.safeSetState({ status: ve }, function () { r.props.onEntered(e, a) }) }) })) : this.safeSetState({ status: ve }, function () { r.props.onEntered(e) }) }, r.performExit = function (e) { var t = this, r = this.props.exit, n = this.getTimeouts(); r ? (this.props.onExit(e), this.safeSetState({ status: "exiting" }, function () { t.props.onExiting(e), t.onTransitionEnd(e, n.exit, function () { t.safeSetState({ status: "exited" }, function () { t.props.onExited(e) }) }) })) : this.safeSetState({ status: "exited" }, function () { t.props.onExited(e) }) }, r.cancelNextCallback = function () { null !== this.nextCallback && (this.nextCallback.cancel(), this.nextCallback = null) }, r.safeSetState = function (e, t) { t = this.setNextCallback(t), this.setState(e, t) }, r.setNextCallback = function (e) { var t = this, r = !0; return this.nextCallback = function (n) { r && (r = !1, t.nextCallback = null, e(n)) }, this.nextCallback.cancel = function () { r = !1 }, this.nextCallback }, r.onTransitionEnd = function (e, t, r) { this.setNextCallback(r); var n = null == t && !this.props.addEndListener; e && !n ? (this.props.addEndListener && this.props.addEndListener(e, this.nextCallback), null != t && setTimeout(this.nextCallback, t)) : setTimeout(this.nextCallback, 0) }, r.render = function () { var e = this.state.status; if ("unmounted" === e) return null; var t = this.props, r = t.children, n = Object(ie.a)(t, ["children"]); if (delete n.in, delete n.mountOnEnter, delete n.unmountOnExit, delete n.appear, delete n.enter, delete n.exit, delete n.timeout, delete n.addEndListener, delete n.onEnter, delete n.onEntering, delete n.onEntered, delete n.onExit, delete n.onExiting, delete n.onExited, "function" == typeof r) return R.a.createElement(me.Provider, { value: null }, r(e, n)); var a = R.a.Children.only(r); return R.a.createElement(me.Provider, { value: null }, R.a.cloneElement(a, n)) }, t }(R.a.Component); function be() { } ge.contextType = me, ge.propTypes = {}, ge.defaultProps = { in: !1, mountOnEnter: !1, unmountOnExit: !1, appear: !1, enter: !0, exit: !0, onEnter: be, onEntering: be, onEntered: be, onExit: be, onExiting: be, onExited: be }, ge.UNMOUNTED = 0, ge.EXITED = 1, ge.ENTERING = 2, ge.ENTERED = 3, ge.EXITING = 4; var ye = ge, Ee = function (e, t) { return e && t && t.split(" ").forEach(function (t) { return n = t, void ((r = e).classList ? r.classList.remove(n) : "string" == typeof r.className ? r.className = fe(r.className, n) : r.setAttribute("class", fe(r.className && r.className.baseVal || "", n))); var r, n }) }, Oe = function (e) { function t() { for (var t, r = arguments.length, n = new Array(r), a = 0; a < r; a++)n[a] = arguments[a]; return (t = e.call.apply(e, [this].concat(n)) || this).appliedClasses = { appear: {}, enter: {}, exit: {} }, t.onEnter = function (e, r) { t.removeClasses(e, "exit"), t.addClass(e, r ? "appear" : "enter", "base"), t.props.onEnter && t.props.onEnter(e, r) }, t.onEntering = function (e, r) { var n = r ? "appear" : "enter"; t.addClass(e, n, "active"), t.props.onEntering && t.props.onEntering(e, r) }, t.onEntered = function (e, r) { var n = r ? "appear" : "enter"; t.removeClasses(e, n), t.addClass(e, n, "done"), t.props.onEntered && t.props.onEntered(e, r) }, t.onExit = function (e) { t.removeClasses(e, "appear"), t.removeClasses(e, "enter"), t.addClass(e, "exit", "base"), t.props.onExit && t.props.onExit(e) }, t.onExiting = function (e) { t.addClass(e, "exit", "active"), t.props.onExiting && t.props.onExiting(e) }, t.onExited = function (e) { t.removeClasses(e, "exit"), t.addClass(e, "exit", "done"), t.props.onExited && t.props.onExited(e) }, t.getClassNames = function (e) { var r = t.props.classNames, n = "string" == typeof r, a = n ? (n && r ? r + "-" : "") + e : r[e]; return { baseClassName: a, activeClassName: n ? a + "-active" : r[e + "Active"], doneClassName: n ? a + "-done" : r[e + "Done"] } }, t } se(t, e); var r = t.prototype; return r.addClass = function (e, t, r) { var n = this.getClassNames(t)[r + "ClassName"]; "appear" === t && "done" === r && (n += " " + this.getClassNames("enter").doneClassName), "active" === r && e && e.scrollTop, this.appliedClasses[t][r] = n, function (e, t) { e && t && t.split(" ").forEach(function (t) { return n = t, void ((r = e).classList ? r.classList.add(n) : function (e, t) { return e.classList ? !!t && e.classList.contains(t) : -1 !== (" " + (e.className.baseVal || e.className) + " ").indexOf(" " + t + " ") }(r, n) || ("string" == typeof r.className ? r.className = r.className + " " + n : r.setAttribute("class", (r.className && r.className.baseVal || "") + " " + n))); var r, n }) }(e, n) }, r.removeClasses = function (e, t) { var r = this.appliedClasses[t], n = r.base, a = r.active, o = r.done; this.appliedClasses[t] = {}, n && Ee(e, n), a && Ee(e, a), o && Ee(e, o) }, r.render = function () { var e = this.props, t = (e.classNames, Object(ie.a)(e, ["classNames"])); return R.a.createElement(ye, Object(oe.a)({}, t, { onEnter: this.onEnter, onEntered: this.onEntered, onEntering: this.onEntering, onExit: this.onExit, onExiting: this.onExiting, onExited: this.onExited })) }, t }(R.a.Component); Oe.defaultProps = { classNames: "" }, Oe.propTypes = {}; var Se = Oe; function we(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e } function Ae(e, t) { var r = Object.create(null); return e && k.Children.map(e, function (e) { return e }).forEach(function (e) { r[e.key] = function (e) { return t && Object(k.isValidElement)(e) ? t(e) : e }(e) }), r } function Ce(e, t, r) { return null != r[t] ? r[t] : e.props[t] } function Te(e, t, r) { var n = Ae(e.children), a = function (e, t) { function r(r) { return r in t ? t[r] : e[r] } e = e || {}, t = t || {}; var n, a = Object.create(null), o = []; for (var i in e) i in t ? o.length && (a[i] = o, o = []) : o.push(i); var c = {}; for (var s in t) { if (a[s]) for (n = 0; n < a[s].length; n++) { var u = a[s][n]; c[a[s][n]] = r(u) } c[s] = r(s) } for (n = 0; n < o.length; n++)c[o[n]] = r(o[n]); return c }(t, n); return Object.keys(a).forEach(function (o) { var i = a[o]; if (Object(k.isValidElement)(i)) { var c = o in t, s = o in n, u = t[o], l = Object(k.isValidElement)(u) && !u.props.in; !s || c && !l ? s || !c || l ? s && c && Object(k.isValidElement)(u) && (a[o] = Object(k.cloneElement)(i, { onExited: r.bind(null, i), in: u.props.in, exit: Ce(i, "exit", e), enter: Ce(i, "enter", e) })) : a[o] = Object(k.cloneElement)(i, { in: !1 }) : a[o] = Object(k.cloneElement)(i, { onExited: r.bind(null, i), in: !0, exit: Ce(i, "exit", e), enter: Ce(i, "enter", e) }) } }), a } var je = Object.values || function (e) { return Object.keys(e).map(function (t) { return e[t] }) }, ke = function (e) { function t(t, r) { var n, a = (n = e.call(this, t, r) || this).handleExited.bind(we(we(n))); return n.state = { contextValue: { isMounting: !0 }, handleExited: a, firstRender: !0 }, n } se(t, e); var r = t.prototype; return r.componentDidMount = function () { this.mounted = !0, this.setState({ contextValue: { isMounting: !1 } }) }, r.componentWillUnmount = function () { this.mounted = !1 }, t.getDerivedStateFromProps = function (e, t) { var r, n, a = t.children, o = t.handleExited; return { children: t.firstRender ? (r = e, n = o, Ae(r.children, function (e) { return Object(k.cloneElement)(e, { onExited: n.bind(null, e), in: !0, appear: Ce(e, "appear", r), enter: Ce(e, "enter", r), exit: Ce(e, "exit", r) }) })) : Te(e, a, o), firstRender: !1 } }, r.handleExited = function (e, t) { var r = Ae(this.props.children); e.key in r || (e.props.onExited && e.props.onExited(t), this.mounted && this.setState(function (t) { var r = Object(oe.a)({}, t.children); return delete r[e.key], { children: r } })) }, r.render = function () { var e = this.props, t = e.component, r = e.childFactory, n = Object(ie.a)(e, ["component", "childFactory"]), a = this.state.contextValue, o = je(this.state.children).map(r); return delete n.appear, delete n.enter, delete n.exit, null === t ? R.a.createElement(me.Provider, { value: a }, o) : R.a.createElement(me.Provider, { value: a }, R.a.createElement(t, n, o)) }, t }(R.a.Component); ke.propTypes = {}, ke.defaultProps = { component: "div", childFactory: function (e) { return e } }; var Re, Ne, Le = ke, _e = function (e) { function t() { for (var t, r = arguments.length, n = new Array(r), a = 0; a < r; a++)n[a] = arguments[a]; return (t = e.call.apply(e, [this].concat(n)) || this).handleEnter = function () { for (var e = arguments.length, r = new Array(e), n = 0; n < e; n++)r[n] = arguments[n]; return t.handleLifecycle("onEnter", 0, r) }, t.handleEntering = function () { for (var e = arguments.length, r = new Array(e), n = 0; n < e; n++)r[n] = arguments[n]; return t.handleLifecycle("onEntering", 0, r) }, t.handleEntered = function () { for (var e = arguments.length, r = new Array(e), n = 0; n < e; n++)r[n] = arguments[n]; return t.handleLifecycle("onEntered", 0, r) }, t.handleExit = function () { for (var e = arguments.length, r = new Array(e), n = 0; n < e; n++)r[n] = arguments[n]; return t.handleLifecycle("onExit", 1, r) }, t.handleExiting = function () { for (var e = arguments.length, r = new Array(e), n = 0; n < e; n++)r[n] = arguments[n]; return t.handleLifecycle("onExiting", 1, r) }, t.handleExited = function () { for (var e = arguments.length, r = new Array(e), n = 0; n < e; n++)r[n] = arguments[n]; return t.handleLifecycle("onExited", 1, r) }, t } se(t, e); var r = t.prototype; return r.handleLifecycle = function (e, t, r) { var n, a = this.props.children, o = R.a.Children.toArray(a)[t]; o.props[e] && (n = o.props)[e].apply(n, r), this.props[e] && this.props[e](pe.a.findDOMNode(this)) }, r.render = function () { var e = this.props, t = e.children, r = e.in, n = Object(ie.a)(e, ["children", "in"]), a = R.a.Children.toArray(t), o = a[0], i = a[1]; return delete n.onEnter, delete n.onEntering, delete n.onEntered, delete n.onExit, delete n.onExiting, delete n.onExited, R.a.createElement(Le, n, r ? R.a.cloneElement(o, { key: "first", onEnter: this.handleEnter, onEntering: this.handleEntering, onEntered: this.handleEntered }) : R.a.cloneElement(i, { key: "second", onEnter: this.handleExit, onEntering: this.handleExiting, onEntered: this.handleExited })) }, t }(R.a.Component); _e.propTypes = {}; var Ie = "out-in", Me = "in-out", xe = function (e, t, r) { return function () { var n; e.props[t] && (n = e.props)[t].apply(n, arguments), r() } }, De = ((Re = {})[Ie] = function (e) { var t = e.current, r = e.changeState; return R.a.cloneElement(t, { in: !1, onExited: xe(t, "onExited", function () { r(he, null) }) }) }, Re[Me] = function (e) { var t = e.current, r = e.changeState, n = e.children; return [t, R.a.cloneElement(n, { in: !0, onEntered: xe(n, "onEntered", function () { r(he) }) })] }, Re), Pe = ((Ne = {})[Ie] = function (e) { var t = e.children, r = e.changeState; return R.a.cloneElement(t, { in: !0, onEntered: xe(t, "onEntered", function () { r(ve, R.a.cloneElement(t, { in: !0 })) }) }) }, Ne[Me] = function (e) { var t = e.current, r = e.children, n = e.changeState; return [R.a.cloneElement(t, { in: !1, onExited: xe(t, "onExited", function () { n(ve, R.a.cloneElement(r, { in: !0 })) }) }), R.a.cloneElement(r, { in: !0 })] }, Ne), Ue = function (e) { function t() { for (var t, r = arguments.length, n = new Array(r), a = 0; a < r; a++)n[a] = arguments[a]; return (t = e.call.apply(e, [this].concat(n)) || this).state = { status: ve, current: null }, t.appeared = !1, t.changeState = function (e, r) { void 0 === r && (r = t.state.current), t.setState({ status: e, current: r }) }, t } se(t, e); var r = t.prototype; return r.componentDidMount = function () { this.appeared = !0 }, t.getDerivedStateFromProps = function (e, t) { return null == e.children ? { current: null } : t.status === he && e.mode === Me ? { status: he } : !t.current || (r = t.current, n = e.children, r === n || R.a.isValidElement(r) && R.a.isValidElement(n) && null != r.key && r.key === n.key) ? { current: R.a.cloneElement(e.children, { in: !0 }) } : { status: "exiting" }; var r, n }, r.render = function () { var e, t = this.props, r = t.children, n = t.mode, a = this.state, o = a.status, i = a.current, c = { children: r, current: i, changeState: this.changeState, status: o }; switch (o) { case he: e = Pe[n](c); break; case "exiting": e = De[n](c); break; case ve: e = i }return R.a.createElement(me.Provider, { value: { isMounting: !this.appeared } }, e) }, t }(R.a.Component); Ue.propTypes = {}, Ue.defaultProps = { mode: Ie }; var Be = v("collapse", [], []), Fe = function (e) { var t = e.className, r = e.isOpen, n = e.children, a = e.tag, o = void 0 === a ? "div" : a, i = e.direction, c = void 0 === i ? "height" : i, s = e.unmountOnExit, u = void 0 !== s && s, l = Object(k.useState)(null), f = l[0], d = l[1], p = Object(k.useCallback)(function () { return d(null) }, [d]), m = Object(k.useCallback)(function (e) { d("height" === c ? e.scrollHeight : e.scrollWidth) }, [c, d]), h = Object(k.useCallback)(function (e) { e.offsetHeight, d(0) }, [d]); return R.a.createElement(ye, { in: r, onEntering: m, onEntered: p, onExit: m, onExiting: h, onExited: p, timeout: 250, unmountOnExit: u }, function (e) { var r, a = g(Be.BASE, Be.BASE + "--" + e, Be.BASE + "--" + c, t); return R.a.createElement(o, { className: a, style: null === f ? {} : (r = {}, r[c] = f, r) }, n) }) }, Ve = v("card", ["header", "title", "subtitle", "content", "expand-icon"], ["expanded"]), He = function (e) { var t, r = e.title, n = e.subtitle, a = e.children, o = e.className, i = e.collapsible, c = e.defaultOpen, s = void 0 === c || c, u = Object(k.useState)(s), l = u[0], f = u[1], d = g(Ve.BASE, o, ((t = {})[Ve.Modifiers.expanded] = i && l, t)), p = R.a.createElement("div", { className: Ve.Elements.header }, R.a.createElement("div", { className: Ve.Elements.title }, r, i && R.a.createElement(ne, { className: Ve.Elements["expand-icon"], onClick: function () { f(!l) }, icon: "chevron-down" })), n ? R.a.createElement("div", { className: Ve.Elements.subtitle }, n) : null); return R.a.createElement("div", { className: d }, p, R.a.createElement(Fe, { isOpen: !i || l }, R.a.createElement("div", { className: Ve.Elements.content }, a))) }, Ge = (r(36), function () { return (Ge = Object.assign || function (e) { for (var t, r = 1, n = arguments.length; r < n; r++)for (var a in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a]); return e }).apply(this, arguments) }), qe = v("checkbox", [], []), Ke = function (e) { var t = e.className, r = e.id, n = e.label, a = void 0 === n ? "" : n, o = e.indeterminate, i = e.checked, c = function (e, t) { var r = {}; for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && t.indexOf(n) < 0 && (r[n] = e[n]); if (null != e && "function" == typeof Object.getOwnPropertySymbols) { var a = 0; for (n = Object.getOwnPropertySymbols(e); a < n.length; a++)t.indexOf(n[a]) < 0 && Object.prototype.propertyIsEnumerable.call(e, n[a]) && (r[n[a]] = e[n[a]]) } return r }(e, ["className", "id", "label", "indeterminate", "checked"]), s = Object(k.createRef)(); return Object(k.useEffect)(function () { s.current && (s.current.indeterminate = o) }, [s, o]), R.a.createElement("label", { htmlFor: r, className: g(qe.BASE, t) }, R.a.createElement("input", Ge({ ref: s, type: "checkbox", id: r }, c, { checked: i })), R.a.createElement("span", null, a)) }, ze = (r(37), v("drawer-footer", [], [])), Ye = function (e) { var t = e.children, r = e.className; return R.a.createElement("div", { className: g(ze.BASE, r) }, t) }; Ye.defaultProps = { className: "" }, Ye.propTypes = { className: le.a.string }; var We, Xe = Ye, Je = (r(38), r(7)), Ze = v("drawer-header", ["title", "title-wrapper", "left-content", "right-content", "collapse-icon", "search", "tab-header"], []), Qe = function (e) { var t, r, n, a = e.className, o = e.icon, i = void 0 === o ? "close" : o, c = e.title, s = e.placeholder, u = void 0 === s ? "search..." : s, l = e.onCollapse, f = void 0 === l ? function () { return window.WebSAE.drawer.closeDrawer() } : l, d = e.onSearch, p = e.leftRenderer, m = void 0 === p ? void 0 : p, h = e.rightRenderer, v = void 0 === h ? void 0 : h, b = e.children, y = e.tabItems, E = (t = f, Object(k.useCallback)(Object(Je.safelyHandle)(t, r, n), [t, r, n])), O = Object(k.useCallback)(function (e) { "function" == typeof d && d(e) }, [d]), S = R.a.createElement(ne, { onClick: E, className: Ze.Elements["collapse-icon"], icon: i }); return R.a.createElement("div", { className: g(Ze.BASE, a) }, R.a.createElement("div", { className: Ze.Elements["title-wrapper"] }, "function" == typeof m ? R.a.createElement("div", { className: Ze.Elements["left-content"] }, m(S)) : null, R.a.createElement("div", { className: g(Ze.Elements.title) }, c), R.a.createElement("div", { className: Ze.Elements["right-content"] }, "function" == typeof v ? v(S) : S)), d && R.a.createElement("div", { className: Ze.Elements.search }, R.a.createElement("input", { onChange: O, autoCorrect: "false", autoComplete: "off", spellCheck: !1, placeholder: u, type: "text", name: "header-input" })), y && y.length > 0 && R.a.createElement(Ft, { items: y, className: Ze.Elements["tab-header"] }), b) }, $e = Qe, et = (r(39), function () { return (et = Object.assign || function (e) { for (var t, r = 1, n = arguments.length; r < n; r++)for (var a in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a]); return e }).apply(this, arguments) }), tt = v("navigation-drawer-header", ["back-icon"], []), rt = function (e) { var t, r = e.className, n = e.onCollapse, a = e.leftRendererCallback, o = e.disableLeftRenderer, i = function (e, t) { var r = {}; for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && t.indexOf(n) < 0 && (r[n] = e[n]); if (null != e && "function" == typeof Object.getOwnPropertySymbols) { var a = 0; for (n = Object.getOwnPropertySymbols(e); a < n.length; a++)t.indexOf(n[a]) < 0 && Object.prototype.propertyIsEnumerable.call(e, n[a]) && (r[n[a]] = e[n[a]]) } return r }(e, ["className", "onCollapse", "leftRendererCallback", "disableLeftRenderer"]), c = Object(k.useContext)(N), s = a || c.pop, u = c.isRoot() || o ? void 0 : (t = s, function () { return R.a.createElement(ne, { className: tt.Elements["back-icon"], icon: "arrow-left", onClick: t }) }); return n ? R.a.createElement(Qe, et({}, i, { className: g(tt.BASE, r), leftRenderer: u, onCollapse: n })) : R.a.createElement($e, et({}, i, { className: g(tt.BASE, r), leftRenderer: u })) }, nt = (r(40), v("drawer-layout", ["content"], [])), at = Object.prototype.hasOwnProperty, ot = R.a.forwardRef(function (e, t) { var r = e.children, n = e.contentClassName, a = e.className, o = null, i = null, c = []; return R.a.Children.toArray(r).forEach(function (e, t) { if (function (e) { if (!e || !at.call(e, "type")) return !1; var t = e.type; return e.props.originalType && (t = e.props.originalType), t.WrappedComponent === $e || "function" == typeof t && t === rt || "function" == typeof t && t === $e }(e)) { if (t) throw new Error("First element should be a NavigationDrawerHeader or DrawerHeader"); o = e } else if (function (e) { if (!e || !at.call(e, "type")) return !1; var t = e.type; return e.props.originalType && (t = e.props.originalType), t.WrappedComponent === $e || "function" == typeof t && t === Xe }(e)) { if (t !== R.a.Children.toArray(r).length - 1) throw new Error("Last element should be a DrawerFooter"); i = e } else c.push(e) }), R.a.createElement("div", { ref: t, className: g(nt.BASE, a) }, o, R.a.createElement("div", { className: g(nt.Elements.content, n) }, c), i) }), it = function (e) { return "data:image/svg+xml;base64," + btoa(e) }, ct = function (e, t, r) { void 0 === t && (t = {}), void 0 === r && (r = {}); var n = ee[e], a = n; n && (a = Array.isArray(n) ? n.map(function (e) { return e }).join(" ") : n), t.fill || (t.fill = "white"); var o = Object.entries(t).map(function (e) { return e[0] + '="' + e[1] + '"' }).join(" "); return '\n    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" ' + Object.entries(r).map(function (e) { return e[0] + '="' + e[1] + '"' }).join(" ") + ">\n      <path " + o + ' d="' + a + '" />\n    </svg>\n  ' }, st = function (e) { var t = e.iconColor; return R.a.createElement(R.a.Fragment, null, R.a.createElement("svg", { width: "19", height: "17", xmlns: "http://www.w3.org/2000/svg", xmlnsXlink: "http://www.w3.org/1999/xlink" }, R.a.createElement("defs", null, R.a.createElement("filter", { x: "-57.1%", y: "-42.9%", width: "214.3%", height: "214.3%", filterUnits: "objectBoundingBox", id: "a" }, R.a.createElement("feMorphology", { radius: "1", operator: "dilate", in: "SourceAlpha", result: "shadowSpreadOuter1" }), R.a.createElement("feOffset", { dy: "2", in: "shadowSpreadOuter1", result: "shadowOffsetOuter1" }), R.a.createElement("feGaussianBlur", { stdDeviation: "2", in: "shadowOffsetOuter1", result: "shadowBlurOuter1" }), R.a.createElement("feComposite", { in: "shadowBlurOuter1", in2: "SourceAlpha", operator: "out", result: "shadowBlurOuter1" }), R.a.createElement("feColorMatrix", { values: "0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0", in: "shadowBlurOuter1" })), R.a.createElement("circle", { id: "b", cx: "10", cy: "9", r: "7" })), R.a.createElement("g", { fillRule: "nonzero", fill: "none" }, R.a.createElement("use", { fill: "#000", filter: "url(#a)", xlinkHref: "#b" }), R.a.createElement("use", { stroke: "#FFF", strokeWidth: "2", fill: t, xlinkHref: "#b" })))) }, ut = function () { return R.a.createElement("svg", { width: "38", height: "41", xmlns: "http://www.w3.org/2000/svg" }, R.a.createElement("linearGradient", { x1: "0%", y1: "49.236%", x2: "100%", y2: "49.236%", id: "gradient" }, R.a.createElement("stop", { stopColor: "#838383", offset: "0%" }), R.a.createElement("stop", { stopColor: "#1D1D1D", offset: "50%" }), R.a.createElement("stop", { stopColor: "#838383", offset: "100%" })), R.a.createElement("g", { fillRule: "nonzero", fill: "none", opacity: ".846" }, R.a.createElement("path", { d: "M17.634 38.506a43.964 43.964 0 01-1.293-1.048c-.92-.78-3.206-3.132-4.047-4.163-4.659-5.717-7.285-12.766-8.07-19.963-.126-1.156-.247-3.244-.22-3.803l.02-.434.85-.218C9.475 7.692 14.31 4.99 17.67 1.727c.423-.411.795-.738.824-.727.03.012.463.404.962.87 2.198 2.058 4.246 3.49 6.919 4.834a29.195 29.195 0 005.783 2.183l.817.208.021.4c.033.612-.111 3.135-.25 4.375-.807 7.205-3.446 13.994-7.75 19.292-.826 1.014-3.057 3.254-4.047 4.061-1.08.88-2.363 1.777-2.542 1.777-.073 0-.42-.222-.772-.494z", fill: "url(#gradient)" }), R.a.createElement("path", { d: "M18.099 40.518c-2.292-1.6-4.79-4.026-6.945-6.746l-.681-.859H5.236C.748 32.913 0 32.9 0 32.817c0-.116 3.22-11.466 3.313-11.68.06-.14.11-.152.594-.152.29 0 .546-.03.568-.066.022-.035-.065-.468-.193-.96-.768-2.951-1.145-5.758-1.211-9.025-.045-2.203-.094-2.022.576-2.114 1.56-.212 4.506-1.235 6.673-2.316 3.049-1.52 5.308-3.154 7.732-5.59l.91-.914 1.212 1.21c2.286 2.279 4.286 3.73 7.128 5.173 2.334 1.185 5.222 2.19 7.017 2.442.594.083.564.01.564 1.382 0 3.065-.387 6.543-1.04 9.363-.345 1.482-.367 1.377.297 1.4.494.018.556.035.612.17.093.22 3.248 11.563 3.248 11.676 0 .084-.707.097-5.057.098-2.78 0-5.09.023-5.129.05-.04.028-.372.43-.738.893-1.617 2.047-3.504 3.925-5.427 5.4-1.187.91-2.497 1.743-2.744 1.743-.063 0-.426-.217-.806-.482zm1.551-1.432a26.226 26.226 0 002.542-1.972c1.372-1.19 3.943-3.96 3.838-4.133-.066-.109-13.761-.093-13.76.016 0 .308 3.358 3.863 4.73 5.01 1.178.984 1.792 1.437 1.954 1.44.084.002.397-.16.696-.361zM32.147 20.9c.076-.097.542-2.038.741-3.084.377-1.977.572-3.78.668-6.166.045-1.128.04-1.5-.02-1.557-.043-.04-.526-.188-1.074-.328-4.614-1.18-9.134-3.71-12.718-7.123l-.78-.743-.567.529c-1.419 1.324-2.544 2.245-3.763 3.08-2.824 1.932-6.229 3.504-9.295 4.29-.475.122-.903.259-.952.304-.073.068-.076.35-.015 1.631.14 2.956.517 5.44 1.24 8.173.133.5.27.947.307.994.052.066 2.755.084 13.114.084 10.36 0 13.062-.018 13.114-.084z", fill: "#0B0B0B" }), R.a.createElement("g", { fill: "#FFF" }, R.a.createElement("path", { d: "M28.899 9c-3.822 3.036-7.096 1.224-8.268 3.372l-.726-1.572h1.058s.089-.96-.867-.96h-1.63l-1.198 2.532c-1.172-2.16-4.433-.336-8.267-3.372 0 0-.191 2.184 5.286 4.164l-3.834-.78c.98 1.44 1.376 1.176 4.395 2.124l-2.713-.24s2.152 1.368 6.038 1.368h1.554c3.822 0 6.038-1.368 6.038-1.368l-2.713.24c3.019-.948 3.401-.684 4.395-2.124l-3.835.78C29.09 11.184 28.9 9 28.9 9zM20.466 17.172l.79-1.212-1.134.036h-2.115l-1.146-.036.802 1.212.828-.72-.344 1.008.918.504.917-.504-.344-1.008z" })), R.a.createElement("path", { d: "M10.45 30.95c-.205-.066-.229-.216-.207-1.316l.02-.988c-.066-.066-.13-.137-.408-.212.213-.062.287-.147.287-.147.166-.132.199-.608.124-.975l-.045-.223h-.42c-.232 0-.497-.021-.59-.047-.163-.046-.17-.063-.17-.458 0-.29.028-.427.092-.467.066-.04.76-.055 2.44-.051 2.75.005 2.582-.028 2.532.494-.049.507-.12.558-.832.6-.442.025-.602.053-.631.109-.022.041-.054.244-.045.451.02.439.056.725.49.915-.384.118-.397.186-.417.26l-.001.965c0 .53-.025.992-.053 1.026-.066.076-1.956.133-2.166.065zm5.666.007a.35.35 0 01-.216-.11c-.068-.095-.06-.15.16-1.048.202-.829.193-.924.115-1.022-.085-.107-.188-.163-.418-.284.224-.074.334-.112.42-.194.142-.133.34-.54.452-1.137.1-.535.245-.96.355-1.041.084-.062.348-.075 1.604-.078l1.503-.004.054.269c.14.477.167.72.338 1.322.064.175.237.483.432.618a.642.642 0 00.287.17c-.151.062-.239.107-.293.165-.087.066-.112.18.217 1.119a4.1 4.1 0 00.16.379c.202.409.219.563.075.698-.124.118-.166.125-.636.115-.276-.007-.728.006-1.005.027-.579.044-.61.028-.626-.316a.997.997 0 00-.082-.354c-.063-.118-.108-.134-.358-.134-.157 0-.32.026-.364.058-.046.034-.08.196-.08.385 0 .201-.03.345-.082.376-.076.046-1.653.063-2.012.021zm2.793-1.995c.09-.356-.115-1.604-.264-1.604-.161 0-.486 1.593-.35 1.721.035.034.178.061.317.061.238 0 .255-.01.297-.178zm8.24 1.986c-.512-.085-.58-.14-.805-.66-.478-1.108-.515-1.118-.515-.136v.717l-.263.043c-.392.064-1.596.007-1.785-.085-.208-.1-.258-.335-.187-.876.103-.787.065-1.438-.1-1.715a1.563 1.563 0 00-.284-.352s-.036-.05-.155-.122c.094-.035.192-.09.192-.09.292-.17.334-.28.37-.973l.036-.66.94-.013c.565-.008.993.007 1.07.037.2.08.282.406.256 1.026-.019.455-.006.562.068.562.057 0 .15-.144.246-.384.222-.553.48-1.016.637-1.142.128-.103.19-.11.985-.11.653 0 .856.015.882.066.02.037-.037.186-.124.332a4.94 4.94 0 00-.242.459c-.046.106-.233.454-.416.772l-.333.58.152.372.269.666c.198.496.432.913.712 1.27.147.187.247.355.221.372-.068.045-1.596.082-1.827.044z", fill: "#FFF" }))) }, lt = function () { return R.a.createElement("svg", { width: "24px", height: "24px", viewBox: "0 0 24 24", version: "1.1", xmlns: "http://www.w3.org/2000/svg" }, R.a.createElement("title", null, "WebSAE logomark"), R.a.createElement("g", { id: "WebSAE-logomark", stroke: "none", "stroke-width": "1", fill: "none", "fill-rule": "evenodd" }, R.a.createElement("rect", { id: "bounds", x: "0", y: "0", width: "24", height: "24" }), R.a.createElement("path", { d: "M13.8147041,14.4321951 L13.1982678,15.3781463 L12.552004,14.8161951 L12.8204521,15.6029268 L12.1045907,15.9962927 L11.3887292,15.6029268 L11.6571773,14.8161951 L11.0109135,15.3781463 L10.3845347,14.4321951 L11.2793615,14.4602927 L12.9298198,14.4602927 L13.8147041,14.4321951 Z M19.7802159,9 L19.7805918,9.03744186 C19.772698,9.2952457 19.55759,10.838965 15.6540702,12.2499512 L15.6540702,12.2499512 L18.6467687,11.6411707 C17.8712521,12.7650732 17.5729765,12.5590244 15.2165994,13.2989268 L15.2165994,13.2989268 L17.3343561,13.1116098 C17.3343561,13.1116098 15.6043576,14.1793171 12.6216017,14.1793171 L12.6216017,14.1793171 L11.4086143,14.1793171 C8.37614572,14.1793171 6.69585988,13.1116098 6.69585988,13.1116098 L6.69585988,13.1116098 L8.8136166,13.2989268 C6.4572394,12.5590244 6.14902129,12.7650732 5.38344726,11.6411707 L5.38344726,11.6411707 L8.37614572,12.2499512 C4.56556694,10.8725599 4.26985215,9.3686809 4.25058734,9.0580242 L4.25,9 C7.24269847,11.369561 9.78798354,9.94595122 10.7026954,11.6318049 L10.7026954,11.6318049 L11.6372922,9.65560976 L11.6372922,9.65560976 L12.9099348,9.65560976 C13.6556237,9.65560976 13.5860261,10.404878 13.5860261,10.404878 L13.5860261,10.404878 L12.760797,10.404878 L13.3275206,11.6318049 C14.2422324,9.95531707 16.79746,11.369561 19.7802159,9 L19.7802159,9 Z", id: "Combined-Shape", fill: "#FFFFFF", "fill-rule": "nonzero" }))) }, ft = function (e) { return R.a.createElement("svg", { width: "84px", height: "27px", viewBox: "0 0 84 27", version: "1.1", xmlns: "http://www.w3.org/2000/svg" }, R.a.createElement("title", null, "WebSAE log simple"), R.a.createElement("g", { id: "WebSAE-log-simple", stroke: "none", strokeWidth: "1", fill: "none", fillRule: "evenodd" }, R.a.createElement("rect", { id: "bounds", x: "0", y: "0", width: "84", height: "27" }), R.a.createElement("text", { id: "logotype", fontFamily: "Roboto-Medium, Roboto", fontSize: "14", fontWeight: "400", letterSpacing: "0.3", fill: "#FFFFFF", fillOpacity: "0.7" }, R.a.createElement("tspan", { x: "24", y: "19" }, "WebSAE")), R.a.createElement("g", { id: "logomark", transform: "translate(0.000000, 2.000000)" }, R.a.createElement("rect", { id: "bounds", x: "0", y: "0", width: "24", height: "24" }), R.a.createElement("path", { d: "M13.8147041,14.4321951 L13.1982678,15.3781463 L12.552004,14.8161951 L12.8204521,15.6029268 L12.1045907,15.9962927 L11.3887292,15.6029268 L11.6571773,14.8161951 L11.0109135,15.3781463 L10.3845347,14.4321951 L11.2793615,14.4602927 L12.9298198,14.4602927 L13.8147041,14.4321951 Z M19.7802159,9 L19.7805918,9.03744186 C19.772698,9.2952457 19.55759,10.838965 15.6540702,12.2499512 L15.6540702,12.2499512 L18.6467687,11.6411707 C17.8712521,12.7650732 17.5729765,12.5590244 15.2165994,13.2989268 L15.2165994,13.2989268 L17.3343561,13.1116098 C17.3343561,13.1116098 15.6043576,14.1793171 12.6216017,14.1793171 L12.6216017,14.1793171 L11.4086143,14.1793171 C8.37614572,14.1793171 6.69585988,13.1116098 6.69585988,13.1116098 L6.69585988,13.1116098 L8.8136166,13.2989268 C6.4572394,12.5590244 6.14902129,12.7650732 5.38344726,11.6411707 L5.38344726,11.6411707 L8.37614572,12.2499512 C4.56556694,10.8725599 4.26985215,9.3686809 4.25058734,9.0580242 L4.25,9 C7.24269847,11.369561 9.78798354,9.94595122 10.7026954,11.6318049 L10.7026954,11.6318049 L11.6372922,9.65560976 L11.6372922,9.65560976 L12.9099348,9.65560976 C13.6556237,9.65560976 13.5860261,10.404878 13.5860261,10.404878 L13.5860261,10.404878 L12.760797,10.404878 L13.3275206,11.6318049 C14.2422324,9.95531707 16.79746,11.369561 19.7802159,9 L19.7802159,9 Z", id: "Combined-Shape", fill: "#FFFFFF", fillRule: "nonzero" })))) }, dt = (r(41), function () { return (dt = Object.assign || function (e) { for (var t, r = 1, n = arguments.length; r < n; r++)for (var a in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a]); return e }).apply(this, arguments) }); !function (e) { e[e.PRIMARY = 0] = "PRIMARY", e[e.SECONDARY = 1] = "SECONDARY", e[e.WARNING = 2] = "WARNING", e[e.DANGER = 3] = "DANGER" }(We || (We = {})); var pt, mt = v("instruction", ["text", "rule", "actions", "action"], []), ht = function (e) { var t = e.title, r = e.actions, n = e.actionClassName, a = function (e) { var t = e.title, r = e.onClick; switch (e.instructionType) { case We.PRIMARY: return R.a.createElement($.Primary, { className: mt.Elements.action, onClick: r }, t); case We.SECONDARY: return R.a.createElement($.Secondary, { className: mt.Elements.action, onClick: r }, t); case We.DANGER: return R.a.createElement($.Danger, { className: mt.Elements.action, onClick: r }, t); case We.WARNING: return R.a.createElement($.Warning, { className: mt.Elements.action, onClick: r }, t); default: return R.a.createElement($, { className: mt.Elements.action, onClick: r }, t) } }; return R.a.createElement("div", { className: mt.BASE }, R.a.createElement("div", { className: mt.Elements.text }, t), r && r.length && R.a.createElement("div", { className: n || mt.Elements.actions }, r.map(function (e, t) { return R.a.createElement(a, dt({ key: t }, e)) }))) }, vt = (r(42), v("loader", [], [])), gt = function (e) { var t = e.className; return R.a.createElement("div", { className: g(t, vt.BASE) }) }, bt = (r(43), pt = function (e, t) { return (pt = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (e, t) { e.__proto__ = t } || function (e, t) { for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]) })(e, t) }, function (e, t) { function r() { this.constructor = e } pt(e, t), e.prototype = null === t ? Object.create(t) : (r.prototype = t.prototype, new r) }), yt = function () { return (yt = Object.assign || function (e) { for (var t, r = 1, n = arguments.length; r < n; r++)for (var a in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a]); return e }).apply(this, arguments) }, Et = function () { for (var e = 0, t = 0, r = arguments.length; t < r; t++)e += arguments[t].length; var n = Array(e), a = 0; for (t = 0; t < r; t++)for (var o = arguments[t], i = 0, c = o.length; i < c; i++, a++)n[a] = o[i]; return n }, Ot = v("navigation-controller", ["body", "child"], []), St = v(Ot.Elements.child, [], ["inactive"]), wt = a(Ot.Elements.child), At = function (e) { function t(t) { var r = e.call(this, t) || this; r.guardStack = [], r.guardCtxStack = [], r.state = { children: [t.root], ctx: yt({}, t.defaultState) }; var n = []; return r.guardStack = [n], r.appendGuardCtx(n), r } return bt(t, e), t.prototype.appendGuardCtx = function (e) { var t = this, r = this.guardCtxStack.length; this.guardCtxStack.push({ push: this.push.bind(this), pop: this.pop.bind(this), isActive: function () { return t.state.children.length - 1 === r }, isRoot: function () { return !r }, getState: function () { return t.state.ctx }, setState: function (e) { void 0 === e && (e = {}), t.setState({ ctx: yt(yt({}, t.state.ctx), e) }) }, addGuard: function (r) { e.push(r), t.forceUpdate() }, removeGuard: function (r) { var n = e.indexOf(r); -1 !== n && (e.splice(n, 1), t.forceUpdate()) } }) }, t.prototype.push = function (e) { var t = this.guardStack.length - 1, r = this.guardStack[t], n = this.guardCtxStack[t]; if (r.every(function (e) { return e(n) })) { var a = []; this.guardStack.push(a), this.appendGuardCtx(a), this.setState({ children: Et(this.state.children, [e]) }) } }, t.prototype.pop = function () { if (1 !== this.guardStack.length) { var e = this.guardStack.length - 1, t = this.guardStack[e], r = this.guardCtxStack[e]; t.every(function (e) { return e(r) }) && (this.guardStack.pop(), this.guardCtxStack.pop(), this.setState({ children: this.state.children.slice(0, -1) })) } }, t.prototype.renderChildren = function () { var e = this, t = this.state.children.length - 1; return this.state.children.map(function (r, n) { var a; return R.a.createElement(Se, { key: "child-" + n, in: n === t, classNames: wt, timeout: 250 }, R.a.createElement("div", { className: g(St.BASE, (a = {}, a[St.Modifiers.inactive] = n !== t, a)) }, R.a.createElement(N.Provider, { value: e.guardCtxStack[n] }, R.a.createElement(r, null)))) }) }, t.prototype.render = function () { var e = g(Ot.BASE, this.props.className); return R.a.createElement("div", { className: e }, R.a.createElement(Le, { className: Ot.Elements.body, enter: !0, exit: !0 }, this.renderChildren())) }, t.defaultProps = { className: "" }, t }(k.Component), Ct = function () { return (Ct = Object.assign || function (e) { for (var t, r = 1, n = arguments.length; r < n; r++)for (var a in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a]); return e }).apply(this, arguments) }; function Tt(e) { return function (t) { return R.a.createElement(e, Ct({}, function (e) { return Ct({ nav: Object(k.useContext)(N) }, e) }(t))) } } r(44); var jt = v("non-ideal-state", ["icon", "title", "description", "action"], []), kt = function (e) { var t = e.action, r = e.description, n = e.icon, a = e.title, o = null; return n && Object(Je.isString)(n) && n in ee ? o = R.a.createElement("div", { className: jt.Elements.icon, "data-testid": "non-ideal-icon" }, R.a.createElement(ne, { icon: n })) : null !== n && (o = n), R.a.createElement("div", { className: jt.BASE }, o, a && R.a.createElement("h4", { className: jt.Elements.title }, a), r && R.a.createElement("div", { className: jt.Elements.description }, r), t) }, Rt = function (e) { var t = e.mobileRenderer, r = e.desktopRenderer, n = e.tabletRenderer, a = z(), o = a.tablet, i = a.mobile; return o || i ? i || o && !n ? t : o && n ? n : null : r }, Nt = (r(45), v("segmented-control", ["selection", "option"], [])), Lt = function (e) { var t = e.options, r = e.className, n = e.onChange, a = e.defaultValue, o = Object(k.createRef)(), i = Object(k.useState)(a || t[0].value), c = i[0], s = i[1], u = Object(k.useCallback)(function () { var e = o.current, r = t.findIndex(function (e) { return e.value === c }), n = document.getElementById(c); if (n && e && r >= 0) { var a = Math.max(1, n.offsetWidth * r - 1); e.style.transform = "translateX(" + a + "px)" } }, [o, c]); return Object(k.useEffect)(function () { u() }, [u]), Object(k.useEffect)(function () { return window.addEventListener("resize", u), function () { window.removeEventListener("resize", u) } }, [o, u]), R.a.createElement("div", { className: g(Nt.BASE, r) }, R.a.createElement("span", { ref: o, className: Nt.Elements.selection }), t.map(function (e, t) { return R.a.createElement("div", { key: e.value, className: Nt.Elements.option }, R.a.createElement("input", { onChange: (r = t, function (e) { var t = document.getElementById(e.target.value), a = o.current, i = e.target.checked; if (null !== t && i && a) { var c = Math.max(1, t.offsetWidth * r - 1); a.style.transform = "translateX(" + c + "px)", s(e.target.value), "function" == typeof n && n(e.target.value) } }), id: e.value, type: "radio", name: e.value, value: e.value, checked: c === e.value }), R.a.createElement("label", { htmlFor: e.value }, R.a.createElement("span", null, e.label))); var r })) }, _t = (r(46), function () { return (_t = Object.assign || function (e) { for (var t, r = 1, n = arguments.length; r < n; r++)for (var a in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a]); return e }).apply(this, arguments) }), It = v("select", [], []), Mt = function (e) { var t = e.className, r = function (e, t) { var r = {}; for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && t.indexOf(n) < 0 && (r[n] = e[n]); if (null != e && "function" == typeof Object.getOwnPropertySymbols) { var a = 0; for (n = Object.getOwnPropertySymbols(e); a < n.length; a++)t.indexOf(n[a]) < 0 && Object.prototype.propertyIsEnumerable.call(e, n[a]) && (r[n[a]] = e[n[a]]) } return r }(e, ["className"]); return R.a.createElement("select", _t({ className: g(It.BASE, t) }, r)) }, xt = (r(47), function () { return (xt = Object.assign || function (e) { for (var t, r = 1, n = arguments.length; r < n; r++)for (var a in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a]); return e }).apply(this, arguments) }), Dt = v("switch", ["input", "toggle"], ["checked", "inline"]), Pt = function (e) { var t, r, n = e.checked, a = e.className, o = e.inline, i = function (e, t) { var r = {}; for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && t.indexOf(n) < 0 && (r[n] = e[n]); if (null != e && "function" == typeof Object.getOwnPropertySymbols) { var a = 0; for (n = Object.getOwnPropertySymbols(e); a < n.length; a++)t.indexOf(n[a]) < 0 && Object.prototype.propertyIsEnumerable.call(e, n[a]) && (r[n[a]] = e[n[a]]) } return r }(e, ["checked", "className", "inline"]), c = g(Dt.BASE, ((t = {})[Dt.Modifiers.checked] = !!n, t), ((r = {})[Dt.Modifiers.inline] = !!o, r), a); return R.a.createElement("div", { className: c }, R.a.createElement("input", xt({}, i, { checked: n, className: Dt.Elements.input, type: "checkbox" })), R.a.createElement("div", { className: Dt.Elements.toggle })) }; Pt.defaultProps = { inline: !1 }, Pt.propTypes = { inline: le.a.bool }; var Ut = Pt, Bt = (r(48), v("tab-header", ["line", "tab-item", "active-tab-item"], [])), Ft = function (e) { var t = e.className, r = e.items, n = g(Bt.BASE, t), a = Object(k.useState)(r[0]), o = a[0], i = a[1], c = Object(k.useRef)(null), s = Object(k.useCallback)(function () { return r.map(function (e) { var t, r = o.name === e.name, n = g(Bt.Elements["tab-item"], ((t = {})[Bt.Elements["active-tab-item"]] = !!r, t)); return R.a.createElement("li", { className: n, id: "tab-" + e.name, key: e.name, onClick: function () { e.onClick && e.onClick(e.name), i(e) } }, R.a.createElement("span", null, e.title)) }) }, [r, o, i]); return Object(k.useEffect)(function () { if (o) { var e = document.getElementById("tab-" + o.name), t = c.current, r = document.getElementsByClassName(Bt.BASE); if (e && t && r) { var n, a = r[0].getBoundingClientRect(), i = t.getBoundingClientRect(), s = e.getBoundingClientRect(), u = i.left - a.left, l = s.left - a.left; return l >= u ? (t.style.width = l - u + s.width + "px", n = window.setTimeout(function () { t.style.left = l + "px", t.style.width = s.width + "px" }, 150)) : (t.style.left = l + "px", t.style.width = u - l + s.width + "px", n = window.setTimeout(function () { t.style.width = s.width + "px" }, 150)), function () { return clearTimeout(n) } } } }, [r, o]), R.a.createElement("ul", { className: n }, s(), R.a.createElement("div", { ref: c, className: Bt.Elements.line })) }, Vt = (r(49), function () { return (Vt = Object.assign || function (e) { for (var t, r = 1, n = arguments.length; r < n; r++)for (var a in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a]); return e }).apply(this, arguments) }), Ht = function (e, t) { var r = {}; for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && t.indexOf(n) < 0 && (r[n] = e[n]); if (null != e && "function" == typeof Object.getOwnPropertySymbols) { var a = 0; for (n = Object.getOwnPropertySymbols(e); a < n.length; a++)t.indexOf(n[a]) < 0 && Object.prototype.propertyIsEnumerable.call(e, n[a]) && (r[n[a]] = e[n[a]]) } return r }, Gt = v("text-input", [], []); function qt(e) { var t = e.inputRef, r = e.multi, n = Ht(e, ["inputRef", "multi"]); return r ? R.a.createElement("textarea", Vt({ rows: 4 }, n, { className: g(Gt.BASE, n.className), ref: t })) : R.a.createElement("input", Vt({}, n, { className: g(Gt.BASE, n.className), ref: t })) } qt.defaultProps = { className: "", type: "text", multi: !1 }, qt.propTypes = { className: le.a.string, type: le.a.oneOf(["number", "text", "password"]), multi: le.a.bool }; var Kt, zt = qt; !function (e) { e.TOP = "top", e.RIGHT = "right", e.BOTTOM = "bottom", e.LEFT = "left" }(Kt || (Kt = {})), r(50); var Yt = r(8), Wt = (r(52), v("sheet-tip", ["message", "message-icon"], [])), Xt = function (e) { var t = e.message, r = e.onClose, n = e.rounded, a = void 0 !== n && n, o = e.spaced, i = void 0 !== o && o; return R.a.createElement("div", { className: Wt.BASE, style: { margin: i ? "0.5em" : "", borderRadius: a ? "5px" : "" } }, R.a.createElement("div", { className: Wt.Elements.message }, R.a.createElement(ne, { className: Wt.Elements["message-icon"], color: "white", icon: "help-circle-outline" }), t), R.a.createElement(ne, { onClick: r, color: "white", icon: "close" })) }, Jt = (r(53), function (e) { var t = e.children, r = e.className, n = Object(k.useState)(null), a = n[0], o = n[1]; return Object(k.useEffect)(function () { if (!a && document) { var e = document.createElement("div"); return document.body.appendChild(e), o(e), function () { "undefined" != typeof document && document.body.removeChild(e) } } }, []), Object(k.useEffect)(function () { var e; a && (a.className = "", r && (e = a.classList).add.apply(e, r.split(" "))) }, [r, a]), a ? Object(de.createPortal)(t, a) : null }), Zt = function () { return (Zt = Object.assign || function (e) { for (var t, r = 1, n = arguments.length; r < n; r++)for (var a in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a]); return e }).apply(this, arguments) }, Qt = v("generic-tooltip", ["icon", "child-wrapper"], []), $t = function (e) { var t = e.baseClass, r = e.shouldRender, n = e.tipRenderer, a = e.portalKey, o = e.children, i = { onClick: e.onClick, onMouseEnter: e.onMouseEnter, onMouseLeave: e.onMouseLeave, onMouseMove: e.onMouseMove }, c = o ? R.a.createElement("div", { className: Qt.BASE }, R.a.createElement("div", { className: Qt.Elements["child-wrapper"] }, o), R.a.createElement(ne, Zt({ className: Qt.Elements.icon }, i, { color: "white", icon: "help-circle" }))) : R.a.createElement(ne, Zt({}, i, { className: Qt.Elements.icon, color: "white", icon: "help-circle" })); return R.a.createElement("div", { className: t }, r && R.a.createElement(Jt, { className: "tooltip-" + a }, n), c) }, er = v("mobile-tooltip", ["animator-target"], ["portrait"]), tr = function (e) { var t = e.tip, r = e.portalKey, n = e.children, a = z().mobilePortrait, o = Object(k.useState)(!1), i = o[0], c = o[1], s = Object(Yt.useSpring)(function () { return { from: { opacity: 0, transform: "translateY(100%)" }, opacity: 1, transform: "translateY(0%)", immediate: !1 } }), u = s[0], l = s[1], f = (s[2], function () { l({ opacity: 0, transform: "translateY(100%)", onRest: function () { c(!1) } }) }), d = R.a.createElement(Yt.animated.div, { className: g(er.Elements["animator-target"], a ? er.Modifiers.portrait : ""), style: u }, R.a.createElement(Xt, { onClose: f, message: t.message })); return R.a.createElement($t, { baseClass: er.BASE, portalKey: r, shouldRender: i, tipRenderer: d, onClick: function () { (i ? f : function () { c(!0), l({ to: { opacity: 1, transform: "translateY(0%)" }, from: { opacity: 0, transform: "translateY(100%)" }, delay: 200, onRest: function () { } }) })() } }, n) }, rr = (r(54), r(27)), nr = r.n(rr), ar = (r(69), v("tip", [], [])), or = function (e) { var t = e.message; return R.a.createElement("div", { className: ar.BASE }, t) }, ir = function () { return (ir = Object.assign || function (e) { for (var t, r = 1, n = arguments.length; r < n; r++)for (var a in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a]); return e }).apply(this, arguments) }, cr = v("tooltip", ["animator-target"], ["top", "bottom", "left", "right"]), sr = nr()({ refreshMode: "debounce", monitorHeight: !0 })(or), ur = function (e) { var t = e.tip, r = e.orientation, n = e.portalKey, a = e.children, o = Object(k.useState)(!1), i = o[0], c = o[1], s = Object(k.useState)({ width: 0, height: 0 }), u = s[0], l = s[1], f = Object(Yt.useSpring)(function () { return { config: Yt.config.wobbly } }), d = f[0], p = f[1], m = function (e) { var t = e.clientX, n = e.clientY; c(!0), p(gr(r, u, { x: t, y: n })) }, h = { onMouseEnter: m, onMouseLeave: function (e) { var t = e.clientX, n = e.clientY; p(ir(ir({}, vr(gr(r, u, { x: t, y: n }))), { onRest: function () { c(!1) } })) }, onMouseMove: function (e) { m(e) } }, v = R.a.createElement(Yt.animated.div, { className: cr.Elements["animator-target"], style: d }, R.a.createElement(sr, ir({}, t, { onSize: function (e) { l(e) } }))); return R.a.createElement($t, ir({ portalKey: n, shouldRender: i, tipRenderer: v, baseClass: cr.BASE }, h), a) }, lr = function () { return (lr = Object.assign || function (e) { for (var t, r = 1, n = arguments.length; r < n; r++)for (var a in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a]); return e }).apply(this, arguments) }, fr = function (e) { return R.a.createElement(Rt, { desktopRenderer: R.a.createElement(ur, lr({}, e)), mobileRenderer: R.a.createElement(tr, lr({}, e)) }) }, dr = function () { return (dr = Object.assign || function (e) { for (var t, r = 1, n = arguments.length; r < n; r++)for (var a in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a]); return e }).apply(this, arguments) }; function pr(e, t) { return dr(dr({}, e), { opacity: t }) } function mr(e, t) { return { to: pr(t, 1), from: pr(e, 0) } } var hr = function (e, t) { return { transform: "translateX(" + e + "px) translateY(" + t + "px)" } }, vr = function (e) { return { to: e.from, from: e.to } }, gr = function (e, t, r) { var n, a = r.x, o = r.y, i = t.width ? t.width : 0, c = a - i / 2, s = o - (t.height ? t.height : 0) / 2; return ((n = {})[Kt.TOP] = mr(hr(c, o), hr(c, s - 25)), n[Kt.RIGHT] = mr(hr(a, s), hr(a + 10, s)), n[Kt.BOTTOM] = mr(hr(c, o), hr(c, s + 25 + 10)), n[Kt.LEFT] = mr(hr(a, s), hr(a - i - 10, s)), n)[e] }, br = (r(70), function () { return (br = Object.assign || function (e) { for (var t, r = 1, n = arguments.length; r < n; r++)for (var a in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a]); return e }).apply(this, arguments) }), yr = v("popover", [], []), Er = function (e) { var t = e.children, r = e.anchorEl, n = e.onClose, a = e.open; if (!r) return null; var o = Object(k.useRef)(null), i = Object(k.useState)(), c = i[0], s = i[1], u = Object(k.useState)(), l = u[0], f = u[1], d = Object(Yt.useSpring)({ opacity: a ? 1 : 0 }).opacity; return Y(o, function (e) { e.target !== r && a && n() }), Object(k.useEffect)(function () { var e = function () { var e = document.querySelector("body"); e && s(e.getBoundingClientRect()) }; return e(), window.addEventListener("resize", e), function () { return window.removeEventListener("resize", e) } }, []), Object(k.useEffect)(function () { o.current && c && f(function (e, t, r) { e.x, e.width; var n = e.x - r.width, a = e.y + e.height, o = (e.y, r.height, n), i = a; return { left: e.x + r.width > t.width ? e.x - r.width : o, top: e.y + r.height > t.height ? e.y - r.height : i } }(r.getBoundingClientRect(), c, o.current.getBoundingClientRect())) }, [a, r, c, o.current, f]), a ? R.a.createElement(Jt, { className: "wt-popover-portal" }, R.a.createElement(Yt.animated.div, { className: yr.BASE, ref: o, style: br(br({ opacity: d }, l), { zIndex: 1e4, position: "absolute" }) }, t)) : null }, Or = (r(71), v("menu-item", ["icon"], [])), Sr = function (e) { var t = e.onClick, r = e.icon, n = e.svgPath, a = e.label, o = r ? R.a.createElement(ae, { className: Or.Elements.icon, color: "white", icon: r }) : R.a.createElement(ae, { className: Or.Elements.icon, color: "white", svgPath: n }); return R.a.createElement("div", { className: Or.BASE, onClick: t }, o, a) }, wr = (r(72), function () { return (wr = Object.assign || function (e) { for (var t, r = 1, n = arguments.length; r < n; r++)for (var a in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a]); return e }).apply(this, arguments) }), Ar = v("menu", ["list"], []), Cr = function (e) { var t = e.items, r = function (e, t) { var r = {}; for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && t.indexOf(n) < 0 && (r[n] = e[n]); if (null != e && "function" == typeof Object.getOwnPropertySymbols) { var a = 0; for (n = Object.getOwnPropertySymbols(e); a < n.length; a++)t.indexOf(n[a]) < 0 && Object.prototype.propertyIsEnumerable.call(e, n[a]) && (r[n[a]] = e[n[a]]) } return r }(e, ["items"]), n = Object(k.useState)(), a = n[0], o = n[1], i = Object(k.useState)(!1), c = i[0], s = i[1], u = function () { s(!1) }; return R.a.createElement("div", { className: Ar.BASE }, R.a.createElement(ae, wr({ onClick: function (e) { o(e.currentTarget), s(!c) } }, r, { color: "white" })), R.a.createElement(Er, { anchorEl: a, open: c, onClose: u }, R.a.createElement("div", { className: Ar.Elements.list }, t && t.map(function (e, t) { return R.a.createElement(Sr, wr({ key: t }, e, { onClick: function (t) { e.onClick(t), u() } })) })))) }, Tr = (r(73), r(28)), jr = v("overlay", ["container", "backdrop"], ["inline", "closed", "open"]), kr = Number(i(Tr, "animationDuration", "200")), Rr = a(jr.BASE), Nr = function (e, t) { return R.a.createElement(Se, { appear: !0, exit: !0, in: e, classNames: Rr, timeout: kr, unmountOnExit: !0 }, t) }, Lr = function (e) { var t, r = e.children, n = e.backdropClassName, a = e.className, o = e.containerClassName, i = e.hasBackdrop, c = e.isOpen, s = e.onClickBackdrop, u = e.usePortal, l = i ? Nr(c, R.a.createElement("div", { role: "button", className: g(jr.Elements.backdrop, n), onClick: s })) : null, f = Nr(c, R.a.createElement("div", { className: g(jr.Elements.container, o) }, r)), d = g(jr.BASE, ((t = {})[jr.Modifiers.inline] = !u, t[jr.Modifiers.closed] = !c, t[jr.Modifiers.open] = c, t), a); return u ? R.a.createElement(Jt, { className: d }, l, f) : R.a.createElement("div", { className: d }, l, f) }; Lr.propTypes = { children: le.a.node.isRequired, className: le.a.string, hasBackdrop: le.a.bool, isOpen: le.a.bool.isRequired, onClickBackdrop: le.a.func, usePortal: le.a.bool }, Lr.defaultProps = { className: "", hasBackdrop: !0, onClickBackdrop: function () { }, usePortal: !0 }; var _r = Lr, Ir = (r(74), function () { return (Ir = Object.assign || function (e) { for (var t, r = 1, n = arguments.length; r < n; r++)for (var a in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a]); return e }).apply(this, arguments) }), Mr = v("dialog", ["container", "wrapper", "header", "close", "body"], []), xr = a(Mr.Elements.container), Dr = function () { }, Pr = function (e) { var t = e.canCancel, r = e.children, n = e.className, a = e.closeOnClickAway, o = e.hasBackdrop, i = e.isOpen, c = e.onCancel, s = e.title, u = e.showHeader, l = e.bodyClassName, f = function (e, t) { var r = {}; for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && t.indexOf(n) < 0 && (r[n] = e[n]); if (null != e && "function" == typeof Object.getOwnPropertySymbols) { var a = 0; for (n = Object.getOwnPropertySymbols(e); a < n.length; a++)t.indexOf(n[a]) < 0 && Object.prototype.propertyIsEnumerable.call(e, n[a]) && (r[n[a]] = e[n[a]]) } return r }(e, ["canCancel", "children", "className", "closeOnClickAway", "hasBackdrop", "isOpen", "onCancel", "title", "showHeader", "bodyClassName"]), d = Object(k.useCallback)(Object(Je.safelyHandle)(c || Dr), [c]), p = null, m = g(Mr.BASE, n), h = g(Mr.Elements.body, l); return c && t && (p = R.a.createElement(ae, { icon: "close", className: Mr.Elements.close, onClick: d })), R.a.createElement(_r, Ir({}, f, { className: m, containerClassName: Mr.Elements.wrapper, hasBackdrop: o, isOpen: i, onClickBackdrop: o && a && c && t ? d : void 0 }), R.a.createElement(Se, { appear: !0, in: i, classNames: xr, timeout: kr }, R.a.createElement("div", { className: Mr.Elements.container }, u && R.a.createElement("div", { className: Mr.Elements.header }, R.a.createElement("h3", null, s), c ? p : null), R.a.createElement("div", { className: h }, r)))) }; Pr.propTypes = { canCancel: le.a.bool, children: le.a.node.isRequired, closeOnClickAway: le.a.bool, showHeader: le.a.bool, onCancel: le.a.func, title: le.a.string }, Pr.defaultProps = { canCancel: !0, closeOnClickAway: !0, hasBackdrop: !0, title: "", showHeader: !0 }; var Ur = Pr, Br = (r(75), function () { var e = function (t, r) { return (e = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (e, t) { e.__proto__ = t } || function (e, t) { for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]) })(t, r) }; return function (t, r) { function n() { this.constructor = t } e(t, r), t.prototype = null === r ? Object.create(r) : (n.prototype = r.prototype, new n) } }()), Fr = function () { for (var e = 0, t = 0, r = arguments.length; t < r; t++)e += arguments[t].length; var n = Array(e), a = 0; for (t = 0; t < r; t++)for (var o = arguments[t], i = 0, c = o.length; i < c; i++, a++)n[a] = o[i]; return n }, Vr = function (e) { return Array(e).fill(null).map(function (e, t) { return t }) }; function Hr(e, t, r) { var n = Vr(e.count()); if (!r || !t) return n; var a = t.toLowerCase(); return n.filter(function (t) { return r(e.get(t), a, t) }) } function Gr(e, t, r, n) { var a = Fr(t); return n && r ? a.sort(function (t, a) { return n(e.get(t), e.get(a)) * r }) : Fr(t) } var qr, Kr, zr, Yr, Wr = v("list", ["control", "control-wrapper", "header", "title", "sort", "filter", "scroll", "show-all"], []), Xr = v(Wr.Elements.header, [], ["custom", "default"]), Jr = v(Wr.Elements.sort, [], ["none"]), Zr = function (e) { function t(t) { var r = e.call(this, t) || this; return r.state = { filteredIndices: [], filterTerm: "", sortDirection: Je.SortDirection.NONE, sortedFilteredIndices: [] }, r.setFilterTerm = function (e) { var t = r.props, n = t.filter, a = t.items, o = t.sort, i = r.state.sortDirection, c = Hr(a, e, n), s = i ? Gr(a, c, i, o) : Fr(c); r.setState({ filteredIndices: c, filterTerm: e, sortedFilteredIndices: s }) }, r.disableSort = function () { r.setState({ sortDirection: Je.SortDirection.NONE, sortedFilteredIndices: Fr(r.state.filteredIndices) }) }, r.setSortDirection = function (e) { var t = r.props, n = t.items, a = t.sort, o = r.state.filteredIndices; r.setState({ sortDirection: e, sortedFilteredIndices: Gr(n, o, e, a) }) }, r.onFilter = function (e) { var t = e.currentTarget.value; r.setFilterTerm(t) }, r.onSort = function () { var e = r.state.sortDirection === Je.SortDirection.ASC ? Je.SortDirection.DESC : Je.SortDirection.ASC; r.setSortDirection(e) }, r.state.filteredIndices = Hr(t.items, r.state.filterTerm, t.filter), r.state.sortedFilteredIndices = Gr(t.items, r.state.filteredIndices, r.state.sortDirection, t.sort), r } return Br(t, e), t.prototype.shouldComponentUpdate = function (e, t) { return !Object(Je.shallowCompare)(this.props, e) || !Object(Je.shallowCompare)(this.state, t) }, t.prototype.componentDidUpdate = function (e) { var t = {}, r = !1, n = !1; Object(Je.shallowCompare)(e.items, this.props.items) || (n = !0, r = !0), e.filter !== this.props.filter && (n = !0), e.sort !== this.props.sort && (r = !0), n && (t.filteredIndices = Hr(this.props.items, this.state.filterTerm, this.props.filter)), r && (t.sortedFilteredIndices = Gr(this.props.items, t.filteredIndices || this.state.filteredIndices, this.state.sortDirection, this.props.sort)), (r || n) && this.setState(t) }, t.prototype.renderHeader = function () { var e, t = []; if (this.props.sort) { var r = this.state.sortDirection, n = g(Wr.Elements.control, Jr.BASE, ((e = {})[Jr.Modifiers.none] = r === Je.SortDirection.NONE, e)), a = r === Je.SortDirection.DESC ? R.a.createElement(ae, { key: "sort", className: n, icon: "sort-desc" }) : R.a.createElement(ae, { key: "sort", className: n, icon: "sort-asc" }); t.push(a) } if (this.props.filter) { var o = g(Wr.Elements.control, Wr.Elements.filter); t.push(R.a.createElement("input", { key: "filter", className: o, onChange: this.onFilter, placeholder: "Filter...", value: this.state.filterTerm })) } var i = R.a.createElement("div", { className: Wr.Elements["control-wrapper"] }, t), c = R.a.createElement("h2", { className: Wr.Elements.title }, this.props.title); if (this.props.headerRenderer) { var s = { disableSort: this.disableSort, setFilterTerm: this.setFilterTerm, setSortDirection: this.setSortDirection }; return R.a.createElement("div", { className: g(Xr.BASE, Xr.Modifiers.custom) }, this.props.headerRenderer(c, i, s)) } return R.a.createElement("div", { className: g(Xr.BASE, Xr.Modifiers.default) }, c, i) }, t.prototype.formatScrollable = function (e) { return this.props.scrollable ? R.a.createElement("div", { className: Wr.Elements.scroll }, e) : e }, t.prototype.renderItems = function () { var e = { disableSort: this.disableSort, setFilterTerm: this.setFilterTerm, setSortDirection: this.setSortDirection }, t = this.props, r = t.limit, n = t.onShowAll, a = t.showAllText, o = this.state.sortedFilteredIndices.length, i = r && o >= r; i && (o = r); for (var c = [], s = 0, u = 0; u < o; u += 1) { var l = this.state.sortedFilteredIndices[u], f = this.props.items.get(l); f ? c.push(Object(k.cloneElement)(this.props.rowRenderer(f, u - s, e), { key: "ListRow-" + this.state.sortDirection + "-" + l })) : s += 1 } var d = i ? R.a.createElement("em", { role: "presentation", className: Wr.Elements["show-all"], onClick: n }, a) : null; return R.a.createElement(k.Fragment, null, c, d) }, t.prototype.render = function () { var e = this.props.className, t = this.renderItems(), r = this.formatScrollable(t); return R.a.createElement("div", { className: g(Wr.BASE, e) }, this.renderHeader(), r) }, t.propTypes = { className: le.a.string, items: le.a.object.isRequired, filter: le.a.func, headerRenderer: le.a.func, rowRenderer: le.a.func.isRequired, sort: le.a.func, title: le.a.string.isRequired, scrollable: le.a.bool, limit: le.a.number, onShowAll: le.a.func, showAllText: le.a.string }, t.defaultProps = { className: "", headerRenderer: null, scrollable: !1, limit: 0, onShowAll: function () { }, showAllText: "show all" }, t }(k.Component), Qr = (r(76), v("tag", ["remove-button"], ["removable"])), $r = function (e) { var t, r = e.onRemove, n = e.children, a = g(e.className, Qr.BASE, ((t = {})[Qr.Modifiers.removable] = !!r, t)), o = Object(k.useCallback)(function () { return "function" != typeof r ? null : R.a.createElement(ae, { onClick: r, className: Qr.Elements["remove-button"], icon: "close" }) }, [r]); return R.a.createElement("div", { className: a }, n, r && o()) }, en = function (e) { var t = e.value, r = e.onCopySuccess; return window.navigator ? R.a.createElement(ne, { onClick: function () { window.navigator.clipboard.writeText(t), r(t) }, icon: "copy" }) : (console.error("Copy Clipboard failed....window navigator not defined!"), null) }, tn = function () { return (tn = Object.assign || function (e) { for (var t, r = 1, n = arguments.length; r < n; r++)for (var a in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a]); return e }).apply(this, arguments) }; !function (e) { e.TSSCI = "TS//SCI", e.TS = "TS", e.S = "S", e.C = "C", e.U = "U" }(zr || (zr = {})), function (e) { e.PC = "P-C", e.PB = "P-B", e.PA = "P-A" }(Yr || (Yr = {})); var rn = ((qr = {})[zr.TSSCI] = { level: zr.TSSCI, longform: "Top Secret // SCI", color: "#ffff00" }, qr[zr.TS] = { level: zr.TS, longform: "Top Secret", color: "#ff6600)" }, qr[zr.S] = { level: zr.S, longform: "Secret", color: "#ff0000" }, qr[zr.C] = { level: zr.C, longform: "Confidential", color: "#0000ff" }, qr[zr.U] = { level: zr.U, longform: "Unclassified", color: "#008000" }, qr), nn = ((Kr = {})[Yr.PC] = { level: Yr.PC, longform: "Protected C", color: "#460fb5" }, Kr[Yr.PB] = { level: Yr.PB, longform: "Protected B", color: "#910fb5" }, Kr[Yr.PA] = { level: Yr.PC, longform: "Protected A", color: "#2279bc" }, Kr), an = tn(tn(tn({}, rn), nn), { "Unknown Classification": { level: "Unknown Classification", longform: "Unknown Classification", color: "grey" } }), on = function (e) { var t = Object.keys(an).find(function (t) { return e.toLowerCase() === an[t].longform.toLowerCase() }); return t ? an[t].level : "Unknown Classification" }, cn = function (e) { var t = e.level; return R.a.createElement("div", { style: { padding: "0.25em", color: t === zr.TSSCI ? "black" : "white", background: an[t].color, textAlign: "center", textTransform: "uppercase", fontSize: "12px" } }, an[t].longform) } }])) }, , function (e, t, r) { var n, a = r(358), o = r(264), i = r(11), c = r(359), s = r(216), u = r(243), l = r(325), f = r(214), d = r(215), p = r(174), m = r(265); function h(e, t) { var r = Object.keys(e); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); t && (n = n.filter(function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable })), r.push.apply(r, n) } return r } function v(e) { for (var t = 1; t < arguments.length; t++) { var r = null != arguments[t] ? arguments[t] : {}; t % 2 ? h(Object(r), !0).forEach(function (t) { m(e, t, r[t]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : h(Object(r)).forEach(function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t)) }) } return e } function g(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = p(e); if (t) { var a = p(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return d(this, r) } } n = function () { return function (e) { var t = {}; function r(n) { if (t[n]) return t[n].exports; var a = t[n] = { i: n, l: !1, exports: {} }; return e[n].call(a.exports, a, a.exports, r), a.l = !0, a.exports } return r.m = e, r.c = t, r.d = function (e, t, n) { r.o(e, t) || Object.defineProperty(e, t, { enumerable: !0, get: n }) }, r.r = function (e) { "undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e, "__esModule", { value: !0 }) }, r.t = function (e, t) { if (1 & t && (e = r(e)), 8 & t) return e; if (4 & t && "object" === typeof e && e && e.__esModule) return e; var n = Object.create(null); if (r.r(n), Object.defineProperty(n, "default", { enumerable: !0, value: e }), 2 & t && "string" != typeof e) for (var a in e) r.d(n, a, function (t) { return e[t] }.bind(null, a)); return n }, r.n = function (e) { var t = e && e.__esModule ? function () { return e.default } : function () { return e }; return r.d(t, "a", t), t }, r.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, r.p = "", r(r.s = "./src/index.ts") }({ "../../node_modules/coordinator/coordinator.js": function (e, t, r) { !function () { "use strict"; e.exports = r("../../node_modules/coordinator/lib/convert.js") }() }, "../../node_modules/coordinator/lib/constants.js": function (e, t) { !function () { "use strict"; var t, r, n, a, o = Math.PI / 180, i = 180 / Math.PI; t = 6378137, r = .006694380023, a = (1 - Math.sqrt(1 - r)) / (1 + Math.sqrt(1 - r)), n = r / (1 - r), e.exports.DEG_2_RAD = o, e.exports.RAD_2_DEG = i, e.exports.EQUATORIAL_RADIUS = t, e.exports.ECC_SQUARED = r, e.exports.ECC_PRIME_SQUARED = n, e.exports.EASTING_OFFSET = 5e5, e.exports.NORTHING_OFFSET = 1e7, e.exports.GRIDSQUARE_SET_COL_SIZE = 8, e.exports.GRIDSQUARE_SET_ROW_SIZE = 20, e.exports.BLOCK_SIZE = 1e5, e.exports.E1 = a, e.exports.k0 = .9996 }() }, "../../node_modules/coordinator/lib/convert.js": function (e, t, r) { !function () { "use strict"; var t = { latlong: r("../../node_modules/coordinator/lib/latlong.js"), usng: r("../../node_modules/coordinator/lib/usng.js"), utm: r("../../node_modules/coordinator/lib/utm.js"), mgrs: r("../../node_modules/coordinator/lib/mgrs.js") }; e.exports = function (e, r) { if ("string" !== typeof e) throw new Error("Parameter not a string: " + e); if ("string" !== typeof r) throw new Error("Parameter not a string: " + r); if (!t[e]) throw "Converter doesn't exist. Complain on GitHub."; return t[e].getConverter(r) }, e.exports.converters = t }() }, "../../node_modules/coordinator/lib/latlong.js": function (e, t, r) { !function () { "use strict"; var t = r("../../node_modules/coordinator/lib/constants.js"), n = r("../../node_modules/coordinator/lib/latlong/decimalToDegMinSec.js")(t), a = r("../../node_modules/coordinator/lib/latlong/degMinSecToDecimal.js")(t), o = r("../../node_modules/coordinator/lib/latlong/latlongToUtm.js")(t), i = r("../../node_modules/coordinator/lib/latlong/translate.js")(t), c = r("../../node_modules/coordinator/lib/utm.js"); function s(e, t, r, n) { var a; return "string" === typeof r && (r = parseInt(r, 10)), r = r || 5, e = parseFloat(e), t = parseFloat(t), a = o(e, t), c.toUsng(a, r, n) } function u(e, t, r, n) { var a = s(e, t, r, n); return "string" === typeof a ? a.replace(/ /g, "") : a } e.exports.toDecimal = a, e.exports.toDegMinSec = n, e.exports.toUsng = s, e.exports.toUtm = o, e.exports.toMgrs = u, e.exports.getConverter = function (e) { var t; switch (e.toLowerCase()) { case "utm": t = o; break; case "usng": t = s; break; case "mgrs": t = u }return t }, e.exports.translate = i }() }, "../../node_modules/coordinator/lib/latlong/decimalToDegMinSec.js": function (e, t) { !function () { "use strict"; function t(e, t, r, n) { var a, o, i, c, s, u, l, f, d; if ("undefined" === typeof n && (n = r), "string" === typeof n ? n = parseInt(n, 10) : "number" !== typeof n && (n = 2), d = Math.pow(10, n), e = "string" === typeof e ? parseFloat(e) : e, t = "string" === typeof t ? parseFloat(t) : t, e < -90 || e > 90) throw "Latitude out of range: " + e; if (t < -180 || t > 180) throw "Longitude out of range: " + t; return l = e >= 0 ? "N" : "S", f = t >= 0 ? "E" : "W", e = Math.abs(e), t = Math.abs(t), e -= a = Math.floor(e), e -= (o = Math.floor(60 * e)) / 60, i = Math.round(3600 * e * d) / d, t -= c = Math.floor(t), t -= (s = Math.floor(60 * t)) / 60, u = Math.round(3600 * t * d) / d, "object" === r ? { latitude: { degrees: a, minutes: o, seconds: i, direction: l }, longitude: { degrees: c, minutes: s, seconds: u, direction: f } } : { latitude: a + "\xb0" + o + "'" + i + '"' + l, longitude: c + "\xb0" + s + "'" + u + '"' + f } } e.exports = function () { return t } }() }, "../../node_modules/coordinator/lib/latlong/degMinSecToDecimal.js": function (e, t, r) { !function () { "use strict"; var t = r("../../node_modules/coordinator/lib/latlong/helpers.js"); function n(e, r) { var n, a, o, i = /[NSEW\-]/, c = {}; if (n = t.dmsToDecimal(e), a = t.dmsToDecimal(r), n < -90 || n > 90) throw "Latitude out of bounds: " + n; if (a < -180 || a > 180) throw "Longitude out of bounds: " + a; return "S" !== (o = e.match(i))[0] && "-" !== o[0] || (n *= -1), c.latitude = n, "W" !== (o = r.match(i))[0] && "-" !== o[0] || (a *= -1), c.longitude = a, c } e.exports = function (e) { return t = t(e), n } }() }, "../../node_modules/coordinator/lib/latlong/helpers.js": function (e, t) { !function () { "use strict"; var t = {}; function r(e, r, n) { var a, o, i, c; for (e = parseInt(e, 10), r = parseFloat(r), n = parseFloat(n), i = 1, a = Math.round(r); a >= t.BLOCK_SIZE;)a -= t.BLOCK_SIZE, i += 1; for (i %= t.GRIDSQUARE_SET_ROW_SIZE, c = 0, o = Math.round(n); o >= t.BLOCK_SIZE;)o -= t.BLOCK_SIZE, c += 1; return c %= t.GRIDSQUARE_SET_COL_SIZE, function (e, r, n) { var a, o; switch (0 === r ? r = t.GRIDSQUARE_SET_ROW_SIZE - 1 : r -= 1, 0 === n ? n = t.GRIDSQUARE_SET_COL_SIZE - 1 : n -= 1, e) { case 1: a = "ABCDEFGH", o = "ABCDEFGHJKLMNPQRSTUV"; break; case 2: a = "JKLMNPQR", o = "FGHJKLMNPQRSTUVABCDE"; break; case 3: a = "STUVWXYZ", o = "ABCDEFGHJKLMNPQRSTUV"; break; case 4: a = "ABCDEFGH", o = "FGHJKLMNPQRSTUVABCDE"; break; case 5: a = "JKLMNPQR", o = "ABCDEFGHJKLMNPQRSTUV"; break; case 6: a = "STUVWXYZ", o = "FGHJKLMNPQRSTUVABCDE"; break; default: throw "Unrecognized set passed to lettersHelper" }return a.charAt(n) + o.charAt(r) }(function (e) { var t; switch (e = parseInt(e, 10), e %= 6) { case 0: t = 6; break; case 1: t = 1; break; case 2: t = 2; break; case 3: t = 3; break; case 4: t = 4; break; case 5: t = 5; break; default: t = -1 }return t }(e), i, c) } function n(e) { return 84 >= (e = parseFloat(e)) && e >= 72 ? "X" : 72 > e && e >= 64 ? "W" : 64 > e && e >= 56 ? "V" : 56 > e && e >= 48 ? "U" : 48 > e && e >= 40 ? "T" : 40 > e && e >= 32 ? "S" : 32 > e && e >= 24 ? "R" : 24 > e && e >= 16 ? "Q" : 16 > e && e >= 8 ? "P" : 8 > e && e >= 0 ? "N" : 0 > e && e >= -8 ? "M" : -8 > e && e >= -16 ? "L" : -16 > e && e >= -24 ? "K" : -24 > e && e >= -32 ? "J" : -32 > e && e >= -40 ? "H" : -40 > e && e >= -48 ? "G" : -48 > e && e >= -56 ? "F" : -56 > e && e >= -64 ? "E" : -64 > e && e >= -72 ? "D" : -72 > e && e >= -80 ? "C" : "Z" } function a(e) { var t = {}; if ("object" !== typeof e || !e.degrees || !e.minutes || !e.seconds) return !1; "string" === typeof e.degrees ? t.degrees = parseInt(e.degrees, 10) : t.degrees = e.degrees, e.direction && ("S" === e.direction || "W" === e.direction ? t.degrees *= -Math.abs(t.degrees) : t.degrees *= Math.abs(t.degrees)), "string" === typeof e.minutes ? t.minutes = Math.abs(parseInt(e.minutes, 10)) : t.minutes = Math.abs(e.minutes), "string" === typeof e.seconds ? t.seconds = Math.abs(parseInt(e.seconds, 10)) : t.seconds = Math.abs(e.seconds) } function o(e) { var t, r, n = {}; if ("object" === typeof e) n = a(e); else { if (!/^[NSEW\-]?\d{1,3}[\xb0 ]\d{1,2}[' ]\d{1,2}(\.\d{1,3})?[" ][NSEW]?$/.test(e)) throw "Angle not formatted correctly: " + e; t = e.match(/-?\d+(\.\d+)?/g), n.degrees = parseInt(t[0], 10), n.minutes = parseInt(t[1], 10), n.seconds = parseFloat(t[2]) } return t = String(n.minutes / 60 + n.seconds / 3600), r = n.degrees + "." + t.substring(t.indexOf(".") + 1), parseFloat(r) } function i(e, t) { var r; if (e = parseFloat(e), (t = parseFloat(t)) > 360 || t < -180 || e > 90 || e < -90) throw "Bad input. lat: " + e + " lon: " + t; return r = parseInt((t + 180) / 6, 10) + 1, e >= 56 && e < 64 && t >= 3 && t < 12 && (r = 32), e >= 72 && e < 84 && (t >= 0 && t < 9 ? r = 31 : t >= 9 && t < 21 ? r = 33 : t >= 21 && t < 33 ? r = 35 : t >= 33 && t < 42 && (r = 37)), r } e.exports = function (e) { return t = e, { dmsVerify: a, dmsToDecimal: o, getZoneNumber: i, utmLetterDesignator: n, findGridLetters: r } } }() }, "../../node_modules/coordinator/lib/latlong/latlongToUtm.js": function (e, t, r) { !function () { "use strict"; var t = {}, n = r("../../node_modules/coordinator/lib/latlong/helpers.js"); function a(e, r, a) { var o, i, c, s, u, l, f, d, p, m, h, v = {}; if (e = parseFloat(e), r = parseFloat(r), e > 84 || e < -80) return "undefined"; if (r > 180 || r < -180 || e > 90 || e < -90) throw "Bad input. lat: " + e + " lon: " + r; return i = e * t.DEG_2_RAD, c = r * t.DEG_2_RAD, s = (6 * ((o = a || n.getZoneNumber(e, r)) - 1) - 180 + 3) * t.DEG_2_RAD, f = t.EQUATORIAL_RADIUS / Math.sqrt(1 - t.ECC_SQUARED * Math.pow(Math.sin(i), 2)), d = Math.pow(Math.tan(i), 2), p = t.ECC_PRIME_SQUARED * Math.pow(Math.cos(i), 2), m = Math.cos(i) * (c - s), h = t.EQUATORIAL_RADIUS * ((1 - t.ECC_SQUARED / 4 - t.ECC_SQUARED * t.ECC_SQUARED * 3 / 64 - t.ECC_SQUARED * t.ECC_SQUARED * t.ECC_SQUARED * 5 / 256) * i - (3 * t.ECC_SQUARED / 8 + 3 * t.ECC_SQUARED * t.ECC_SQUARED / 32 + 45 * t.ECC_SQUARED * t.ECC_SQUARED * t.ECC_SQUARED / 1024) * Math.sin(2 * i) + (15 * t.ECC_SQUARED * t.ECC_SQUARED / 256 + 45 * t.ECC_SQUARED * t.ECC_SQUARED * t.ECC_SQUARED / 1024) * Math.sin(4 * i) - 35 * t.ECC_SQUARED * t.ECC_SQUARED * t.ECC_SQUARED / 3072 * Math.sin(6 * i)), u = t.k0 * f * (m + (1 - d + p) * (m * m * m) / 6 + (5 - 18 * d + d * d + 72 * p - 58 * t.ECC_PRIME_SQUARED) * (m * m * m * m * m) / 120) + t.EASTING_OFFSET, (l = t.k0 * (h + f * Math.tan(i) * (m * m / 2 + m * m * m * m * (5 - d + 9 * p + 4 * p * p) / 2 + (61 - 58 * d + d * d + 600 * p - 330 * t.ECC_PRIME_SQUARED) * (m * m * m * m * m * m) / 720))) < 0 && (l += 1e7), v.easting = Math.round(u), v.northing = Math.round(l), v.zoneNumber = o, v.zoneLetter = n.utmLetterDesignator(e), v.hemisphere = e < 0 ? "S" : "N", v } e.exports = function (e) { return t = e, n = n(e), a } }() }, "../../node_modules/coordinator/lib/latlong/translate.js": function (e, t) { !function () { "use strict"; var t = {}; function r(e, r, n, a) { var o, i, c, s = 6371; return e *= t.DEG_2_RAD, r *= t.DEG_2_RAD, a *= t.DEG_2_RAD, o = Math.asin(Math.sin(e) * Math.cos(n / s) + Math.cos(e) * Math.sin(n / s) * Math.cos(a)), i = ((i = r + Math.atan2(Math.sin(a) * Math.sin(n / s) * Math.cos(e), Math.cos(n / s) - Math.sin(e) * Math.sin(o))) + 3 * Math.PI) % (2 * Math.PI) - Math.PI, c = { latitude: o * t.RAD_2_DEG, longitude: i * t.RAD_2_DEG }, isNaN(c.latitude) || isNaN(c.longitude) ? null : c } e.exports = function (e) { return t = e, r } }() }, "../../node_modules/coordinator/lib/mgrs.js": function (e, t, r) { !function () { "use strict"; var t = r("../../node_modules/coordinator/lib/constants.js"), n = r("../../node_modules/coordinator/lib/mgrs/mgrsToUtm.js")(t), a = r("../../node_modules/coordinator/lib/usng.js"); e.exports.getConverter = function (e) { var t; switch (e.toLowerCase()) { case "latlong": t = a.toLatLong; break; case "utm": t = a.toUtm }return t }, e.exports.toLatLong = a.toLatLong, e.exports.toUtm = n }() }, "../../node_modules/coordinator/lib/mgrs/mgrsToUtm.js": function (e, t) { !function () { "use strict"; var t = "WE", r = "CC", n = "CD", a = "BR", o = "BN", i = { C: { min_northing: 11e5, north: -72, south: -80.5 }, D: { min_northing: 2e6, north: -64, south: -72 }, E: { min_northing: 28e5, north: -56, south: -64 }, F: { min_northing: 37e5, north: -48, south: -56 }, G: { min_northing: 46e5, north: -40, south: -48 }, H: { min_northing: 55e5, north: -32, south: -40 }, J: { min_northing: 64e5, north: -24, south: -32 }, K: { min_northing: 73e5, north: -16, south: -24 }, L: { min_northing: 82e5, north: -8, south: -16 }, M: { min_northing: 91e5, north: 0, south: -8 }, N: { min_northing: 0, north: 8, south: 0 }, P: { min_northing: 8e5, north: 16, south: 8 }, Q: { min_northing: 17e5, north: 24, south: 16 }, R: { min_northing: 26e5, north: 32, south: 24 }, S: { min_northing: 35e5, north: 40, south: 32 }, T: { min_northing: 44e5, north: 48, south: 40 }, U: { min_northing: 53e5, north: 56, south: 48 }, V: { min_northing: 62e5, north: 64, south: 56 }, W: { min_northing: 7e6, north: 72, south: 64 }, X: { min_northing: 79e5, north: 84.5, south: 72 } }; function c(e) { var c, s, u, l, f, d, p, m, h, v, g, b, y = []; if ("object" !== typeof (m = function (e) { var t, r, n, a, o = {}; if (o.Zone = parseInt(e.match(/(\d+)/g)[0], 10), o.Zone < 1 || o.Zone > 60) throw "MGRS formatting wrong"; if (!(t = e.match(/[a-zA-Z]{3}/)[0])) throw "MGRS formatting error"; if (o.Letters = t, o.Letters.indexOf("I") >= 0 || o.Letters.indexOf("O") >= 0) throw "MGRS formatting wrong"; if (!((t = e.match(/\d+$/)[0]).length <= 10 && t.length % 2 === 0)) throw "MGRS formatting wrong"; return o.Precision = t.length / 2, o.Precision > 0 ? (r = parseInt(t.substring(0, t.length / 2), 10), n = parseInt(t.substring(t.length / 2), 10), a = Math.pow(10, 5 - o.Precision), o.Easting = r * a, o.Northing = n * a) : (o.Easting = 0, o.Northing = 0), o }(e))) throw "MGRS not formatted correctly"; if (y = m.Letters, v = m.Zone, g = m.Easting, b = m.Northing, m.in_precision, !v) throw "Zone not readable"; if ("string" !== typeof y) throw "Invalid MGRS string: no letters"; if ("X" === y.charAt(0) && (32 === v || 34 === v || 36 === v)) throw "Malformed MGRS"; if (h = y.charAt(0) < "N" ? "S" : "N", m = function (e) { var i, c, s; return 1 === (i = e % 6 || 6) || 4 === i ? (c = "A", s = "H") : 2 === i || 5 === i ? (c = "J", s = "R") : 3 !== i && 6 !== i || (c = "S", s = "Z"), { ltr2_low_value: c, ltr2_high_value: s, false_northing: t !== r && t !== n && t !== a && t !== o ? i % 2 === 0 ? 15e5 : 0 : i % 2 === 0 ? 5e5 : 1e6 } }(v), u = m.ltr2_low_value, l = m.ltr2_high_value, f = m.false_northing, y.charAt(1) < u || y.charAt(1) > l || y.charAt(2) > "V") throw "Malformed"; for (p = 1e5 * parseFloat(y.charCodeAt(2) - "A".charCodeAt(0)) + f, d = 1e5 * parseFloat(y.charCodeAt(1) - u.charCodeAt(0) + 1), "J" === u && y.charAt(1) > "O" && (d -= 1e5), y.charAt(2) > "O" && (p -= 1e5), y.charAt(2) > "I" && (p -= 1e5), p >= 2e6 && (p -= 2e6), c = s = function (e) { var t; if (e >= "C" && e <= "H") t = i[e].min_northing; else if (e >= "J" && e <= "N") t = i[e].min_northing; else { if (!(e >= "P" && e <= "X")) throw "MGRS not formatted correctly"; t = i[e].min_northing } return t }(y[0]); c >= 2e6;)c -= 2e6; return (p -= c) < 0 && (p += 2e6), { Zone: v, Hemisphere: h, Easting: g = d + g, Northing: b = (p = s + p) + b } } e.exports = function () { return c } }() }, "../../node_modules/coordinator/lib/usng.js": function (e, t, r) { !function () { "use strict"; var t = r("../../node_modules/coordinator/lib/constants.js"), n = r("../../node_modules/coordinator/lib/usng/usngToUtm.js")(t), a = r("../../node_modules/coordinator/lib/usng/parseUsng.js")(t), o = r("../../node_modules/coordinator/lib/usng/isUsng.js")(t), i = r("../../node_modules/coordinator/lib/utm.js"); function c(e) { var t = a(e); return n(t) } function s(e) { var r, n; return r = a(e), n = c(e), r.zoneLetter < "N" && (n.northing -= t.NORTHING_OFFSET), i.toLatLong(n.northing, n.easting, r.zoneNumber) } e.exports.toUtm = c, e.exports.toLatLong = s, e.exports.isUsng = o, e.exports.getConverter = function (e) { var t; switch (e.toLowerCase()) { case "utm": t = c; break; case "latlong": t = s }return t }, e.exports.parseUsng = a }() }, "../../node_modules/coordinator/lib/usng/isUsng.js": function (e, t) { !function () { "use strict"; function t(e) { var t, r = []; if ((r = (r = (r = e.toUpperCase()).replace(/%20/g, "")).replace(/ /g, "")).length > 15) return !1; if (t = /^[0-9]{2}[CDEFGHJKLMNPQRSTUVWX]$/, r.match(t)) throw "Input appears to be a UTM zone, but more precision is required to display an accurate result: " + r; if (t = /^[0-9]{2}[CDEFGHJKLMNPQRSTUVWX][ABCDEFGHJKLMNPQRSTUVWXYZ][ABCDEFGHJKLMNPQRSTUV]([0-9][0-9]){0,5}/, !r.match(t)) return !1; if (r.length < 7) throw "Format looks right, but precision should be to least 10,000 meters: " + r; return r } e.exports = function () { return t } }() }, "../../node_modules/coordinator/lib/usng/parseUsng.js": function (e, t) { !function () { "use strict"; function t(e) { var t, r = 0, n = [], a = {}; if ("string" !== typeof e) throw "Input to parseUsng must be a USNG string."; if ((n = e.toUpperCase().replace(/%20/g, "").replace(/ /g, "")).length < 7) throw "This application requires minimum USNG precision of 10,000 meters"; for (a.zoneNumber = n.match(/^\d{1,2}/)[0], r += a.zoneNumber.length, a.zoneNumber = parseInt(a.zoneNumber, 10), a.zoneLetter = n.charAt(r), r += 1, a.sq1 = n.charAt(r), r += 1, a.sq2 = n.charAt(r), r += 1, a.precision = (n.length - r) / 2, a.east = "", a.north = "", t = 0; t < a.precision; t += 1)a.east += n.charAt(r), r += 1; for (" " === n[r] && (r += 1), t = 0; t < a.precision; t += 1)a.north += n.charAt(r), r += 1; return a } e.exports = function () { return t } }() }, "../../node_modules/coordinator/lib/usng/usngToUtm.js": function (e, t) { !function () { "use strict"; function t(e) { var t, r, n, a, o, i, c = {}; return t = [1.1, 2, 2.8, 3.7, 4.6, 5.5, 6.4, 7.3, 8.2, 9.1, 0, .8, 1.7, 2.6, 3.5, 4.4, 5.3, 6.2, 7, 7.9], r = [0, 2, 2, 2, 4, 4, 6, 6, 8, 8, 0, 0, 0, 2, 2, 4, 4, 6, 6, 6], n = 1 + "ABCDEFGHJKLMNPQRSTUVWXYZ".indexOf(e.sq1) % 8, o = "CDEFGHJKLMNPQRSTUVWX".indexOf(e.zoneLetter), i = e.zoneNumber % 2 ? "ABCDEFGHJKLMNPQRSTUV".indexOf(e.sq2) : "FGHJKLMNPQRSTUVABCDE".indexOf(e.sq2), (a = r[o] + i / 10) < t[o] && (a += 2), c.northing = 1e6 * a + e.north * Math.pow(10, 5 - String(e.north).length), c.easting = 1e5 * n + e.east * Math.pow(10, 5 - String(e.east).length), c.zoneNumber = e.zoneNumber, c.zoneLetter = e.zoneLetter, c } e.exports = function () { return t } }() }, "../../node_modules/coordinator/lib/utm.js": function (e, t, r) { !function () { "use strict"; var t = r("../../node_modules/coordinator/lib/constants.js"), n = r("../../node_modules/coordinator/lib/utm/utmToLatLong.js")(t), a = r("../../node_modules/coordinator/lib/utm/utmToUsng.js")(t); e.exports.toLatLong = n, e.exports.toUsng = a, e.exports.getConverter = function (e) { var t; switch (e.toLowerCase()) { case "latlong": t = n; break; case "usng": t = a }return t } }() }, "../../node_modules/coordinator/lib/utm/help.js": function (e, t) { !function () { "use strict"; var t = {}; function r(e, r, n) { var a, o, i, c; for (e = parseInt(e, 10), r = parseFloat(r), n = parseFloat(n), i = 1, a = Math.round(r); a >= t.BLOCK_SIZE;)a -= t.BLOCK_SIZE, i += 1; for (i %= t.GRIDSQUARE_SET_ROW_SIZE, c = 0, o = Math.round(n); o >= t.BLOCK_SIZE;)o -= t.BLOCK_SIZE, c += 1; return c %= t.GRIDSQUARE_SET_COL_SIZE, function (e, r, n) { var a, o; switch (0 === r ? r = t.GRIDSQUARE_SET_ROW_SIZE - 1 : r -= 1, 0 === n ? n = t.GRIDSQUARE_SET_COL_SIZE - 1 : n -= 1, e) { case 1: a = "ABCDEFGH", o = "ABCDEFGHJKLMNPQRSTUV"; break; case 2: a = "JKLMNPQR", o = "FGHJKLMNPQRSTUVABCDE"; break; case 3: a = "STUVWXYZ", o = "ABCDEFGHJKLMNPQRSTUV"; break; case 4: a = "ABCDEFGH", o = "FGHJKLMNPQRSTUVABCDE"; break; case 5: a = "JKLMNPQR", o = "ABCDEFGHJKLMNPQRSTUV"; break; case 6: a = "STUVWXYZ", o = "FGHJKLMNPQRSTUVABCDE"; break; default: throw "Invalid set passed to lettersHelper" }return a.charAt(n) + o.charAt(r) }(function (e) { var t; switch (e = parseInt(e, 10), e %= 6) { case 0: t = 6; break; case 1: t = 1; break; case 2: t = 2; break; case 3: t = 3; break; case 4: t = 4; break; case 5: t = 5; break; default: t = -1 }return t }(e), i, c) } e.exports = function (e) { return t = e, { findGridLetters: r } } }() }, "../../node_modules/coordinator/lib/utm/utmToLatLong.js": function (e, t) { !function () { "use strict"; var t = {}; function r(e, r, n) { var a, o, i, c, s, u, l, f, d, p, m, h, v = {}; return a = parseFloat(r) - t.EASTING_OFFSET, o = parseFloat(e), i = 6 * (parseInt(n, 10) - 1) - 180 + 3, (s = (c = o / t.k0 / (t.EQUATORIAL_RADIUS * (1 - t.ECC_SQUARED / 4 - 3 * t.ECC_SQUARED * t.ECC_SQUARED / 64 - 5 * t.ECC_SQUARED * t.ECC_SQUARED * t.ECC_SQUARED / 256))) + (3 * t.E1 / 2 - 27 * t.E1 * t.E1 * t.E1 / 32) * Math.sin(2 * c) + (21 * t.E1 * t.E1 / 16 - 55 * t.E1 * t.E1 * t.E1 * t.E1 / 32) * Math.sin(4 * c) + 151 * t.E1 * t.E1 * t.E1 / 96 * Math.sin(6 * c)) * t.RAD_2_DEG, u = t.EQUATORIAL_RADIUS / Math.sqrt(1 - t.ECC_SQUARED * Math.sin(s) * Math.sin(s)), l = Math.tan(s) * Math.tan(s), f = t.ECC_PRIME_SQUARED * Math.cos(s) * Math.cos(s), d = t.EQUATORIAL_RADIUS * (1 - t.ECC_SQUARED) / Math.pow(1 - t.ECC_SQUARED * Math.sin(s) * Math.sin(s), 1.5), p = a / (u * t.k0), m = s - u * Math.tan(s) / d * (p * p / 2 - (5 + 3 * l + 10 * f - 4 * f * f - 9 * t.ECC_PRIME_SQUARED) * p * p * p * p / 24 + (61 + 90 * l + 298 * f + 45 * l * l - 252 * t.ECC_PRIME_SQUARED - 3 * f * f) * p * p * p * p * p * p / 720), m *= t.RAD_2_DEG, h = i + (h = (p - (1 + 2 * l + f) * p * p * p / 6 + (5 - 2 * f + 28 * l - 3 * f * f + 8 * t.ECC_PRIME_SQUARED + 24 * l * l) * p * p * p * p * p / 120) / Math.cos(s)) * t.RAD_2_DEG, v.latitude = m, v.longitude = h, v } e.exports = function (e) { return t = e, r } }() }, "../../node_modules/coordinator/lib/utm/utmToUsng.js": function (e, t, r) { !function () { "use strict"; var t = r("../../node_modules/coordinator/lib/utm/help.js"), n = {}; function a(e, r, a) { var o, i, c, s, u, l; for ("string" === typeof r && (r = parseInt(r, 10)), r = r || 5, o = e.easting, i = e.northing, "S" === e.hemisphere && (i += n.NORTHING_OFFSET), c = t.findGridLetters(e.zoneNumber, i, o), s = Math.round(i) % n.BLOCK_SIZE, u = Math.round(o) % n.BLOCK_SIZE, s = Math.floor(s / Math.pow(10, 5 - r)), u = Math.floor(u / Math.pow(10, 5 - r)), l = String(u).length; l < r; l += 1)u = "0" + u; for (l = String(s).length; l < r; l += 1)s = "0" + s; return "string" === typeof a && "object" === a ? { zone: e.zoneNumber + e.zoneLetter, square: c, easting: u, northing: s } : e.zoneNumber + e.zoneLetter + " " + c + " " + u + " " + s } e.exports = function (e) { return n = e, t = t(e), a } }() }, "../../node_modules/fast-xml-parser/src/json2xml.js": function (e, t, r) { "use strict"; var n = r("../../node_modules/fast-xml-parser/src/util.js").buildOptions, a = { attributeNamePrefix: "@_", attrNodeName: !1, textNodeName: "#text", ignoreAttributes: !0, cdataTagName: !1, cdataPositionChar: "\\c", format: !1, indentBy: "  ", supressEmptyNode: !1, tagValueProcessor: function (e) { return e }, attrValueProcessor: function (e) { return e } }, o = ["attributeNamePrefix", "attrNodeName", "textNodeName", "ignoreAttributes", "cdataTagName", "cdataPositionChar", "format", "indentBy", "supressEmptyNode", "tagValueProcessor", "attrValueProcessor", "rootNodeName"]; function i(e) { this.options = n(e, a, o), this.options.ignoreAttributes || this.options.attrNodeName ? this.isAttribute = function () { return !1 } : (this.attrPrefixLen = this.options.attributeNamePrefix.length, this.isAttribute = v), this.options.cdataTagName ? this.isCDATA = g : this.isCDATA = function () { return !1 }, this.replaceCDATAstr = s, this.replaceCDATAarr = u, this.processTextOrObjNode = c, this.options.format ? (this.indentate = h, this.tagEndChar = ">\n", this.newLine = "\n") : (this.indentate = function () { return "" }, this.tagEndChar = ">", this.newLine = ""), this.options.supressEmptyNode ? (this.buildTextNode = p, this.buildObjNode = f) : (this.buildTextNode = d, this.buildObjNode = l), this.buildTextValNode = d, this.buildObjectNode = l } function c(e, t, r) { var n = this.j2x(e, r + 1); return void 0 !== e[this.options.textNodeName] && 1 === Object.keys(e).length ? this.buildTextNode(n.val, t, n.attrStr, r) : this.buildObjNode(n.val, t, n.attrStr, r) } function s(e, t) { return e = this.options.tagValueProcessor("" + e), "" === this.options.cdataPositionChar || "" === e ? e + "<![CDATA[" + t + "]]" + this.tagEndChar : e.replace(this.options.cdataPositionChar, "<![CDATA[" + t + "]]" + this.tagEndChar) } function u(e, t) { if (e = this.options.tagValueProcessor("" + e), "" === this.options.cdataPositionChar || "" === e) return e + "<![CDATA[" + t.join("]]><![CDATA[") + "]]" + this.tagEndChar; for (var r in t) e = e.replace(this.options.cdataPositionChar, "<![CDATA[" + t[r] + "]]>"); return e + this.newLine } function l(e, t, r, n) { return r && -1 === e.indexOf("<") ? this.indentate(n) + "<" + t + r + ">" + e + "</" + t + this.tagEndChar : this.indentate(n) + "<" + t + r + this.tagEndChar + e + this.indentate(n) + "</" + t + this.tagEndChar } function f(e, t, r, n) { return "" !== e ? this.buildObjectNode(e, t, r, n) : this.indentate(n) + "<" + t + r + "/" + this.tagEndChar } function d(e, t, r, n) { return this.indentate(n) + "<" + t + r + ">" + this.options.tagValueProcessor(e) + "</" + t + this.tagEndChar } function p(e, t, r, n) { return "" !== e ? this.buildTextValNode(e, t, r, n) : this.indentate(n) + "<" + t + r + "/" + this.tagEndChar } function h(e) { return this.options.indentBy.repeat(e) } function v(e) { return !!e.startsWith(this.options.attributeNamePrefix) && e.substr(this.attrPrefixLen) } function g(e) { return e === this.options.cdataTagName } i.prototype.parse = function (e) { return Array.isArray(e) && this.options.rootNodeName && this.options.rootNodeName.length > 1 && (e = m({}, this.options.rootNodeName, e)), this.j2x(e, 0).val }, i.prototype.j2x = function (e, t) { var r = "", n = ""; for (var a in e) if ("undefined" === typeof e[a]); else if (null === e[a]) n += this.indentate(t) + "<" + a + "/" + this.tagEndChar; else if (e[a] instanceof Date) n += this.buildTextNode(e[a], a, "", t); else if ("object" !== typeof e[a]) { var o = this.isAttribute(a); o ? r += " " + o + '="' + this.options.attrValueProcessor("" + e[a]) + '"' : this.isCDATA(a) ? e[this.options.textNodeName] ? n += this.replaceCDATAstr(e[this.options.textNodeName], e[a]) : n += this.replaceCDATAstr("", e[a]) : a === this.options.textNodeName ? e[this.options.cdataTagName] || (n += this.options.tagValueProcessor("" + e[a])) : n += this.buildTextNode(e[a], a, "", t) } else if (Array.isArray(e[a])) if (this.isCDATA(a)) n += this.indentate(t), e[this.options.textNodeName] ? n += this.replaceCDATAarr(e[this.options.textNodeName], e[a]) : n += this.replaceCDATAarr("", e[a]); else for (var i = e[a].length, c = 0; c < i; c++) { var s = e[a][c]; "undefined" === typeof s || (n += null === s ? this.indentate(t) + "<" + a + "/" + this.tagEndChar : "object" === typeof s ? this.processTextOrObjNode(s, a, t) : this.buildTextNode(s, a, "", t)) } else if (this.options.attrNodeName && a === this.options.attrNodeName) for (var u = Object.keys(e[a]), l = u.length, f = 0; f < l; f++)r += " " + u[f] + '="' + this.options.attrValueProcessor("" + e[a][u[f]]) + '"'; else n += this.processTextOrObjNode(e[a], a, t); return { attrStr: r, val: n } }, e.exports = i }, "../../node_modules/fast-xml-parser/src/nimndata.js": function (e, t, r) { "use strict"; var n = function (e) { return String.fromCharCode(e) }, a = { nilChar: n(176), missingChar: n(201), nilPremitive: n(175), missingPremitive: n(200), emptyChar: n(178), emptyValue: n(177), boundryChar: n(179), objStart: n(198), arrStart: n(204), arrayEnd: n(185) }, o = [a.nilChar, a.nilPremitive, a.missingChar, a.missingPremitive, a.boundryChar, a.emptyChar, a.emptyValue, a.arrayEnd, a.objStart, a.arrStart], i = function e(t, r, n) { if ("string" === typeof r) return t && t[0] && void 0 !== t[0].val ? c(t[0].val, r) : c(t, r); var o, i = void 0 === (o = t) ? a.missingChar : null === o ? a.nilChar : !(o.child && 0 === Object.keys(o.child).length && (!o.attrsMap || 0 === Object.keys(o.attrsMap).length)) || a.emptyChar; if (!0 === i) { var u = ""; if (Array.isArray(r)) { u += a.arrStart; var l = r[0], f = t.length; if ("string" === typeof l) for (var d = 0; d < f; d++) { var p = c(t[d].val, l); u = s(u, p) } else for (var m = 0; m < f; m++) { var h = e(t[m], l, n); u = s(u, h) } u += a.arrayEnd } else { u += a.objStart; var v = Object.keys(r); for (var g in Array.isArray(t) && (t = t[0]), v) { var b = v[g], y = void 0; y = !n.ignoreAttributes && t.attrsMap && t.attrsMap[b] ? e(t.attrsMap[b], r[b], n) : b === n.textNodeName ? e(t.val, r[b], n) : e(t.child[b], r[b], n), u = s(u, y) } } return u } return i }, c = function (e) { switch (e) { case void 0: return a.missingPremitive; case null: return a.nilPremitive; case "": return a.emptyValue; default: return e } }, s = function (e, t) { return u(t[0]) || u(e[e.length - 1]) || (e += a.boundryChar), e + t }, u = function (e) { return -1 !== o.indexOf(e) }; var l = r("../../node_modules/fast-xml-parser/src/xmlstr2xmlnode.js"), f = r("../../node_modules/fast-xml-parser/src/util.js").buildOptions; t.convert2nimn = function (e, t, r) { return r = f(r, l.defaultOptions, l.props), i(e, t, r) } }, "../../node_modules/fast-xml-parser/src/node2json.js": function (e, t, r) { "use strict"; var n = r("../../node_modules/fast-xml-parser/src/util.js"); t.convertToJson = function e(t, r, a) { var o = {}; if (!r.alwaysCreateTextNode && (!t.child || n.isEmptyObject(t.child)) && (!t.attrsMap || n.isEmptyObject(t.attrsMap))) return n.isExist(t.val) ? t.val : ""; if (n.isExist(t.val) && ("string" !== typeof t.val || "" !== t.val && t.val !== r.cdataPositionChar)) { var i = n.isTagNameInArrayMode(t.tagname, r.arrayMode, a); o[r.textNodeName] = i ? [t.val] : t.val } n.merge(o, t.attrsMap, r.arrayMode); for (var c = Object.keys(t.child), s = 0; s < c.length; s++) { var u = c[s]; if (t.child[u] && t.child[u].length > 1) for (var l in o[u] = [], t.child[u]) t.child[u].hasOwnProperty(l) && o[u].push(e(t.child[u][l], r, u)); else { var f = e(t.child[u][0], r, u), d = !0 === r.arrayMode && "object" === typeof f || n.isTagNameInArrayMode(u, r.arrayMode, a); o[u] = d ? [f] : f } } return o } }, "../../node_modules/fast-xml-parser/src/node2json_str.js": function (e, t, r) { "use strict"; var n = r("../../node_modules/fast-xml-parser/src/util.js"), a = r("../../node_modules/fast-xml-parser/src/util.js").buildOptions, o = r("../../node_modules/fast-xml-parser/src/xmlstr2xmlnode.js"), i = function e(t, r, a) { for (var o, i = "{", c = Object.keys(t.child), s = 0; s < c.length; s++) { var u = c[s]; if (t.child[u] && t.child[u].length > 1) { for (var l in i += '"' + u + '" : [ ', t.child[u]) i += e(t.child[u][l], r) + " , "; i = i.substr(0, i.length - 1) + " ] " } else i += '"' + u + '" : ' + e(t.child[u][0], r) + " ," } return n.merge(i, t.attrsMap), n.isEmptyObject(i) ? n.isExist(t.val) ? t.val : "" : (n.isExist(t.val) && ("string" !== typeof t.val || "" !== t.val && t.val !== r.cdataPositionChar) && (i += '"' + r.textNodeName + '" : ' + (!0 !== (o = t.val) && !1 !== o && isNaN(o) ? '"' + o + '"' : o)), "," === i[i.length - 1] && (i = i.substr(0, i.length - 2)), i + "}") }; t.convertToJsonString = function (e, t) { return (t = a(t, o.defaultOptions, o.props)).indentBy = t.indentBy || "", i(e, t, 0) } }, "../../node_modules/fast-xml-parser/src/parser.js": function (e, t, r) { "use strict"; var n = r("../../node_modules/fast-xml-parser/src/node2json.js"), a = r("../../node_modules/fast-xml-parser/src/xmlstr2xmlnode.js"), o = r("../../node_modules/fast-xml-parser/src/xmlstr2xmlnode.js"), i = r("../../node_modules/fast-xml-parser/src/util.js").buildOptions, c = r("../../node_modules/fast-xml-parser/src/validator.js"); t.parse = function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r = arguments.length > 2 ? arguments[2] : void 0; if (r) { !0 === r && (r = {}); var s = c.validate(e, r); if (!0 !== s) throw Error(s.err.msg) } t.parseTrueNumberOnly && !1 !== t.parseNodeValue && !t.numParseOptions && (t.numParseOptions = { leadingZeros: !1 }); var u = i(t, o.defaultOptions, o.props), l = a.getTraversalObj(e, u); return n.convertToJson(l, u) }, t.convertTonimn = r("../../node_modules/fast-xml-parser/src/nimndata.js").convert2nimn, t.getTraversalObj = a.getTraversalObj, t.convertToJson = n.convertToJson, t.convertToJsonString = r("../../node_modules/fast-xml-parser/src/node2json_str.js").convertToJsonString, t.validate = c.validate, t.j2xParser = r("../../node_modules/fast-xml-parser/src/json2xml.js"), t.parseToNimn = function (e, r, n) { return t.convertTonimn(t.getTraversalObj(e, n), r, n) } }, "../../node_modules/fast-xml-parser/src/util.js": function (e, t, r) { "use strict"; var n = ":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD", a = "[" + n + "][:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*", o = new RegExp("^" + a + "$"); t.isExist = function (e) { return "undefined" !== typeof e }, t.isEmptyObject = function (e) { return 0 === Object.keys(e).length }, t.merge = function (e, t, r) { if (t) for (var n = Object.keys(t), a = n.length, o = 0; o < a; o++)e[n[o]] = "strict" === r ? [t[n[o]]] : t[n[o]] }, t.getValue = function (e) { return t.isExist(e) ? e : "" }, t.buildOptions = function (e, t, r) { var n = {}; if (!e) return t; for (var a = 0; a < r.length; a++)void 0 !== e[r[a]] ? n[r[a]] = e[r[a]] : n[r[a]] = t[r[a]]; return n }, t.isTagNameInArrayMode = function (e, t, r) { return !1 !== t && (t instanceof RegExp ? t.test(e) : "function" === typeof t ? !!t(e, r) : "strict" === t) }, t.isName = function (e) { var t = o.exec(e); return !(null === t || "undefined" === typeof t) }, t.getAllMatches = function (e, t) { for (var r = [], n = t.exec(e); n;) { var a = []; a.startIndex = t.lastIndex - n[0].length; for (var o = n.length, i = 0; i < o; i++)a.push(n[i]); r.push(a), n = t.exec(e) } return r }, t.nameRegexp = a }, "../../node_modules/fast-xml-parser/src/validator.js": function (e, t, r) { "use strict"; var n = r("../../node_modules/fast-xml-parser/src/util.js"), a = { allowBooleanAttributes: !1 }, o = ["allowBooleanAttributes"]; function i(e, t) { for (var r = t; t < e.length; t++)if ("?" != e[t] && " " != e[t]); else { var n = e.substr(r, t - r); if (t > 5 && "xml" === n) return m("InvalidXml", "XML declaration allowed only at the start of the document.", v(e, t)); if ("?" == e[t] && ">" == e[t + 1]) { t++; break } } return t } function c(e, t) { if (e.length > t + 5 && "-" === e[t + 1] && "-" === e[t + 2]) { for (t += 3; t < e.length; t++)if ("-" === e[t] && "-" === e[t + 1] && ">" === e[t + 2]) { t += 2; break } } else if (e.length > t + 8 && "D" === e[t + 1] && "O" === e[t + 2] && "C" === e[t + 3] && "T" === e[t + 4] && "Y" === e[t + 5] && "P" === e[t + 6] && "E" === e[t + 7]) { var r = 1; for (t += 8; t < e.length; t++)if ("<" === e[t]) r++; else if (">" === e[t] && 0 === --r) break } else if (e.length > t + 9 && "[" === e[t + 1] && "C" === e[t + 2] && "D" === e[t + 3] && "A" === e[t + 4] && "T" === e[t + 5] && "A" === e[t + 6] && "[" === e[t + 7]) for (t += 8; t < e.length; t++)if ("]" === e[t] && "]" === e[t + 1] && ">" === e[t + 2]) { t += 2; break } return t } t.validate = function (e, t) { t = n.buildOptions(t, a, o); var r, s = [], u = !1, f = !1; "\ufeff" === e[0] && (e = e.substr(1)); for (var h = 0; h < e.length; h++)if ("<" === e[h] && "?" === e[h + 1]) { if ((h = i(e, h += 2)).err) return h } else { if ("<" !== e[h]) { if (" " === e[h] || "\t" === e[h] || "\n" === e[h] || "\r" === e[h]) continue; return m("InvalidChar", "char '" + e[h] + "' is not expected.", v(e, h)) } var g = h; if ("!" === e[++h]) { h = c(e, h); continue } var b = !1; "/" === e[h] && (b = !0, h++); for (var y = ""; h < e.length && ">" !== e[h] && " " !== e[h] && "\t" !== e[h] && "\n" !== e[h] && "\r" !== e[h]; h++)y += e[h]; if ("/" === (y = y.trim())[y.length - 1] && (y = y.substring(0, y.length - 1), h--), r = y, !n.isName(r)) { return m("InvalidTag", 0 === y.trim().length ? "Invalid space after '<'." : "Tag '" + y + "' is an invalid name.", v(e, h)) } var E = l(e, h); if (!1 === E) return m("InvalidAttr", "Attributes for '" + y + "' have open quote.", v(e, h)); var O = E.value; if (h = E.index, "/" === O[O.length - 1]) { var S = h - O.length, w = d(O = O.substring(0, O.length - 1), t); if (!0 !== w) return m(w.err.code, w.err.msg, v(e, S + w.err.line)); u = !0 } else if (b) { if (!E.tagClosed) return m("InvalidTag", "Closing tag '" + y + "' doesn't have proper closing.", v(e, h)); if (O.trim().length > 0) return m("InvalidTag", "Closing tag '" + y + "' can't have attributes or invalid starting.", v(e, g)); var A = s.pop(); if (y !== A.tagName) { var C = v(e, A.tagStartPos); return m("InvalidTag", "Expected closing tag '" + A.tagName + "' (opened in line " + C.line + ", col " + C.col + ") instead of closing tag '" + y + "'.", v(e, g)) } 0 == s.length && (f = !0) } else { var T = d(O, t); if (!0 !== T) return m(T.err.code, T.err.msg, v(e, h - O.length + T.err.line)); if (!0 === f) return m("InvalidXml", "Multiple possible root nodes found.", v(e, h)); s.push({ tagName: y, tagStartPos: g }), u = !0 } for (h++; h < e.length; h++)if ("<" === e[h]) { if ("!" === e[h + 1]) { h = c(e, ++h); continue } if ("?" !== e[h + 1]) break; if ((h = i(e, ++h)).err) return h } else if ("&" === e[h]) { var j = p(e, h); if (-1 == j) return m("InvalidChar", "char '&' is not expected.", v(e, h)); h = j } "<" === e[h] && h-- } return u ? 1 == s.length ? m("InvalidTag", "Unclosed tag '" + s[0].tagName + "'.", v(e, s[0].tagStartPos)) : !(s.length > 0) || m("InvalidXml", "Invalid '" + JSON.stringify(s.map(function (e) { return e.tagName }), null, 4).replace(/\r?\n/g, "") + "' found.", { line: 1, col: 1 }) : m("InvalidXml", "Start tag expected.", 1) }; var s = '"', u = "'"; function l(e, t) { for (var r = "", n = "", a = !1; t < e.length; t++) { if (e[t] === s || e[t] === u) "" === n ? n = e[t] : n !== e[t] || (n = ""); else if (">" === e[t] && "" === n) { a = !0; break } r += e[t] } return "" === n && { value: r, index: t, tagClosed: a } } var f = new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?", "g"); function d(e, t) { for (var r = n.getAllMatches(e, f), a = {}, o = 0; o < r.length; o++) { if (0 === r[o][1].length) return m("InvalidAttr", "Attribute '" + r[o][2] + "' has no space in starting.", g(r[o])); if (void 0 === r[o][3] && !t.allowBooleanAttributes) return m("InvalidAttr", "boolean attribute '" + r[o][2] + "' is not allowed.", g(r[o])); var i = r[o][2]; if (!h(i)) return m("InvalidAttr", "Attribute '" + i + "' is an invalid name.", g(r[o])); if (a.hasOwnProperty(i)) return m("InvalidAttr", "Attribute '" + i + "' is repeated.", g(r[o])); a[i] = 1 } return !0 } function p(e, t) { if (";" === e[++t]) return -1; if ("#" === e[t]) return function (e, t) { var r = /\d/; for ("x" === e[t] && (t++, r = /[\da-fA-F]/); t < e.length; t++) { if (";" === e[t]) return t; if (!e[t].match(r)) break } return -1 }(e, ++t); for (var r = 0; t < e.length; t++, r++)if (!(e[t].match(/\w/) && r < 20)) { if (";" === e[t]) break; return -1 } return t } function m(e, t, r) { return { err: { code: e, msg: t, line: r.line || r, col: r.col } } } function h(e) { return n.isName(e) } function v(e, t) { var r = e.substring(0, t).split(/\r?\n/); return { line: r.length, col: r[r.length - 1].length + 1 } } function g(e) { return e.startIndex + e[1].length } }, "../../node_modules/fast-xml-parser/src/xmlNode.js": function (e, t, r) { "use strict"; e.exports = function (e, t, r) { this.tagname = e, this.parent = t, this.child = {}, this.attrsMap = {}, this.val = r, this.addChild = function (e) { Array.isArray(this.child[e.tagname]) ? this.child[e.tagname].push(e) : this.child[e.tagname] = [e] } } }, "../../node_modules/fast-xml-parser/src/xmlstr2xmlnode.js": function (e, t, r) { "use strict"; var n = r("../../node_modules/fast-xml-parser/src/util.js"), a = r("../../node_modules/fast-xml-parser/src/util.js").buildOptions, o = r("../../node_modules/fast-xml-parser/src/xmlNode.js"), i = r("../../node_modules/strnum/strnum.js"); "<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g, n.nameRegexp); !Number.parseInt && window.parseInt && (Number.parseInt = window.parseInt), !Number.parseFloat && window.parseFloat && (Number.parseFloat = window.parseFloat); var c = { attributeNamePrefix: "@_", attrNodeName: !1, textNodeName: "#text", ignoreAttributes: !0, ignoreNameSpace: !1, allowBooleanAttributes: !1, parseNodeValue: !0, parseAttributeValue: !1, arrayMode: !1, trimValues: !0, cdataTagName: !1, cdataPositionChar: "\\c", numParseOptions: { hex: !0, leadingZeros: !0 }, tagValueProcessor: function (e, t) { return e }, attrValueProcessor: function (e, t) { return e }, stopNodes: [], alwaysCreateTextNode: !1 }; t.defaultOptions = c; var s = ["attributeNamePrefix", "attrNodeName", "textNodeName", "ignoreAttributes", "ignoreNameSpace", "allowBooleanAttributes", "parseNodeValue", "parseAttributeValue", "arrayMode", "trimValues", "cdataTagName", "cdataPositionChar", "tagValueProcessor", "attrValueProcessor", "parseTrueNumberOnly", "numParseOptions", "stopNodes", "alwaysCreateTextNode"]; function u(e, t, r) { return t && (r.trimValues && (t = t.trim()), t = f(t = r.tagValueProcessor(t, e), r.parseNodeValue, r.numParseOptions)), t } function l(e, t) { if (t.ignoreNameSpace) { var r = e.split(":"), n = "/" === e.charAt(0) ? "/" : ""; if ("xmlns" === r[0]) return ""; 2 === r.length && (e = n + r[1]) } return e } function f(e, t, r) { if (t && "string" === typeof e) { var a = e.trim(); return "true" === a || "false" !== a && i(e, r) } return n.isExist(e) ? e : "" } t.props = s; var d = new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])(.*?)\\3)?", "g"); function p(e, t) { if (!t.ignoreAttributes && "string" === typeof e) { e = e.replace(/\r?\n/g, " "); for (var r = n.getAllMatches(e, d), a = r.length, o = {}, i = 0; i < a; i++) { var c = l(r[i][1], t); c.length && (void 0 !== r[i][4] ? (t.trimValues && (r[i][4] = r[i][4].trim()), r[i][4] = t.attrValueProcessor(r[i][4], c), o[t.attributeNamePrefix + c] = f(r[i][4], t.parseAttributeValue, t.numParseOptions)) : t.allowBooleanAttributes && (o[t.attributeNamePrefix + c] = !0)) } if (!Object.keys(o).length) return; if (t.attrNodeName) { var s = {}; return s[t.attrNodeName] = o, s } return o } } function m(e, t) { for (var r, n = "", a = t; a < e.length; a++) { var o = e[a]; if (r) o === r && (r = ""); else if ('"' === o || "'" === o) r = o; else { if (">" === o) return { data: n, index: a }; "\t" === o && (o = " ") } n += o } } function h(e, t, r, n) { var a = e.indexOf(t, r); if (-1 === a) throw new Error(n); return a + t.length - 1 } t.getTraversalObj = function (e, t) { e = e.replace(/\r\n?/g, "\n"), t = a(t, c, s); for (var r = new o("!xml"), i = r, l = "", f = 0; f < e.length; f++)if ("<" === e[f]) if ("/" === e[f + 1]) { var d = h(e, ">", f, "Closing Tag is not closed."), v = e.substring(f + 2, d).trim(); if (t.ignoreNameSpace) { var g = v.indexOf(":"); -1 !== g && (v = v.substr(g + 1)) } i && (i.val ? i.val = n.getValue(i.val) + "" + u(v, l, t) : i.val = u(v, l, t)), t.stopNodes.length && t.stopNodes.includes(i.tagname) && (i.child = [], void 0 == i.attrsMap && (i.attrsMap = {}), i.val = e.substr(i.startIndex + 1, f - i.startIndex - 1)), i = i.parent, l = "", f = d } else if ("?" === e[f + 1]) f = h(e, "?>", f, "Pi Tag is not closed."); else if ("!--" === e.substr(f + 1, 3)) f = h(e, "--\x3e", f, "Comment is not closed."); else if ("!D" === e.substr(f + 1, 2)) { var b = h(e, ">", f, "DOCTYPE is not closed."); f = e.substring(f, b).indexOf("[") >= 0 ? e.indexOf("]>", f) + 1 : b } else if ("![" === e.substr(f + 1, 2)) { var y = h(e, "]]>", f, "CDATA is not closed.") - 2, E = e.substring(f + 9, y); if (l && (i.val = n.getValue(i.val) + "" + u(i.tagname, l, t), l = ""), t.cdataTagName) { var O = new o(t.cdataTagName, i, E); i.addChild(O), i.val = n.getValue(i.val) + t.cdataPositionChar, E && (O.val = E) } else i.val = (i.val || "") + (E || ""); f = y + 2 } else { var S = m(e, f + 1), w = S.data, A = S.index, C = w.indexOf(" "), T = w, j = !0; if (-1 !== C && (T = w.substr(0, C).replace(/\s\s*$/, ""), w = w.substr(C + 1)), t.ignoreNameSpace) { var k = T.indexOf(":"); -1 !== k && (j = (T = T.substr(k + 1)) !== S.data.substr(k + 1)) } if (i && l && "!xml" !== i.tagname && (i.val = n.getValue(i.val) + "" + u(i.tagname, l, t)), w.length > 0 && w.lastIndexOf("/") === w.length - 1) { w = "/" === T[T.length - 1] ? T = T.substr(0, T.length - 1) : w.substr(0, w.length - 1); var R = new o(T, i, ""); T !== w && (R.attrsMap = p(w, t)), i.addChild(R) } else { var N = new o(T, i); t.stopNodes.length && t.stopNodes.includes(N.tagname) && (N.startIndex = A), T !== w && j && (N.attrsMap = p(w, t)), i.addChild(N), i = N } l = "", f = A } else l += e[f]; return r } }, "../../node_modules/he/he.js": function (e, t, r) { (function (e, n) { var a; !function (o) { var i = t, c = (e && e.exports, "object" == typeof n && n); c.global !== c && c.window; var s = /[\uD800-\uDBFF][\uDC00-\uDFFF]/g, u = /[\x01-\x7F]/g, l = /[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g, f = /<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g, d = { "\xad": "shy", "\u200c": "zwnj", "\u200d": "zwj", "\u200e": "lrm", "\u2063": "ic", "\u2062": "it", "\u2061": "af", "\u200f": "rlm", "\u200b": "ZeroWidthSpace", "\u2060": "NoBreak", "\u0311": "DownBreve", "\u20db": "tdot", "\u20dc": "DotDot", "\t": "Tab", "\n": "NewLine", "\u2008": "puncsp", "\u205f": "MediumSpace", "\u2009": "thinsp", "\u200a": "hairsp", "\u2004": "emsp13", "\u2002": "ensp", "\u2005": "emsp14", "\u2003": "emsp", "\u2007": "numsp", "\xa0": "nbsp", "\u205f\u200a": "ThickSpace", "\u203e": "oline", _: "lowbar", "\u2010": "dash", "\u2013": "ndash", "\u2014": "mdash", "\u2015": "horbar", ",": "comma", ";": "semi", "\u204f": "bsemi", ":": "colon", "\u2a74": "Colone", "!": "excl", "\xa1": "iexcl", "?": "quest", "\xbf": "iquest", ".": "period", "\u2025": "nldr", "\u2026": "mldr", "\xb7": "middot", "'": "apos", "\u2018": "lsquo", "\u2019": "rsquo", "\u201a": "sbquo", "\u2039": "lsaquo", "\u203a": "rsaquo", '"': "quot", "\u201c": "ldquo", "\u201d": "rdquo", "\u201e": "bdquo", "\xab": "laquo", "\xbb": "raquo", "(": "lpar", ")": "rpar", "[": "lsqb", "]": "rsqb", "{": "lcub", "}": "rcub", "\u2308": "lceil", "\u2309": "rceil", "\u230a": "lfloor", "\u230b": "rfloor", "\u2985": "lopar", "\u2986": "ropar", "\u298b": "lbrke", "\u298c": "rbrke", "\u298d": "lbrkslu", "\u298e": "rbrksld", "\u298f": "lbrksld", "\u2990": "rbrkslu", "\u2991": "langd", "\u2992": "rangd", "\u2993": "lparlt", "\u2994": "rpargt", "\u2995": "gtlPar", "\u2996": "ltrPar", "\u27e6": "lobrk", "\u27e7": "robrk", "\u27e8": "lang", "\u27e9": "rang", "\u27ea": "Lang", "\u27eb": "Rang", "\u27ec": "loang", "\u27ed": "roang", "\u2772": "lbbrk", "\u2773": "rbbrk", "\u2016": "Vert", "\xa7": "sect", "\xb6": "para", "@": "commat", "*": "ast", "/": "sol", undefined: null, "&": "amp", "#": "num", "%": "percnt", "\u2030": "permil", "\u2031": "pertenk", "\u2020": "dagger", "\u2021": "Dagger", "\u2022": "bull", "\u2043": "hybull", "\u2032": "prime", "\u2033": "Prime", "\u2034": "tprime", "\u2057": "qprime", "\u2035": "bprime", "\u2041": "caret", "`": "grave", "\xb4": "acute", "\u02dc": "tilde", "^": "Hat", "\xaf": "macr", "\u02d8": "breve", "\u02d9": "dot", "\xa8": "die", "\u02da": "ring", "\u02dd": "dblac", "\xb8": "cedil", "\u02db": "ogon", "\u02c6": "circ", "\u02c7": "caron", "\xb0": "deg", "\xa9": "copy", "\xae": "reg", "\u2117": "copysr", "\u2118": "wp", "\u211e": "rx", "\u2127": "mho", "\u2129": "iiota", "\u2190": "larr", "\u219a": "nlarr", "\u2192": "rarr", "\u219b": "nrarr", "\u2191": "uarr", "\u2193": "darr", "\u2194": "harr", "\u21ae": "nharr", "\u2195": "varr", "\u2196": "nwarr", "\u2197": "nearr", "\u2198": "searr", "\u2199": "swarr", "\u219d": "rarrw", "\u219d\u0338": "nrarrw", "\u219e": "Larr", "\u219f": "Uarr", "\u21a0": "Rarr", "\u21a1": "Darr", "\u21a2": "larrtl", "\u21a3": "rarrtl", "\u21a4": "mapstoleft", "\u21a5": "mapstoup", "\u21a6": "map", "\u21a7": "mapstodown", "\u21a9": "larrhk", "\u21aa": "rarrhk", "\u21ab": "larrlp", "\u21ac": "rarrlp", "\u21ad": "harrw", "\u21b0": "lsh", "\u21b1": "rsh", "\u21b2": "ldsh", "\u21b3": "rdsh", "\u21b5": "crarr", "\u21b6": "cularr", "\u21b7": "curarr", "\u21ba": "olarr", "\u21bb": "orarr", "\u21bc": "lharu", "\u21bd": "lhard", "\u21be": "uharr", "\u21bf": "uharl", "\u21c0": "rharu", "\u21c1": "rhard", "\u21c2": "dharr", "\u21c3": "dharl", "\u21c4": "rlarr", "\u21c5": "udarr", "\u21c6": "lrarr", "\u21c7": "llarr", "\u21c8": "uuarr", "\u21c9": "rrarr", "\u21ca": "ddarr", "\u21cb": "lrhar", "\u21cc": "rlhar", "\u21d0": "lArr", "\u21cd": "nlArr", "\u21d1": "uArr", "\u21d2": "rArr", "\u21cf": "nrArr", "\u21d3": "dArr", "\u21d4": "iff", "\u21ce": "nhArr", "\u21d5": "vArr", "\u21d6": "nwArr", "\u21d7": "neArr", "\u21d8": "seArr", "\u21d9": "swArr", "\u21da": "lAarr", "\u21db": "rAarr", "\u21dd": "zigrarr", "\u21e4": "larrb", "\u21e5": "rarrb", "\u21f5": "duarr", "\u21fd": "loarr", "\u21fe": "roarr", "\u21ff": "hoarr", "\u2200": "forall", "\u2201": "comp", "\u2202": "part", "\u2202\u0338": "npart", "\u2203": "exist", "\u2204": "nexist", "\u2205": "empty", "\u2207": "Del", "\u2208": "in", "\u2209": "notin", "\u220b": "ni", "\u220c": "notni", "\u03f6": "bepsi", "\u220f": "prod", "\u2210": "coprod", "\u2211": "sum", "+": "plus", "\xb1": "pm", "\xf7": "div", "\xd7": "times", "<": "lt", "\u226e": "nlt", "<\u20d2": "nvlt", "=": "equals", "\u2260": "ne", "=\u20e5": "bne", "\u2a75": "Equal", ">": "gt", "\u226f": "ngt", ">\u20d2": "nvgt", "\xac": "not", "|": "vert", "\xa6": "brvbar", "\u2212": "minus", "\u2213": "mp", "\u2214": "plusdo", "\u2044": "frasl", "\u2216": "setmn", "\u2217": "lowast", "\u2218": "compfn", "\u221a": "Sqrt", "\u221d": "prop", "\u221e": "infin", "\u221f": "angrt", "\u2220": "ang", "\u2220\u20d2": "nang", "\u2221": "angmsd", "\u2222": "angsph", "\u2223": "mid", "\u2224": "nmid", "\u2225": "par", "\u2226": "npar", "\u2227": "and", "\u2228": "or", "\u2229": "cap", "\u2229\ufe00": "caps", "\u222a": "cup", "\u222a\ufe00": "cups", "\u222b": "int", "\u222c": "Int", "\u222d": "tint", "\u2a0c": "qint", "\u222e": "oint", "\u222f": "Conint", "\u2230": "Cconint", "\u2231": "cwint", "\u2232": "cwconint", "\u2233": "awconint", "\u2234": "there4", "\u2235": "becaus", "\u2236": "ratio", "\u2237": "Colon", "\u2238": "minusd", "\u223a": "mDDot", "\u223b": "homtht", "\u223c": "sim", "\u2241": "nsim", "\u223c\u20d2": "nvsim", "\u223d": "bsim", "\u223d\u0331": "race", "\u223e": "ac", "\u223e\u0333": "acE", "\u223f": "acd", "\u2240": "wr", "\u2242": "esim", "\u2242\u0338": "nesim", "\u2243": "sime", "\u2244": "nsime", "\u2245": "cong", "\u2247": "ncong", "\u2246": "simne", "\u2248": "ap", "\u2249": "nap", "\u224a": "ape", "\u224b": "apid", "\u224b\u0338": "napid", "\u224c": "bcong", "\u224d": "CupCap", "\u226d": "NotCupCap", "\u224d\u20d2": "nvap", "\u224e": "bump", "\u224e\u0338": "nbump", "\u224f": "bumpe", "\u224f\u0338": "nbumpe", "\u2250": "doteq", "\u2250\u0338": "nedot", "\u2251": "eDot", "\u2252": "efDot", "\u2253": "erDot", "\u2254": "colone", "\u2255": "ecolon", "\u2256": "ecir", "\u2257": "cire", "\u2259": "wedgeq", "\u225a": "veeeq", "\u225c": "trie", "\u225f": "equest", "\u2261": "equiv", "\u2262": "nequiv", "\u2261\u20e5": "bnequiv", "\u2264": "le", "\u2270": "nle", "\u2264\u20d2": "nvle", "\u2265": "ge", "\u2271": "nge", "\u2265\u20d2": "nvge", "\u2266": "lE", "\u2266\u0338": "nlE", "\u2267": "gE", "\u2267\u0338": "ngE", "\u2268\ufe00": "lvnE", "\u2268": "lnE", "\u2269": "gnE", "\u2269\ufe00": "gvnE", "\u226a": "ll", "\u226a\u0338": "nLtv", "\u226a\u20d2": "nLt", "\u226b": "gg", "\u226b\u0338": "nGtv", "\u226b\u20d2": "nGt", "\u226c": "twixt", "\u2272": "lsim", "\u2274": "nlsim", "\u2273": "gsim", "\u2275": "ngsim", "\u2276": "lg", "\u2278": "ntlg", "\u2277": "gl", "\u2279": "ntgl", "\u227a": "pr", "\u2280": "npr", "\u227b": "sc", "\u2281": "nsc", "\u227c": "prcue", "\u22e0": "nprcue", "\u227d": "sccue", "\u22e1": "nsccue", "\u227e": "prsim", "\u227f": "scsim", "\u227f\u0338": "NotSucceedsTilde", "\u2282": "sub", "\u2284": "nsub", "\u2282\u20d2": "vnsub", "\u2283": "sup", "\u2285": "nsup", "\u2283\u20d2": "vnsup", "\u2286": "sube", "\u2288": "nsube", "\u2287": "supe", "\u2289": "nsupe", "\u228a\ufe00": "vsubne", "\u228a": "subne", "\u228b\ufe00": "vsupne", "\u228b": "supne", "\u228d": "cupdot", "\u228e": "uplus", "\u228f": "sqsub", "\u228f\u0338": "NotSquareSubset", "\u2290": "sqsup", "\u2290\u0338": "NotSquareSuperset", "\u2291": "sqsube", "\u22e2": "nsqsube", "\u2292": "sqsupe", "\u22e3": "nsqsupe", "\u2293": "sqcap", "\u2293\ufe00": "sqcaps", "\u2294": "sqcup", "\u2294\ufe00": "sqcups", "\u2295": "oplus", "\u2296": "ominus", "\u2297": "otimes", "\u2298": "osol", "\u2299": "odot", "\u229a": "ocir", "\u229b": "oast", "\u229d": "odash", "\u229e": "plusb", "\u229f": "minusb", "\u22a0": "timesb", "\u22a1": "sdotb", "\u22a2": "vdash", "\u22ac": "nvdash", "\u22a3": "dashv", "\u22a4": "top", "\u22a5": "bot", "\u22a7": "models", "\u22a8": "vDash", "\u22ad": "nvDash", "\u22a9": "Vdash", "\u22ae": "nVdash", "\u22aa": "Vvdash", "\u22ab": "VDash", "\u22af": "nVDash", "\u22b0": "prurel", "\u22b2": "vltri", "\u22ea": "nltri", "\u22b3": "vrtri", "\u22eb": "nrtri", "\u22b4": "ltrie", "\u22ec": "nltrie", "\u22b4\u20d2": "nvltrie", "\u22b5": "rtrie", "\u22ed": "nrtrie", "\u22b5\u20d2": "nvrtrie", "\u22b6": "origof", "\u22b7": "imof", "\u22b8": "mumap", "\u22b9": "hercon", "\u22ba": "intcal", "\u22bb": "veebar", "\u22bd": "barvee", "\u22be": "angrtvb", "\u22bf": "lrtri", "\u22c0": "Wedge", "\u22c1": "Vee", "\u22c2": "xcap", "\u22c3": "xcup", "\u22c4": "diam", "\u22c5": "sdot", "\u22c6": "Star", "\u22c7": "divonx", "\u22c8": "bowtie", "\u22c9": "ltimes", "\u22ca": "rtimes", "\u22cb": "lthree", "\u22cc": "rthree", "\u22cd": "bsime", "\u22ce": "cuvee", "\u22cf": "cuwed", "\u22d0": "Sub", "\u22d1": "Sup", "\u22d2": "Cap", "\u22d3": "Cup", "\u22d4": "fork", "\u22d5": "epar", "\u22d6": "ltdot", "\u22d7": "gtdot", "\u22d8": "Ll", "\u22d8\u0338": "nLl", "\u22d9": "Gg", "\u22d9\u0338": "nGg", "\u22da\ufe00": "lesg", "\u22da": "leg", "\u22db": "gel", "\u22db\ufe00": "gesl", "\u22de": "cuepr", "\u22df": "cuesc", "\u22e6": "lnsim", "\u22e7": "gnsim", "\u22e8": "prnsim", "\u22e9": "scnsim", "\u22ee": "vellip", "\u22ef": "ctdot", "\u22f0": "utdot", "\u22f1": "dtdot", "\u22f2": "disin", "\u22f3": "isinsv", "\u22f4": "isins", "\u22f5": "isindot", "\u22f5\u0338": "notindot", "\u22f6": "notinvc", "\u22f7": "notinvb", "\u22f9": "isinE", "\u22f9\u0338": "notinE", "\u22fa": "nisd", "\u22fb": "xnis", "\u22fc": "nis", "\u22fd": "notnivc", "\u22fe": "notnivb", "\u2305": "barwed", "\u2306": "Barwed", "\u230c": "drcrop", "\u230d": "dlcrop", "\u230e": "urcrop", "\u230f": "ulcrop", "\u2310": "bnot", "\u2312": "profline", "\u2313": "profsurf", "\u2315": "telrec", "\u2316": "target", "\u231c": "ulcorn", "\u231d": "urcorn", "\u231e": "dlcorn", "\u231f": "drcorn", "\u2322": "frown", "\u2323": "smile", "\u232d": "cylcty", "\u232e": "profalar", "\u2336": "topbot", "\u233d": "ovbar", "\u233f": "solbar", "\u237c": "angzarr", "\u23b0": "lmoust", "\u23b1": "rmoust", "\u23b4": "tbrk", "\u23b5": "bbrk", "\u23b6": "bbrktbrk", "\u23dc": "OverParenthesis", "\u23dd": "UnderParenthesis", "\u23de": "OverBrace", "\u23df": "UnderBrace", "\u23e2": "trpezium", "\u23e7": "elinters", "\u2423": "blank", "\u2500": "boxh", "\u2502": "boxv", "\u250c": "boxdr", "\u2510": "boxdl", "\u2514": "boxur", "\u2518": "boxul", "\u251c": "boxvr", "\u2524": "boxvl", "\u252c": "boxhd", "\u2534": "boxhu", "\u253c": "boxvh", "\u2550": "boxH", "\u2551": "boxV", "\u2552": "boxdR", "\u2553": "boxDr", "\u2554": "boxDR", "\u2555": "boxdL", "\u2556": "boxDl", "\u2557": "boxDL", "\u2558": "boxuR", "\u2559": "boxUr", "\u255a": "boxUR", "\u255b": "boxuL", "\u255c": "boxUl", "\u255d": "boxUL", "\u255e": "boxvR", "\u255f": "boxVr", "\u2560": "boxVR", "\u2561": "boxvL", "\u2562": "boxVl", "\u2563": "boxVL", "\u2564": "boxHd", "\u2565": "boxhD", "\u2566": "boxHD", "\u2567": "boxHu", "\u2568": "boxhU", "\u2569": "boxHU", "\u256a": "boxvH", "\u256b": "boxVh", "\u256c": "boxVH", "\u2580": "uhblk", "\u2584": "lhblk", "\u2588": "block", "\u2591": "blk14", "\u2592": "blk12", "\u2593": "blk34", "\u25a1": "squ", "\u25aa": "squf", "\u25ab": "EmptyVerySmallSquare", "\u25ad": "rect", "\u25ae": "marker", "\u25b1": "fltns", "\u25b3": "xutri", "\u25b4": "utrif", "\u25b5": "utri", "\u25b8": "rtrif", "\u25b9": "rtri", "\u25bd": "xdtri", "\u25be": "dtrif", "\u25bf": "dtri", "\u25c2": "ltrif", "\u25c3": "ltri", "\u25ca": "loz", "\u25cb": "cir", "\u25ec": "tridot", "\u25ef": "xcirc", "\u25f8": "ultri", "\u25f9": "urtri", "\u25fa": "lltri", "\u25fb": "EmptySmallSquare", "\u25fc": "FilledSmallSquare", "\u2605": "starf", "\u2606": "star", "\u260e": "phone", "\u2640": "female", "\u2642": "male", "\u2660": "spades", "\u2663": "clubs", "\u2665": "hearts", "\u2666": "diams", "\u266a": "sung", "\u2713": "check", "\u2717": "cross", "\u2720": "malt", "\u2736": "sext", "\u2758": "VerticalSeparator", "\u27c8": "bsolhsub", "\u27c9": "suphsol", "\u27f5": "xlarr", "\u27f6": "xrarr", "\u27f7": "xharr", "\u27f8": "xlArr", "\u27f9": "xrArr", "\u27fa": "xhArr", "\u27fc": "xmap", "\u27ff": "dzigrarr", "\u2902": "nvlArr", "\u2903": "nvrArr", "\u2904": "nvHarr", "\u2905": "Map", "\u290c": "lbarr", "\u290d": "rbarr", "\u290e": "lBarr", "\u290f": "rBarr", "\u2910": "RBarr", "\u2911": "DDotrahd", "\u2912": "UpArrowBar", "\u2913": "DownArrowBar", "\u2916": "Rarrtl", "\u2919": "latail", "\u291a": "ratail", "\u291b": "lAtail", "\u291c": "rAtail", "\u291d": "larrfs", "\u291e": "rarrfs", "\u291f": "larrbfs", "\u2920": "rarrbfs", "\u2923": "nwarhk", "\u2924": "nearhk", "\u2925": "searhk", "\u2926": "swarhk", "\u2927": "nwnear", "\u2928": "toea", "\u2929": "tosa", "\u292a": "swnwar", "\u2933": "rarrc", "\u2933\u0338": "nrarrc", "\u2935": "cudarrr", "\u2936": "ldca", "\u2937": "rdca", "\u2938": "cudarrl", "\u2939": "larrpl", "\u293c": "curarrm", "\u293d": "cularrp", "\u2945": "rarrpl", "\u2948": "harrcir", "\u2949": "Uarrocir", "\u294a": "lurdshar", "\u294b": "ldrushar", "\u294e": "LeftRightVector", "\u294f": "RightUpDownVector", "\u2950": "DownLeftRightVector", "\u2951": "LeftUpDownVector", "\u2952": "LeftVectorBar", "\u2953": "RightVectorBar", "\u2954": "RightUpVectorBar", "\u2955": "RightDownVectorBar", "\u2956": "DownLeftVectorBar", "\u2957": "DownRightVectorBar", "\u2958": "LeftUpVectorBar", "\u2959": "LeftDownVectorBar", "\u295a": "LeftTeeVector", "\u295b": "RightTeeVector", "\u295c": "RightUpTeeVector", "\u295d": "RightDownTeeVector", "\u295e": "DownLeftTeeVector", "\u295f": "DownRightTeeVector", "\u2960": "LeftUpTeeVector", "\u2961": "LeftDownTeeVector", "\u2962": "lHar", "\u2963": "uHar", "\u2964": "rHar", "\u2965": "dHar", "\u2966": "luruhar", "\u2967": "ldrdhar", "\u2968": "ruluhar", "\u2969": "rdldhar", "\u296a": "lharul", "\u296b": "llhard", "\u296c": "rharul", "\u296d": "lrhard", "\u296e": "udhar", "\u296f": "duhar", "\u2970": "RoundImplies", "\u2971": "erarr", "\u2972": "simrarr", "\u2973": "larrsim", "\u2974": "rarrsim", "\u2975": "rarrap", "\u2976": "ltlarr", "\u2978": "gtrarr", "\u2979": "subrarr", "\u297b": "suplarr", "\u297c": "lfisht", "\u297d": "rfisht", "\u297e": "ufisht", "\u297f": "dfisht", "\u299a": "vzigzag", "\u299c": "vangrt", "\u299d": "angrtvbd", "\u29a4": "ange", "\u29a5": "range", "\u29a6": "dwangle", "\u29a7": "uwangle", "\u29a8": "angmsdaa", "\u29a9": "angmsdab", "\u29aa": "angmsdac", "\u29ab": "angmsdad", "\u29ac": "angmsdae", "\u29ad": "angmsdaf", "\u29ae": "angmsdag", "\u29af": "angmsdah", "\u29b0": "bemptyv", "\u29b1": "demptyv", "\u29b2": "cemptyv", "\u29b3": "raemptyv", "\u29b4": "laemptyv", "\u29b5": "ohbar", "\u29b6": "omid", "\u29b7": "opar", "\u29b9": "operp", "\u29bb": "olcross", "\u29bc": "odsold", "\u29be": "olcir", "\u29bf": "ofcir", "\u29c0": "olt", "\u29c1": "ogt", "\u29c2": "cirscir", "\u29c3": "cirE", "\u29c4": "solb", "\u29c5": "bsolb", "\u29c9": "boxbox", "\u29cd": "trisb", "\u29ce": "rtriltri", "\u29cf": "LeftTriangleBar", "\u29cf\u0338": "NotLeftTriangleBar", "\u29d0": "RightTriangleBar", "\u29d0\u0338": "NotRightTriangleBar", "\u29dc": "iinfin", "\u29dd": "infintie", "\u29de": "nvinfin", "\u29e3": "eparsl", "\u29e4": "smeparsl", "\u29e5": "eqvparsl", "\u29eb": "lozf", "\u29f4": "RuleDelayed", "\u29f6": "dsol", "\u2a00": "xodot", "\u2a01": "xoplus", "\u2a02": "xotime", "\u2a04": "xuplus", "\u2a06": "xsqcup", "\u2a0d": "fpartint", "\u2a10": "cirfnint", "\u2a11": "awint", "\u2a12": "rppolint", "\u2a13": "scpolint", "\u2a14": "npolint", "\u2a15": "pointint", "\u2a16": "quatint", "\u2a17": "intlarhk", "\u2a22": "pluscir", "\u2a23": "plusacir", "\u2a24": "simplus", "\u2a25": "plusdu", "\u2a26": "plussim", "\u2a27": "plustwo", "\u2a29": "mcomma", "\u2a2a": "minusdu", "\u2a2d": "loplus", "\u2a2e": "roplus", "\u2a2f": "Cross", "\u2a30": "timesd", "\u2a31": "timesbar", "\u2a33": "smashp", "\u2a34": "lotimes", "\u2a35": "rotimes", "\u2a36": "otimesas", "\u2a37": "Otimes", "\u2a38": "odiv", "\u2a39": "triplus", "\u2a3a": "triminus", "\u2a3b": "tritime", "\u2a3c": "iprod", "\u2a3f": "amalg", "\u2a40": "capdot", "\u2a42": "ncup", "\u2a43": "ncap", "\u2a44": "capand", "\u2a45": "cupor", "\u2a46": "cupcap", "\u2a47": "capcup", "\u2a48": "cupbrcap", "\u2a49": "capbrcup", "\u2a4a": "cupcup", "\u2a4b": "capcap", "\u2a4c": "ccups", "\u2a4d": "ccaps", "\u2a50": "ccupssm", "\u2a53": "And", "\u2a54": "Or", "\u2a55": "andand", "\u2a56": "oror", "\u2a57": "orslope", "\u2a58": "andslope", "\u2a5a": "andv", "\u2a5b": "orv", "\u2a5c": "andd", "\u2a5d": "ord", "\u2a5f": "wedbar", "\u2a66": "sdote", "\u2a6a": "simdot", "\u2a6d": "congdot", "\u2a6d\u0338": "ncongdot", "\u2a6e": "easter", "\u2a6f": "apacir", "\u2a70": "apE", "\u2a70\u0338": "napE", "\u2a71": "eplus", "\u2a72": "pluse", "\u2a73": "Esim", "\u2a77": "eDDot", "\u2a78": "equivDD", "\u2a79": "ltcir", "\u2a7a": "gtcir", "\u2a7b": "ltquest", "\u2a7c": "gtquest", "\u2a7d": "les", "\u2a7d\u0338": "nles", "\u2a7e": "ges", "\u2a7e\u0338": "nges", "\u2a7f": "lesdot", "\u2a80": "gesdot", "\u2a81": "lesdoto", "\u2a82": "gesdoto", "\u2a83": "lesdotor", "\u2a84": "gesdotol", "\u2a85": "lap", "\u2a86": "gap", "\u2a87": "lne", "\u2a88": "gne", "\u2a89": "lnap", "\u2a8a": "gnap", "\u2a8b": "lEg", "\u2a8c": "gEl", "\u2a8d": "lsime", "\u2a8e": "gsime", "\u2a8f": "lsimg", "\u2a90": "gsiml", "\u2a91": "lgE", "\u2a92": "glE", "\u2a93": "lesges", "\u2a94": "gesles", "\u2a95": "els", "\u2a96": "egs", "\u2a97": "elsdot", "\u2a98": "egsdot", "\u2a99": "el", "\u2a9a": "eg", "\u2a9d": "siml", "\u2a9e": "simg", "\u2a9f": "simlE", "\u2aa0": "simgE", "\u2aa1": "LessLess", "\u2aa1\u0338": "NotNestedLessLess", "\u2aa2": "GreaterGreater", "\u2aa2\u0338": "NotNestedGreaterGreater", "\u2aa4": "glj", "\u2aa5": "gla", "\u2aa6": "ltcc", "\u2aa7": "gtcc", "\u2aa8": "lescc", "\u2aa9": "gescc", "\u2aaa": "smt", "\u2aab": "lat", "\u2aac": "smte", "\u2aac\ufe00": "smtes", "\u2aad": "late", "\u2aad\ufe00": "lates", "\u2aae": "bumpE", "\u2aaf": "pre", "\u2aaf\u0338": "npre", "\u2ab0": "sce", "\u2ab0\u0338": "nsce", "\u2ab3": "prE", "\u2ab4": "scE", "\u2ab5": "prnE", "\u2ab6": "scnE", "\u2ab7": "prap", "\u2ab8": "scap", "\u2ab9": "prnap", "\u2aba": "scnap", "\u2abb": "Pr", "\u2abc": "Sc", "\u2abd": "subdot", "\u2abe": "supdot", "\u2abf": "subplus", "\u2ac0": "supplus", "\u2ac1": "submult", "\u2ac2": "supmult", "\u2ac3": "subedot", "\u2ac4": "supedot", "\u2ac5": "subE", "\u2ac5\u0338": "nsubE", "\u2ac6": "supE", "\u2ac6\u0338": "nsupE", "\u2ac7": "subsim", "\u2ac8": "supsim", "\u2acb\ufe00": "vsubnE", "\u2acb": "subnE", "\u2acc\ufe00": "vsupnE", "\u2acc": "supnE", "\u2acf": "csub", "\u2ad0": "csup", "\u2ad1": "csube", "\u2ad2": "csupe", "\u2ad3": "subsup", "\u2ad4": "supsub", "\u2ad5": "subsub", "\u2ad6": "supsup", "\u2ad7": "suphsub", "\u2ad8": "supdsub", "\u2ad9": "forkv", "\u2ada": "topfork", "\u2adb": "mlcp", "\u2ae4": "Dashv", "\u2ae6": "Vdashl", "\u2ae7": "Barv", "\u2ae8": "vBar", "\u2ae9": "vBarv", "\u2aeb": "Vbar", "\u2aec": "Not", "\u2aed": "bNot", "\u2aee": "rnmid", "\u2aef": "cirmid", "\u2af0": "midcir", "\u2af1": "topcir", "\u2af2": "nhpar", "\u2af3": "parsim", "\u2afd": "parsl", "\u2afd\u20e5": "nparsl", "\u266d": "flat", "\u266e": "natur", "\u266f": "sharp", "\xa4": "curren", "\xa2": "cent", $: "dollar", "\xa3": "pound", "\xa5": "yen", "\u20ac": "euro", "\xb9": "sup1", "\xbd": "half", "\u2153": "frac13", "\xbc": "frac14", "\u2155": "frac15", "\u2159": "frac16", "\u215b": "frac18", "\xb2": "sup2", "\u2154": "frac23", "\u2156": "frac25", "\xb3": "sup3", "\xbe": "frac34", "\u2157": "frac35", "\u215c": "frac38", "\u2158": "frac45", "\u215a": "frac56", "\u215d": "frac58", "\u215e": "frac78", "\ud835\udcb6": "ascr", "\ud835\udd52": "aopf", "\ud835\udd1e": "afr", "\ud835\udd38": "Aopf", "\ud835\udd04": "Afr", "\ud835\udc9c": "Ascr", "\xaa": "ordf", "\xe1": "aacute", "\xc1": "Aacute", "\xe0": "agrave", "\xc0": "Agrave", "\u0103": "abreve", "\u0102": "Abreve", "\xe2": "acirc", "\xc2": "Acirc", "\xe5": "aring", "\xc5": "angst", "\xe4": "auml", "\xc4": "Auml", "\xe3": "atilde", "\xc3": "Atilde", "\u0105": "aogon", "\u0104": "Aogon", "\u0101": "amacr", "\u0100": "Amacr", "\xe6": "aelig", "\xc6": "AElig", "\ud835\udcb7": "bscr", "\ud835\udd53": "bopf", "\ud835\udd1f": "bfr", "\ud835\udd39": "Bopf", "\u212c": "Bscr", "\ud835\udd05": "Bfr", "\ud835\udd20": "cfr", "\ud835\udcb8": "cscr", "\ud835\udd54": "copf", "\u212d": "Cfr", "\ud835\udc9e": "Cscr", "\u2102": "Copf", "\u0107": "cacute", "\u0106": "Cacute", "\u0109": "ccirc", "\u0108": "Ccirc", "\u010d": "ccaron", "\u010c": "Ccaron", "\u010b": "cdot", "\u010a": "Cdot", "\xe7": "ccedil", "\xc7": "Ccedil", "\u2105": "incare", "\ud835\udd21": "dfr", "\u2146": "dd", "\ud835\udd55": "dopf", "\ud835\udcb9": "dscr", "\ud835\udc9f": "Dscr", "\ud835\udd07": "Dfr", "\u2145": "DD", "\ud835\udd3b": "Dopf", "\u010f": "dcaron", "\u010e": "Dcaron", "\u0111": "dstrok", "\u0110": "Dstrok", "\xf0": "eth", "\xd0": "ETH", "\u2147": "ee", "\u212f": "escr", "\ud835\udd22": "efr", "\ud835\udd56": "eopf", "\u2130": "Escr", "\ud835\udd08": "Efr", "\ud835\udd3c": "Eopf", "\xe9": "eacute", "\xc9": "Eacute", "\xe8": "egrave", "\xc8": "Egrave", "\xea": "ecirc", "\xca": "Ecirc", "\u011b": "ecaron", "\u011a": "Ecaron", "\xeb": "euml", "\xcb": "Euml", "\u0117": "edot", "\u0116": "Edot", "\u0119": "eogon", "\u0118": "Eogon", "\u0113": "emacr", "\u0112": "Emacr", "\ud835\udd23": "ffr", "\ud835\udd57": "fopf", "\ud835\udcbb": "fscr", "\ud835\udd09": "Ffr", "\ud835\udd3d": "Fopf", "\u2131": "Fscr", "\ufb00": "fflig", "\ufb03": "ffilig", "\ufb04": "ffllig", "\ufb01": "filig", fj: "fjlig", "\ufb02": "fllig", "\u0192": "fnof", "\u210a": "gscr", "\ud835\udd58": "gopf", "\ud835\udd24": "gfr", "\ud835\udca2": "Gscr", "\ud835\udd3e": "Gopf", "\ud835\udd0a": "Gfr", "\u01f5": "gacute", "\u011f": "gbreve", "\u011e": "Gbreve", "\u011d": "gcirc", "\u011c": "Gcirc", "\u0121": "gdot", "\u0120": "Gdot", "\u0122": "Gcedil", "\ud835\udd25": "hfr", "\u210e": "planckh", "\ud835\udcbd": "hscr", "\ud835\udd59": "hopf", "\u210b": "Hscr", "\u210c": "Hfr", "\u210d": "Hopf", "\u0125": "hcirc", "\u0124": "Hcirc", "\u210f": "hbar", "\u0127": "hstrok", "\u0126": "Hstrok", "\ud835\udd5a": "iopf", "\ud835\udd26": "ifr", "\ud835\udcbe": "iscr", "\u2148": "ii", "\ud835\udd40": "Iopf", "\u2110": "Iscr", "\u2111": "Im", "\xed": "iacute", "\xcd": "Iacute", "\xec": "igrave", "\xcc": "Igrave", "\xee": "icirc", "\xce": "Icirc", "\xef": "iuml", "\xcf": "Iuml", "\u0129": "itilde", "\u0128": "Itilde", "\u0130": "Idot", "\u012f": "iogon", "\u012e": "Iogon", "\u012b": "imacr", "\u012a": "Imacr", "\u0133": "ijlig", "\u0132": "IJlig", "\u0131": "imath", "\ud835\udcbf": "jscr", "\ud835\udd5b": "jopf", "\ud835\udd27": "jfr", "\ud835\udca5": "Jscr", "\ud835\udd0d": "Jfr", "\ud835\udd41": "Jopf", "\u0135": "jcirc", "\u0134": "Jcirc", "\u0237": "jmath", "\ud835\udd5c": "kopf", "\ud835\udcc0": "kscr", "\ud835\udd28": "kfr", "\ud835\udca6": "Kscr", "\ud835\udd42": "Kopf", "\ud835\udd0e": "Kfr", "\u0137": "kcedil", "\u0136": "Kcedil", "\ud835\udd29": "lfr", "\ud835\udcc1": "lscr", "\u2113": "ell", "\ud835\udd5d": "lopf", "\u2112": "Lscr", "\ud835\udd0f": "Lfr", "\ud835\udd43": "Lopf", "\u013a": "lacute", "\u0139": "Lacute", "\u013e": "lcaron", "\u013d": "Lcaron", "\u013c": "lcedil", "\u013b": "Lcedil", "\u0142": "lstrok", "\u0141": "Lstrok", "\u0140": "lmidot", "\u013f": "Lmidot", "\ud835\udd2a": "mfr", "\ud835\udd5e": "mopf", "\ud835\udcc2": "mscr", "\ud835\udd10": "Mfr", "\ud835\udd44": "Mopf", "\u2133": "Mscr", "\ud835\udd2b": "nfr", "\ud835\udd5f": "nopf", "\ud835\udcc3": "nscr", "\u2115": "Nopf", "\ud835\udca9": "Nscr", "\ud835\udd11": "Nfr", "\u0144": "nacute", "\u0143": "Nacute", "\u0148": "ncaron", "\u0147": "Ncaron", "\xf1": "ntilde", "\xd1": "Ntilde", "\u0146": "ncedil", "\u0145": "Ncedil", "\u2116": "numero", "\u014b": "eng", "\u014a": "ENG", "\ud835\udd60": "oopf", "\ud835\udd2c": "ofr", "\u2134": "oscr", "\ud835\udcaa": "Oscr", "\ud835\udd12": "Ofr", "\ud835\udd46": "Oopf", "\xba": "ordm", "\xf3": "oacute", "\xd3": "Oacute", "\xf2": "ograve", "\xd2": "Ograve", "\xf4": "ocirc", "\xd4": "Ocirc", "\xf6": "ouml", "\xd6": "Ouml", "\u0151": "odblac", "\u0150": "Odblac", "\xf5": "otilde", "\xd5": "Otilde", "\xf8": "oslash", "\xd8": "Oslash", "\u014d": "omacr", "\u014c": "Omacr", "\u0153": "oelig", "\u0152": "OElig", "\ud835\udd2d": "pfr", "\ud835\udcc5": "pscr", "\ud835\udd61": "popf", "\u2119": "Popf", "\ud835\udd13": "Pfr", "\ud835\udcab": "Pscr", "\ud835\udd62": "qopf", "\ud835\udd2e": "qfr", "\ud835\udcc6": "qscr", "\ud835\udcac": "Qscr", "\ud835\udd14": "Qfr", "\u211a": "Qopf", "\u0138": "kgreen", "\ud835\udd2f": "rfr", "\ud835\udd63": "ropf", "\ud835\udcc7": "rscr", "\u211b": "Rscr", "\u211c": "Re", "\u211d": "Ropf", "\u0155": "racute", "\u0154": "Racute", "\u0159": "rcaron", "\u0158": "Rcaron", "\u0157": "rcedil", "\u0156": "Rcedil", "\ud835\udd64": "sopf", "\ud835\udcc8": "sscr", "\ud835\udd30": "sfr", "\ud835\udd4a": "Sopf", "\ud835\udd16": "Sfr", "\ud835\udcae": "Sscr", "\u24c8": "oS", "\u015b": "sacute", "\u015a": "Sacute", "\u015d": "scirc", "\u015c": "Scirc", "\u0161": "scaron", "\u0160": "Scaron", "\u015f": "scedil", "\u015e": "Scedil", "\xdf": "szlig", "\ud835\udd31": "tfr", "\ud835\udcc9": "tscr", "\ud835\udd65": "topf", "\ud835\udcaf": "Tscr", "\ud835\udd17": "Tfr", "\ud835\udd4b": "Topf", "\u0165": "tcaron", "\u0164": "Tcaron", "\u0163": "tcedil", "\u0162": "Tcedil", "\u2122": "trade", "\u0167": "tstrok", "\u0166": "Tstrok", "\ud835\udcca": "uscr", "\ud835\udd66": "uopf", "\ud835\udd32": "ufr", "\ud835\udd4c": "Uopf", "\ud835\udd18": "Ufr", "\ud835\udcb0": "Uscr", "\xfa": "uacute", "\xda": "Uacute", "\xf9": "ugrave", "\xd9": "Ugrave", "\u016d": "ubreve", "\u016c": "Ubreve", "\xfb": "ucirc", "\xdb": "Ucirc", "\u016f": "uring", "\u016e": "Uring", "\xfc": "uuml", "\xdc": "Uuml", "\u0171": "udblac", "\u0170": "Udblac", "\u0169": "utilde", "\u0168": "Utilde", "\u0173": "uogon", "\u0172": "Uogon", "\u016b": "umacr", "\u016a": "Umacr", "\ud835\udd33": "vfr", "\ud835\udd67": "vopf", "\ud835\udccb": "vscr", "\ud835\udd19": "Vfr", "\ud835\udd4d": "Vopf", "\ud835\udcb1": "Vscr", "\ud835\udd68": "wopf", "\ud835\udccc": "wscr", "\ud835\udd34": "wfr", "\ud835\udcb2": "Wscr", "\ud835\udd4e": "Wopf", "\ud835\udd1a": "Wfr", "\u0175": "wcirc", "\u0174": "Wcirc", "\ud835\udd35": "xfr", "\ud835\udccd": "xscr", "\ud835\udd69": "xopf", "\ud835\udd4f": "Xopf", "\ud835\udd1b": "Xfr", "\ud835\udcb3": "Xscr", "\ud835\udd36": "yfr", "\ud835\udcce": "yscr", "\ud835\udd6a": "yopf", "\ud835\udcb4": "Yscr", "\ud835\udd1c": "Yfr", "\ud835\udd50": "Yopf", "\xfd": "yacute", "\xdd": "Yacute", "\u0177": "ycirc", "\u0176": "Ycirc", "\xff": "yuml", "\u0178": "Yuml", "\ud835\udccf": "zscr", "\ud835\udd37": "zfr", "\ud835\udd6b": "zopf", "\u2128": "Zfr", "\u2124": "Zopf", "\ud835\udcb5": "Zscr", "\u017a": "zacute", "\u0179": "Zacute", "\u017e": "zcaron", "\u017d": "Zcaron", "\u017c": "zdot", "\u017b": "Zdot", "\u01b5": "imped", "\xfe": "thorn", "\xde": "THORN", "\u0149": "napos", "\u03b1": "alpha", "\u0391": "Alpha", "\u03b2": "beta", "\u0392": "Beta", "\u03b3": "gamma", "\u0393": "Gamma", "\u03b4": "delta", "\u0394": "Delta", "\u03b5": "epsi", "\u03f5": "epsiv", "\u0395": "Epsilon", "\u03dd": "gammad", "\u03dc": "Gammad", "\u03b6": "zeta", "\u0396": "Zeta", "\u03b7": "eta", "\u0397": "Eta", "\u03b8": "theta", "\u03d1": "thetav", "\u0398": "Theta", "\u03b9": "iota", "\u0399": "Iota", "\u03ba": "kappa", "\u03f0": "kappav", "\u039a": "Kappa", "\u03bb": "lambda", "\u039b": "Lambda", "\u03bc": "mu", "\xb5": "micro", "\u039c": "Mu", "\u03bd": "nu", "\u039d": "Nu", "\u03be": "xi", "\u039e": "Xi", "\u03bf": "omicron", "\u039f": "Omicron", "\u03c0": "pi", "\u03d6": "piv", "\u03a0": "Pi", "\u03c1": "rho", "\u03f1": "rhov", "\u03a1": "Rho", "\u03c3": "sigma", "\u03a3": "Sigma", "\u03c2": "sigmaf", "\u03c4": "tau", "\u03a4": "Tau", "\u03c5": "upsi", "\u03a5": "Upsilon", "\u03d2": "Upsi", "\u03c6": "phi", "\u03d5": "phiv", "\u03a6": "Phi", "\u03c7": "chi", "\u03a7": "Chi", "\u03c8": "psi", "\u03a8": "Psi", "\u03c9": "omega", "\u03a9": "ohm", "\u0430": "acy", "\u0410": "Acy", "\u0431": "bcy", "\u0411": "Bcy", "\u0432": "vcy", "\u0412": "Vcy", "\u0433": "gcy", "\u0413": "Gcy", "\u0453": "gjcy", "\u0403": "GJcy", "\u0434": "dcy", "\u0414": "Dcy", "\u0452": "djcy", "\u0402": "DJcy", "\u0435": "iecy", "\u0415": "IEcy", "\u0451": "iocy", "\u0401": "IOcy", "\u0454": "jukcy", "\u0404": "Jukcy", "\u0436": "zhcy", "\u0416": "ZHcy", "\u0437": "zcy", "\u0417": "Zcy", "\u0455": "dscy", "\u0405": "DScy", "\u0438": "icy", "\u0418": "Icy", "\u0456": "iukcy", "\u0406": "Iukcy", "\u0457": "yicy", "\u0407": "YIcy", "\u0439": "jcy", "\u0419": "Jcy", "\u0458": "jsercy", "\u0408": "Jsercy", "\u043a": "kcy", "\u041a": "Kcy", "\u045c": "kjcy", "\u040c": "KJcy", "\u043b": "lcy", "\u041b": "Lcy", "\u0459": "ljcy", "\u0409": "LJcy", "\u043c": "mcy", "\u041c": "Mcy", "\u043d": "ncy", "\u041d": "Ncy", "\u045a": "njcy", "\u040a": "NJcy", "\u043e": "ocy", "\u041e": "Ocy", "\u043f": "pcy", "\u041f": "Pcy", "\u0440": "rcy", "\u0420": "Rcy", "\u0441": "scy", "\u0421": "Scy", "\u0442": "tcy", "\u0422": "Tcy", "\u045b": "tshcy", "\u040b": "TSHcy", "\u0443": "ucy", "\u0423": "Ucy", "\u045e": "ubrcy", "\u040e": "Ubrcy", "\u0444": "fcy", "\u0424": "Fcy", "\u0445": "khcy", "\u0425": "KHcy", "\u0446": "tscy", "\u0426": "TScy", "\u0447": "chcy", "\u0427": "CHcy", "\u045f": "dzcy", "\u040f": "DZcy", "\u0448": "shcy", "\u0428": "SHcy", "\u0449": "shchcy", "\u0429": "SHCHcy", "\u044a": "hardcy", "\u042a": "HARDcy", "\u044b": "ycy", "\u042b": "Ycy", "\u044c": "softcy", "\u042c": "SOFTcy", "\u044d": "ecy", "\u042d": "Ecy", "\u044e": "yucy", "\u042e": "YUcy", "\u044f": "yacy", "\u042f": "YAcy", "\u2135": "aleph", "\u2136": "beth", "\u2137": "gimel", "\u2138": "daleth" }, p = /["&'<>`]/g, m = { '"': "&quot;", "&": "&amp;", "'": "&#x27;", "<": "&lt;", ">": "&gt;", "`": "&#x60;" }, h = /&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/, v = /[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/, g = /&(CounterClockwiseContourIntegral|DoubleLongLeftRightArrow|ClockwiseContourIntegral|NotNestedGreaterGreater|NotSquareSupersetEqual|DiacriticalDoubleAcute|NotRightTriangleEqual|NotSucceedsSlantEqual|NotPrecedesSlantEqual|CloseCurlyDoubleQuote|NegativeVeryThinSpace|DoubleContourIntegral|FilledVerySmallSquare|CapitalDifferentialD|OpenCurlyDoubleQuote|EmptyVerySmallSquare|NestedGreaterGreater|DoubleLongRightArrow|NotLeftTriangleEqual|NotGreaterSlantEqual|ReverseUpEquilibrium|DoubleLeftRightArrow|NotSquareSubsetEqual|NotDoubleVerticalBar|RightArrowLeftArrow|NotGreaterFullEqual|NotRightTriangleBar|SquareSupersetEqual|DownLeftRightVector|DoubleLongLeftArrow|leftrightsquigarrow|LeftArrowRightArrow|NegativeMediumSpace|blacktriangleright|RightDownVectorBar|PrecedesSlantEqual|RightDoubleBracket|SucceedsSlantEqual|NotLeftTriangleBar|RightTriangleEqual|SquareIntersection|RightDownTeeVector|ReverseEquilibrium|NegativeThickSpace|longleftrightarrow|Longleftrightarrow|LongLeftRightArrow|DownRightTeeVector|DownRightVectorBar|GreaterSlantEqual|SquareSubsetEqual|LeftDownVectorBar|LeftDoubleBracket|VerticalSeparator|rightleftharpoons|NotGreaterGreater|NotSquareSuperset|blacktriangleleft|blacktriangledown|NegativeThinSpace|LeftDownTeeVector|NotLessSlantEqual|leftrightharpoons|DoubleUpDownArrow|DoubleVerticalBar|LeftTriangleEqual|FilledSmallSquare|twoheadrightarrow|NotNestedLessLess|DownLeftTeeVector|DownLeftVectorBar|RightAngleBracket|NotTildeFullEqual|NotReverseElement|RightUpDownVector|DiacriticalTilde|NotSucceedsTilde|circlearrowright|NotPrecedesEqual|rightharpoondown|DoubleRightArrow|NotSucceedsEqual|NonBreakingSpace|NotRightTriangle|LessEqualGreater|RightUpTeeVector|LeftAngleBracket|GreaterFullEqual|DownArrowUpArrow|RightUpVectorBar|twoheadleftarrow|GreaterEqualLess|downharpoonright|RightTriangleBar|ntrianglerighteq|NotSupersetEqual|LeftUpDownVector|DiacriticalAcute|rightrightarrows|vartriangleright|UpArrowDownArrow|DiacriticalGrave|UnderParenthesis|EmptySmallSquare|LeftUpVectorBar|leftrightarrows|DownRightVector|downharpoonleft|trianglerighteq|ShortRightArrow|OverParenthesis|DoubleLeftArrow|DoubleDownArrow|NotSquareSubset|bigtriangledown|ntrianglelefteq|UpperRightArrow|curvearrowright|vartriangleleft|NotLeftTriangle|nleftrightarrow|LowerRightArrow|NotHumpDownHump|NotGreaterTilde|rightthreetimes|LeftUpTeeVector|NotGreaterEqual|straightepsilon|LeftTriangleBar|rightsquigarrow|ContourIntegral|rightleftarrows|CloseCurlyQuote|RightDownVector|LeftRightVector|nLeftrightarrow|leftharpoondown|circlearrowleft|SquareSuperset|OpenCurlyQuote|hookrightarrow|HorizontalLine|DiacriticalDot|NotLessGreater|ntriangleright|DoubleRightTee|InvisibleComma|InvisibleTimes|LowerLeftArrow|DownLeftVector|NotSubsetEqual|curvearrowleft|trianglelefteq|NotVerticalBar|TildeFullEqual|downdownarrows|NotGreaterLess|RightTeeVector|ZeroWidthSpace|looparrowright|LongRightArrow|doublebarwedge|ShortLeftArrow|ShortDownArrow|RightVectorBar|GreaterGreater|ReverseElement|rightharpoonup|LessSlantEqual|leftthreetimes|upharpoonright|rightarrowtail|LeftDownVector|Longrightarrow|NestedLessLess|UpperLeftArrow|nshortparallel|leftleftarrows|leftrightarrow|Leftrightarrow|LeftRightArrow|longrightarrow|upharpoonleft|RightArrowBar|ApplyFunction|LeftTeeVector|leftarrowtail|NotEqualTilde|varsubsetneqq|varsupsetneqq|RightTeeArrow|SucceedsEqual|SucceedsTilde|LeftVectorBar|SupersetEqual|hookleftarrow|DifferentialD|VerticalTilde|VeryThinSpace|blacktriangle|bigtriangleup|LessFullEqual|divideontimes|leftharpoonup|UpEquilibrium|ntriangleleft|RightTriangle|measuredangle|shortparallel|longleftarrow|Longleftarrow|LongLeftArrow|DoubleLeftTee|Poincareplane|PrecedesEqual|triangleright|DoubleUpArrow|RightUpVector|fallingdotseq|looparrowleft|PrecedesTilde|NotTildeEqual|NotTildeTilde|smallsetminus|Proportional|triangleleft|triangledown|UnderBracket|NotHumpEqual|exponentiale|ExponentialE|NotLessTilde|HilbertSpace|RightCeiling|blacklozenge|varsupsetneq|HumpDownHump|GreaterEqual|VerticalLine|LeftTeeArrow|NotLessEqual|DownTeeArrow|LeftTriangle|varsubsetneq|Intersection|NotCongruent|DownArrowBar|LeftUpVector|LeftArrowBar|risingdotseq|GreaterTilde|RoundImplies|SquareSubset|ShortUpArrow|NotSuperset|quaternions|precnapprox|backepsilon|preccurlyeq|OverBracket|blacksquare|MediumSpace|VerticalBar|circledcirc|circleddash|CircleMinus|CircleTimes|LessGreater|curlyeqprec|curlyeqsucc|diamondsuit|UpDownArrow|Updownarrow|RuleDelayed|Rrightarrow|updownarrow|RightVector|nRightarrow|nrightarrow|eqslantless|LeftCeiling|Equilibrium|SmallCircle|expectation|NotSucceeds|thickapprox|GreaterLess|SquareUnion|NotPrecedes|NotLessLess|straightphi|succnapprox|succcurlyeq|SubsetEqual|sqsupseteq|Proportion|Laplacetrf|ImaginaryI|supsetneqq|NotGreater|gtreqqless|NotElement|ThickSpace|TildeEqual|TildeTilde|Fouriertrf|rmoustache|EqualTilde|eqslantgtr|UnderBrace|LeftVector|UpArrowBar|nLeftarrow|nsubseteqq|subsetneqq|nsupseteqq|nleftarrow|succapprox|lessapprox|UpTeeArrow|upuparrows|curlywedge|lesseqqgtr|varepsilon|varnothing|RightFloor|complement|CirclePlus|sqsubseteq|Lleftarrow|circledast|RightArrow|Rightarrow|rightarrow|lmoustache|Bernoullis|precapprox|mapstoleft|mapstodown|longmapsto|dotsquare|downarrow|DoubleDot|nsubseteq|supsetneq|leftarrow|nsupseteq|subsetneq|ThinSpace|ngeqslant|subseteqq|HumpEqual|NotSubset|triangleq|NotCupCap|lesseqgtr|heartsuit|TripleDot|Leftarrow|Coproduct|Congruent|varpropto|complexes|gvertneqq|LeftArrow|LessTilde|supseteqq|MinusPlus|CircleDot|nleqslant|NotExists|gtreqless|nparallel|UnionPlus|LeftFloor|checkmark|CenterDot|centerdot|Mellintrf|gtrapprox|bigotimes|OverBrace|spadesuit|therefore|pitchfork|rationals|PlusMinus|Backslash|Therefore|DownBreve|backsimeq|backprime|DownArrow|nshortmid|Downarrow|lvertneqq|eqvparsl|imagline|imagpart|infintie|integers|Integral|intercal|LessLess|Uarrocir|intlarhk|sqsupset|angmsdaf|sqsubset|llcorner|vartheta|cupbrcap|lnapprox|Superset|SuchThat|succnsim|succneqq|angmsdag|biguplus|curlyvee|trpezium|Succeeds|NotTilde|bigwedge|angmsdah|angrtvbd|triminus|cwconint|fpartint|lrcorner|smeparsl|subseteq|urcorner|lurdshar|laemptyv|DDotrahd|approxeq|ldrushar|awconint|mapstoup|backcong|shortmid|triangle|geqslant|gesdotol|timesbar|circledR|circledS|setminus|multimap|naturals|scpolint|ncongdot|RightTee|boxminus|gnapprox|boxtimes|andslope|thicksim|angmsdaa|varsigma|cirfnint|rtriltri|angmsdab|rppolint|angmsdac|barwedge|drbkarow|clubsuit|thetasym|bsolhsub|capbrcup|dzigrarr|doteqdot|DotEqual|dotminus|UnderBar|NotEqual|realpart|otimesas|ulcorner|hksearow|hkswarow|parallel|PartialD|elinters|emptyset|plusacir|bbrktbrk|angmsdad|pointint|bigoplus|angmsdae|Precedes|bigsqcup|varkappa|notindot|supseteq|precneqq|precnsim|profalar|profline|profsurf|leqslant|lesdotor|raemptyv|subplus|notnivb|notnivc|subrarr|zigrarr|vzigzag|submult|subedot|Element|between|cirscir|larrbfs|larrsim|lotimes|lbrksld|lbrkslu|lozenge|ldrdhar|dbkarow|bigcirc|epsilon|simrarr|simplus|ltquest|Epsilon|luruhar|gtquest|maltese|npolint|eqcolon|npreceq|bigodot|ddagger|gtrless|bnequiv|harrcir|ddotseq|equivDD|backsim|demptyv|nsqsube|nsqsupe|Upsilon|nsubset|upsilon|minusdu|nsucceq|swarrow|nsupset|coloneq|searrow|boxplus|napprox|natural|asympeq|alefsym|congdot|nearrow|bigstar|diamond|supplus|tritime|LeftTee|nvinfin|triplus|NewLine|nvltrie|nvrtrie|nwarrow|nexists|Diamond|ruluhar|Implies|supmult|angzarr|suplarr|suphsub|questeq|because|digamma|Because|olcross|bemptyv|omicron|Omicron|rotimes|NoBreak|intprod|angrtvb|orderof|uwangle|suphsol|lesdoto|orslope|DownTee|realine|cudarrl|rdldhar|OverBar|supedot|lessdot|supdsub|topfork|succsim|rbrkslu|rbrksld|pertenk|cudarrr|isindot|planckh|lessgtr|pluscir|gesdoto|plussim|plustwo|lesssim|cularrp|rarrsim|Cayleys|notinva|notinvb|notinvc|UpArrow|Uparrow|uparrow|NotLess|dwangle|precsim|Product|curarrm|Cconint|dotplus|rarrbfs|ccupssm|Cedilla|cemptyv|notniva|quatint|frac35|frac38|frac45|frac56|frac58|frac78|tridot|xoplus|gacute|gammad|Gammad|lfisht|lfloor|bigcup|sqsupe|gbreve|Gbreve|lharul|sqsube|sqcups|Gcedil|apacir|llhard|lmidot|Lmidot|lmoust|andand|sqcaps|approx|Abreve|spades|circeq|tprime|divide|topcir|Assign|topbot|gesdot|divonx|xuplus|timesd|gesles|atilde|solbar|SOFTcy|loplus|timesb|lowast|lowbar|dlcorn|dlcrop|softcy|dollar|lparlt|thksim|lrhard|Atilde|lsaquo|smashp|bigvee|thinsp|wreath|bkarow|lsquor|lstrok|Lstrok|lthree|ltimes|ltlarr|DotDot|simdot|ltrPar|weierp|xsqcup|angmsd|sigmav|sigmaf|zeetrf|Zcaron|zcaron|mapsto|vsupne|thetav|cirmid|marker|mcomma|Zacute|vsubnE|there4|gtlPar|vsubne|bottom|gtrarr|SHCHcy|shchcy|midast|midcir|middot|minusb|minusd|gtrdot|bowtie|sfrown|mnplus|models|colone|seswar|Colone|mstpos|searhk|gtrsim|nacute|Nacute|boxbox|telrec|hairsp|Tcedil|nbumpe|scnsim|ncaron|Ncaron|ncedil|Ncedil|hamilt|Scedil|nearhk|hardcy|HARDcy|tcedil|Tcaron|commat|nequiv|nesear|tcaron|target|hearts|nexist|varrho|scedil|Scaron|scaron|hellip|Sacute|sacute|hercon|swnwar|compfn|rtimes|rthree|rsquor|rsaquo|zacute|wedgeq|homtht|barvee|barwed|Barwed|rpargt|horbar|conint|swarhk|roplus|nltrie|hslash|hstrok|Hstrok|rmoust|Conint|bprime|hybull|hyphen|iacute|Iacute|supsup|supsub|supsim|varphi|coprod|brvbar|agrave|Supset|supset|igrave|Igrave|notinE|Agrave|iiiint|iinfin|copysr|wedbar|Verbar|vangrt|becaus|incare|verbar|inodot|bullet|drcorn|intcal|drcrop|cularr|vellip|Utilde|bumpeq|cupcap|dstrok|Dstrok|CupCap|cupcup|cupdot|eacute|Eacute|supdot|iquest|easter|ecaron|Ecaron|ecolon|isinsv|utilde|itilde|Itilde|curarr|succeq|Bumpeq|cacute|ulcrop|nparsl|Cacute|nprcue|egrave|Egrave|nrarrc|nrarrw|subsup|subsub|nrtrie|jsercy|nsccue|Jsercy|kappav|kcedil|Kcedil|subsim|ulcorn|nsimeq|egsdot|veebar|kgreen|capand|elsdot|Subset|subset|curren|aacute|lacute|Lacute|emptyv|ntilde|Ntilde|lagran|lambda|Lambda|capcap|Ugrave|langle|subdot|emsp13|numero|emsp14|nvdash|nvDash|nVdash|nVDash|ugrave|ufisht|nvHarr|larrfs|nvlArr|larrhk|larrlp|larrpl|nvrArr|Udblac|nwarhk|larrtl|nwnear|oacute|Oacute|latail|lAtail|sstarf|lbrace|odblac|Odblac|lbrack|udblac|odsold|eparsl|lcaron|Lcaron|ograve|Ograve|lcedil|Lcedil|Aacute|ssmile|ssetmn|squarf|ldquor|capcup|ominus|cylcty|rharul|eqcirc|dagger|rfloor|rfisht|Dagger|daleth|equals|origof|capdot|equest|dcaron|Dcaron|rdquor|oslash|Oslash|otilde|Otilde|otimes|Otimes|urcrop|Ubreve|ubreve|Yacute|Uacute|uacute|Rcedil|rcedil|urcorn|parsim|Rcaron|Vdashl|rcaron|Tstrok|percnt|period|permil|Exists|yacute|rbrack|rbrace|phmmat|ccaron|Ccaron|planck|ccedil|plankv|tstrok|female|plusdo|plusdu|ffilig|plusmn|ffllig|Ccedil|rAtail|dfisht|bernou|ratail|Rarrtl|rarrtl|angsph|rarrpl|rarrlp|rarrhk|xwedge|xotime|forall|ForAll|Vvdash|vsupnE|preceq|bigcap|frac12|frac13|frac14|primes|rarrfs|prnsim|frac15|Square|frac16|square|lesdot|frac18|frac23|propto|prurel|rarrap|rangle|puncsp|frac25|Racute|qprime|racute|lesges|frac34|abreve|AElig|eqsim|utdot|setmn|urtri|Equal|Uring|seArr|uring|searr|dashv|Dashv|mumap|nabla|iogon|Iogon|sdote|sdotb|scsim|napid|napos|equiv|natur|Acirc|dblac|erarr|nbump|iprod|erDot|ucirc|awint|esdot|angrt|ncong|isinE|scnap|Scirc|scirc|ndash|isins|Ubrcy|nearr|neArr|isinv|nedot|ubrcy|acute|Ycirc|iukcy|Iukcy|xutri|nesim|caret|jcirc|Jcirc|caron|twixt|ddarr|sccue|exist|jmath|sbquo|ngeqq|angst|ccaps|lceil|ngsim|UpTee|delta|Delta|rtrif|nharr|nhArr|nhpar|rtrie|jukcy|Jukcy|kappa|rsquo|Kappa|nlarr|nlArr|TSHcy|rrarr|aogon|Aogon|fflig|xrarr|tshcy|ccirc|nleqq|filig|upsih|nless|dharl|nlsim|fjlig|ropar|nltri|dharr|robrk|roarr|fllig|fltns|roang|rnmid|subnE|subne|lAarr|trisb|Ccirc|acirc|ccups|blank|VDash|forkv|Vdash|langd|cedil|blk12|blk14|laquo|strns|diams|notin|vDash|larrb|blk34|block|disin|uplus|vdash|vBarv|aelig|starf|Wedge|check|xrArr|lates|lbarr|lBarr|notni|lbbrk|bcong|frasl|lbrke|frown|vrtri|vprop|vnsup|gamma|Gamma|wedge|xodot|bdquo|srarr|doteq|ldquo|boxdl|boxdL|gcirc|Gcirc|boxDl|boxDL|boxdr|boxdR|boxDr|TRADE|trade|rlhar|boxDR|vnsub|npart|vltri|rlarr|boxhd|boxhD|nprec|gescc|nrarr|nrArr|boxHd|boxHD|boxhu|boxhU|nrtri|boxHu|clubs|boxHU|times|colon|Colon|gimel|xlArr|Tilde|nsime|tilde|nsmid|nspar|THORN|thorn|xlarr|nsube|nsubE|thkap|xhArr|comma|nsucc|boxul|boxuL|nsupe|nsupE|gneqq|gnsim|boxUl|boxUL|grave|boxur|boxuR|boxUr|boxUR|lescc|angle|bepsi|boxvh|varpi|boxvH|numsp|Theta|gsime|gsiml|theta|boxVh|boxVH|boxvl|gtcir|gtdot|boxvL|boxVl|boxVL|crarr|cross|Cross|nvsim|boxvr|nwarr|nwArr|sqsup|dtdot|Uogon|lhard|lharu|dtrif|ocirc|Ocirc|lhblk|duarr|odash|sqsub|Hacek|sqcup|llarr|duhar|oelig|OElig|ofcir|boxvR|uogon|lltri|boxVr|csube|uuarr|ohbar|csupe|ctdot|olarr|olcir|harrw|oline|sqcap|omacr|Omacr|omega|Omega|boxVR|aleph|lneqq|lnsim|loang|loarr|rharu|lobrk|hcirc|operp|oplus|rhard|Hcirc|orarr|Union|order|ecirc|Ecirc|cuepr|szlig|cuesc|breve|reals|eDDot|Breve|hoarr|lopar|utrif|rdquo|Umacr|umacr|efDot|swArr|ultri|alpha|rceil|ovbar|swarr|Wcirc|wcirc|smtes|smile|bsemi|lrarr|aring|parsl|lrhar|bsime|uhblk|lrtri|cupor|Aring|uharr|uharl|slarr|rbrke|bsolb|lsime|rbbrk|RBarr|lsimg|phone|rBarr|rbarr|icirc|lsquo|Icirc|emacr|Emacr|ratio|simne|plusb|simlE|simgE|simeq|pluse|ltcir|ltdot|empty|xharr|xdtri|iexcl|Alpha|ltrie|rarrw|pound|ltrif|xcirc|bumpe|prcue|bumpE|asymp|amacr|cuvee|Sigma|sigma|iiint|udhar|iiota|ijlig|IJlig|supnE|imacr|Imacr|prime|Prime|image|prnap|eogon|Eogon|rarrc|mdash|mDDot|cuwed|imath|supne|imped|Amacr|udarr|prsim|micro|rarrb|cwint|raquo|infin|eplus|range|rangd|Ucirc|radic|minus|amalg|veeeq|rAarr|epsiv|ycirc|quest|sharp|quot|zwnj|Qscr|race|qscr|Qopf|qopf|qint|rang|Rang|Zscr|zscr|Zopf|zopf|rarr|rArr|Rarr|Pscr|pscr|prop|prod|prnE|prec|ZHcy|zhcy|prap|Zeta|zeta|Popf|popf|Zdot|plus|zdot|Yuml|yuml|phiv|YUcy|yucy|Yscr|yscr|perp|Yopf|yopf|part|para|YIcy|Ouml|rcub|yicy|YAcy|rdca|ouml|osol|Oscr|rdsh|yacy|real|oscr|xvee|andd|rect|andv|Xscr|oror|ordm|ordf|xscr|ange|aopf|Aopf|rHar|Xopf|opar|Oopf|xopf|xnis|rhov|oopf|omid|xmap|oint|apid|apos|ogon|ascr|Ascr|odot|odiv|xcup|xcap|ocir|oast|nvlt|nvle|nvgt|nvge|nvap|Wscr|wscr|auml|ntlg|ntgl|nsup|nsub|nsim|Nscr|nscr|nsce|Wopf|ring|npre|wopf|npar|Auml|Barv|bbrk|Nopf|nopf|nmid|nLtv|beta|ropf|Ropf|Beta|beth|nles|rpar|nleq|bnot|bNot|nldr|NJcy|rscr|Rscr|Vscr|vscr|rsqb|njcy|bopf|nisd|Bopf|rtri|Vopf|nGtv|ngtr|vopf|boxh|boxH|boxv|nges|ngeq|boxV|bscr|scap|Bscr|bsim|Vert|vert|bsol|bull|bump|caps|cdot|ncup|scnE|ncap|nbsp|napE|Cdot|cent|sdot|Vbar|nang|vBar|chcy|Mscr|mscr|sect|semi|CHcy|Mopf|mopf|sext|circ|cire|mldr|mlcp|cirE|comp|shcy|SHcy|vArr|varr|cong|copf|Copf|copy|COPY|malt|male|macr|lvnE|cscr|ltri|sime|ltcc|simg|Cscr|siml|csub|Uuml|lsqb|lsim|uuml|csup|Lscr|lscr|utri|smid|lpar|cups|smte|lozf|darr|Lopf|Uscr|solb|lopf|sopf|Sopf|lneq|uscr|spar|dArr|lnap|Darr|dash|Sqrt|LJcy|ljcy|lHar|dHar|Upsi|upsi|diam|lesg|djcy|DJcy|leqq|dopf|Dopf|dscr|Dscr|dscy|ldsh|ldca|squf|DScy|sscr|Sscr|dsol|lcub|late|star|Star|Uopf|Larr|lArr|larr|uopf|dtri|dzcy|sube|subE|Lang|lang|Kscr|kscr|Kopf|kopf|KJcy|kjcy|KHcy|khcy|DZcy|ecir|edot|eDot|Jscr|jscr|succ|Jopf|jopf|Edot|uHar|emsp|ensp|Iuml|iuml|eopf|isin|Iscr|iscr|Eopf|epar|sung|epsi|escr|sup1|sup2|sup3|Iota|iota|supe|supE|Iopf|iopf|IOcy|iocy|Escr|esim|Esim|imof|Uarr|QUOT|uArr|uarr|euml|IEcy|iecy|Idot|Euml|euro|excl|Hscr|hscr|Hopf|hopf|TScy|tscy|Tscr|hbar|tscr|flat|tbrk|fnof|hArr|harr|half|fopf|Fopf|tdot|gvnE|fork|trie|gtcc|fscr|Fscr|gdot|gsim|Gscr|gscr|Gopf|gopf|gneq|Gdot|tosa|gnap|Topf|topf|geqq|toea|GJcy|gjcy|tint|gesl|mid|Sfr|ggg|top|ges|gla|glE|glj|geq|gne|gEl|gel|gnE|Gcy|gcy|gap|Tfr|tfr|Tcy|tcy|Hat|Tau|Ffr|tau|Tab|hfr|Hfr|ffr|Fcy|fcy|icy|Icy|iff|ETH|eth|ifr|Ifr|Eta|eta|int|Int|Sup|sup|ucy|Ucy|Sum|sum|jcy|ENG|ufr|Ufr|eng|Jcy|jfr|els|ell|egs|Efr|efr|Jfr|uml|kcy|Kcy|Ecy|ecy|kfr|Kfr|lap|Sub|sub|lat|lcy|Lcy|leg|Dot|dot|lEg|leq|les|squ|div|die|lfr|Lfr|lgE|Dfr|dfr|Del|deg|Dcy|dcy|lne|lnE|sol|loz|smt|Cup|lrm|cup|lsh|Lsh|sim|shy|map|Map|mcy|Mcy|mfr|Mfr|mho|gfr|Gfr|sfr|cir|Chi|chi|nap|Cfr|vcy|Vcy|cfr|Scy|scy|ncy|Ncy|vee|Vee|Cap|cap|nfr|scE|sce|Nfr|nge|ngE|nGg|vfr|Vfr|ngt|bot|nGt|nis|niv|Rsh|rsh|nle|nlE|bne|Bfr|bfr|nLl|nlt|nLt|Bcy|bcy|not|Not|rlm|wfr|Wfr|npr|nsc|num|ocy|ast|Ocy|ofr|xfr|Xfr|Ofr|ogt|ohm|apE|olt|Rho|ape|rho|Rfr|rfr|ord|REG|ang|reg|orv|And|and|AMP|Rcy|amp|Afr|ycy|Ycy|yen|yfr|Yfr|rcy|par|pcy|Pcy|pfr|Pfr|phi|Phi|afr|Acy|acy|zcy|Zcy|piv|acE|acd|zfr|Zfr|pre|prE|psi|Psi|qfr|Qfr|zwj|Or|ge|Gg|gt|gg|el|oS|lt|Lt|LT|Re|lg|gl|eg|ne|Im|it|le|DD|wp|wr|nu|Nu|dd|lE|Sc|sc|pi|Pi|ee|af|ll|Ll|rx|gE|xi|pm|Xi|ic|pr|Pr|in|ni|mp|mu|ac|Mu|or|ap|Gt|GT|ii);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)(?!;)([=a-zA-Z0-9]?)|&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+)/g, b = { aacute: "\xe1", Aacute: "\xc1", abreve: "\u0103", Abreve: "\u0102", ac: "\u223e", acd: "\u223f", acE: "\u223e\u0333", acirc: "\xe2", Acirc: "\xc2", acute: "\xb4", acy: "\u0430", Acy: "\u0410", aelig: "\xe6", AElig: "\xc6", af: "\u2061", afr: "\ud835\udd1e", Afr: "\ud835\udd04", agrave: "\xe0", Agrave: "\xc0", alefsym: "\u2135", aleph: "\u2135", alpha: "\u03b1", Alpha: "\u0391", amacr: "\u0101", Amacr: "\u0100", amalg: "\u2a3f", amp: "&", AMP: "&", and: "\u2227", And: "\u2a53", andand: "\u2a55", andd: "\u2a5c", andslope: "\u2a58", andv: "\u2a5a", ang: "\u2220", ange: "\u29a4", angle: "\u2220", angmsd: "\u2221", angmsdaa: "\u29a8", angmsdab: "\u29a9", angmsdac: "\u29aa", angmsdad: "\u29ab", angmsdae: "\u29ac", angmsdaf: "\u29ad", angmsdag: "\u29ae", angmsdah: "\u29af", angrt: "\u221f", angrtvb: "\u22be", angrtvbd: "\u299d", angsph: "\u2222", angst: "\xc5", angzarr: "\u237c", aogon: "\u0105", Aogon: "\u0104", aopf: "\ud835\udd52", Aopf: "\ud835\udd38", ap: "\u2248", apacir: "\u2a6f", ape: "\u224a", apE: "\u2a70", apid: "\u224b", apos: "'", ApplyFunction: "\u2061", approx: "\u2248", approxeq: "\u224a", aring: "\xe5", Aring: "\xc5", ascr: "\ud835\udcb6", Ascr: "\ud835\udc9c", Assign: "\u2254", ast: "*", asymp: "\u2248", asympeq: "\u224d", atilde: "\xe3", Atilde: "\xc3", auml: "\xe4", Auml: "\xc4", awconint: "\u2233", awint: "\u2a11", backcong: "\u224c", backepsilon: "\u03f6", backprime: "\u2035", backsim: "\u223d", backsimeq: "\u22cd", Backslash: "\u2216", Barv: "\u2ae7", barvee: "\u22bd", barwed: "\u2305", Barwed: "\u2306", barwedge: "\u2305", bbrk: "\u23b5", bbrktbrk: "\u23b6", bcong: "\u224c", bcy: "\u0431", Bcy: "\u0411", bdquo: "\u201e", becaus: "\u2235", because: "\u2235", Because: "\u2235", bemptyv: "\u29b0", bepsi: "\u03f6", bernou: "\u212c", Bernoullis: "\u212c", beta: "\u03b2", Beta: "\u0392", beth: "\u2136", between: "\u226c", bfr: "\ud835\udd1f", Bfr: "\ud835\udd05", bigcap: "\u22c2", bigcirc: "\u25ef", bigcup: "\u22c3", bigodot: "\u2a00", bigoplus: "\u2a01", bigotimes: "\u2a02", bigsqcup: "\u2a06", bigstar: "\u2605", bigtriangledown: "\u25bd", bigtriangleup: "\u25b3", biguplus: "\u2a04", bigvee: "\u22c1", bigwedge: "\u22c0", bkarow: "\u290d", blacklozenge: "\u29eb", blacksquare: "\u25aa", blacktriangle: "\u25b4", blacktriangledown: "\u25be", blacktriangleleft: "\u25c2", blacktriangleright: "\u25b8", blank: "\u2423", blk12: "\u2592", blk14: "\u2591", blk34: "\u2593", block: "\u2588", bne: "=\u20e5", bnequiv: "\u2261\u20e5", bnot: "\u2310", bNot: "\u2aed", bopf: "\ud835\udd53", Bopf: "\ud835\udd39", bot: "\u22a5", bottom: "\u22a5", bowtie: "\u22c8", boxbox: "\u29c9", boxdl: "\u2510", boxdL: "\u2555", boxDl: "\u2556", boxDL: "\u2557", boxdr: "\u250c", boxdR: "\u2552", boxDr: "\u2553", boxDR: "\u2554", boxh: "\u2500", boxH: "\u2550", boxhd: "\u252c", boxhD: "\u2565", boxHd: "\u2564", boxHD: "\u2566", boxhu: "\u2534", boxhU: "\u2568", boxHu: "\u2567", boxHU: "\u2569", boxminus: "\u229f", boxplus: "\u229e", boxtimes: "\u22a0", boxul: "\u2518", boxuL: "\u255b", boxUl: "\u255c", boxUL: "\u255d", boxur: "\u2514", boxuR: "\u2558", boxUr: "\u2559", boxUR: "\u255a", boxv: "\u2502", boxV: "\u2551", boxvh: "\u253c", boxvH: "\u256a", boxVh: "\u256b", boxVH: "\u256c", boxvl: "\u2524", boxvL: "\u2561", boxVl: "\u2562", boxVL: "\u2563", boxvr: "\u251c", boxvR: "\u255e", boxVr: "\u255f", boxVR: "\u2560", bprime: "\u2035", breve: "\u02d8", Breve: "\u02d8", brvbar: "\xa6", bscr: "\ud835\udcb7", Bscr: "\u212c", bsemi: "\u204f", bsim: "\u223d", bsime: "\u22cd", bsol: "\\", bsolb: "\u29c5", bsolhsub: "\u27c8", bull: "\u2022", bullet: "\u2022", bump: "\u224e", bumpe: "\u224f", bumpE: "\u2aae", bumpeq: "\u224f", Bumpeq: "\u224e", cacute: "\u0107", Cacute: "\u0106", cap: "\u2229", Cap: "\u22d2", capand: "\u2a44", capbrcup: "\u2a49", capcap: "\u2a4b", capcup: "\u2a47", capdot: "\u2a40", CapitalDifferentialD: "\u2145", caps: "\u2229\ufe00", caret: "\u2041", caron: "\u02c7", Cayleys: "\u212d", ccaps: "\u2a4d", ccaron: "\u010d", Ccaron: "\u010c", ccedil: "\xe7", Ccedil: "\xc7", ccirc: "\u0109", Ccirc: "\u0108", Cconint: "\u2230", ccups: "\u2a4c", ccupssm: "\u2a50", cdot: "\u010b", Cdot: "\u010a", cedil: "\xb8", Cedilla: "\xb8", cemptyv: "\u29b2", cent: "\xa2", centerdot: "\xb7", CenterDot: "\xb7", cfr: "\ud835\udd20", Cfr: "\u212d", chcy: "\u0447", CHcy: "\u0427", check: "\u2713", checkmark: "\u2713", chi: "\u03c7", Chi: "\u03a7", cir: "\u25cb", circ: "\u02c6", circeq: "\u2257", circlearrowleft: "\u21ba", circlearrowright: "\u21bb", circledast: "\u229b", circledcirc: "\u229a", circleddash: "\u229d", CircleDot: "\u2299", circledR: "\xae", circledS: "\u24c8", CircleMinus: "\u2296", CirclePlus: "\u2295", CircleTimes: "\u2297", cire: "\u2257", cirE: "\u29c3", cirfnint: "\u2a10", cirmid: "\u2aef", cirscir: "\u29c2", ClockwiseContourIntegral: "\u2232", CloseCurlyDoubleQuote: "\u201d", CloseCurlyQuote: "\u2019", clubs: "\u2663", clubsuit: "\u2663", colon: ":", Colon: "\u2237", colone: "\u2254", Colone: "\u2a74", coloneq: "\u2254", comma: ",", commat: "@", comp: "\u2201", compfn: "\u2218", complement: "\u2201", complexes: "\u2102", cong: "\u2245", congdot: "\u2a6d", Congruent: "\u2261", conint: "\u222e", Conint: "\u222f", ContourIntegral: "\u222e", copf: "\ud835\udd54", Copf: "\u2102", coprod: "\u2210", Coproduct: "\u2210", copy: "\xa9", COPY: "\xa9", copysr: "\u2117", CounterClockwiseContourIntegral: "\u2233", crarr: "\u21b5", cross: "\u2717", Cross: "\u2a2f", cscr: "\ud835\udcb8", Cscr: "\ud835\udc9e", csub: "\u2acf", csube: "\u2ad1", csup: "\u2ad0", csupe: "\u2ad2", ctdot: "\u22ef", cudarrl: "\u2938", cudarrr: "\u2935", cuepr: "\u22de", cuesc: "\u22df", cularr: "\u21b6", cularrp: "\u293d", cup: "\u222a", Cup: "\u22d3", cupbrcap: "\u2a48", cupcap: "\u2a46", CupCap: "\u224d", cupcup: "\u2a4a", cupdot: "\u228d", cupor: "\u2a45", cups: "\u222a\ufe00", curarr: "\u21b7", curarrm: "\u293c", curlyeqprec: "\u22de", curlyeqsucc: "\u22df", curlyvee: "\u22ce", curlywedge: "\u22cf", curren: "\xa4", curvearrowleft: "\u21b6", curvearrowright: "\u21b7", cuvee: "\u22ce", cuwed: "\u22cf", cwconint: "\u2232", cwint: "\u2231", cylcty: "\u232d", dagger: "\u2020", Dagger: "\u2021", daleth: "\u2138", darr: "\u2193", dArr: "\u21d3", Darr: "\u21a1", dash: "\u2010", dashv: "\u22a3", Dashv: "\u2ae4", dbkarow: "\u290f", dblac: "\u02dd", dcaron: "\u010f", Dcaron: "\u010e", dcy: "\u0434", Dcy: "\u0414", dd: "\u2146", DD: "\u2145", ddagger: "\u2021", ddarr: "\u21ca", DDotrahd: "\u2911", ddotseq: "\u2a77", deg: "\xb0", Del: "\u2207", delta: "\u03b4", Delta: "\u0394", demptyv: "\u29b1", dfisht: "\u297f", dfr: "\ud835\udd21", Dfr: "\ud835\udd07", dHar: "\u2965", dharl: "\u21c3", dharr: "\u21c2", DiacriticalAcute: "\xb4", DiacriticalDot: "\u02d9", DiacriticalDoubleAcute: "\u02dd", DiacriticalGrave: "`", DiacriticalTilde: "\u02dc", diam: "\u22c4", diamond: "\u22c4", Diamond: "\u22c4", diamondsuit: "\u2666", diams: "\u2666", die: "\xa8", DifferentialD: "\u2146", digamma: "\u03dd", disin: "\u22f2", div: "\xf7", divide: "\xf7", divideontimes: "\u22c7", divonx: "\u22c7", djcy: "\u0452", DJcy: "\u0402", dlcorn: "\u231e", dlcrop: "\u230d", dollar: "$", dopf: "\ud835\udd55", Dopf: "\ud835\udd3b", dot: "\u02d9", Dot: "\xa8", DotDot: "\u20dc", doteq: "\u2250", doteqdot: "\u2251", DotEqual: "\u2250", dotminus: "\u2238", dotplus: "\u2214", dotsquare: "\u22a1", doublebarwedge: "\u2306", DoubleContourIntegral: "\u222f", DoubleDot: "\xa8", DoubleDownArrow: "\u21d3", DoubleLeftArrow: "\u21d0", DoubleLeftRightArrow: "\u21d4", DoubleLeftTee: "\u2ae4", DoubleLongLeftArrow: "\u27f8", DoubleLongLeftRightArrow: "\u27fa", DoubleLongRightArrow: "\u27f9", DoubleRightArrow: "\u21d2", DoubleRightTee: "\u22a8", DoubleUpArrow: "\u21d1", DoubleUpDownArrow: "\u21d5", DoubleVerticalBar: "\u2225", downarrow: "\u2193", Downarrow: "\u21d3", DownArrow: "\u2193", DownArrowBar: "\u2913", DownArrowUpArrow: "\u21f5", DownBreve: "\u0311", downdownarrows: "\u21ca", downharpoonleft: "\u21c3", downharpoonright: "\u21c2", DownLeftRightVector: "\u2950", DownLeftTeeVector: "\u295e", DownLeftVector: "\u21bd", DownLeftVectorBar: "\u2956", DownRightTeeVector: "\u295f", DownRightVector: "\u21c1", DownRightVectorBar: "\u2957", DownTee: "\u22a4", DownTeeArrow: "\u21a7", drbkarow: "\u2910", drcorn: "\u231f", drcrop: "\u230c", dscr: "\ud835\udcb9", Dscr: "\ud835\udc9f", dscy: "\u0455", DScy: "\u0405", dsol: "\u29f6", dstrok: "\u0111", Dstrok: "\u0110", dtdot: "\u22f1", dtri: "\u25bf", dtrif: "\u25be", duarr: "\u21f5", duhar: "\u296f", dwangle: "\u29a6", dzcy: "\u045f", DZcy: "\u040f", dzigrarr: "\u27ff", eacute: "\xe9", Eacute: "\xc9", easter: "\u2a6e", ecaron: "\u011b", Ecaron: "\u011a", ecir: "\u2256", ecirc: "\xea", Ecirc: "\xca", ecolon: "\u2255", ecy: "\u044d", Ecy: "\u042d", eDDot: "\u2a77", edot: "\u0117", eDot: "\u2251", Edot: "\u0116", ee: "\u2147", efDot: "\u2252", efr: "\ud835\udd22", Efr: "\ud835\udd08", eg: "\u2a9a", egrave: "\xe8", Egrave: "\xc8", egs: "\u2a96", egsdot: "\u2a98", el: "\u2a99", Element: "\u2208", elinters: "\u23e7", ell: "\u2113", els: "\u2a95", elsdot: "\u2a97", emacr: "\u0113", Emacr: "\u0112", empty: "\u2205", emptyset: "\u2205", EmptySmallSquare: "\u25fb", emptyv: "\u2205", EmptyVerySmallSquare: "\u25ab", emsp: "\u2003", emsp13: "\u2004", emsp14: "\u2005", eng: "\u014b", ENG: "\u014a", ensp: "\u2002", eogon: "\u0119", Eogon: "\u0118", eopf: "\ud835\udd56", Eopf: "\ud835\udd3c", epar: "\u22d5", eparsl: "\u29e3", eplus: "\u2a71", epsi: "\u03b5", epsilon: "\u03b5", Epsilon: "\u0395", epsiv: "\u03f5", eqcirc: "\u2256", eqcolon: "\u2255", eqsim: "\u2242", eqslantgtr: "\u2a96", eqslantless: "\u2a95", Equal: "\u2a75", equals: "=", EqualTilde: "\u2242", equest: "\u225f", Equilibrium: "\u21cc", equiv: "\u2261", equivDD: "\u2a78", eqvparsl: "\u29e5", erarr: "\u2971", erDot: "\u2253", escr: "\u212f", Escr: "\u2130", esdot: "\u2250", esim: "\u2242", Esim: "\u2a73", eta: "\u03b7", Eta: "\u0397", eth: "\xf0", ETH: "\xd0", euml: "\xeb", Euml: "\xcb", euro: "\u20ac", excl: "!", exist: "\u2203", Exists: "\u2203", expectation: "\u2130", exponentiale: "\u2147", ExponentialE: "\u2147", fallingdotseq: "\u2252", fcy: "\u0444", Fcy: "\u0424", female: "\u2640", ffilig: "\ufb03", fflig: "\ufb00", ffllig: "\ufb04", ffr: "\ud835\udd23", Ffr: "\ud835\udd09", filig: "\ufb01", FilledSmallSquare: "\u25fc", FilledVerySmallSquare: "\u25aa", fjlig: "fj", flat: "\u266d", fllig: "\ufb02", fltns: "\u25b1", fnof: "\u0192", fopf: "\ud835\udd57", Fopf: "\ud835\udd3d", forall: "\u2200", ForAll: "\u2200", fork: "\u22d4", forkv: "\u2ad9", Fouriertrf: "\u2131", fpartint: "\u2a0d", frac12: "\xbd", frac13: "\u2153", frac14: "\xbc", frac15: "\u2155", frac16: "\u2159", frac18: "\u215b", frac23: "\u2154", frac25: "\u2156", frac34: "\xbe", frac35: "\u2157", frac38: "\u215c", frac45: "\u2158", frac56: "\u215a", frac58: "\u215d", frac78: "\u215e", frasl: "\u2044", frown: "\u2322", fscr: "\ud835\udcbb", Fscr: "\u2131", gacute: "\u01f5", gamma: "\u03b3", Gamma: "\u0393", gammad: "\u03dd", Gammad: "\u03dc", gap: "\u2a86", gbreve: "\u011f", Gbreve: "\u011e", Gcedil: "\u0122", gcirc: "\u011d", Gcirc: "\u011c", gcy: "\u0433", Gcy: "\u0413", gdot: "\u0121", Gdot: "\u0120", ge: "\u2265", gE: "\u2267", gel: "\u22db", gEl: "\u2a8c", geq: "\u2265", geqq: "\u2267", geqslant: "\u2a7e", ges: "\u2a7e", gescc: "\u2aa9", gesdot: "\u2a80", gesdoto: "\u2a82", gesdotol: "\u2a84", gesl: "\u22db\ufe00", gesles: "\u2a94", gfr: "\ud835\udd24", Gfr: "\ud835\udd0a", gg: "\u226b", Gg: "\u22d9", ggg: "\u22d9", gimel: "\u2137", gjcy: "\u0453", GJcy: "\u0403", gl: "\u2277", gla: "\u2aa5", glE: "\u2a92", glj: "\u2aa4", gnap: "\u2a8a", gnapprox: "\u2a8a", gne: "\u2a88", gnE: "\u2269", gneq: "\u2a88", gneqq: "\u2269", gnsim: "\u22e7", gopf: "\ud835\udd58", Gopf: "\ud835\udd3e", grave: "`", GreaterEqual: "\u2265", GreaterEqualLess: "\u22db", GreaterFullEqual: "\u2267", GreaterGreater: "\u2aa2", GreaterLess: "\u2277", GreaterSlantEqual: "\u2a7e", GreaterTilde: "\u2273", gscr: "\u210a", Gscr: "\ud835\udca2", gsim: "\u2273", gsime: "\u2a8e", gsiml: "\u2a90", gt: ">", Gt: "\u226b", GT: ">", gtcc: "\u2aa7", gtcir: "\u2a7a", gtdot: "\u22d7", gtlPar: "\u2995", gtquest: "\u2a7c", gtrapprox: "\u2a86", gtrarr: "\u2978", gtrdot: "\u22d7", gtreqless: "\u22db", gtreqqless: "\u2a8c", gtrless: "\u2277", gtrsim: "\u2273", gvertneqq: "\u2269\ufe00", gvnE: "\u2269\ufe00", Hacek: "\u02c7", hairsp: "\u200a", half: "\xbd", hamilt: "\u210b", hardcy: "\u044a", HARDcy: "\u042a", harr: "\u2194", hArr: "\u21d4", harrcir: "\u2948", harrw: "\u21ad", Hat: "^", hbar: "\u210f", hcirc: "\u0125", Hcirc: "\u0124", hearts: "\u2665", heartsuit: "\u2665", hellip: "\u2026", hercon: "\u22b9", hfr: "\ud835\udd25", Hfr: "\u210c", HilbertSpace: "\u210b", hksearow: "\u2925", hkswarow: "\u2926", hoarr: "\u21ff", homtht: "\u223b", hookleftarrow: "\u21a9", hookrightarrow: "\u21aa", hopf: "\ud835\udd59", Hopf: "\u210d", horbar: "\u2015", HorizontalLine: "\u2500", hscr: "\ud835\udcbd", Hscr: "\u210b", hslash: "\u210f", hstrok: "\u0127", Hstrok: "\u0126", HumpDownHump: "\u224e", HumpEqual: "\u224f", hybull: "\u2043", hyphen: "\u2010", iacute: "\xed", Iacute: "\xcd", ic: "\u2063", icirc: "\xee", Icirc: "\xce", icy: "\u0438", Icy: "\u0418", Idot: "\u0130", iecy: "\u0435", IEcy: "\u0415", iexcl: "\xa1", iff: "\u21d4", ifr: "\ud835\udd26", Ifr: "\u2111", igrave: "\xec", Igrave: "\xcc", ii: "\u2148", iiiint: "\u2a0c", iiint: "\u222d", iinfin: "\u29dc", iiota: "\u2129", ijlig: "\u0133", IJlig: "\u0132", Im: "\u2111", imacr: "\u012b", Imacr: "\u012a", image: "\u2111", ImaginaryI: "\u2148", imagline: "\u2110", imagpart: "\u2111", imath: "\u0131", imof: "\u22b7", imped: "\u01b5", Implies: "\u21d2", in: "\u2208", incare: "\u2105", infin: "\u221e", infintie: "\u29dd", inodot: "\u0131", int: "\u222b", Int: "\u222c", intcal: "\u22ba", integers: "\u2124", Integral: "\u222b", intercal: "\u22ba", Intersection: "\u22c2", intlarhk: "\u2a17", intprod: "\u2a3c", InvisibleComma: "\u2063", InvisibleTimes: "\u2062", iocy: "\u0451", IOcy: "\u0401", iogon: "\u012f", Iogon: "\u012e", iopf: "\ud835\udd5a", Iopf: "\ud835\udd40", iota: "\u03b9", Iota: "\u0399", iprod: "\u2a3c", iquest: "\xbf", iscr: "\ud835\udcbe", Iscr: "\u2110", isin: "\u2208", isindot: "\u22f5", isinE: "\u22f9", isins: "\u22f4", isinsv: "\u22f3", isinv: "\u2208", it: "\u2062", itilde: "\u0129", Itilde: "\u0128", iukcy: "\u0456", Iukcy: "\u0406", iuml: "\xef", Iuml: "\xcf", jcirc: "\u0135", Jcirc: "\u0134", jcy: "\u0439", Jcy: "\u0419", jfr: "\ud835\udd27", Jfr: "\ud835\udd0d", jmath: "\u0237", jopf: "\ud835\udd5b", Jopf: "\ud835\udd41", jscr: "\ud835\udcbf", Jscr: "\ud835\udca5", jsercy: "\u0458", Jsercy: "\u0408", jukcy: "\u0454", Jukcy: "\u0404", kappa: "\u03ba", Kappa: "\u039a", kappav: "\u03f0", kcedil: "\u0137", Kcedil: "\u0136", kcy: "\u043a", Kcy: "\u041a", kfr: "\ud835\udd28", Kfr: "\ud835\udd0e", kgreen: "\u0138", khcy: "\u0445", KHcy: "\u0425", kjcy: "\u045c", KJcy: "\u040c", kopf: "\ud835\udd5c", Kopf: "\ud835\udd42", kscr: "\ud835\udcc0", Kscr: "\ud835\udca6", lAarr: "\u21da", lacute: "\u013a", Lacute: "\u0139", laemptyv: "\u29b4", lagran: "\u2112", lambda: "\u03bb", Lambda: "\u039b", lang: "\u27e8", Lang: "\u27ea", langd: "\u2991", langle: "\u27e8", lap: "\u2a85", Laplacetrf: "\u2112", laquo: "\xab", larr: "\u2190", lArr: "\u21d0", Larr: "\u219e", larrb: "\u21e4", larrbfs: "\u291f", larrfs: "\u291d", larrhk: "\u21a9", larrlp: "\u21ab", larrpl: "\u2939", larrsim: "\u2973", larrtl: "\u21a2", lat: "\u2aab", latail: "\u2919", lAtail: "\u291b", late: "\u2aad", lates: "\u2aad\ufe00", lbarr: "\u290c", lBarr: "\u290e", lbbrk: "\u2772", lbrace: "{", lbrack: "[", lbrke: "\u298b", lbrksld: "\u298f", lbrkslu: "\u298d", lcaron: "\u013e", Lcaron: "\u013d", lcedil: "\u013c", Lcedil: "\u013b", lceil: "\u2308", lcub: "{", lcy: "\u043b", Lcy: "\u041b", ldca: "\u2936", ldquo: "\u201c", ldquor: "\u201e", ldrdhar: "\u2967", ldrushar: "\u294b", ldsh: "\u21b2", le: "\u2264", lE: "\u2266", LeftAngleBracket: "\u27e8", leftarrow: "\u2190", Leftarrow: "\u21d0", LeftArrow: "\u2190", LeftArrowBar: "\u21e4", LeftArrowRightArrow: "\u21c6", leftarrowtail: "\u21a2", LeftCeiling: "\u2308", LeftDoubleBracket: "\u27e6", LeftDownTeeVector: "\u2961", LeftDownVector: "\u21c3", LeftDownVectorBar: "\u2959", LeftFloor: "\u230a", leftharpoondown: "\u21bd", leftharpoonup: "\u21bc", leftleftarrows: "\u21c7", leftrightarrow: "\u2194", Leftrightarrow: "\u21d4", LeftRightArrow: "\u2194", leftrightarrows: "\u21c6", leftrightharpoons: "\u21cb", leftrightsquigarrow: "\u21ad", LeftRightVector: "\u294e", LeftTee: "\u22a3", LeftTeeArrow: "\u21a4", LeftTeeVector: "\u295a", leftthreetimes: "\u22cb", LeftTriangle: "\u22b2", LeftTriangleBar: "\u29cf", LeftTriangleEqual: "\u22b4", LeftUpDownVector: "\u2951", LeftUpTeeVector: "\u2960", LeftUpVector: "\u21bf", LeftUpVectorBar: "\u2958", LeftVector: "\u21bc", LeftVectorBar: "\u2952", leg: "\u22da", lEg: "\u2a8b", leq: "\u2264", leqq: "\u2266", leqslant: "\u2a7d", les: "\u2a7d", lescc: "\u2aa8", lesdot: "\u2a7f", lesdoto: "\u2a81", lesdotor: "\u2a83", lesg: "\u22da\ufe00", lesges: "\u2a93", lessapprox: "\u2a85", lessdot: "\u22d6", lesseqgtr: "\u22da", lesseqqgtr: "\u2a8b", LessEqualGreater: "\u22da", LessFullEqual: "\u2266", LessGreater: "\u2276", lessgtr: "\u2276", LessLess: "\u2aa1", lesssim: "\u2272", LessSlantEqual: "\u2a7d", LessTilde: "\u2272", lfisht: "\u297c", lfloor: "\u230a", lfr: "\ud835\udd29", Lfr: "\ud835\udd0f", lg: "\u2276", lgE: "\u2a91", lHar: "\u2962", lhard: "\u21bd", lharu: "\u21bc", lharul: "\u296a", lhblk: "\u2584", ljcy: "\u0459", LJcy: "\u0409", ll: "\u226a", Ll: "\u22d8", llarr: "\u21c7", llcorner: "\u231e", Lleftarrow: "\u21da", llhard: "\u296b", lltri: "\u25fa", lmidot: "\u0140", Lmidot: "\u013f", lmoust: "\u23b0", lmoustache: "\u23b0", lnap: "\u2a89", lnapprox: "\u2a89", lne: "\u2a87", lnE: "\u2268", lneq: "\u2a87", lneqq: "\u2268", lnsim: "\u22e6", loang: "\u27ec", loarr: "\u21fd", lobrk: "\u27e6", longleftarrow: "\u27f5", Longleftarrow: "\u27f8", LongLeftArrow: "\u27f5", longleftrightarrow: "\u27f7", Longleftrightarrow: "\u27fa", LongLeftRightArrow: "\u27f7", longmapsto: "\u27fc", longrightarrow: "\u27f6", Longrightarrow: "\u27f9", LongRightArrow: "\u27f6", looparrowleft: "\u21ab", looparrowright: "\u21ac", lopar: "\u2985", lopf: "\ud835\udd5d", Lopf: "\ud835\udd43", loplus: "\u2a2d", lotimes: "\u2a34", lowast: "\u2217", lowbar: "_", LowerLeftArrow: "\u2199", LowerRightArrow: "\u2198", loz: "\u25ca", lozenge: "\u25ca", lozf: "\u29eb", lpar: "(", lparlt: "\u2993", lrarr: "\u21c6", lrcorner: "\u231f", lrhar: "\u21cb", lrhard: "\u296d", lrm: "\u200e", lrtri: "\u22bf", lsaquo: "\u2039", lscr: "\ud835\udcc1", Lscr: "\u2112", lsh: "\u21b0", Lsh: "\u21b0", lsim: "\u2272", lsime: "\u2a8d", lsimg: "\u2a8f", lsqb: "[", lsquo: "\u2018", lsquor: "\u201a", lstrok: "\u0142", Lstrok: "\u0141", lt: "<", Lt: "\u226a", LT: "<", ltcc: "\u2aa6", ltcir: "\u2a79", ltdot: "\u22d6", lthree: "\u22cb", ltimes: "\u22c9", ltlarr: "\u2976", ltquest: "\u2a7b", ltri: "\u25c3", ltrie: "\u22b4", ltrif: "\u25c2", ltrPar: "\u2996", lurdshar: "\u294a", luruhar: "\u2966", lvertneqq: "\u2268\ufe00", lvnE: "\u2268\ufe00", macr: "\xaf", male: "\u2642", malt: "\u2720", maltese: "\u2720", map: "\u21a6", Map: "\u2905", mapsto: "\u21a6", mapstodown: "\u21a7", mapstoleft: "\u21a4", mapstoup: "\u21a5", marker: "\u25ae", mcomma: "\u2a29", mcy: "\u043c", Mcy: "\u041c", mdash: "\u2014", mDDot: "\u223a", measuredangle: "\u2221", MediumSpace: "\u205f", Mellintrf: "\u2133", mfr: "\ud835\udd2a", Mfr: "\ud835\udd10", mho: "\u2127", micro: "\xb5", mid: "\u2223", midast: "*", midcir: "\u2af0", middot: "\xb7", minus: "\u2212", minusb: "\u229f", minusd: "\u2238", minusdu: "\u2a2a", MinusPlus: "\u2213", mlcp: "\u2adb", mldr: "\u2026", mnplus: "\u2213", models: "\u22a7", mopf: "\ud835\udd5e", Mopf: "\ud835\udd44", mp: "\u2213", mscr: "\ud835\udcc2", Mscr: "\u2133", mstpos: "\u223e", mu: "\u03bc", Mu: "\u039c", multimap: "\u22b8", mumap: "\u22b8", nabla: "\u2207", nacute: "\u0144", Nacute: "\u0143", nang: "\u2220\u20d2", nap: "\u2249", napE: "\u2a70\u0338", napid: "\u224b\u0338", napos: "\u0149", napprox: "\u2249", natur: "\u266e", natural: "\u266e", naturals: "\u2115", nbsp: "\xa0", nbump: "\u224e\u0338", nbumpe: "\u224f\u0338", ncap: "\u2a43", ncaron: "\u0148", Ncaron: "\u0147", ncedil: "\u0146", Ncedil: "\u0145", ncong: "\u2247", ncongdot: "\u2a6d\u0338", ncup: "\u2a42", ncy: "\u043d", Ncy: "\u041d", ndash: "\u2013", ne: "\u2260", nearhk: "\u2924", nearr: "\u2197", neArr: "\u21d7", nearrow: "\u2197", nedot: "\u2250\u0338", NegativeMediumSpace: "\u200b", NegativeThickSpace: "\u200b", NegativeThinSpace: "\u200b", NegativeVeryThinSpace: "\u200b", nequiv: "\u2262", nesear: "\u2928", nesim: "\u2242\u0338", NestedGreaterGreater: "\u226b", NestedLessLess: "\u226a", NewLine: "\n", nexist: "\u2204", nexists: "\u2204", nfr: "\ud835\udd2b", Nfr: "\ud835\udd11", nge: "\u2271", ngE: "\u2267\u0338", ngeq: "\u2271", ngeqq: "\u2267\u0338", ngeqslant: "\u2a7e\u0338", nges: "\u2a7e\u0338", nGg: "\u22d9\u0338", ngsim: "\u2275", ngt: "\u226f", nGt: "\u226b\u20d2", ngtr: "\u226f", nGtv: "\u226b\u0338", nharr: "\u21ae", nhArr: "\u21ce", nhpar: "\u2af2", ni: "\u220b", nis: "\u22fc", nisd: "\u22fa", niv: "\u220b", njcy: "\u045a", NJcy: "\u040a", nlarr: "\u219a", nlArr: "\u21cd", nldr: "\u2025", nle: "\u2270", nlE: "\u2266\u0338", nleftarrow: "\u219a", nLeftarrow: "\u21cd", nleftrightarrow: "\u21ae", nLeftrightarrow: "\u21ce", nleq: "\u2270", nleqq: "\u2266\u0338", nleqslant: "\u2a7d\u0338", nles: "\u2a7d\u0338", nless: "\u226e", nLl: "\u22d8\u0338", nlsim: "\u2274", nlt: "\u226e", nLt: "\u226a\u20d2", nltri: "\u22ea", nltrie: "\u22ec", nLtv: "\u226a\u0338", nmid: "\u2224", NoBreak: "\u2060", NonBreakingSpace: "\xa0", nopf: "\ud835\udd5f", Nopf: "\u2115", not: "\xac", Not: "\u2aec", NotCongruent: "\u2262", NotCupCap: "\u226d", NotDoubleVerticalBar: "\u2226", NotElement: "\u2209", NotEqual: "\u2260", NotEqualTilde: "\u2242\u0338", NotExists: "\u2204", NotGreater: "\u226f", NotGreaterEqual: "\u2271", NotGreaterFullEqual: "\u2267\u0338", NotGreaterGreater: "\u226b\u0338", NotGreaterLess: "\u2279", NotGreaterSlantEqual: "\u2a7e\u0338", NotGreaterTilde: "\u2275", NotHumpDownHump: "\u224e\u0338", NotHumpEqual: "\u224f\u0338", notin: "\u2209", notindot: "\u22f5\u0338", notinE: "\u22f9\u0338", notinva: "\u2209", notinvb: "\u22f7", notinvc: "\u22f6", NotLeftTriangle: "\u22ea", NotLeftTriangleBar: "\u29cf\u0338", NotLeftTriangleEqual: "\u22ec", NotLess: "\u226e", NotLessEqual: "\u2270", NotLessGreater: "\u2278", NotLessLess: "\u226a\u0338", NotLessSlantEqual: "\u2a7d\u0338", NotLessTilde: "\u2274", NotNestedGreaterGreater: "\u2aa2\u0338", NotNestedLessLess: "\u2aa1\u0338", notni: "\u220c", notniva: "\u220c", notnivb: "\u22fe", notnivc: "\u22fd", NotPrecedes: "\u2280", NotPrecedesEqual: "\u2aaf\u0338", NotPrecedesSlantEqual: "\u22e0", NotReverseElement: "\u220c", NotRightTriangle: "\u22eb", NotRightTriangleBar: "\u29d0\u0338", NotRightTriangleEqual: "\u22ed", NotSquareSubset: "\u228f\u0338", NotSquareSubsetEqual: "\u22e2", NotSquareSuperset: "\u2290\u0338", NotSquareSupersetEqual: "\u22e3", NotSubset: "\u2282\u20d2", NotSubsetEqual: "\u2288", NotSucceeds: "\u2281", NotSucceedsEqual: "\u2ab0\u0338", NotSucceedsSlantEqual: "\u22e1", NotSucceedsTilde: "\u227f\u0338", NotSuperset: "\u2283\u20d2", NotSupersetEqual: "\u2289", NotTilde: "\u2241", NotTildeEqual: "\u2244", NotTildeFullEqual: "\u2247", NotTildeTilde: "\u2249", NotVerticalBar: "\u2224", npar: "\u2226", nparallel: "\u2226", nparsl: "\u2afd\u20e5", npart: "\u2202\u0338", npolint: "\u2a14", npr: "\u2280", nprcue: "\u22e0", npre: "\u2aaf\u0338", nprec: "\u2280", npreceq: "\u2aaf\u0338", nrarr: "\u219b", nrArr: "\u21cf", nrarrc: "\u2933\u0338", nrarrw: "\u219d\u0338", nrightarrow: "\u219b", nRightarrow: "\u21cf", nrtri: "\u22eb", nrtrie: "\u22ed", nsc: "\u2281", nsccue: "\u22e1", nsce: "\u2ab0\u0338", nscr: "\ud835\udcc3", Nscr: "\ud835\udca9", nshortmid: "\u2224", nshortparallel: "\u2226", nsim: "\u2241", nsime: "\u2244", nsimeq: "\u2244", nsmid: "\u2224", nspar: "\u2226", nsqsube: "\u22e2", nsqsupe: "\u22e3", nsub: "\u2284", nsube: "\u2288", nsubE: "\u2ac5\u0338", nsubset: "\u2282\u20d2", nsubseteq: "\u2288", nsubseteqq: "\u2ac5\u0338", nsucc: "\u2281", nsucceq: "\u2ab0\u0338", nsup: "\u2285", nsupe: "\u2289", nsupE: "\u2ac6\u0338", nsupset: "\u2283\u20d2", nsupseteq: "\u2289", nsupseteqq: "\u2ac6\u0338", ntgl: "\u2279", ntilde: "\xf1", Ntilde: "\xd1", ntlg: "\u2278", ntriangleleft: "\u22ea", ntrianglelefteq: "\u22ec", ntriangleright: "\u22eb", ntrianglerighteq: "\u22ed", nu: "\u03bd", Nu: "\u039d", num: "#", numero: "\u2116", numsp: "\u2007", nvap: "\u224d\u20d2", nvdash: "\u22ac", nvDash: "\u22ad", nVdash: "\u22ae", nVDash: "\u22af", nvge: "\u2265\u20d2", nvgt: ">\u20d2", nvHarr: "\u2904", nvinfin: "\u29de", nvlArr: "\u2902", nvle: "\u2264\u20d2", nvlt: "<\u20d2", nvltrie: "\u22b4\u20d2", nvrArr: "\u2903", nvrtrie: "\u22b5\u20d2", nvsim: "\u223c\u20d2", nwarhk: "\u2923", nwarr: "\u2196", nwArr: "\u21d6", nwarrow: "\u2196", nwnear: "\u2927", oacute: "\xf3", Oacute: "\xd3", oast: "\u229b", ocir: "\u229a", ocirc: "\xf4", Ocirc: "\xd4", ocy: "\u043e", Ocy: "\u041e", odash: "\u229d", odblac: "\u0151", Odblac: "\u0150", odiv: "\u2a38", odot: "\u2299", odsold: "\u29bc", oelig: "\u0153", OElig: "\u0152", ofcir: "\u29bf", ofr: "\ud835\udd2c", Ofr: "\ud835\udd12", ogon: "\u02db", ograve: "\xf2", Ograve: "\xd2", ogt: "\u29c1", ohbar: "\u29b5", ohm: "\u03a9", oint: "\u222e", olarr: "\u21ba", olcir: "\u29be", olcross: "\u29bb", oline: "\u203e", olt: "\u29c0", omacr: "\u014d", Omacr: "\u014c", omega: "\u03c9", Omega: "\u03a9", omicron: "\u03bf", Omicron: "\u039f", omid: "\u29b6", ominus: "\u2296", oopf: "\ud835\udd60", Oopf: "\ud835\udd46", opar: "\u29b7", OpenCurlyDoubleQuote: "\u201c", OpenCurlyQuote: "\u2018", operp: "\u29b9", oplus: "\u2295", or: "\u2228", Or: "\u2a54", orarr: "\u21bb", ord: "\u2a5d", order: "\u2134", orderof: "\u2134", ordf: "\xaa", ordm: "\xba", origof: "\u22b6", oror: "\u2a56", orslope: "\u2a57", orv: "\u2a5b", oS: "\u24c8", oscr: "\u2134", Oscr: "\ud835\udcaa", oslash: "\xf8", Oslash: "\xd8", osol: "\u2298", otilde: "\xf5", Otilde: "\xd5", otimes: "\u2297", Otimes: "\u2a37", otimesas: "\u2a36", ouml: "\xf6", Ouml: "\xd6", ovbar: "\u233d", OverBar: "\u203e", OverBrace: "\u23de", OverBracket: "\u23b4", OverParenthesis: "\u23dc", par: "\u2225", para: "\xb6", parallel: "\u2225", parsim: "\u2af3", parsl: "\u2afd", part: "\u2202", PartialD: "\u2202", pcy: "\u043f", Pcy: "\u041f", percnt: "%", period: ".", permil: "\u2030", perp: "\u22a5", pertenk: "\u2031", pfr: "\ud835\udd2d", Pfr: "\ud835\udd13", phi: "\u03c6", Phi: "\u03a6", phiv: "\u03d5", phmmat: "\u2133", phone: "\u260e", pi: "\u03c0", Pi: "\u03a0", pitchfork: "\u22d4", piv: "\u03d6", planck: "\u210f", planckh: "\u210e", plankv: "\u210f", plus: "+", plusacir: "\u2a23", plusb: "\u229e", pluscir: "\u2a22", plusdo: "\u2214", plusdu: "\u2a25", pluse: "\u2a72", PlusMinus: "\xb1", plusmn: "\xb1", plussim: "\u2a26", plustwo: "\u2a27", pm: "\xb1", Poincareplane: "\u210c", pointint: "\u2a15", popf: "\ud835\udd61", Popf: "\u2119", pound: "\xa3", pr: "\u227a", Pr: "\u2abb", prap: "\u2ab7", prcue: "\u227c", pre: "\u2aaf", prE: "\u2ab3", prec: "\u227a", precapprox: "\u2ab7", preccurlyeq: "\u227c", Precedes: "\u227a", PrecedesEqual: "\u2aaf", PrecedesSlantEqual: "\u227c", PrecedesTilde: "\u227e", preceq: "\u2aaf", precnapprox: "\u2ab9", precneqq: "\u2ab5", precnsim: "\u22e8", precsim: "\u227e", prime: "\u2032", Prime: "\u2033", primes: "\u2119", prnap: "\u2ab9", prnE: "\u2ab5", prnsim: "\u22e8", prod: "\u220f", Product: "\u220f", profalar: "\u232e", profline: "\u2312", profsurf: "\u2313", prop: "\u221d", Proportion: "\u2237", Proportional: "\u221d", propto: "\u221d", prsim: "\u227e", prurel: "\u22b0", pscr: "\ud835\udcc5", Pscr: "\ud835\udcab", psi: "\u03c8", Psi: "\u03a8", puncsp: "\u2008", qfr: "\ud835\udd2e", Qfr: "\ud835\udd14", qint: "\u2a0c", qopf: "\ud835\udd62", Qopf: "\u211a", qprime: "\u2057", qscr: "\ud835\udcc6", Qscr: "\ud835\udcac", quaternions: "\u210d", quatint: "\u2a16", quest: "?", questeq: "\u225f", quot: '"', QUOT: '"', rAarr: "\u21db", race: "\u223d\u0331", racute: "\u0155", Racute: "\u0154", radic: "\u221a", raemptyv: "\u29b3", rang: "\u27e9", Rang: "\u27eb", rangd: "\u2992", range: "\u29a5", rangle: "\u27e9", raquo: "\xbb", rarr: "\u2192", rArr: "\u21d2", Rarr: "\u21a0", rarrap: "\u2975", rarrb: "\u21e5", rarrbfs: "\u2920", rarrc: "\u2933", rarrfs: "\u291e", rarrhk: "\u21aa", rarrlp: "\u21ac", rarrpl: "\u2945", rarrsim: "\u2974", rarrtl: "\u21a3", Rarrtl: "\u2916", rarrw: "\u219d", ratail: "\u291a", rAtail: "\u291c", ratio: "\u2236", rationals: "\u211a", rbarr: "\u290d", rBarr: "\u290f", RBarr: "\u2910", rbbrk: "\u2773", rbrace: "}", rbrack: "]", rbrke: "\u298c", rbrksld: "\u298e", rbrkslu: "\u2990", rcaron: "\u0159", Rcaron: "\u0158", rcedil: "\u0157", Rcedil: "\u0156", rceil: "\u2309", rcub: "}", rcy: "\u0440", Rcy: "\u0420", rdca: "\u2937", rdldhar: "\u2969", rdquo: "\u201d", rdquor: "\u201d", rdsh: "\u21b3", Re: "\u211c", real: "\u211c", realine: "\u211b", realpart: "\u211c", reals: "\u211d", rect: "\u25ad", reg: "\xae", REG: "\xae", ReverseElement: "\u220b", ReverseEquilibrium: "\u21cb", ReverseUpEquilibrium: "\u296f", rfisht: "\u297d", rfloor: "\u230b", rfr: "\ud835\udd2f", Rfr: "\u211c", rHar: "\u2964", rhard: "\u21c1", rharu: "\u21c0", rharul: "\u296c", rho: "\u03c1", Rho: "\u03a1", rhov: "\u03f1", RightAngleBracket: "\u27e9", rightarrow: "\u2192", Rightarrow: "\u21d2", RightArrow: "\u2192", RightArrowBar: "\u21e5", RightArrowLeftArrow: "\u21c4", rightarrowtail: "\u21a3", RightCeiling: "\u2309", RightDoubleBracket: "\u27e7", RightDownTeeVector: "\u295d", RightDownVector: "\u21c2", RightDownVectorBar: "\u2955", RightFloor: "\u230b", rightharpoondown: "\u21c1", rightharpoonup: "\u21c0", rightleftarrows: "\u21c4", rightleftharpoons: "\u21cc", rightrightarrows: "\u21c9", rightsquigarrow: "\u219d", RightTee: "\u22a2", RightTeeArrow: "\u21a6", RightTeeVector: "\u295b", rightthreetimes: "\u22cc", RightTriangle: "\u22b3", RightTriangleBar: "\u29d0", RightTriangleEqual: "\u22b5", RightUpDownVector: "\u294f", RightUpTeeVector: "\u295c", RightUpVector: "\u21be", RightUpVectorBar: "\u2954", RightVector: "\u21c0", RightVectorBar: "\u2953", ring: "\u02da", risingdotseq: "\u2253", rlarr: "\u21c4", rlhar: "\u21cc", rlm: "\u200f", rmoust: "\u23b1", rmoustache: "\u23b1", rnmid: "\u2aee", roang: "\u27ed", roarr: "\u21fe", robrk: "\u27e7", ropar: "\u2986", ropf: "\ud835\udd63", Ropf: "\u211d", roplus: "\u2a2e", rotimes: "\u2a35", RoundImplies: "\u2970", rpar: ")", rpargt: "\u2994", rppolint: "\u2a12", rrarr: "\u21c9", Rrightarrow: "\u21db", rsaquo: "\u203a", rscr: "\ud835\udcc7", Rscr: "\u211b", rsh: "\u21b1", Rsh: "\u21b1", rsqb: "]", rsquo: "\u2019", rsquor: "\u2019", rthree: "\u22cc", rtimes: "\u22ca", rtri: "\u25b9", rtrie: "\u22b5", rtrif: "\u25b8", rtriltri: "\u29ce", RuleDelayed: "\u29f4", ruluhar: "\u2968", rx: "\u211e", sacute: "\u015b", Sacute: "\u015a", sbquo: "\u201a", sc: "\u227b", Sc: "\u2abc", scap: "\u2ab8", scaron: "\u0161", Scaron: "\u0160", sccue: "\u227d", sce: "\u2ab0", scE: "\u2ab4", scedil: "\u015f", Scedil: "\u015e", scirc: "\u015d", Scirc: "\u015c", scnap: "\u2aba", scnE: "\u2ab6", scnsim: "\u22e9", scpolint: "\u2a13", scsim: "\u227f", scy: "\u0441", Scy: "\u0421", sdot: "\u22c5", sdotb: "\u22a1", sdote: "\u2a66", searhk: "\u2925", searr: "\u2198", seArr: "\u21d8", searrow: "\u2198", sect: "\xa7", semi: ";", seswar: "\u2929", setminus: "\u2216", setmn: "\u2216", sext: "\u2736", sfr: "\ud835\udd30", Sfr: "\ud835\udd16", sfrown: "\u2322", sharp: "\u266f", shchcy: "\u0449", SHCHcy: "\u0429", shcy: "\u0448", SHcy: "\u0428", ShortDownArrow: "\u2193", ShortLeftArrow: "\u2190", shortmid: "\u2223", shortparallel: "\u2225", ShortRightArrow: "\u2192", ShortUpArrow: "\u2191", shy: "\xad", sigma: "\u03c3", Sigma: "\u03a3", sigmaf: "\u03c2", sigmav: "\u03c2", sim: "\u223c", simdot: "\u2a6a", sime: "\u2243", simeq: "\u2243", simg: "\u2a9e", simgE: "\u2aa0", siml: "\u2a9d", simlE: "\u2a9f", simne: "\u2246", simplus: "\u2a24", simrarr: "\u2972", slarr: "\u2190", SmallCircle: "\u2218", smallsetminus: "\u2216", smashp: "\u2a33", smeparsl: "\u29e4", smid: "\u2223", smile: "\u2323", smt: "\u2aaa", smte: "\u2aac", smtes: "\u2aac\ufe00", softcy: "\u044c", SOFTcy: "\u042c", sol: "/", solb: "\u29c4", solbar: "\u233f", sopf: "\ud835\udd64", Sopf: "\ud835\udd4a", spades: "\u2660", spadesuit: "\u2660", spar: "\u2225", sqcap: "\u2293", sqcaps: "\u2293\ufe00", sqcup: "\u2294", sqcups: "\u2294\ufe00", Sqrt: "\u221a", sqsub: "\u228f", sqsube: "\u2291", sqsubset: "\u228f", sqsubseteq: "\u2291", sqsup: "\u2290", sqsupe: "\u2292", sqsupset: "\u2290", sqsupseteq: "\u2292", squ: "\u25a1", square: "\u25a1", Square: "\u25a1", SquareIntersection: "\u2293", SquareSubset: "\u228f", SquareSubsetEqual: "\u2291", SquareSuperset: "\u2290", SquareSupersetEqual: "\u2292", SquareUnion: "\u2294", squarf: "\u25aa", squf: "\u25aa", srarr: "\u2192", sscr: "\ud835\udcc8", Sscr: "\ud835\udcae", ssetmn: "\u2216", ssmile: "\u2323", sstarf: "\u22c6", star: "\u2606", Star: "\u22c6", starf: "\u2605", straightepsilon: "\u03f5", straightphi: "\u03d5", strns: "\xaf", sub: "\u2282", Sub: "\u22d0", subdot: "\u2abd", sube: "\u2286", subE: "\u2ac5", subedot: "\u2ac3", submult: "\u2ac1", subne: "\u228a", subnE: "\u2acb", subplus: "\u2abf", subrarr: "\u2979", subset: "\u2282", Subset: "\u22d0", subseteq: "\u2286", subseteqq: "\u2ac5", SubsetEqual: "\u2286", subsetneq: "\u228a", subsetneqq: "\u2acb", subsim: "\u2ac7", subsub: "\u2ad5", subsup: "\u2ad3", succ: "\u227b", succapprox: "\u2ab8", succcurlyeq: "\u227d", Succeeds: "\u227b", SucceedsEqual: "\u2ab0", SucceedsSlantEqual: "\u227d", SucceedsTilde: "\u227f", succeq: "\u2ab0", succnapprox: "\u2aba", succneqq: "\u2ab6", succnsim: "\u22e9", succsim: "\u227f", SuchThat: "\u220b", sum: "\u2211", Sum: "\u2211", sung: "\u266a", sup: "\u2283", Sup: "\u22d1", sup1: "\xb9", sup2: "\xb2", sup3: "\xb3", supdot: "\u2abe", supdsub: "\u2ad8", supe: "\u2287", supE: "\u2ac6", supedot: "\u2ac4", Superset: "\u2283", SupersetEqual: "\u2287", suphsol: "\u27c9", suphsub: "\u2ad7", suplarr: "\u297b", supmult: "\u2ac2", supne: "\u228b", supnE: "\u2acc", supplus: "\u2ac0", supset: "\u2283", Supset: "\u22d1", supseteq: "\u2287", supseteqq: "\u2ac6", supsetneq: "\u228b", supsetneqq: "\u2acc", supsim: "\u2ac8", supsub: "\u2ad4", supsup: "\u2ad6", swarhk: "\u2926", swarr: "\u2199", swArr: "\u21d9", swarrow: "\u2199", swnwar: "\u292a", szlig: "\xdf", Tab: "\t", target: "\u2316", tau: "\u03c4", Tau: "\u03a4", tbrk: "\u23b4", tcaron: "\u0165", Tcaron: "\u0164", tcedil: "\u0163", Tcedil: "\u0162", tcy: "\u0442", Tcy: "\u0422", tdot: "\u20db", telrec: "\u2315", tfr: "\ud835\udd31", Tfr: "\ud835\udd17", there4: "\u2234", therefore: "\u2234", Therefore: "\u2234", theta: "\u03b8", Theta: "\u0398", thetasym: "\u03d1", thetav: "\u03d1", thickapprox: "\u2248", thicksim: "\u223c", ThickSpace: "\u205f\u200a", thinsp: "\u2009", ThinSpace: "\u2009", thkap: "\u2248", thksim: "\u223c", thorn: "\xfe", THORN: "\xde", tilde: "\u02dc", Tilde: "\u223c", TildeEqual: "\u2243", TildeFullEqual: "\u2245", TildeTilde: "\u2248", times: "\xd7", timesb: "\u22a0", timesbar: "\u2a31", timesd: "\u2a30", tint: "\u222d", toea: "\u2928", top: "\u22a4", topbot: "\u2336", topcir: "\u2af1", topf: "\ud835\udd65", Topf: "\ud835\udd4b", topfork: "\u2ada", tosa: "\u2929", tprime: "\u2034", trade: "\u2122", TRADE: "\u2122", triangle: "\u25b5", triangledown: "\u25bf", triangleleft: "\u25c3", trianglelefteq: "\u22b4", triangleq: "\u225c", triangleright: "\u25b9", trianglerighteq: "\u22b5", tridot: "\u25ec", trie: "\u225c", triminus: "\u2a3a", TripleDot: "\u20db", triplus: "\u2a39", trisb: "\u29cd", tritime: "\u2a3b", trpezium: "\u23e2", tscr: "\ud835\udcc9", Tscr: "\ud835\udcaf", tscy: "\u0446", TScy: "\u0426", tshcy: "\u045b", TSHcy: "\u040b", tstrok: "\u0167", Tstrok: "\u0166", twixt: "\u226c", twoheadleftarrow: "\u219e", twoheadrightarrow: "\u21a0", uacute: "\xfa", Uacute: "\xda", uarr: "\u2191", uArr: "\u21d1", Uarr: "\u219f", Uarrocir: "\u2949", ubrcy: "\u045e", Ubrcy: "\u040e", ubreve: "\u016d", Ubreve: "\u016c", ucirc: "\xfb", Ucirc: "\xdb", ucy: "\u0443", Ucy: "\u0423", udarr: "\u21c5", udblac: "\u0171", Udblac: "\u0170", udhar: "\u296e", ufisht: "\u297e", ufr: "\ud835\udd32", Ufr: "\ud835\udd18", ugrave: "\xf9", Ugrave: "\xd9", uHar: "\u2963", uharl: "\u21bf", uharr: "\u21be", uhblk: "\u2580", ulcorn: "\u231c", ulcorner: "\u231c", ulcrop: "\u230f", ultri: "\u25f8", umacr: "\u016b", Umacr: "\u016a", uml: "\xa8", UnderBar: "_", UnderBrace: "\u23df", UnderBracket: "\u23b5", UnderParenthesis: "\u23dd", Union: "\u22c3", UnionPlus: "\u228e", uogon: "\u0173", Uogon: "\u0172", uopf: "\ud835\udd66", Uopf: "\ud835\udd4c", uparrow: "\u2191", Uparrow: "\u21d1", UpArrow: "\u2191", UpArrowBar: "\u2912", UpArrowDownArrow: "\u21c5", updownarrow: "\u2195", Updownarrow: "\u21d5", UpDownArrow: "\u2195", UpEquilibrium: "\u296e", upharpoonleft: "\u21bf", upharpoonright: "\u21be", uplus: "\u228e", UpperLeftArrow: "\u2196", UpperRightArrow: "\u2197", upsi: "\u03c5", Upsi: "\u03d2", upsih: "\u03d2", upsilon: "\u03c5", Upsilon: "\u03a5", UpTee: "\u22a5", UpTeeArrow: "\u21a5", upuparrows: "\u21c8", urcorn: "\u231d", urcorner: "\u231d", urcrop: "\u230e", uring: "\u016f", Uring: "\u016e", urtri: "\u25f9", uscr: "\ud835\udcca", Uscr: "\ud835\udcb0", utdot: "\u22f0", utilde: "\u0169", Utilde: "\u0168", utri: "\u25b5", utrif: "\u25b4", uuarr: "\u21c8", uuml: "\xfc", Uuml: "\xdc", uwangle: "\u29a7", vangrt: "\u299c", varepsilon: "\u03f5", varkappa: "\u03f0", varnothing: "\u2205", varphi: "\u03d5", varpi: "\u03d6", varpropto: "\u221d", varr: "\u2195", vArr: "\u21d5", varrho: "\u03f1", varsigma: "\u03c2", varsubsetneq: "\u228a\ufe00", varsubsetneqq: "\u2acb\ufe00", varsupsetneq: "\u228b\ufe00", varsupsetneqq: "\u2acc\ufe00", vartheta: "\u03d1", vartriangleleft: "\u22b2", vartriangleright: "\u22b3", vBar: "\u2ae8", Vbar: "\u2aeb", vBarv: "\u2ae9", vcy: "\u0432", Vcy: "\u0412", vdash: "\u22a2", vDash: "\u22a8", Vdash: "\u22a9", VDash: "\u22ab", Vdashl: "\u2ae6", vee: "\u2228", Vee: "\u22c1", veebar: "\u22bb", veeeq: "\u225a", vellip: "\u22ee", verbar: "|", Verbar: "\u2016", vert: "|", Vert: "\u2016", VerticalBar: "\u2223", VerticalLine: "|", VerticalSeparator: "\u2758", VerticalTilde: "\u2240", VeryThinSpace: "\u200a", vfr: "\ud835\udd33", Vfr: "\ud835\udd19", vltri: "\u22b2", vnsub: "\u2282\u20d2", vnsup: "\u2283\u20d2", vopf: "\ud835\udd67", Vopf: "\ud835\udd4d", vprop: "\u221d", vrtri: "\u22b3", vscr: "\ud835\udccb", Vscr: "\ud835\udcb1", vsubne: "\u228a\ufe00", vsubnE: "\u2acb\ufe00", vsupne: "\u228b\ufe00", vsupnE: "\u2acc\ufe00", Vvdash: "\u22aa", vzigzag: "\u299a", wcirc: "\u0175", Wcirc: "\u0174", wedbar: "\u2a5f", wedge: "\u2227", Wedge: "\u22c0", wedgeq: "\u2259", weierp: "\u2118", wfr: "\ud835\udd34", Wfr: "\ud835\udd1a", wopf: "\ud835\udd68", Wopf: "\ud835\udd4e", wp: "\u2118", wr: "\u2240", wreath: "\u2240", wscr: "\ud835\udccc", Wscr: "\ud835\udcb2", xcap: "\u22c2", xcirc: "\u25ef", xcup: "\u22c3", xdtri: "\u25bd", xfr: "\ud835\udd35", Xfr: "\ud835\udd1b", xharr: "\u27f7", xhArr: "\u27fa", xi: "\u03be", Xi: "\u039e", xlarr: "\u27f5", xlArr: "\u27f8", xmap: "\u27fc", xnis: "\u22fb", xodot: "\u2a00", xopf: "\ud835\udd69", Xopf: "\ud835\udd4f", xoplus: "\u2a01", xotime: "\u2a02", xrarr: "\u27f6", xrArr: "\u27f9", xscr: "\ud835\udccd", Xscr: "\ud835\udcb3", xsqcup: "\u2a06", xuplus: "\u2a04", xutri: "\u25b3", xvee: "\u22c1", xwedge: "\u22c0", yacute: "\xfd", Yacute: "\xdd", yacy: "\u044f", YAcy: "\u042f", ycirc: "\u0177", Ycirc: "\u0176", ycy: "\u044b", Ycy: "\u042b", yen: "\xa5", yfr: "\ud835\udd36", Yfr: "\ud835\udd1c", yicy: "\u0457", YIcy: "\u0407", yopf: "\ud835\udd6a", Yopf: "\ud835\udd50", yscr: "\ud835\udcce", Yscr: "\ud835\udcb4", yucy: "\u044e", YUcy: "\u042e", yuml: "\xff", Yuml: "\u0178", zacute: "\u017a", Zacute: "\u0179", zcaron: "\u017e", Zcaron: "\u017d", zcy: "\u0437", Zcy: "\u0417", zdot: "\u017c", Zdot: "\u017b", zeetrf: "\u2128", ZeroWidthSpace: "\u200b", zeta: "\u03b6", Zeta: "\u0396", zfr: "\ud835\udd37", Zfr: "\u2128", zhcy: "\u0436", ZHcy: "\u0416", zigrarr: "\u21dd", zopf: "\ud835\udd6b", Zopf: "\u2124", zscr: "\ud835\udccf", Zscr: "\ud835\udcb5", zwj: "\u200d", zwnj: "\u200c" }, y = { aacute: "\xe1", Aacute: "\xc1", acirc: "\xe2", Acirc: "\xc2", acute: "\xb4", aelig: "\xe6", AElig: "\xc6", agrave: "\xe0", Agrave: "\xc0", amp: "&", AMP: "&", aring: "\xe5", Aring: "\xc5", atilde: "\xe3", Atilde: "\xc3", auml: "\xe4", Auml: "\xc4", brvbar: "\xa6", ccedil: "\xe7", Ccedil: "\xc7", cedil: "\xb8", cent: "\xa2", copy: "\xa9", COPY: "\xa9", curren: "\xa4", deg: "\xb0", divide: "\xf7", eacute: "\xe9", Eacute: "\xc9", ecirc: "\xea", Ecirc: "\xca", egrave: "\xe8", Egrave: "\xc8", eth: "\xf0", ETH: "\xd0", euml: "\xeb", Euml: "\xcb", frac12: "\xbd", frac14: "\xbc", frac34: "\xbe", gt: ">", GT: ">", iacute: "\xed", Iacute: "\xcd", icirc: "\xee", Icirc: "\xce", iexcl: "\xa1", igrave: "\xec", Igrave: "\xcc", iquest: "\xbf", iuml: "\xef", Iuml: "\xcf", laquo: "\xab", lt: "<", LT: "<", macr: "\xaf", micro: "\xb5", middot: "\xb7", nbsp: "\xa0", not: "\xac", ntilde: "\xf1", Ntilde: "\xd1", oacute: "\xf3", Oacute: "\xd3", ocirc: "\xf4", Ocirc: "\xd4", ograve: "\xf2", Ograve: "\xd2", ordf: "\xaa", ordm: "\xba", oslash: "\xf8", Oslash: "\xd8", otilde: "\xf5", Otilde: "\xd5", ouml: "\xf6", Ouml: "\xd6", para: "\xb6", plusmn: "\xb1", pound: "\xa3", quot: '"', QUOT: '"', raquo: "\xbb", reg: "\xae", REG: "\xae", sect: "\xa7", shy: "\xad", sup1: "\xb9", sup2: "\xb2", sup3: "\xb3", szlig: "\xdf", thorn: "\xfe", THORN: "\xde", times: "\xd7", uacute: "\xfa", Uacute: "\xda", ucirc: "\xfb", Ucirc: "\xdb", ugrave: "\xf9", Ugrave: "\xd9", uml: "\xa8", uuml: "\xfc", Uuml: "\xdc", yacute: "\xfd", Yacute: "\xdd", yen: "\xa5", yuml: "\xff" }, E = { 0: "\ufffd", 128: "\u20ac", 130: "\u201a", 131: "\u0192", 132: "\u201e", 133: "\u2026", 134: "\u2020", 135: "\u2021", 136: "\u02c6", 137: "\u2030", 138: "\u0160", 139: "\u2039", 140: "\u0152", 142: "\u017d", 145: "\u2018", 146: "\u2019", 147: "\u201c", 148: "\u201d", 149: "\u2022", 150: "\u2013", 151: "\u2014", 152: "\u02dc", 153: "\u2122", 154: "\u0161", 155: "\u203a", 156: "\u0153", 158: "\u017e", 159: "\u0178" }, O = [1, 2, 3, 4, 5, 6, 7, 8, 11, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 64976, 64977, 64978, 64979, 64980, 64981, 64982, 64983, 64984, 64985, 64986, 64987, 64988, 64989, 64990, 64991, 64992, 64993, 64994, 64995, 64996, 64997, 64998, 64999, 65e3, 65001, 65002, 65003, 65004, 65005, 65006, 65007, 65534, 65535, 131070, 131071, 196606, 196607, 262142, 262143, 327678, 327679, 393214, 393215, 458750, 458751, 524286, 524287, 589822, 589823, 655358, 655359, 720894, 720895, 786430, 786431, 851966, 851967, 917502, 917503, 983038, 983039, 1048574, 1048575, 1114110, 1114111], S = String.fromCharCode, w = {}.hasOwnProperty, A = function (e, t) { return w.call(e, t) }, C = function (e, t) { if (!e) return t; var r, n = {}; for (r in t) n[r] = A(e, r) ? e[r] : t[r]; return n }, T = function (e, t) { var r = ""; return e >= 55296 && e <= 57343 || e > 1114111 ? (t && R("character reference outside the permissible Unicode range"), "\ufffd") : A(E, e) ? (t && R("disallowed character reference"), E[e]) : (t && function (e, t) { for (var r = -1, n = e.length; ++r < n;)if (e[r] == t) return !0; return !1 }(O, e) && R("disallowed character reference"), e > 65535 && (r += S((e -= 65536) >>> 10 & 1023 | 55296), e = 56320 | 1023 & e), r += S(e)) }, j = function (e) { return "&#x" + e.toString(16).toUpperCase() + ";" }, k = function (e) { return "&#" + e + ";" }, R = function (e) { throw Error("Parse error: " + e) }, N = function e(t, r) { (r = C(r, e.options)).strict && v.test(t) && R("forbidden code point"); var n = r.encodeEverything, a = r.useNamedReferences, o = r.allowUnsafeSymbols, i = r.decimal ? k : j, c = function (e) { return i(e.charCodeAt(0)) }; return n ? (t = t.replace(u, function (e) { return a && A(d, e) ? "&" + d[e] + ";" : c(e) }), a && (t = t.replace(/&gt;\u20D2/g, "&nvgt;").replace(/&lt;\u20D2/g, "&nvlt;").replace(/&#x66;&#x6A;/g, "&fjlig;")), a && (t = t.replace(f, function (e) { return "&" + d[e] + ";" }))) : a ? (o || (t = t.replace(p, function (e) { return "&" + d[e] + ";" })), t = (t = t.replace(/&gt;\u20D2/g, "&nvgt;").replace(/&lt;\u20D2/g, "&nvlt;")).replace(f, function (e) { return "&" + d[e] + ";" })) : o || (t = t.replace(p, c)), t.replace(s, function (e) { var t = e.charCodeAt(0), r = e.charCodeAt(1); return i(1024 * (t - 55296) + r - 56320 + 65536) }).replace(l, c) }; N.options = { allowUnsafeSymbols: !1, encodeEverything: !1, strict: !1, useNamedReferences: !1, decimal: !1 }; var L = function e(t, r) { var n = (r = C(r, e.options)).strict; return n && h.test(t) && R("malformed character reference"), t.replace(g, function (e, t, a, o, i, c, s, u, l) { var f, d, p, m, h, v; return t ? b[h = t] : a ? (h = a, (v = o) && r.isAttributeValue ? (n && "=" == v && R("`&` did not start a character reference"), e) : (n && R("named character reference was not terminated by a semicolon"), y[h] + (v || ""))) : i ? (p = i, d = c, n && !d && R("character reference was not terminated by a semicolon"), f = parseInt(p, 10), T(f, n)) : s ? (m = s, d = u, n && !d && R("character reference was not terminated by a semicolon"), f = parseInt(m, 16), T(f, n)) : (n && R("named character reference was not terminated by a semicolon"), e) }) }; L.options = { isAttributeValue: !1, strict: !1 }; var _ = { version: "1.2.0", encode: N, decode: L, escape: function (e) { return e.replace(p, function (e) { return m[e] }) }, unescape: L }; void 0 === (a = function () { return _ }.call(t, r, t, e)) || (e.exports = a) }() }).call(this, r("./node_modules/webpack/buildin/module.js")(e), r("./node_modules/webpack/buildin/global.js")) }, "../../node_modules/immutable/dist/immutable.es.js": function (e, t, r) { "use strict"; r.r(t), r.d(t, "version", function () { return bn }), r.d(t, "Collection", function () { return A }), r.d(t, "Iterable", function () { return En }), r.d(t, "Seq", function () { return J }), r.d(t, "Map", function () { return _t }), r.d(t, "OrderedMap", function () { return vr }), r.d(t, "List", function () { return rr }), r.d(t, "Stack", function () { return Sr }), r.d(t, "Set", function () { return Ir }), r.d(t, "OrderedSet", function () { return rn }), r.d(t, "Record", function () { return sn }), r.d(t, "Range", function () { return Fr }), r.d(t, "Repeat", function () { return hn }), r.d(t, "is", function () { return de }), r.d(t, "fromJS", function () { return vn }), r.d(t, "hash", function () { return ve }), r.d(t, "isImmutable", function () { return _ }), r.d(t, "isCollection", function () { return b }), r.d(t, "isKeyed", function () { return E }), r.d(t, "isIndexed", function () { return S }), r.d(t, "isAssociative", function () { return w }), r.d(t, "isOrdered", function () { return M }), r.d(t, "isValueObject", function () { return fe }), r.d(t, "get", function () { return nt }), r.d(t, "getIn", function () { return Vr }), r.d(t, "has", function () { return rt }), r.d(t, "hasIn", function () { return Gr }), r.d(t, "merge", function () { return bt }), r.d(t, "mergeDeep", function () { return Et }), r.d(t, "mergeWith", function () { return yt }), r.d(t, "mergeDeepWith", function () { return Ot }), r.d(t, "remove", function () { return ot }), r.d(t, "removeIn", function () { return lt }), r.d(t, "set", function () { return it }), r.d(t, "setIn", function () { return st }), r.d(t, "update", function () { return dt }), r.d(t, "updateIn", function () { return ct }); var n = 5, a = 1 << n, o = a - 1, i = {}; function c(e) { e && (e.value = !0) } function s() { } function u(e) { return void 0 === e.size && (e.size = e.__iterate(f)), e.size } function l(e, t) { if ("number" !== typeof t) { var r = t >>> 0; if ("" + r !== t || 4294967295 === r) return NaN; t = r } return t < 0 ? u(e) + t : t } function f() { return !0 } function d(e, t, r) { return (0 === e && !v(e) || void 0 !== r && e <= -r) && (void 0 === t || void 0 !== r && t >= r) } function p(e, t) { return h(e, t, 0) } function m(e, t) { return h(e, t, t) } function h(e, t, r) { return void 0 === e ? r : v(e) ? t === 1 / 0 ? t : 0 | Math.max(0, t + e) : void 0 === t || t === e ? e : 0 | Math.min(t, e) } function v(e) { return e < 0 || 0 === e && 1 / e === -1 / 0 } var g = "@@__IMMUTABLE_ITERABLE__@@"; function b(e) { return Boolean(e && e[g]) } var y = "@@__IMMUTABLE_KEYED__@@"; function E(e) { return Boolean(e && e[y]) } var O = "@@__IMMUTABLE_INDEXED__@@"; function S(e) { return Boolean(e && e[O]) } function w(e) { return E(e) || S(e) } var A = function (e) { return b(e) ? e : J(e) }, C = function (e) { function t(e) { return E(e) ? e : Z(e) } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t }(A), T = function (e) { function t(e) { return S(e) ? e : Q(e) } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t }(A), j = function (e) { function t(e) { return b(e) && !w(e) ? e : $(e) } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t }(A); A.Keyed = C, A.Indexed = T, A.Set = j; var k = "@@__IMMUTABLE_SEQ__@@"; function R(e) { return Boolean(e && e[k]) } var N = "@@__IMMUTABLE_RECORD__@@"; function L(e) { return Boolean(e && e[N]) } function _(e) { return b(e) || L(e) } var I = "@@__IMMUTABLE_ORDERED__@@"; function M(e) { return Boolean(e && e[I]) } var x = 0, D = 1, P = 2, U = "function" === typeof Symbol && Symbol.iterator, B = "@@iterator", F = U || B, V = function (e) { this.next = e }; function H(e, t, r, n) { var a = 0 === e ? t : 1 === e ? r : [t, r]; return n ? n.value = a : n = { value: a, done: !1 }, n } function G() { return { value: void 0, done: !0 } } function q(e) { return !!Y(e) } function K(e) { return e && "function" === typeof e.next } function z(e) { var t = Y(e); return t && t.call(e) } function Y(e) { var t = e && (U && e[U] || e[B]); if ("function" === typeof t) return t } V.prototype.toString = function () { return "[Iterator]" }, V.KEYS = x, V.VALUES = D, V.ENTRIES = P, V.prototype.inspect = V.prototype.toSource = function () { return this.toString() }, V.prototype[F] = function () { return this }; var W = Object.prototype.hasOwnProperty; function X(e) { return !(!Array.isArray(e) && "string" !== typeof e) || e && "object" === typeof e && Number.isInteger(e.length) && e.length >= 0 && (0 === e.length ? 1 === Object.keys(e).length : e.hasOwnProperty(e.length - 1)) } var J = function (e) { function t(e) { return null === e || void 0 === e ? ae() : _(e) ? e.toSeq() : function (e) { var t = ce(e); if (t) return t; if ("object" === typeof e) return new te(e); throw new TypeError("Expected Array or collection object of values, or keyed object: " + e) }(e) } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.prototype.toSeq = function () { return this }, t.prototype.toString = function () { return this.__toString("Seq {", "}") }, t.prototype.cacheResult = function () { return !this._cache && this.__iterateUncached && (this._cache = this.entrySeq().toArray(), this.size = this._cache.length), this }, t.prototype.__iterate = function (e, t) { var r = this._cache; if (r) { for (var n = r.length, a = 0; a !== n;) { var o = r[t ? n - ++a : a++]; if (!1 === e(o[1], o[0], this)) break } return a } return this.__iterateUncached(e, t) }, t.prototype.__iterator = function (e, t) { var r = this._cache; if (r) { var n = r.length, a = 0; return new V(function () { if (a === n) return { value: void 0, done: !0 }; var o = r[t ? n - ++a : a++]; return H(e, o[0], o[1]) }) } return this.__iteratorUncached(e, t) }, t }(A), Z = function (e) { function t(e) { return null === e || void 0 === e ? ae().toKeyedSeq() : b(e) ? E(e) ? e.toSeq() : e.fromEntrySeq() : L(e) ? e.toSeq() : oe(e) } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.prototype.toKeyedSeq = function () { return this }, t }(J), Q = function (e) { function t(e) { return null === e || void 0 === e ? ae() : b(e) ? E(e) ? e.entrySeq() : e.toIndexedSeq() : L(e) ? e.toSeq().entrySeq() : ie(e) } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.of = function () { return t(arguments) }, t.prototype.toIndexedSeq = function () { return this }, t.prototype.toString = function () { return this.__toString("Seq [", "]") }, t }(J), $ = function (e) { function t(e) { return (b(e) && !w(e) ? e : Q(e)).toSetSeq() } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.of = function () { return t(arguments) }, t.prototype.toSetSeq = function () { return this }, t }(J); J.isSeq = R, J.Keyed = Z, J.Set = $, J.Indexed = Q, J.prototype[k] = !0; var ee = function (e) { function t(e) { this._array = e, this.size = e.length } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.prototype.get = function (e, t) { return this.has(e) ? this._array[l(this, e)] : t }, t.prototype.__iterate = function (e, t) { for (var r = this._array, n = r.length, a = 0; a !== n;) { var o = t ? n - ++a : a++; if (!1 === e(r[o], o, this)) break } return a }, t.prototype.__iterator = function (e, t) { var r = this._array, n = r.length, a = 0; return new V(function () { if (a === n) return { value: void 0, done: !0 }; var o = t ? n - ++a : a++; return H(e, o, r[o]) }) }, t }(Q), te = function (e) { function t(e) { var t = Object.keys(e); this._object = e, this._keys = t, this.size = t.length } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.prototype.get = function (e, t) { return void 0 === t || this.has(e) ? this._object[e] : t }, t.prototype.has = function (e) { return W.call(this._object, e) }, t.prototype.__iterate = function (e, t) { for (var r = this._object, n = this._keys, a = n.length, o = 0; o !== a;) { var i = n[t ? a - ++o : o++]; if (!1 === e(r[i], i, this)) break } return o }, t.prototype.__iterator = function (e, t) { var r = this._object, n = this._keys, a = n.length, o = 0; return new V(function () { if (o === a) return { value: void 0, done: !0 }; var i = n[t ? a - ++o : o++]; return H(e, i, r[i]) }) }, t }(Z); te.prototype[I] = !0; var re, ne = function (e) { function t(e) { this._collection = e, this.size = e.length || e.size } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.prototype.__iterateUncached = function (e, t) { if (t) return this.cacheResult().__iterate(e, t); var r = z(this._collection), n = 0; if (K(r)) for (var a; !(a = r.next()).done && !1 !== e(a.value, n++, this);); return n }, t.prototype.__iteratorUncached = function (e, t) { if (t) return this.cacheResult().__iterator(e, t); var r = z(this._collection); if (!K(r)) return new V(G); var n = 0; return new V(function () { var t = r.next(); return t.done ? t : H(e, n++, t.value) }) }, t }(Q); function ae() { return re || (re = new ee([])) } function oe(e) { var t = Array.isArray(e) ? new ee(e) : q(e) ? new ne(e) : void 0; if (t) return t.fromEntrySeq(); if ("object" === typeof e) return new te(e); throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: " + e) } function ie(e) { var t = ce(e); if (t) return t; throw new TypeError("Expected Array or collection object of values: " + e) } function ce(e) { return X(e) ? new ee(e) : q(e) ? new ne(e) : void 0 } var se = "@@__IMMUTABLE_MAP__@@"; function ue(e) { return Boolean(e && e[se]) } function le(e) { return ue(e) && M(e) } function fe(e) { return Boolean(e && "function" === typeof e.equals && "function" === typeof e.hashCode) } function de(e, t) { if (e === t || e !== e && t !== t) return !0; if (!e || !t) return !1; if ("function" === typeof e.valueOf && "function" === typeof t.valueOf) { if ((e = e.valueOf()) === (t = t.valueOf()) || e !== e && t !== t) return !0; if (!e || !t) return !1 } return !!(fe(e) && fe(t) && e.equals(t)) } var pe = "function" === typeof Math.imul && -2 === Math.imul(4294967295, 2) ? Math.imul : function (e, t) { var r = 65535 & (e |= 0), n = 65535 & (t |= 0); return r * n + ((e >>> 16) * n + r * (t >>> 16) << 16 >>> 0) | 0 }; function me(e) { return e >>> 1 & 1073741824 | 3221225471 & e } var he = Object.prototype.valueOf; function ve(e) { switch (typeof e) { case "boolean": return e ? 1108378657 : 1108378656; case "number": return function (e) { if (e !== e || e === 1 / 0) return 0; var t = 0 | e; t !== e && (t ^= 4294967295 * e); for (; e > 4294967295;)t ^= e /= 4294967295; return me(t) }(e); case "string": return e.length > Ae ? function (e) { var t = je[e]; void 0 === t && (t = ge(e), Te === Ce && (Te = 0, je = {}), Te++, je[e] = t); return t }(e) : ge(e); case "object": case "function": return null === e ? 1108378658 : "function" === typeof e.hashCode ? me(e.hashCode(e)) : (e.valueOf !== he && "function" === typeof e.valueOf && (e = e.valueOf(e)), function (e) { var t; if (Oe && void 0 !== (t = Ee.get(e))) return t; if (void 0 !== (t = e[we])) return t; if (!ye) { if (void 0 !== (t = e.propertyIsEnumerable && e.propertyIsEnumerable[we])) return t; if (void 0 !== (t = function (e) { if (e && e.nodeType > 0) switch (e.nodeType) { case 1: return e.uniqueID; case 9: return e.documentElement && e.documentElement.uniqueID } }(e))) return t } t = ++Se, 1073741824 & Se && (Se = 0); if (Oe) Ee.set(e, t); else { if (void 0 !== be && !1 === be(e)) throw new Error("Non-extensible objects are not allowed as keys."); if (ye) Object.defineProperty(e, we, { enumerable: !1, configurable: !1, writable: !1, value: t }); else if (void 0 !== e.propertyIsEnumerable && e.propertyIsEnumerable === e.constructor.prototype.propertyIsEnumerable) e.propertyIsEnumerable = function () { return this.constructor.prototype.propertyIsEnumerable.apply(this, arguments) }, e.propertyIsEnumerable[we] = t; else { if (void 0 === e.nodeType) throw new Error("Unable to set a non-enumerable property on object."); e[we] = t } } return t }(e)); case "undefined": return 1108378659; default: if ("function" === typeof e.toString) return ge(e.toString()); throw new Error("Value type " + typeof e + " cannot be hashed.") } } function ge(e) { for (var t = 0, r = 0; r < e.length; r++)t = 31 * t + e.charCodeAt(r) | 0; return me(t) } var be = Object.isExtensible, ye = function () { try { return Object.defineProperty({}, "@", {}), !0 } catch (e) { return !1 } }(); var Ee, Oe = "function" === typeof WeakMap; Oe && (Ee = new WeakMap); var Se = 0, we = "__immutablehash__"; "function" === typeof Symbol && (we = Symbol(we)); var Ae = 16, Ce = 255, Te = 0, je = {}, ke = function (e) { function t(e, t) { this._iter = e, this._useKeys = t, this.size = e.size } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.prototype.get = function (e, t) { return this._iter.get(e, t) }, t.prototype.has = function (e) { return this._iter.has(e) }, t.prototype.valueSeq = function () { return this._iter.valueSeq() }, t.prototype.reverse = function () { var e = this, t = Me(this, !0); return this._useKeys || (t.valueSeq = function () { return e._iter.toSeq().reverse() }), t }, t.prototype.map = function (e, t) { var r = this, n = Ie(this, e, t); return this._useKeys || (n.valueSeq = function () { return r._iter.toSeq().map(e, t) }), n }, t.prototype.__iterate = function (e, t) { var r = this; return this._iter.__iterate(function (t, n) { return e(t, n, r) }, t) }, t.prototype.__iterator = function (e, t) { return this._iter.__iterator(e, t) }, t }(Z); ke.prototype[I] = !0; var Re = function (e) { function t(e) { this._iter = e, this.size = e.size } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.prototype.includes = function (e) { return this._iter.includes(e) }, t.prototype.__iterate = function (e, t) { var r = this, n = 0; return t && u(this), this._iter.__iterate(function (a) { return e(a, t ? r.size - ++n : n++, r) }, t) }, t.prototype.__iterator = function (e, t) { var r = this, n = this._iter.__iterator(D, t), a = 0; return t && u(this), new V(function () { var o = n.next(); return o.done ? o : H(e, t ? r.size - ++a : a++, o.value, o) }) }, t }(Q), Ne = function (e) { function t(e) { this._iter = e, this.size = e.size } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.prototype.has = function (e) { return this._iter.includes(e) }, t.prototype.__iterate = function (e, t) { var r = this; return this._iter.__iterate(function (t) { return e(t, t, r) }, t) }, t.prototype.__iterator = function (e, t) { var r = this._iter.__iterator(D, t); return new V(function () { var t = r.next(); return t.done ? t : H(e, t.value, t.value, t) }) }, t }($), Le = function (e) { function t(e) { this._iter = e, this.size = e.size } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.prototype.entrySeq = function () { return this._iter.toSeq() }, t.prototype.__iterate = function (e, t) { var r = this; return this._iter.__iterate(function (t) { if (t) { qe(t); var n = b(t); return e(n ? t.get(1) : t[1], n ? t.get(0) : t[0], r) } }, t) }, t.prototype.__iterator = function (e, t) { var r = this._iter.__iterator(D, t); return new V(function () { for (; ;) { var t = r.next(); if (t.done) return t; var n = t.value; if (n) { qe(n); var a = b(n); return H(e, a ? n.get(0) : n[0], a ? n.get(1) : n[1], t) } } }) }, t }(Z); function _e(e) { var t = ze(e); return t._iter = e, t.size = e.size, t.flip = function () { return e }, t.reverse = function () { var t = e.reverse.apply(this); return t.flip = function () { return e.reverse() }, t }, t.has = function (t) { return e.includes(t) }, t.includes = function (t) { return e.has(t) }, t.cacheResult = Ye, t.__iterateUncached = function (t, r) { var n = this; return e.__iterate(function (e, r) { return !1 !== t(r, e, n) }, r) }, t.__iteratorUncached = function (t, r) { if (t === P) { var n = e.__iterator(t, r); return new V(function () { var e = n.next(); if (!e.done) { var t = e.value[0]; e.value[0] = e.value[1], e.value[1] = t } return e }) } return e.__iterator(t === D ? x : D, r) }, t } function Ie(e, t, r) { var n = ze(e); return n.size = e.size, n.has = function (t) { return e.has(t) }, n.get = function (n, a) { var o = e.get(n, i); return o === i ? a : t.call(r, o, n, e) }, n.__iterateUncached = function (n, a) { var o = this; return e.__iterate(function (e, a, i) { return !1 !== n(t.call(r, e, a, i), a, o) }, a) }, n.__iteratorUncached = function (n, a) { var o = e.__iterator(P, a); return new V(function () { var a = o.next(); if (a.done) return a; var i = a.value, c = i[0]; return H(n, c, t.call(r, i[1], c, e), a) }) }, n } function Me(e, t) { var r = this, n = ze(e); return n._iter = e, n.size = e.size, n.reverse = function () { return e }, e.flip && (n.flip = function () { var t = _e(e); return t.reverse = function () { return e.flip() }, t }), n.get = function (r, n) { return e.get(t ? r : -1 - r, n) }, n.has = function (r) { return e.has(t ? r : -1 - r) }, n.includes = function (t) { return e.includes(t) }, n.cacheResult = Ye, n.__iterate = function (r, n) { var a = this, o = 0; return n && u(e), e.__iterate(function (e, i) { return r(e, t ? i : n ? a.size - ++o : o++, a) }, !n) }, n.__iterator = function (n, a) { var o = 0; a && u(e); var i = e.__iterator(P, !a); return new V(function () { var e = i.next(); if (e.done) return e; var c = e.value; return H(n, t ? c[0] : a ? r.size - ++o : o++, c[1], e) }) }, n } function xe(e, t, r, n) { var a = ze(e); return n && (a.has = function (n) { var a = e.get(n, i); return a !== i && !!t.call(r, a, n, e) }, a.get = function (n, a) { var o = e.get(n, i); return o !== i && t.call(r, o, n, e) ? o : a }), a.__iterateUncached = function (a, o) { var i = this, c = 0; return e.__iterate(function (e, o, s) { if (t.call(r, e, o, s)) return c++, a(e, n ? o : c - 1, i) }, o), c }, a.__iteratorUncached = function (a, o) { var i = e.__iterator(P, o), c = 0; return new V(function () { for (; ;) { var o = i.next(); if (o.done) return o; var s = o.value, u = s[0], l = s[1]; if (t.call(r, l, u, e)) return H(a, n ? u : c++, l, o) } }) }, a } function De(e, t, r, n) { var a = e.size; if (d(t, r, a)) return e; var o = p(t, a), i = m(r, a); if (o !== o || i !== i) return De(e.toSeq().cacheResult(), t, r, n); var c, s = i - o; s === s && (c = s < 0 ? 0 : s); var u = ze(e); return u.size = 0 === c ? c : e.size && c || void 0, !n && R(e) && c >= 0 && (u.get = function (t, r) { return (t = l(this, t)) >= 0 && t < c ? e.get(t + o, r) : r }), u.__iterateUncached = function (t, r) { var a = this; if (0 === c) return 0; if (r) return this.cacheResult().__iterate(t, r); var i = 0, s = !0, u = 0; return e.__iterate(function (e, r) { if (!s || !(s = i++ < o)) return u++, !1 !== t(e, n ? r : u - 1, a) && u !== c }), u }, u.__iteratorUncached = function (t, r) { if (0 !== c && r) return this.cacheResult().__iterator(t, r); if (0 === c) return new V(G); var a = e.__iterator(t, r), i = 0, s = 0; return new V(function () { for (; i++ < o;)a.next(); if (++s > c) return { value: void 0, done: !0 }; var e = a.next(); return n || t === D || e.done ? e : H(t, s - 1, t === x ? void 0 : e.value[1], e) }) }, u } function Pe(e, t, r, n) { var a = ze(e); return a.__iterateUncached = function (a, o) { var i = this; if (o) return this.cacheResult().__iterate(a, o); var c = !0, s = 0; return e.__iterate(function (e, o, u) { if (!c || !(c = t.call(r, e, o, u))) return s++, a(e, n ? o : s - 1, i) }), s }, a.__iteratorUncached = function (a, o) { var i = this; if (o) return this.cacheResult().__iterator(a, o); var c = e.__iterator(P, o), s = !0, u = 0; return new V(function () { var e, o, l; do { if ((e = c.next()).done) return n || a === D ? e : H(a, u++, a === x ? void 0 : e.value[1], e); var f = e.value; o = f[0], l = f[1], s && (s = t.call(r, l, o, i)) } while (s); return a === P ? e : H(a, o, l, e) }) }, a } function Ue(e, t, r) { var n = ze(e); return n.__iterateUncached = function (a, o) { if (o) return this.cacheResult().__iterate(a, o); var i = 0, c = !1; return function e(s, u) { s.__iterate(function (o, s) { return (!t || u < t) && b(o) ? e(o, u + 1) : (i++, !1 === a(o, r ? s : i - 1, n) && (c = !0)), !c }, o) }(e, 0), i }, n.__iteratorUncached = function (n, a) { if (a) return this.cacheResult().__iterator(n, a); var o = e.__iterator(n, a), i = [], c = 0; return new V(function () { for (; o;) { var e = o.next(); if (!1 === e.done) { var s = e.value; if (n === P && (s = s[1]), t && !(i.length < t) || !b(s)) return r ? e : H(n, c++, s, e); i.push(o), o = s.__iterator(n, a) } else o = i.pop() } return { value: void 0, done: !0 } }) }, n } function Be(e, t, r) { t || (t = We); var n = E(e), a = 0, o = e.toSeq().map(function (t, n) { return [n, t, a++, r ? r(t, n, e) : t] }).valueSeq().toArray(); return o.sort(function (e, r) { return t(e[3], r[3]) || e[2] - r[2] }).forEach(n ? function (e, t) { o[t].length = 2 } : function (e, t) { o[t] = e[1] }), n ? Z(o) : S(e) ? Q(o) : $(o) } function Fe(e, t, r) { if (t || (t = We), r) { var n = e.toSeq().map(function (t, n) { return [t, r(t, n, e)] }).reduce(function (e, r) { return Ve(t, e[1], r[1]) ? r : e }); return n && n[0] } return e.reduce(function (e, r) { return Ve(t, e, r) ? r : e }) } function Ve(e, t, r) { var n = e(r, t); return 0 === n && r !== t && (void 0 === r || null === r || r !== r) || n > 0 } function He(e, t, r, n) { var a = ze(e), o = new ee(r).map(function (e) { return e.size }); return a.size = n ? o.max() : o.min(), a.__iterate = function (e, t) { for (var r, n = this.__iterator(D, t), a = 0; !(r = n.next()).done && !1 !== e(r.value, a++, this);); return a }, a.__iteratorUncached = function (e, a) { var o = r.map(function (e) { return e = A(e), z(a ? e.reverse() : e) }), i = 0, c = !1; return new V(function () { var r; return c || (r = o.map(function (e) { return e.next() }), c = n ? r.every(function (e) { return e.done }) : r.some(function (e) { return e.done })), c ? { value: void 0, done: !0 } : H(e, i++, t.apply(null, r.map(function (e) { return e.value }))) }) }, a } function Ge(e, t) { return e === t ? e : R(e) ? t : e.constructor(t) } function qe(e) { if (e !== Object(e)) throw new TypeError("Expected [K, V] tuple: " + e) } function Ke(e) { return E(e) ? C : S(e) ? T : j } function ze(e) { return Object.create((E(e) ? Z : S(e) ? Q : $).prototype) } function Ye() { return this._iter.cacheResult ? (this._iter.cacheResult(), this.size = this._iter.size, this) : J.prototype.cacheResult.call(this) } function We(e, t) { return void 0 === e && void 0 === t ? 0 : void 0 === e ? 1 : void 0 === t ? -1 : e > t ? 1 : e < t ? -1 : 0 } function Xe(e, t) { t = t || 0; for (var r = Math.max(0, e.length - t), n = new Array(r), a = 0; a < r; a++)n[a] = e[a + t]; return n } function Je(e, t) { if (!e) throw new Error(t) } function Ze(e) { Je(e !== 1 / 0, "Cannot perform this action with an infinite size.") } function Qe(e) { if (X(e) && "string" !== typeof e) return e; if (M(e)) return e.toArray(); throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: " + e) } function $e(e) { return e && ("function" !== typeof e.constructor || "Object" === e.constructor.name) } function et(e) { return "object" === typeof e && (_(e) || Array.isArray(e) || $e(e)) } function tt(e) { try { return "string" === typeof e ? JSON.stringify(e) : String(e) } catch (t) { return JSON.stringify(e) } } function rt(e, t) { return _(e) ? e.has(t) : et(e) && W.call(e, t) } function nt(e, t, r) { return _(e) ? e.get(t, r) : rt(e, t) ? "function" === typeof e.get ? e.get(t) : e[t] : r } function at(e) { if (Array.isArray(e)) return Xe(e); var t = {}; for (var r in e) W.call(e, r) && (t[r] = e[r]); return t } function ot(e, t) { if (!et(e)) throw new TypeError("Cannot update non-data-structure value: " + e); if (_(e)) { if (!e.remove) throw new TypeError("Cannot update immutable value without .remove() method: " + e); return e.remove(t) } if (!W.call(e, t)) return e; var r = at(e); return Array.isArray(r) ? r.splice(t, 1) : delete r[t], r } function it(e, t, r) { if (!et(e)) throw new TypeError("Cannot update non-data-structure value: " + e); if (_(e)) { if (!e.set) throw new TypeError("Cannot update immutable value without .set() method: " + e); return e.set(t, r) } if (W.call(e, t) && r === e[t]) return e; var n = at(e); return n[t] = r, n } function ct(e, t, r, n) { n || (n = r, r = void 0); var a = function e(t, r, n, a, o, c) { var s = r === i; if (a === n.length) { var u = s ? o : r, l = c(u); return l === u ? r : l } if (!s && !et(r)) throw new TypeError("Cannot update within non-data-structure value in path [" + n.slice(0, a).map(tt) + "]: " + r); var f = n[a]; var d = s ? i : nt(r, f, i); var p = e(d === i ? t : _(d), d, n, a + 1, o, c); return p === d ? r : p === i ? ot(r, f) : it(s ? t ? qt() : {} : r, f, p) }(_(e), e, Qe(t), 0, r, n); return a === i ? r : a } function st(e, t, r) { return ct(e, t, i, function () { return r }) } function ut(e, t) { return st(this, e, t) } function lt(e, t) { return ct(e, t, function () { return i }) } function ft(e) { return lt(this, e) } function dt(e, t, r, n) { return ct(e, [t], r, n) } function pt(e, t, r) { return 1 === arguments.length ? e(this) : dt(this, e, t, r) } function mt(e, t, r) { return ct(this, e, t, r) } function ht() { for (var e = [], t = arguments.length; t--;)e[t] = arguments[t]; return gt(this, e) } function vt(e) { for (var t = [], r = arguments.length - 1; r-- > 0;)t[r] = arguments[r + 1]; if ("function" !== typeof e) throw new TypeError("Invalid merger function: " + e); return gt(this, t, e) } function gt(e, t, r) { for (var n = [], a = 0; a < t.length; a++) { var o = C(t[a]); 0 !== o.size && n.push(o) } return 0 === n.length ? e : 0 !== e.toSeq().size || e.__ownerID || 1 !== n.length ? e.withMutations(function (e) { for (var t = r ? function (t, n) { dt(e, n, i, function (e) { return e === i ? t : r(e, t, n) }) } : function (t, r) { e.set(r, t) }, a = 0; a < n.length; a++)n[a].forEach(t) }) : e.constructor(n[0]) } function bt(e) { for (var t = [], r = arguments.length - 1; r-- > 0;)t[r] = arguments[r + 1]; return wt(e, t) } function yt(e, t) { for (var r = [], n = arguments.length - 2; n-- > 0;)r[n] = arguments[n + 2]; return wt(t, r, e) } function Et(e) { for (var t = [], r = arguments.length - 1; r-- > 0;)t[r] = arguments[r + 1]; return St(e, t) } function Ot(e, t) { for (var r = [], n = arguments.length - 2; n-- > 0;)r[n] = arguments[n + 2]; return St(t, r, e) } function St(e, t, r) { return wt(e, t, function (e) { return function t(r, n, a) { return et(r) && et(n) ? wt(r, [n], t) : e ? e(r, n, a) : n } }(r)) } function wt(e, t, r) { if (!et(e)) throw new TypeError("Cannot merge into non-data-structure value: " + e); if (_(e)) return "function" === typeof r && e.mergeWith ? e.mergeWith.apply(e, [r].concat(t)) : e.merge ? e.merge.apply(e, t) : e.concat.apply(e, t); for (var n = Array.isArray(e), a = e, o = n ? T : C, i = n ? function (t) { a === e && (a = at(a)), a.push(t) } : function (t, n) { var o = W.call(a, n), i = o && r ? r(a[n], t, n) : t; o && i === a[n] || (a === e && (a = at(a)), a[n] = i) }, c = 0; c < t.length; c++)o(t[c]).forEach(i); return a } function At() { for (var e = [], t = arguments.length; t--;)e[t] = arguments[t]; return St(this, e) } function Ct(e) { for (var t = [], r = arguments.length - 1; r-- > 0;)t[r] = arguments[r + 1]; return St(this, t, e) } function Tt(e) { for (var t = [], r = arguments.length - 1; r-- > 0;)t[r] = arguments[r + 1]; return ct(this, e, qt(), function (e) { return wt(e, t) }) } function jt(e) { for (var t = [], r = arguments.length - 1; r-- > 0;)t[r] = arguments[r + 1]; return ct(this, e, qt(), function (e) { return St(e, t) }) } function kt(e) { var t = this.asMutable(); return e(t), t.wasAltered() ? t.__ensureOwner(this.__ownerID) : this } function Rt() { return this.__ownerID ? this : this.__ensureOwner(new s) } function Nt() { return this.__ensureOwner() } function Lt() { return this.__altered } Re.prototype.cacheResult = ke.prototype.cacheResult = Ne.prototype.cacheResult = Le.prototype.cacheResult = Ye; var _t = function (e) { function t(t) { return null === t || void 0 === t ? qt() : ue(t) && !M(t) ? t : qt().withMutations(function (r) { var n = e(t); Ze(n.size), n.forEach(function (e, t) { return r.set(t, e) }) }) } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.of = function () { for (var e = [], t = arguments.length; t--;)e[t] = arguments[t]; return qt().withMutations(function (t) { for (var r = 0; r < e.length; r += 2) { if (r + 1 >= e.length) throw new Error("Missing value for key: " + e[r]); t.set(e[r], e[r + 1]) } }) }, t.prototype.toString = function () { return this.__toString("Map {", "}") }, t.prototype.get = function (e, t) { return this._root ? this._root.get(0, void 0, e, t) : t }, t.prototype.set = function (e, t) { return Kt(this, e, t) }, t.prototype.remove = function (e) { return Kt(this, e, i) }, t.prototype.deleteAll = function (e) { var t = A(e); return 0 === t.size ? this : this.withMutations(function (e) { t.forEach(function (t) { return e.remove(t) }) }) }, t.prototype.clear = function () { return 0 === this.size ? this : this.__ownerID ? (this.size = 0, this._root = null, this.__hash = void 0, this.__altered = !0, this) : qt() }, t.prototype.sort = function (e) { return vr(Be(this, e)) }, t.prototype.sortBy = function (e, t) { return vr(Be(this, t, e)) }, t.prototype.map = function (e, t) { return this.withMutations(function (r) { r.forEach(function (n, a) { r.set(a, e.call(t, n, a, r)) }) }) }, t.prototype.__iterator = function (e, t) { return new Ft(this, e, t) }, t.prototype.__iterate = function (e, t) { var r = this, n = 0; return this._root && this._root.iterate(function (t) { return n++, e(t[1], t[0], r) }, t), n }, t.prototype.__ensureOwner = function (e) { return e === this.__ownerID ? this : e ? Gt(this.size, this._root, e, this.__hash) : 0 === this.size ? qt() : (this.__ownerID = e, this.__altered = !1, this) }, t }(C); _t.isMap = ue; var It = _t.prototype; It[se] = !0, It.delete = It.remove, It.removeAll = It.deleteAll, It.setIn = ut, It.removeIn = It.deleteIn = ft, It.update = pt, It.updateIn = mt, It.merge = It.concat = ht, It.mergeWith = vt, It.mergeDeep = At, It.mergeDeepWith = Ct, It.mergeIn = Tt, It.mergeDeepIn = jt, It.withMutations = kt, It.wasAltered = Lt, It.asImmutable = Nt, It["@@transducer/init"] = It.asMutable = Rt, It["@@transducer/step"] = function (e, t) { return e.set(t[0], t[1]) }, It["@@transducer/result"] = function (e) { return e.asImmutable() }; var Mt = function (e, t) { this.ownerID = e, this.entries = t }; Mt.prototype.get = function (e, t, r, n) { for (var a = this.entries, o = 0, i = a.length; o < i; o++)if (de(r, a[o][0])) return a[o][1]; return n }, Mt.prototype.update = function (e, t, r, n, a, o, u) { for (var l = a === i, f = this.entries, d = 0, p = f.length; d < p && !de(n, f[d][0]); d++); var m = d < p; if (m ? f[d][1] === a : l) return this; if (c(u), (l || !m) && c(o), !l || 1 !== f.length) { if (!m && !l && f.length >= Zt) return function (e, t, r, n) { e || (e = new s); for (var a = new Ut(e, ve(r), [r, n]), o = 0; o < t.length; o++) { var i = t[o]; a = a.update(e, 0, void 0, i[0], i[1]) } return a }(e, f, n, a); var h = e && e === this.ownerID, v = h ? f : Xe(f); return m ? l ? d === p - 1 ? v.pop() : v[d] = v.pop() : v[d] = [n, a] : v.push([n, a]), h ? (this.entries = v, this) : new Mt(e, v) } }; var xt = function (e, t, r) { this.ownerID = e, this.bitmap = t, this.nodes = r }; xt.prototype.get = function (e, t, r, a) { void 0 === t && (t = ve(r)); var i = 1 << ((0 === e ? t : t >>> e) & o), c = this.bitmap; return 0 === (c & i) ? a : this.nodes[Xt(c & i - 1)].get(e + n, t, r, a) }, xt.prototype.update = function (e, t, r, c, s, u, l) { void 0 === r && (r = ve(c)); var f = (0 === t ? r : r >>> t) & o, d = 1 << f, p = this.bitmap, m = 0 !== (p & d); if (!m && s === i) return this; var h = Xt(p & d - 1), v = this.nodes, g = m ? v[h] : void 0, b = zt(g, e, t + n, r, c, s, u, l); if (b === g) return this; if (!m && b && v.length >= Qt) return function (e, t, r, n, o) { for (var i = 0, c = new Array(a), s = 0; 0 !== r; s++, r >>>= 1)c[s] = 1 & r ? t[i++] : void 0; return c[n] = o, new Dt(e, i + 1, c) }(e, v, p, f, b); if (m && !b && 2 === v.length && Yt(v[1 ^ h])) return v[1 ^ h]; if (m && b && 1 === v.length && Yt(b)) return b; var y = e && e === this.ownerID, E = m ? b ? p : p ^ d : p | d, O = m ? b ? Jt(v, h, b, y) : function (e, t, r) { var n = e.length - 1; if (r && t === n) return e.pop(), e; for (var a = new Array(n), o = 0, i = 0; i < n; i++)i === t && (o = 1), a[i] = e[i + o]; return a }(v, h, y) : function (e, t, r, n) { var a = e.length + 1; if (n && t + 1 === a) return e[t] = r, e; for (var o = new Array(a), i = 0, c = 0; c < a; c++)c === t ? (o[c] = r, i = -1) : o[c] = e[c + i]; return o }(v, h, b, y); return y ? (this.bitmap = E, this.nodes = O, this) : new xt(e, E, O) }; var Dt = function (e, t, r) { this.ownerID = e, this.count = t, this.nodes = r }; Dt.prototype.get = function (e, t, r, a) { void 0 === t && (t = ve(r)); var i = (0 === e ? t : t >>> e) & o, c = this.nodes[i]; return c ? c.get(e + n, t, r, a) : a }, Dt.prototype.update = function (e, t, r, a, c, s, u) { void 0 === r && (r = ve(a)); var l = (0 === t ? r : r >>> t) & o, f = c === i, d = this.nodes, p = d[l]; if (f && !p) return this; var m = zt(p, e, t + n, r, a, c, s, u); if (m === p) return this; var h = this.count; if (p) { if (!m && --h < $t) return function (e, t, r, n) { for (var a = 0, o = 0, i = new Array(r), c = 0, s = 1, u = t.length; c < u; c++, s <<= 1) { var l = t[c]; void 0 !== l && c !== n && (a |= s, i[o++] = l) } return new xt(e, a, i) }(e, d, h, l) } else h++; var v = e && e === this.ownerID, g = Jt(d, l, m, v); return v ? (this.count = h, this.nodes = g, this) : new Dt(e, h, g) }; var Pt = function (e, t, r) { this.ownerID = e, this.keyHash = t, this.entries = r }; Pt.prototype.get = function (e, t, r, n) { for (var a = this.entries, o = 0, i = a.length; o < i; o++)if (de(r, a[o][0])) return a[o][1]; return n }, Pt.prototype.update = function (e, t, r, n, a, o, s) { void 0 === r && (r = ve(n)); var u = a === i; if (r !== this.keyHash) return u ? this : (c(s), c(o), Wt(this, e, t, r, [n, a])); for (var l = this.entries, f = 0, d = l.length; f < d && !de(n, l[f][0]); f++); var p = f < d; if (p ? l[f][1] === a : u) return this; if (c(s), (u || !p) && c(o), u && 2 === d) return new Ut(e, this.keyHash, l[1 ^ f]); var m = e && e === this.ownerID, h = m ? l : Xe(l); return p ? u ? f === d - 1 ? h.pop() : h[f] = h.pop() : h[f] = [n, a] : h.push([n, a]), m ? (this.entries = h, this) : new Pt(e, this.keyHash, h) }; var Ut = function (e, t, r) { this.ownerID = e, this.keyHash = t, this.entry = r }; Ut.prototype.get = function (e, t, r, n) { return de(r, this.entry[0]) ? this.entry[1] : n }, Ut.prototype.update = function (e, t, r, n, a, o, s) { var u = a === i, l = de(n, this.entry[0]); return (l ? a === this.entry[1] : u) ? this : (c(s), u ? void c(o) : l ? e && e === this.ownerID ? (this.entry[1] = a, this) : new Ut(e, this.keyHash, [n, a]) : (c(o), Wt(this, e, t, ve(n), [n, a]))) }, Mt.prototype.iterate = Pt.prototype.iterate = function (e, t) { for (var r = this.entries, n = 0, a = r.length - 1; n <= a; n++)if (!1 === e(r[t ? a - n : n])) return !1 }, xt.prototype.iterate = Dt.prototype.iterate = function (e, t) { for (var r = this.nodes, n = 0, a = r.length - 1; n <= a; n++) { var o = r[t ? a - n : n]; if (o && !1 === o.iterate(e, t)) return !1 } }, Ut.prototype.iterate = function (e, t) { return e(this.entry) }; var Bt, Ft = function (e) { function t(e, t, r) { this._type = t, this._reverse = r, this._stack = e._root && Ht(e._root) } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.prototype.next = function () { for (var e = this._type, t = this._stack; t;) { var r = t.node, n = t.index++, a = void 0; if (r.entry) { if (0 === n) return Vt(e, r.entry) } else if (r.entries) { if (n <= (a = r.entries.length - 1)) return Vt(e, r.entries[this._reverse ? a - n : n]) } else if (n <= (a = r.nodes.length - 1)) { var o = r.nodes[this._reverse ? a - n : n]; if (o) { if (o.entry) return Vt(e, o.entry); t = this._stack = Ht(o, t) } continue } t = this._stack = this._stack.__prev } return { value: void 0, done: !0 } }, t }(V); function Vt(e, t) { return H(e, t[0], t[1]) } function Ht(e, t) { return { node: e, index: 0, __prev: t } } function Gt(e, t, r, n) { var a = Object.create(It); return a.size = e, a._root = t, a.__ownerID = r, a.__hash = n, a.__altered = !1, a } function qt() { return Bt || (Bt = Gt(0)) } function Kt(e, t, r) { var n, a; if (e._root) { var o = { value: !1 }, c = { value: !1 }; if (n = zt(e._root, e.__ownerID, 0, void 0, t, r, o, c), !c.value) return e; a = e.size + (o.value ? r === i ? -1 : 1 : 0) } else { if (r === i) return e; a = 1, n = new Mt(e.__ownerID, [[t, r]]) } return e.__ownerID ? (e.size = a, e._root = n, e.__hash = void 0, e.__altered = !0, e) : n ? Gt(a, n) : qt() } function zt(e, t, r, n, a, o, s, u) { return e ? e.update(t, r, n, a, o, s, u) : o === i ? e : (c(u), c(s), new Ut(t, n, [a, o])) } function Yt(e) { return e.constructor === Ut || e.constructor === Pt } function Wt(e, t, r, a, i) { if (e.keyHash === a) return new Pt(t, a, [e.entry, i]); var c, s = (0 === r ? e.keyHash : e.keyHash >>> r) & o, u = (0 === r ? a : a >>> r) & o, l = s === u ? [Wt(e, t, r + n, a, i)] : (c = new Ut(t, a, i), s < u ? [e, c] : [c, e]); return new xt(t, 1 << s | 1 << u, l) } function Xt(e) { return e = (e = (858993459 & (e -= e >> 1 & 1431655765)) + (e >> 2 & 858993459)) + (e >> 4) & 252645135, e += e >> 8, 127 & (e += e >> 16) } function Jt(e, t, r, n) { var a = n ? e : Xe(e); return a[t] = r, a } var Zt = a / 4, Qt = a / 2, $t = a / 4, er = "@@__IMMUTABLE_LIST__@@"; function tr(e) { return Boolean(e && e[er]) } var rr = function (e) { function t(t) { var r = ur(); if (null === t || void 0 === t) return r; if (tr(t)) return t; var o = e(t), i = o.size; return 0 === i ? r : (Ze(i), i > 0 && i < a ? sr(0, i, n, null, new ar(o.toArray())) : r.withMutations(function (e) { e.setSize(i), o.forEach(function (t, r) { return e.set(r, t) }) })) } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.of = function () { return this(arguments) }, t.prototype.toString = function () { return this.__toString("List [", "]") }, t.prototype.get = function (e, t) { if ((e = l(this, e)) >= 0 && e < this.size) { var r = dr(this, e += this._origin); return r && r.array[e & o] } return t }, t.prototype.set = function (e, t) { return function (e, t, r) { if ((t = l(e, t)) !== t) return e; if (t >= e.size || t < 0) return e.withMutations(function (e) { t < 0 ? pr(e, t).set(0, r) : pr(e, 0, t + 1).set(t, r) }); t += e._origin; var n = e._tail, a = e._root, o = { value: !1 }; t >= mr(e._capacity) ? n = lr(n, e.__ownerID, 0, t, r, o) : a = lr(a, e.__ownerID, e._level, t, r, o); if (!o.value) return e; if (e.__ownerID) return e._root = a, e._tail = n, e.__hash = void 0, e.__altered = !0, e; return sr(e._origin, e._capacity, e._level, a, n) }(this, e, t) }, t.prototype.remove = function (e) { return this.has(e) ? 0 === e ? this.shift() : e === this.size - 1 ? this.pop() : this.splice(e, 1) : this }, t.prototype.insert = function (e, t) { return this.splice(e, 0, t) }, t.prototype.clear = function () { return 0 === this.size ? this : this.__ownerID ? (this.size = this._origin = this._capacity = 0, this._level = n, this._root = this._tail = null, this.__hash = void 0, this.__altered = !0, this) : ur() }, t.prototype.push = function () { var e = arguments, t = this.size; return this.withMutations(function (r) { pr(r, 0, t + e.length); for (var n = 0; n < e.length; n++)r.set(t + n, e[n]) }) }, t.prototype.pop = function () { return pr(this, 0, -1) }, t.prototype.unshift = function () { var e = arguments; return this.withMutations(function (t) { pr(t, -e.length); for (var r = 0; r < e.length; r++)t.set(r, e[r]) }) }, t.prototype.shift = function () { return pr(this, 1) }, t.prototype.concat = function () { for (var t = arguments, r = [], n = 0; n < arguments.length; n++) { var a = t[n], o = e("string" !== typeof a && q(a) ? a : [a]); 0 !== o.size && r.push(o) } return 0 === r.length ? this : 0 !== this.size || this.__ownerID || 1 !== r.length ? this.withMutations(function (e) { r.forEach(function (t) { return t.forEach(function (t) { return e.push(t) }) }) }) : this.constructor(r[0]) }, t.prototype.setSize = function (e) { return pr(this, 0, e) }, t.prototype.map = function (e, t) { var r = this; return this.withMutations(function (n) { for (var a = 0; a < r.size; a++)n.set(a, e.call(t, n.get(a), a, n)) }) }, t.prototype.slice = function (e, t) { var r = this.size; return d(e, t, r) ? this : pr(this, p(e, r), m(t, r)) }, t.prototype.__iterator = function (e, t) { var r = t ? this.size : 0, n = cr(this, t); return new V(function () { var a = n(); return a === ir ? { value: void 0, done: !0 } : H(e, t ? --r : r++, a) }) }, t.prototype.__iterate = function (e, t) { for (var r, n = t ? this.size : 0, a = cr(this, t); (r = a()) !== ir && !1 !== e(r, t ? --n : n++, this);); return n }, t.prototype.__ensureOwner = function (e) { return e === this.__ownerID ? this : e ? sr(this._origin, this._capacity, this._level, this._root, this._tail, e, this.__hash) : 0 === this.size ? ur() : (this.__ownerID = e, this.__altered = !1, this) }, t }(T); rr.isList = tr; var nr = rr.prototype; nr[er] = !0, nr.delete = nr.remove, nr.merge = nr.concat, nr.setIn = ut, nr.deleteIn = nr.removeIn = ft, nr.update = pt, nr.updateIn = mt, nr.mergeIn = Tt, nr.mergeDeepIn = jt, nr.withMutations = kt, nr.wasAltered = Lt, nr.asImmutable = Nt, nr["@@transducer/init"] = nr.asMutable = Rt, nr["@@transducer/step"] = function (e, t) { return e.push(t) }, nr["@@transducer/result"] = function (e) { return e.asImmutable() }; var ar = function (e, t) { this.array = e, this.ownerID = t }; ar.prototype.removeBefore = function (e, t, r) { if (r === t ? 1 << t : 0 === this.array.length) return this; var a = r >>> t & o; if (a >= this.array.length) return new ar([], e); var i, c = 0 === a; if (t > 0) { var s = this.array[a]; if ((i = s && s.removeBefore(e, t - n, r)) === s && c) return this } if (c && !i) return this; var u = fr(this, e); if (!c) for (var l = 0; l < a; l++)u.array[l] = void 0; return i && (u.array[a] = i), u }, ar.prototype.removeAfter = function (e, t, r) { if (r === (t ? 1 << t : 0) || 0 === this.array.length) return this; var a, i = r - 1 >>> t & o; if (i >= this.array.length) return this; if (t > 0) { var c = this.array[i]; if ((a = c && c.removeAfter(e, t - n, r)) === c && i === this.array.length - 1) return this } var s = fr(this, e); return s.array.splice(i + 1), a && (s.array[i] = a), s }; var or, ir = {}; function cr(e, t) { var r = e._origin, o = e._capacity, i = mr(o), c = e._tail; return s(e._root, e._level, 0); function s(e, u, l) { return 0 === u ? function (e, n) { var s = n === i ? c && c.array : e && e.array, u = n > r ? 0 : r - n, l = o - n; l > a && (l = a); return function () { if (u === l) return ir; var e = t ? --l : u++; return s && s[e] } }(e, l) : function (e, i, c) { var u, l = e && e.array, f = c > r ? 0 : r - c >> i, d = 1 + (o - c >> i); d > a && (d = a); return function () { for (; ;) { if (u) { var e = u(); if (e !== ir) return e; u = null } if (f === d) return ir; var r = t ? --d : f++; u = s(l && l[r], i - n, c + (r << i)) } } }(e, u, l) } } function sr(e, t, r, n, a, o, i) { var c = Object.create(nr); return c.size = t - e, c._origin = e, c._capacity = t, c._level = r, c._root = n, c._tail = a, c.__ownerID = o, c.__hash = i, c.__altered = !1, c } function ur() { return or || (or = sr(0, 0, n)) } function lr(e, t, r, a, i, s) { var u, l = a >>> r & o, f = e && l < e.array.length; if (!f && void 0 === i) return e; if (r > 0) { var d = e && e.array[l], p = lr(d, t, r - n, a, i, s); return p === d ? e : ((u = fr(e, t)).array[l] = p, u) } return f && e.array[l] === i ? e : (s && c(s), u = fr(e, t), void 0 === i && l === u.array.length - 1 ? u.array.pop() : u.array[l] = i, u) } function fr(e, t) { return t && e && t === e.ownerID ? e : new ar(e ? e.array.slice() : [], t) } function dr(e, t) { if (t >= mr(e._capacity)) return e._tail; if (t < 1 << e._level + n) { for (var r = e._root, a = e._level; r && a > 0;)r = r.array[t >>> a & o], a -= n; return r } } function pr(e, t, r) { void 0 !== t && (t |= 0), void 0 !== r && (r |= 0); var a = e.__ownerID || new s, i = e._origin, c = e._capacity, u = i + t, l = void 0 === r ? c : r < 0 ? c + r : i + r; if (u === i && l === c) return e; if (u >= l) return e.clear(); for (var f = e._level, d = e._root, p = 0; u + p < 0;)d = new ar(d && d.array.length ? [void 0, d] : [], a), p += 1 << (f += n); p && (u += p, i += p, l += p, c += p); for (var m = mr(c), h = mr(l); h >= 1 << f + n;)d = new ar(d && d.array.length ? [d] : [], a), f += n; var v = e._tail, g = h < m ? dr(e, l - 1) : h > m ? new ar([], a) : v; if (v && h > m && u < c && v.array.length) { for (var b = d = fr(d, a), y = f; y > n; y -= n) { var E = m >>> y & o; b = b.array[E] = fr(b.array[E], a) } b.array[m >>> n & o] = v } if (l < c && (g = g && g.removeAfter(a, 0, l)), u >= h) u -= h, l -= h, f = n, d = null, g = g && g.removeBefore(a, 0, u); else if (u > i || h < m) { for (p = 0; d;) { var O = u >>> f & o; if (O !== h >>> f & o) break; O && (p += (1 << f) * O), f -= n, d = d.array[O] } d && u > i && (d = d.removeBefore(a, f, u - p)), d && h < m && (d = d.removeAfter(a, f, h - p)), p && (u -= p, l -= p) } return e.__ownerID ? (e.size = l - u, e._origin = u, e._capacity = l, e._level = f, e._root = d, e._tail = g, e.__hash = void 0, e.__altered = !0, e) : sr(u, l, f, d, g) } function mr(e) { return e < a ? 0 : e - 1 >>> n << n } var hr, vr = function (e) { function t(e) { return null === e || void 0 === e ? br() : le(e) ? e : br().withMutations(function (t) { var r = C(e); Ze(r.size), r.forEach(function (e, r) { return t.set(r, e) }) }) } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.of = function () { return this(arguments) }, t.prototype.toString = function () { return this.__toString("OrderedMap {", "}") }, t.prototype.get = function (e, t) { var r = this._map.get(e); return void 0 !== r ? this._list.get(r)[1] : t }, t.prototype.clear = function () { return 0 === this.size ? this : this.__ownerID ? (this.size = 0, this._map.clear(), this._list.clear(), this) : br() }, t.prototype.set = function (e, t) { return yr(this, e, t) }, t.prototype.remove = function (e) { return yr(this, e, i) }, t.prototype.wasAltered = function () { return this._map.wasAltered() || this._list.wasAltered() }, t.prototype.__iterate = function (e, t) { var r = this; return this._list.__iterate(function (t) { return t && e(t[1], t[0], r) }, t) }, t.prototype.__iterator = function (e, t) { return this._list.fromEntrySeq().__iterator(e, t) }, t.prototype.__ensureOwner = function (e) { if (e === this.__ownerID) return this; var t = this._map.__ensureOwner(e), r = this._list.__ensureOwner(e); return e ? gr(t, r, e, this.__hash) : 0 === this.size ? br() : (this.__ownerID = e, this._map = t, this._list = r, this) }, t }(_t); function gr(e, t, r, n) { var a = Object.create(vr.prototype); return a.size = e ? e.size : 0, a._map = e, a._list = t, a.__ownerID = r, a.__hash = n, a } function br() { return hr || (hr = gr(qt(), ur())) } function yr(e, t, r) { var n, o, c = e._map, s = e._list, u = c.get(t), l = void 0 !== u; if (r === i) { if (!l) return e; s.size >= a && s.size >= 2 * c.size ? (n = (o = s.filter(function (e, t) { return void 0 !== e && u !== t })).toKeyedSeq().map(function (e) { return e[0] }).flip().toMap(), e.__ownerID && (n.__ownerID = o.__ownerID = e.__ownerID)) : (n = c.remove(t), o = u === s.size - 1 ? s.pop() : s.set(u, void 0)) } else if (l) { if (r === s.get(u)[1]) return e; n = c, o = s.set(u, [t, r]) } else n = c.set(t, s.size), o = s.set(s.size, [t, r]); return e.__ownerID ? (e.size = n.size, e._map = n, e._list = o, e.__hash = void 0, e) : gr(n, o) } vr.isOrderedMap = le, vr.prototype[I] = !0, vr.prototype.delete = vr.prototype.remove; var Er = "@@__IMMUTABLE_STACK__@@"; function Or(e) { return Boolean(e && e[Er]) } var Sr = function (e) { function t(e) { return null === e || void 0 === e ? Tr() : Or(e) ? e : Tr().pushAll(e) } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.of = function () { return this(arguments) }, t.prototype.toString = function () { return this.__toString("Stack [", "]") }, t.prototype.get = function (e, t) { var r = this._head; for (e = l(this, e); r && e--;)r = r.next; return r ? r.value : t }, t.prototype.peek = function () { return this._head && this._head.value }, t.prototype.push = function () { var e = arguments; if (0 === arguments.length) return this; for (var t = this.size + arguments.length, r = this._head, n = arguments.length - 1; n >= 0; n--)r = { value: e[n], next: r }; return this.__ownerID ? (this.size = t, this._head = r, this.__hash = void 0, this.__altered = !0, this) : Cr(t, r) }, t.prototype.pushAll = function (t) { if (0 === (t = e(t)).size) return this; if (0 === this.size && Or(t)) return t; Ze(t.size); var r = this.size, n = this._head; return t.__iterate(function (e) { r++, n = { value: e, next: n } }, !0), this.__ownerID ? (this.size = r, this._head = n, this.__hash = void 0, this.__altered = !0, this) : Cr(r, n) }, t.prototype.pop = function () { return this.slice(1) }, t.prototype.clear = function () { return 0 === this.size ? this : this.__ownerID ? (this.size = 0, this._head = void 0, this.__hash = void 0, this.__altered = !0, this) : Tr() }, t.prototype.slice = function (t, r) { if (d(t, r, this.size)) return this; var n = p(t, this.size); if (m(r, this.size) !== this.size) return e.prototype.slice.call(this, t, r); for (var a = this.size - n, o = this._head; n--;)o = o.next; return this.__ownerID ? (this.size = a, this._head = o, this.__hash = void 0, this.__altered = !0, this) : Cr(a, o) }, t.prototype.__ensureOwner = function (e) { return e === this.__ownerID ? this : e ? Cr(this.size, this._head, e, this.__hash) : 0 === this.size ? Tr() : (this.__ownerID = e, this.__altered = !1, this) }, t.prototype.__iterate = function (e, t) { var r = this; if (t) return new ee(this.toArray()).__iterate(function (t, n) { return e(t, n, r) }, t); for (var n = 0, a = this._head; a && !1 !== e(a.value, n++, this);)a = a.next; return n }, t.prototype.__iterator = function (e, t) { if (t) return new ee(this.toArray()).__iterator(e, t); var r = 0, n = this._head; return new V(function () { if (n) { var t = n.value; return n = n.next, H(e, r++, t) } return { value: void 0, done: !0 } }) }, t }(T); Sr.isStack = Or; var wr, Ar = Sr.prototype; function Cr(e, t, r, n) { var a = Object.create(Ar); return a.size = e, a._head = t, a.__ownerID = r, a.__hash = n, a.__altered = !1, a } function Tr() { return wr || (wr = Cr(0)) } Ar[Er] = !0, Ar.shift = Ar.pop, Ar.unshift = Ar.push, Ar.unshiftAll = Ar.pushAll, Ar.withMutations = kt, Ar.wasAltered = Lt, Ar.asImmutable = Nt, Ar["@@transducer/init"] = Ar.asMutable = Rt, Ar["@@transducer/step"] = function (e, t) { return e.unshift(t) }, Ar["@@transducer/result"] = function (e) { return e.asImmutable() }; var jr = "@@__IMMUTABLE_SET__@@"; function kr(e) { return Boolean(e && e[jr]) } function Rr(e) { return kr(e) && M(e) } function Nr(e, t) { if (e === t) return !0; if (!b(t) || void 0 !== e.size && void 0 !== t.size && e.size !== t.size || void 0 !== e.__hash && void 0 !== t.__hash && e.__hash !== t.__hash || E(e) !== E(t) || S(e) !== S(t) || M(e) !== M(t)) return !1; if (0 === e.size && 0 === t.size) return !0; var r = !w(e); if (M(e)) { var n = e.entries(); return t.every(function (e, t) { var a = n.next().value; return a && de(a[1], e) && (r || de(a[0], t)) }) && n.next().done } var a = !1; if (void 0 === e.size) if (void 0 === t.size) "function" === typeof e.cacheResult && e.cacheResult(); else { a = !0; var o = e; e = t, t = o } var c = !0, s = t.__iterate(function (t, n) { if (r ? !e.has(t) : a ? !de(t, e.get(n, i)) : !de(e.get(n, i), t)) return c = !1, !1 }); return c && e.size === s } function Lr(e, t) { var r = function (r) { e.prototype[r] = t[r] }; return Object.keys(t).forEach(r), Object.getOwnPropertySymbols && Object.getOwnPropertySymbols(t).forEach(r), e } function _r(e) { if (!e || "object" !== typeof e) return e; if (!b(e)) { if (!et(e)) return e; e = J(e) } if (E(e)) { var t = {}; return e.__iterate(function (e, r) { t[r] = _r(e) }), t } var r = []; return e.__iterate(function (e) { r.push(_r(e)) }), r } var Ir = function (e) { function t(t) { return null === t || void 0 === t ? Ur() : kr(t) && !M(t) ? t : Ur().withMutations(function (r) { var n = e(t); Ze(n.size), n.forEach(function (e) { return r.add(e) }) }) } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.of = function () { return this(arguments) }, t.fromKeys = function (e) { return this(C(e).keySeq()) }, t.intersect = function (e) { return (e = A(e).toArray()).length ? xr.intersect.apply(t(e.pop()), e) : Ur() }, t.union = function (e) { return (e = A(e).toArray()).length ? xr.union.apply(t(e.pop()), e) : Ur() }, t.prototype.toString = function () { return this.__toString("Set {", "}") }, t.prototype.has = function (e) { return this._map.has(e) }, t.prototype.add = function (e) { return Dr(this, this._map.set(e, e)) }, t.prototype.remove = function (e) { return Dr(this, this._map.remove(e)) }, t.prototype.clear = function () { return Dr(this, this._map.clear()) }, t.prototype.map = function (e, t) { var r = this, n = [], a = []; return this.forEach(function (o) { var i = e.call(t, o, o, r); i !== o && (n.push(o), a.push(i)) }), this.withMutations(function (e) { n.forEach(function (t) { return e.remove(t) }), a.forEach(function (t) { return e.add(t) }) }) }, t.prototype.union = function () { for (var t = [], r = arguments.length; r--;)t[r] = arguments[r]; return 0 === (t = t.filter(function (e) { return 0 !== e.size })).length ? this : 0 !== this.size || this.__ownerID || 1 !== t.length ? this.withMutations(function (r) { for (var n = 0; n < t.length; n++)e(t[n]).forEach(function (e) { return r.add(e) }) }) : this.constructor(t[0]) }, t.prototype.intersect = function () { for (var t = [], r = arguments.length; r--;)t[r] = arguments[r]; if (0 === t.length) return this; t = t.map(function (t) { return e(t) }); var n = []; return this.forEach(function (e) { t.every(function (t) { return t.includes(e) }) || n.push(e) }), this.withMutations(function (e) { n.forEach(function (t) { e.remove(t) }) }) }, t.prototype.subtract = function () { for (var t = [], r = arguments.length; r--;)t[r] = arguments[r]; if (0 === t.length) return this; t = t.map(function (t) { return e(t) }); var n = []; return this.forEach(function (e) { t.some(function (t) { return t.includes(e) }) && n.push(e) }), this.withMutations(function (e) { n.forEach(function (t) { e.remove(t) }) }) }, t.prototype.sort = function (e) { return rn(Be(this, e)) }, t.prototype.sortBy = function (e, t) { return rn(Be(this, t, e)) }, t.prototype.wasAltered = function () { return this._map.wasAltered() }, t.prototype.__iterate = function (e, t) { var r = this; return this._map.__iterate(function (t) { return e(t, t, r) }, t) }, t.prototype.__iterator = function (e, t) { return this._map.__iterator(e, t) }, t.prototype.__ensureOwner = function (e) { if (e === this.__ownerID) return this; var t = this._map.__ensureOwner(e); return e ? this.__make(t, e) : 0 === this.size ? this.__empty() : (this.__ownerID = e, this._map = t, this) }, t }(j); Ir.isSet = kr; var Mr, xr = Ir.prototype; function Dr(e, t) { return e.__ownerID ? (e.size = t.size, e._map = t, e) : t === e._map ? e : 0 === t.size ? e.__empty() : e.__make(t) } function Pr(e, t) { var r = Object.create(xr); return r.size = e ? e.size : 0, r._map = e, r.__ownerID = t, r } function Ur() { return Mr || (Mr = Pr(qt())) } xr[jr] = !0, xr.delete = xr.remove, xr.merge = xr.concat = xr.union, xr.withMutations = kt, xr.asImmutable = Nt, xr["@@transducer/init"] = xr.asMutable = Rt, xr["@@transducer/step"] = function (e, t) { return e.add(t) }, xr["@@transducer/result"] = function (e) { return e.asImmutable() }, xr.__empty = Ur, xr.__make = Pr; var Br, Fr = function (e) { function t(e, r, n) { if (!(this instanceof t)) return new t(e, r, n); if (Je(0 !== n, "Cannot step a Range by 0"), e = e || 0, void 0 === r && (r = 1 / 0), n = void 0 === n ? 1 : Math.abs(n), r < e && (n = -n), this._start = e, this._end = r, this._step = n, this.size = Math.max(0, Math.ceil((r - e) / n - 1) + 1), 0 === this.size) { if (Br) return Br; Br = this } } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.prototype.toString = function () { return 0 === this.size ? "Range []" : "Range [ " + this._start + "..." + this._end + (1 !== this._step ? " by " + this._step : "") + " ]" }, t.prototype.get = function (e, t) { return this.has(e) ? this._start + l(this, e) * this._step : t }, t.prototype.includes = function (e) { var t = (e - this._start) / this._step; return t >= 0 && t < this.size && t === Math.floor(t) }, t.prototype.slice = function (e, r) { return d(e, r, this.size) ? this : (e = p(e, this.size), (r = m(r, this.size)) <= e ? new t(0, 0) : new t(this.get(e, this._end), this.get(r, this._end), this._step)) }, t.prototype.indexOf = function (e) { var t = e - this._start; if (t % this._step === 0) { var r = t / this._step; if (r >= 0 && r < this.size) return r } return -1 }, t.prototype.lastIndexOf = function (e) { return this.indexOf(e) }, t.prototype.__iterate = function (e, t) { for (var r = this.size, n = this._step, a = t ? this._start + (r - 1) * n : this._start, o = 0; o !== r && !1 !== e(a, t ? r - ++o : o++, this);)a += t ? -n : n; return o }, t.prototype.__iterator = function (e, t) { var r = this.size, n = this._step, a = t ? this._start + (r - 1) * n : this._start, o = 0; return new V(function () { if (o === r) return { value: void 0, done: !0 }; var i = a; return a += t ? -n : n, H(e, t ? r - ++o : o++, i) }) }, t.prototype.equals = function (e) { return e instanceof t ? this._start === e._start && this._end === e._end && this._step === e._step : Nr(this, e) }, t }(Q); function Vr(e, t, r) { for (var n = Qe(t), a = 0; a !== n.length;)if ((e = nt(e, n[a++], i)) === i) return r; return e } function Hr(e, t) { return Vr(this, e, t) } function Gr(e, t) { return Vr(e, t, i) !== i } function qr() { Ze(this.size); var e = {}; return this.__iterate(function (t, r) { e[r] = t }), e } A.isIterable = b, A.isKeyed = E, A.isIndexed = S, A.isAssociative = w, A.isOrdered = M, A.Iterator = V, Lr(A, { toArray: function () { Ze(this.size); var e = new Array(this.size || 0), t = E(this), r = 0; return this.__iterate(function (n, a) { e[r++] = t ? [a, n] : n }), e }, toIndexedSeq: function () { return new Re(this) }, toJS: function () { return _r(this) }, toKeyedSeq: function () { return new ke(this, !0) }, toMap: function () { return _t(this.toKeyedSeq()) }, toObject: qr, toOrderedMap: function () { return vr(this.toKeyedSeq()) }, toOrderedSet: function () { return rn(E(this) ? this.valueSeq() : this) }, toSet: function () { return Ir(E(this) ? this.valueSeq() : this) }, toSetSeq: function () { return new Ne(this) }, toSeq: function () { return S(this) ? this.toIndexedSeq() : E(this) ? this.toKeyedSeq() : this.toSetSeq() }, toStack: function () { return Sr(E(this) ? this.valueSeq() : this) }, toList: function () { return rr(E(this) ? this.valueSeq() : this) }, toString: function () { return "[Collection]" }, __toString: function (e, t) { return 0 === this.size ? e + t : e + " " + this.toSeq().map(this.__toStringMapper).join(", ") + " " + t }, concat: function () { for (var e = [], t = arguments.length; t--;)e[t] = arguments[t]; return Ge(this, function (e, t) { var r = E(e), n = [e].concat(t).map(function (e) { return b(e) ? r && (e = C(e)) : e = r ? oe(e) : ie(Array.isArray(e) ? e : [e]), e }).filter(function (e) { return 0 !== e.size }); if (0 === n.length) return e; if (1 === n.length) { var a = n[0]; if (a === e || r && E(a) || S(e) && S(a)) return a } var o = new ee(n); return r ? o = o.toKeyedSeq() : S(e) || (o = o.toSetSeq()), (o = o.flatten(!0)).size = n.reduce(function (e, t) { if (void 0 !== e) { var r = t.size; if (void 0 !== r) return e + r } }, 0), o }(this, e)) }, includes: function (e) { return this.some(function (t) { return de(t, e) }) }, entries: function () { return this.__iterator(P) }, every: function (e, t) { Ze(this.size); var r = !0; return this.__iterate(function (n, a, o) { if (!e.call(t, n, a, o)) return r = !1, !1 }), r }, filter: function (e, t) { return Ge(this, xe(this, e, t, !0)) }, find: function (e, t, r) { var n = this.findEntry(e, t); return n ? n[1] : r }, forEach: function (e, t) { return Ze(this.size), this.__iterate(t ? e.bind(t) : e) }, join: function (e) { Ze(this.size), e = void 0 !== e ? "" + e : ","; var t = "", r = !0; return this.__iterate(function (n) { r ? r = !1 : t += e, t += null !== n && void 0 !== n ? n.toString() : "" }), t }, keys: function () { return this.__iterator(x) }, map: function (e, t) { return Ge(this, Ie(this, e, t)) }, reduce: function (e, t, r) { return Wr(this, e, t, r, arguments.length < 2, !1) }, reduceRight: function (e, t, r) { return Wr(this, e, t, r, arguments.length < 2, !0) }, reverse: function () { return Ge(this, Me(this, !0)) }, slice: function (e, t) { return Ge(this, De(this, e, t, !0)) }, some: function (e, t) { return !this.every(Zr(e), t) }, sort: function (e) { return Ge(this, Be(this, e)) }, values: function () { return this.__iterator(D) }, butLast: function () { return this.slice(0, -1) }, isEmpty: function () { return void 0 !== this.size ? 0 === this.size : !this.some(function () { return !0 }) }, count: function (e, t) { return u(e ? this.toSeq().filter(e, t) : this) }, countBy: function (e, t) { return function (e, t, r) { var n = _t().asMutable(); return e.__iterate(function (a, o) { n.update(t.call(r, a, o, e), 0, function (e) { return e + 1 }) }), n.asImmutable() }(this, e, t) }, equals: function (e) { return Nr(this, e) }, entrySeq: function () { var e = this; if (e._cache) return new ee(e._cache); var t = e.toSeq().map(Jr).toIndexedSeq(); return t.fromEntrySeq = function () { return e.toSeq() }, t }, filterNot: function (e, t) { return this.filter(Zr(e), t) }, findEntry: function (e, t, r) { var n = r; return this.__iterate(function (r, a, o) { if (e.call(t, r, a, o)) return n = [a, r], !1 }), n }, findKey: function (e, t) { var r = this.findEntry(e, t); return r && r[0] }, findLast: function (e, t, r) { return this.toKeyedSeq().reverse().find(e, t, r) }, findLastEntry: function (e, t, r) { return this.toKeyedSeq().reverse().findEntry(e, t, r) }, findLastKey: function (e, t) { return this.toKeyedSeq().reverse().findKey(e, t) }, first: function (e) { return this.find(f, null, e) }, flatMap: function (e, t) { return Ge(this, function (e, t, r) { var n = Ke(e); return e.toSeq().map(function (a, o) { return n(t.call(r, a, o, e)) }).flatten(!0) }(this, e, t)) }, flatten: function (e) { return Ge(this, Ue(this, e, !0)) }, fromEntrySeq: function () { return new Le(this) }, get: function (e, t) { return this.find(function (t, r) { return de(r, e) }, void 0, t) }, getIn: Hr, groupBy: function (e, t) { return function (e, t, r) { var n = E(e), a = (M(e) ? vr() : _t()).asMutable(); e.__iterate(function (o, i) { a.update(t.call(r, o, i, e), function (e) { return (e = e || []).push(n ? [i, o] : o), e }) }); var o = Ke(e); return a.map(function (t) { return Ge(e, o(t)) }).asImmutable() }(this, e, t) }, has: function (e) { return this.get(e, i) !== i }, hasIn: function (e) { return Gr(this, e) }, isSubset: function (e) { return e = "function" === typeof e.includes ? e : A(e), this.every(function (t) { return e.includes(t) }) }, isSuperset: function (e) { return (e = "function" === typeof e.isSubset ? e : A(e)).isSubset(this) }, keyOf: function (e) { return this.findKey(function (t) { return de(t, e) }) }, keySeq: function () { return this.toSeq().map(Xr).toIndexedSeq() }, last: function (e) { return this.toSeq().reverse().first(e) }, lastKeyOf: function (e) { return this.toKeyedSeq().reverse().keyOf(e) }, max: function (e) { return Fe(this, e) }, maxBy: function (e, t) { return Fe(this, t, e) }, min: function (e) { return Fe(this, e ? Qr(e) : en) }, minBy: function (e, t) { return Fe(this, t ? Qr(t) : en, e) }, rest: function () { return this.slice(1) }, skip: function (e) { return 0 === e ? this : this.slice(Math.max(0, e)) }, skipLast: function (e) { return 0 === e ? this : this.slice(0, -Math.max(0, e)) }, skipWhile: function (e, t) { return Ge(this, Pe(this, e, t, !0)) }, skipUntil: function (e, t) { return this.skipWhile(Zr(e), t) }, sortBy: function (e, t) { return Ge(this, Be(this, t, e)) }, take: function (e) { return this.slice(0, Math.max(0, e)) }, takeLast: function (e) { return this.slice(-Math.max(0, e)) }, takeWhile: function (e, t) { return Ge(this, function (e, t, r) { var n = ze(e); return n.__iterateUncached = function (n, a) { var o = this; if (a) return this.cacheResult().__iterate(n, a); var i = 0; return e.__iterate(function (e, a, c) { return t.call(r, e, a, c) && ++i && n(e, a, o) }), i }, n.__iteratorUncached = function (n, a) { var o = this; if (a) return this.cacheResult().__iterator(n, a); var i = e.__iterator(P, a), c = !0; return new V(function () { if (!c) return { value: void 0, done: !0 }; var e = i.next(); if (e.done) return e; var a = e.value, s = a[0], u = a[1]; return t.call(r, u, s, o) ? n === P ? e : H(n, s, u, e) : (c = !1, { value: void 0, done: !0 }) }) }, n }(this, e, t)) }, takeUntil: function (e, t) { return this.takeWhile(Zr(e), t) }, update: function (e) { return e(this) }, valueSeq: function () { return this.toIndexedSeq() }, hashCode: function () { return this.__hash || (this.__hash = function (e) { if (e.size === 1 / 0) return 0; var t = M(e), r = E(e), n = t ? 1 : 0; return function (e, t) { return t = pe(t, 3432918353), t = pe(t << 15 | t >>> -15, 461845907), t = pe(t << 13 | t >>> -13, 5), t = pe((t = (t + 3864292196 | 0) ^ e) ^ t >>> 16, 2246822507), t = me((t = pe(t ^ t >>> 13, 3266489909)) ^ t >>> 16) }(e.__iterate(r ? t ? function (e, t) { n = 31 * n + tn(ve(e), ve(t)) | 0 } : function (e, t) { n = n + tn(ve(e), ve(t)) | 0 } : t ? function (e) { n = 31 * n + ve(e) | 0 } : function (e) { n = n + ve(e) | 0 }), n) }(this)) } }); var Kr = A.prototype; Kr[g] = !0, Kr[F] = Kr.values, Kr.toJSON = Kr.toArray, Kr.__toStringMapper = tt, Kr.inspect = Kr.toSource = function () { return this.toString() }, Kr.chain = Kr.flatMap, Kr.contains = Kr.includes, Lr(C, { flip: function () { return Ge(this, _e(this)) }, mapEntries: function (e, t) { var r = this, n = 0; return Ge(this, this.toSeq().map(function (a, o) { return e.call(t, [o, a], n++, r) }).fromEntrySeq()) }, mapKeys: function (e, t) { var r = this; return Ge(this, this.toSeq().flip().map(function (n, a) { return e.call(t, n, a, r) }).flip()) } }); var zr = C.prototype; zr[y] = !0, zr[F] = Kr.entries, zr.toJSON = qr, zr.__toStringMapper = function (e, t) { return tt(t) + ": " + tt(e) }, Lr(T, { toKeyedSeq: function () { return new ke(this, !1) }, filter: function (e, t) { return Ge(this, xe(this, e, t, !1)) }, findIndex: function (e, t) { var r = this.findEntry(e, t); return r ? r[0] : -1 }, indexOf: function (e) { var t = this.keyOf(e); return void 0 === t ? -1 : t }, lastIndexOf: function (e) { var t = this.lastKeyOf(e); return void 0 === t ? -1 : t }, reverse: function () { return Ge(this, Me(this, !1)) }, slice: function (e, t) { return Ge(this, De(this, e, t, !1)) }, splice: function (e, t) { var r = arguments.length; if (t = Math.max(t || 0, 0), 0 === r || 2 === r && !t) return this; e = p(e, e < 0 ? this.count() : this.size); var n = this.slice(0, e); return Ge(this, 1 === r ? n : n.concat(Xe(arguments, 2), this.slice(e + t))) }, findLastIndex: function (e, t) { var r = this.findLastEntry(e, t); return r ? r[0] : -1 }, first: function (e) { return this.get(0, e) }, flatten: function (e) { return Ge(this, Ue(this, e, !1)) }, get: function (e, t) { return (e = l(this, e)) < 0 || this.size === 1 / 0 || void 0 !== this.size && e > this.size ? t : this.find(function (t, r) { return r === e }, void 0, t) }, has: function (e) { return (e = l(this, e)) >= 0 && (void 0 !== this.size ? this.size === 1 / 0 || e < this.size : -1 !== this.indexOf(e)) }, interpose: function (e) { return Ge(this, function (e, t) { var r = ze(e); return r.size = e.size && 2 * e.size - 1, r.__iterateUncached = function (r, n) { var a = this, o = 0; return e.__iterate(function (e) { return (!o || !1 !== r(t, o++, a)) && !1 !== r(e, o++, a) }, n), o }, r.__iteratorUncached = function (r, n) { var a, o = e.__iterator(D, n), i = 0; return new V(function () { return (!a || i % 2) && (a = o.next()).done ? a : i % 2 ? H(r, i++, t) : H(r, i++, a.value, a) }) }, r }(this, e)) }, interleave: function () { var e = [this].concat(Xe(arguments)), t = He(this.toSeq(), Q.of, e), r = t.flatten(!0); return t.size && (r.size = t.size * e.length), Ge(this, r) }, keySeq: function () { return Fr(0, this.size) }, last: function (e) { return this.get(-1, e) }, skipWhile: function (e, t) { return Ge(this, Pe(this, e, t, !1)) }, zip: function () { return Ge(this, He(this, $r, [this].concat(Xe(arguments)))) }, zipAll: function () { return Ge(this, He(this, $r, [this].concat(Xe(arguments)), !0)) }, zipWith: function (e) { var t = Xe(arguments); return t[0] = this, Ge(this, He(this, e, t)) } }); var Yr = T.prototype; function Wr(e, t, r, n, a, o) { return Ze(e.size), e.__iterate(function (e, o, i) { a ? (a = !1, r = e) : r = t.call(n, r, e, o, i) }, o), r } function Xr(e, t) { return t } function Jr(e, t) { return [t, e] } function Zr(e) { return function () { return !e.apply(this, arguments) } } function Qr(e) { return function () { return -e.apply(this, arguments) } } function $r() { return Xe(arguments) } function en(e, t) { return e < t ? 1 : e > t ? -1 : 0 } function tn(e, t) { return e ^ t + 2654435769 + (e << 6) + (e >> 2) | 0 } Yr[O] = !0, Yr[I] = !0, Lr(j, { get: function (e, t) { return this.has(e) ? e : t }, includes: function (e) { return this.has(e) }, keySeq: function () { return this.valueSeq() } }), j.prototype.has = Kr.includes, j.prototype.contains = j.prototype.includes, Lr(Z, C.prototype), Lr(Q, T.prototype), Lr($, j.prototype); var rn = function (e) { function t(e) { return null === e || void 0 === e ? cn() : Rr(e) ? e : cn().withMutations(function (t) { var r = j(e); Ze(r.size), r.forEach(function (e) { return t.add(e) }) }) } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.of = function () { return this(arguments) }, t.fromKeys = function (e) { return this(C(e).keySeq()) }, t.prototype.toString = function () { return this.__toString("OrderedSet {", "}") }, t }(Ir); rn.isOrderedSet = Rr; var nn, an = rn.prototype; function on(e, t) { var r = Object.create(an); return r.size = e ? e.size : 0, r._map = e, r.__ownerID = t, r } function cn() { return nn || (nn = on(br())) } an[I] = !0, an.zip = Yr.zip, an.zipWith = Yr.zipWith, an.__empty = cn, an.__make = on; var sn = function (e, t) { var r, n = function (o) { var i = this; if (o instanceof n) return o; if (!(this instanceof n)) return new n(o); if (!r) { r = !0; var c = Object.keys(e), s = a._indices = {}; a._name = t, a._keys = c, a._defaultValues = e; for (var u = 0; u < c.length; u++) { var l = c[u]; s[l] = u, a[l] ? "object" === typeof console && console.warn && console.warn("Cannot define " + fn(this) + ' with property "' + l + '" since that property name is part of the Record API.') : pn(a, l) } } this.__ownerID = void 0, this._values = rr().withMutations(function (e) { e.setSize(i._keys.length), C(o).forEach(function (t, r) { e.set(i._indices[r], t === i._defaultValues[r] ? void 0 : t) }) }) }, a = n.prototype = Object.create(un); return a.constructor = n, t && (n.displayName = t), n }; sn.prototype.toString = function () { for (var e, t = fn(this) + " { ", r = this._keys, n = 0, a = r.length; n !== a; n++)t += (n ? ", " : "") + (e = r[n]) + ": " + tt(this.get(e)); return t + " }" }, sn.prototype.equals = function (e) { return this === e || e && this._keys === e._keys && dn(this).equals(dn(e)) }, sn.prototype.hashCode = function () { return dn(this).hashCode() }, sn.prototype.has = function (e) { return this._indices.hasOwnProperty(e) }, sn.prototype.get = function (e, t) { if (!this.has(e)) return t; var r = this._indices[e], n = this._values.get(r); return void 0 === n ? this._defaultValues[e] : n }, sn.prototype.set = function (e, t) { if (this.has(e)) { var r = this._values.set(this._indices[e], t === this._defaultValues[e] ? void 0 : t); if (r !== this._values && !this.__ownerID) return ln(this, r) } return this }, sn.prototype.remove = function (e) { return this.set(e) }, sn.prototype.clear = function () { var e = this._values.clear().setSize(this._keys.length); return this.__ownerID ? this : ln(this, e) }, sn.prototype.wasAltered = function () { return this._values.wasAltered() }, sn.prototype.toSeq = function () { return dn(this) }, sn.prototype.toJS = function () { return _r(this) }, sn.prototype.entries = function () { return this.__iterator(P) }, sn.prototype.__iterator = function (e, t) { return dn(this).__iterator(e, t) }, sn.prototype.__iterate = function (e, t) { return dn(this).__iterate(e, t) }, sn.prototype.__ensureOwner = function (e) { if (e === this.__ownerID) return this; var t = this._values.__ensureOwner(e); return e ? ln(this, t, e) : (this.__ownerID = e, this._values = t, this) }, sn.isRecord = L, sn.getDescriptiveName = fn; var un = sn.prototype; function ln(e, t, r) { var n = Object.create(Object.getPrototypeOf(e)); return n._values = t, n.__ownerID = r, n } function fn(e) { return e.constructor.displayName || e.constructor.name || "Record" } function dn(e) { return oe(e._keys.map(function (t) { return [t, e.get(t)] })) } function pn(e, t) { try { Object.defineProperty(e, t, { get: function () { return this.get(t) }, set: function (e) { Je(this.__ownerID, "Cannot set on an immutable record."), this.set(t, e) } }) } catch (r) { } } un[N] = !0, un.delete = un.remove, un.deleteIn = un.removeIn = ft, un.getIn = Hr, un.hasIn = Kr.hasIn, un.merge = ht, un.mergeWith = vt, un.mergeIn = Tt, un.mergeDeep = At, un.mergeDeepWith = Ct, un.mergeDeepIn = jt, un.setIn = ut, un.update = pt, un.updateIn = mt, un.withMutations = kt, un.asMutable = Rt, un.asImmutable = Nt, un[F] = un.entries, un.toJSON = un.toObject = Kr.toObject, un.inspect = un.toSource = function () { return this.toString() }; var mn, hn = function (e) { function t(e, r) { if (!(this instanceof t)) return new t(e, r); if (this._value = e, this.size = void 0 === r ? 1 / 0 : Math.max(0, r), 0 === this.size) { if (mn) return mn; mn = this } } return e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t, t.prototype.toString = function () { return 0 === this.size ? "Repeat []" : "Repeat [ " + this._value + " " + this.size + " times ]" }, t.prototype.get = function (e, t) { return this.has(e) ? this._value : t }, t.prototype.includes = function (e) { return de(this._value, e) }, t.prototype.slice = function (e, r) { var n = this.size; return d(e, r, n) ? this : new t(this._value, m(r, n) - p(e, n)) }, t.prototype.reverse = function () { return this }, t.prototype.indexOf = function (e) { return de(this._value, e) ? 0 : -1 }, t.prototype.lastIndexOf = function (e) { return de(this._value, e) ? this.size : -1 }, t.prototype.__iterate = function (e, t) { for (var r = this.size, n = 0; n !== r && !1 !== e(this._value, t ? r - ++n : n++, this);); return n }, t.prototype.__iterator = function (e, t) { var r = this, n = this.size, a = 0; return new V(function () { return a === n ? { value: void 0, done: !0 } : H(e, t ? n - ++a : a++, r._value) }) }, t.prototype.equals = function (e) { return e instanceof t ? de(this._value, e._value) : Nr(e) }, t }(Q); function vn(e, t) { return function e(t, r, n, a, o, i) { var c = Array.isArray(n) ? Q : $e(n) ? Z : null; if (c) { if (~t.indexOf(n)) throw new TypeError("Cannot convert circular structure to Immutable"); t.push(n), o && "" !== a && o.push(a); var s = r.call(i, a, c(n).map(function (a, i) { return e(t, r, a, i, o, n) }), o && o.slice()); return t.pop(), o && o.pop(), s } return n }([], t || gn, e, "", t && t.length > 2 ? [] : void 0, { "": e }) } function gn(e, t) { return E(t) ? t.toMap() : t.toList() } var bn = "4.0.0-rc.11", yn = { version: bn, Collection: A, Iterable: A, Seq: J, Map: _t, OrderedMap: vr, List: rr, Stack: Sr, Set: Ir, OrderedSet: rn, Record: sn, Range: Fr, Repeat: hn, is: de, fromJS: vn, hash: ve, isImmutable: _, isCollection: b, isKeyed: E, isIndexed: S, isAssociative: w, isOrdered: M, isValueObject: fe, isSeq: R, isList: tr, isMap: ue, isOrderedMap: le, isStack: Or, isSet: kr, isOrderedSet: Rr, isRecord: L, get: nt, getIn: Vr, has: rt, hasIn: Gr, merge: bt, mergeDeep: Et, mergeWith: yt, mergeDeepWith: Ot, remove: ot, removeIn: lt, set: it, setIn: st, update: dt, updateIn: ct }, En = A; t.default = yn }, "../../node_modules/strnum/strnum.js": function (e, t) { var r = /^[-+]?0x[a-fA-F0-9]+$/, n = /^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/, a = { hex: !0, leadingZeros: !0, decimalPoint: "." }; e.exports = function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; if (t = Object.assign({}, a, t), !e || "string" !== typeof e) return e; var o = e.trim(); if (void 0 !== t.skipLike && t.skipLike.test(o)) return e; if (t.hex && r.test(o)) return Number.parseInt(o, 16); var i = n.exec(o); if (i) { i[1]; var c = i[2], s = i[3]; return i[4] || i[6], 1 === c.length && "." === s[0] ? Number(e) : !t.leadingZeros && c.length > 0 ? e : Number(o) } return e } }, "./node_modules/webpack/buildin/global.js": function (e, t) { var r; r = function () { return this }(); try { r = r || new Function("return this")() } catch (n) { "object" === typeof window && (r = window) } e.exports = r }, "./node_modules/webpack/buildin/module.js": function (e, t) { e.exports = function (e) { return e.webpackPolyfill || (e.deprecate = function () { }, e.paths = [], e.children || (e.children = []), Object.defineProperty(e, "loaded", { enumerable: !0, get: function () { return e.l } }), Object.defineProperty(e, "id", { enumerable: !0, get: function () { return e.i } }), e.webpackPolyfill = 1), e } }, "./src/index.ts": function (e, t, r) { "use strict"; var n = this && this.__createBinding || (Object.create ? function (e, t, r, n) { void 0 === n && (n = r), Object.defineProperty(e, n, { enumerable: !0, get: function () { return t[r] } }) } : function (e, t, r, n) { void 0 === n && (n = r), e[n] = t[r] }), a = this && this.__exportStar || function (e, t) { for (var r in e) "default" === r || Object.prototype.hasOwnProperty.call(t, r) || n(t, e, r) }; Object.defineProperty(t, "__esModule", { value: !0 }), a(r("./src/utils/index.ts"), t) }, "./src/utils/Service.ts": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var n = function (e) { f(r, e); var t = g(r); function r() { var e; s(this, r); var n = (e = t.call(this)).constructor.instance; return d(e, n || (e.constructor.instance = l(e))) } return u(r, null, [{ key: "factory", value: function () { var e = this; return function () { return e.instance || (e.instance = new e), e.instance } } }]), r }(r("./src/utils/events.ts").EventEmitter); t.default = n }, "./src/utils/blob.ts": function (e, t, r) { "use strict"; function n(e) { return new Promise(function (t) { var r = new FileReader; r.addEventListener("loadend", function () { var e = r.result; e instanceof ArrayBuffer && t(e) }), r.readAsArrayBuffer(e) }) } function a() { return (a = c(i.mark(function e(t) { return i.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.t0 = Uint8Array, e.next = 3, n(t); case 3: return e.t1 = e.sent, e.abrupt("return", new e.t0(e.t1)); case 5: case "end": return e.stop() } }, e) }))).apply(this, arguments) } Object.defineProperty(t, "__esModule", { value: !0 }), t.arrayBufferToBlob = t.readBlobByteArray = t.readBlobArrayBuffer = void 0, t.readBlobArrayBuffer = n, t.readBlobByteArray = function (e) { return a.apply(this, arguments) }, t.arrayBufferToBlob = function (e, t) { return new Blob([e], { type: t }) } }, "./src/utils/collections.ts": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.chunk = void 0; var n = r("../../node_modules/immutable/dist/immutable.es.js"); t.chunk = function (e, t) { if (n.List.isList(e)) { for (var r = e.count(), a = n.List(), o = 0; o < r; o += t)a = a.push(e.slice(o, o + t)); return a } for (var i = [], c = 0; c < e.length; c += t)i.push(e.slice(c, c + t)); return i } }, "./src/utils/colorUtils.ts": function (e, t, r) { "use strict"; function n(e) { var t = document.createElement("canvas"); t.height = 1, t.width = 1; var r = t.getContext("2d"); return r ? (r.fillStyle = e, r.fillRect(0, 0, 1, 1), Array.from(r.getImageData(0, 0, 1, 1).data)) : [0, 0, 0, 0] } function a(e) { return "0".concat(e.toString(16)).slice(-2) } function i(e) { return "#".concat(["r", "g", "b"].map(function (t, r) { return a(e[r]) }).join("")) } Object.defineProperty(t, "__esModule", { value: !0 }), t.decToHex = t.rgbaToCot = t.cotColorToRGBA = t.colorToHex = t.hexToRgba = t.rgbaToHex = t.byteToHex = t.colorToRGBA = void 0, t.colorToRGBA = n, t.byteToHex = a, t.rgbaToHex = i, t.hexToRgba = function (e) { var t; if (/^#([A-Fa-f0-9]{3}){1,2}$/.test(e)) return 3 == (t = e.substring(1).split("")).length && (t = [t[0], t[0], t[1], t[1], t[2], t[2]]), [(t = Number("0x".concat(t.join("")))) >> 16 & 255, t >> 8 & 255, 255 & t, 1]; throw new Error("Bad Hex") }, t.colorToHex = function (e) { return i(n(e)) }, t.cotColorToRGBA = function (e) { return [e >> 16 & 255, e >> 8 & 255, 255 & e, e >> 24 & 255] }, t.rgbaToCot = function (e) { var t = o(e, 4), r = t[0], n = t[1], a = t[2]; return (255 & t[3]) << 24 | (255 & r) << 16 | (255 & n) << 8 | 255 & a }, t.decToHex = function (e) { var t = e; return t < 0 && (t = 4294967295 + e + 1), t.toString(16) } }, "./src/utils/coordinateUtils.ts": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.dmsToLatLon = t.mgrsToLatLon = t.utmToLatLon = t.toDMSString = t.toDMS = t.toDMString = t.toDM = t.toUTMString = t.toUTM = t.toMGRSString = t.toMGRS = t.CoordinateTypes = void 0; var n = r("../../node_modules/coordinator/coordinator.js"); function a(e, t) { var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 5, a = n.converters; try { var o = a.latlong.toMgrs(e, t, r, "object"); return { zone: o.zone || "---", square: o.square || "--", easting: o.easting || "--", northing: o.northing || "--" } } catch (i) { return { zone: "---", square: "--", easting: "-----", northing: "-----" } } } function o(e, t) { var r = n.converters; try { var a = r.latlong.toUtm(e, t), o = a.zoneNumber, i = a.northing, c = a.easting, s = a.hemisphere; return o || (o = "--"), s || (s = "-"), c || (c = "------"), i || (i = "------"), { zone: o, northing: i, hemisphere: s, easting: c } } catch (u) { return { zone: "--", northing: "-", hemisphere: "------", easting: "-----" } } } function i(e, t) { return n.converters.latlong.toDegMinSec(e, t, "object") } function c(e) { var t, r, n = {}; if ("object" === typeof e) n = function (e) { var t = {}; if ("object" !== typeof e || !e.degrees || !e.minutes || !e.seconds) throw new Error('Invalid DMS object. Properties "degree", "minute", "seconds" are required. '); return "string" === typeof e.degrees ? t.degrees = parseInt(e.degrees, 10) : t.degrees = e.degrees, e.direction && ("S" === e.direction || "W" === e.direction ? t.degrees = -Math.abs(t.degrees) : t.degrees = Math.abs(t.degrees)), "string" === typeof e.minutes ? t.minutes = Math.abs(parseInt(e.minutes, 10)) : t.minutes = Math.abs(e.minutes), "string" === typeof e.seconds ? t.seconds = Math.abs(parseInt(e.seconds, 10)) : t.seconds = Math.abs(e.seconds), t }(e); else { if (!/^[NSEW\-]?\d{1,3}[\xb0 ]\d{1,2}[' ]\d{1,2}(\.\d{1,3})?[" ][NSEW]?$/.test(e)) throw "Angle not formatted correctly: " + e; t = e.match(/-?\d+(\.\d+)?/g), n.degrees = parseInt(t[0], 10), n.minutes = parseInt(t[1], 10), n.seconds = parseFloat(t[2]) } return t = String(Number(n.minutes) / 60 + Number(n.seconds) / 3600), r = n.degrees + "." + t.substring(t.indexOf(".") + 1), parseFloat(r) } !function (e) { e.Degrees = "dd", e.MGRS = "mrgs", e.UTM = "utm", e.DM = "dm", e.DMS = "dms" }(t.CoordinateTypes || (t.CoordinateTypes = {})), t.toMGRS = a, t.toMGRSString = function (e, t) { var r = a(e, t, arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 5), n = r.zone, o = r.square, i = r.easting, c = r.northing; return "".concat(n, " ").concat(o, " ").concat(i, " ").concat(c) }, t.toUTM = o, t.toUTMString = function (e, t) { var r = o(e, t), n = r.zone, a = r.northing, i = r.hemisphere, c = r.easting; return "".concat(n).concat(i, " ").concat(c, " ").concat(a) }, t.toDM = i, t.toDMString = function (e, t) { var r = i(e, t), n = r.latitude, a = r.longitude; return "".concat(n.degrees, "\xb0").concat(n.minutes, "' ").concat(n.direction, " ").concat(a.degrees, "\xb0").concat(a.minutes, "' ").concat(a.direction) }, t.toDMS = function (e, t) { var r = n.converters; try { var a = r.latlong.toDegMinSec(e, t, "object", 2); return { latitude: a.latitude, longitude: a.longitude } } catch (o) { return { latitude: { degrees: "--", minutes: "--", seconds: "--" }, longitude: { degrees: "--", minutes: "--", seconds: "--" } } } }, t.toDMSString = function (e, t) { var r = n.converters; try { var a = r.latlong.toDegMinSec(e, t, "string", 2), o = a.latitude, i = a.longitude; return "".concat(o, " ").concat(i) } catch (c) { return "----.-- ------.--" } }, t.utmToLatLon = function (e) { var t = e.zone, r = e.northing, a = e.easting; return n.converters.utm.toLatLong(r, a, t) }, t.mgrsToLatLon = function (e) { var t = e.zone, r = e.square, a = e.easting, o = e.northing, i = n.converters, c = "".concat(t).concat(r).concat(a).concat(o), s = i.mgrs.toUtm(c), u = s.Zone, l = s.Easting, f = s.Northing; return i.utm.toLatLong(f, l, u) }, t.dmsToLatLon = function (e, t) { var r = c(e), n = c(t); if (r < -90 || r > 90) throw "Latitude out of bounds: " + r; if (n < -180 || n > 180) throw "Longitude out of bounds: " + n; return [r, n] } }, "./src/utils/events.ts": function (e, t, r) { "use strict"; function n() { var e = {}, t = {}, r = null; return { clear: function () { null !== r && (clearTimeout(r), r = null), [t, e].forEach(function (e) { Object.keys(e).forEach(function (t) { e[t] = null, delete e[t] }) }) }, on: function (e, r) { t[e] || (t[e] = []), t[e].push(r) }, once: function (t, r) { e[t] || (e[t] = []), e[t].push(r) }, off: function (r, n) { var a = t[r], o = e[r]; if (a) { for (var i = [], c = 0; c < a.length; c++)a[c] !== n && i.push(a[c]); t[r] = i } if (o) { for (var s = [], u = 0; u < o.length; u++)o[u] !== n && s.push(o[u]); e[r] = s } }, emit: function (n) { for (var a = arguments.length, o = new Array(a > 1 ? a - 1 : 0), i = 1; i < a; i++)o[i - 1] = arguments[i]; r = setTimeout(function () { r = null, [e[n], t[n]].forEach(function (e) { e && e.forEach(function (e) { e.apply(void 0, o) }) }), e[n] = [] }, 0) } } } Object.defineProperty(t, "__esModule", { value: !0 }), t.Eventable = t.EventEmitter = t.createEmitter = void 0, t.createEmitter = n; t.EventEmitter = function e() { s(this, e); var t = n(); this.on = t.on, this.once = t.once, this.off = t.off, this.clear = t.clear, this.emit = t.emit }, t.Eventable = function (e) { return function (t) { f(a, e); var r = g(a); function a() { var e; s(this, a); for (var t = arguments.length, o = new Array(t), i = 0; i < t; i++)o[i] = arguments[i]; e = r.call.apply(r, [this].concat(o)); var c = n(); return e.on = c.on, e.once = c.once, e.off = c.off, e.clear = c.clear, e.emit = c.emit, e } return a }() } }, "./src/utils/fileUtils.ts": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.isKMZ = t.isKML = t.isImage = void 0, t.isImage = function (e) { return /\.(gif|jpe?g|svg|png|webp|bmp)$/i.test(e) }, t.isKML = function (e) { return /\.(kml|KML)$/i.test(e) }, t.isKMZ = function (e) { return /\.(kmz|KMZ)$/i.test(e) } }, "./src/utils/functional.ts": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.clone = t.nanOrElse = t.identity = t.curryRight = void 0, t.curryRight = function (e) { var t = e.length; function r() { for (var n = arguments.length, o = new Array(n), i = 0; i < n; i++)o[i] = arguments[i]; return o.length >= t ? e.apply(void 0, a(o.slice(0, t).reverse())) : r.bind.apply(r, [void 0].concat(o)) } for (var n = arguments.length, o = new Array(n > 1 ? n - 1 : 0), i = 1; i < n; i++)o[i - 1] = arguments[i]; return o.length ? r.apply(void 0, o) : r }, t.identity = function (e) { return e }, t.nanOrElse = function (e, t) { return Number.isNaN(Number(e)) ? Number(e) : t || 0 }; var n = function (e) { return !e || !0 === e || "number" === typeof e || "string" === typeof e || "function" === typeof e }; function o(e) { return n(e) ? e : Array.isArray(e) ? function (e) { for (var t = a(e), r = 0; r < t.length; r++)t[r] = o(t[r]); return t }(e) : function (e) { for (var t = v({}, e), r = Object.keys(t), n = 0; n < r.length; n++) { var a = r[n]; t[a] = o(t[a]) } return t }(e) } t.clone = o }, "./src/utils/getRandomCallsign.ts": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.getRandomCallsign = void 0; var n = function (e) { return Math.floor(Math.random() * e) }; t.getRandomCallsign = function () { return "".concat(a[n(a.length)]).concat(String(n(999)).padStart(3, "0")) }; var a = ["AARDVARK", "ABIDE", "ABLOW", "ABNORMAL", "ABSOLUTION", "ABYSS", "ACES", "ACKER", "ACME", "ACROBAT", "ACTON", "ADIN", "ADIOS", "ADMN", "AERO", "AFTON", "AGAR", "AGILE", "AGIO", "AGOG", "AGONY", "AIREVAC", "AIRGUN", "AKSARBEN", "ALFALFA", "ALGA", "ALGER", "ALLEYCAT", "ALLOY", "ALMIGHTY", "ALTA", "ALVA", "AMBUSH", "AME", "AMINO", "AMMON", "AMWAY", "ANDY", "ANGEL", "ANGOL", "ANGRY OWL", "ANGRY WARRIOR", "ANIMAL", "ANITA", "ANKER", "ANKLE", "ANNIE", "ANODE", "ANTAR", "ANTLER", "ANVIL", "APACHE", "APROPOS", "ARBY", "ARCHITECT", "ARCO", "ARCTIC", "ARIA", "ARIGO", "ARISE", "ARNOLD CONTROL", "ARRID", "ARTER", "ARTLY", "ASCOT", "ASHER", "ASPEN", "ASTRA", "ATAP", "ATLAS", "ATOKA", "ATTIC", "AUGGIE", "AUGUR", "AUSSIE", "AUSTIN", "AUTUMN", "AVALON", "AWOKE", "AXE", "AXEMAN", "AXION", "AXIS", "AXLE", "BABS", "BACKSPIN", "BACKSTOP", "BACKY", "BACON", "BADER", "BADGER", "BAF", "BAFFLE", "BAGGY", "BAKE", "BALKY", "BALL", "BAMA", "BAMBO", "BANDIT", "BANDSAW", "BANDSAW ABC", "BANDSAW JULIET", "BANDWAGON", "BANG", "BANGER", "BANGOR", "BANKS", "BAR", "BARRACUDA", "BARBARIC", "BARBER", "BARD", "BARK", "BARN", "BARON", "BARON CONTROL", "BARRACUDA", "BART", "BASCO", "BASH", "BASS", "BAT", "BATCH", "BATEY", "BATH", "BATON", "BATTER UP", "BATTLESTAR", "BAY RIDER", "BAYSIDE", "BAZOO", "BEACHBALL", "BEAK", "BEAN", "BEAR", "BEARMAT", "BEAVER", "BEEF", "BEEFSTEAK", "BEER", "BELGA", "BERTH", "BETA", "BETH", "BETSY", "BIDDLE", "BIDDY", "BIG DOG", "BIG RED", "BIGGY", "BILK", "BILKO", "BILLFISH", "BILLO", "BINAL", "BINDER", "BIONIC", "BIRCH", "BIRD", "BIRTH", "BISON", "BIXBY", "BLACK", "BLACK BEAR", "BLACK CAT", "BLACK EAGLE", "BLACK HAWK", "BLACK LION", "BLACK LIST", "BLACK SHEEP", "BLACK WIND", "BLACKBIRD", "BLACKFOOT", "BLACKSHEEP", "BLADE", "BLADEMAN", "BLAZER", "BLEED", "BLOB", "BLOIE", "BLOKE", "BLOND", "BLOODHOUND", "BLOT", "BLUE", "BLUE ANGELS", "BLUE BIRD", "BLUE CHIP", "BLUE DIAMOND", "BLUE FIRE", "BLUE FLITE", "BLUE GHOST", "BLUE KNIGHT", "BLUE STAR", "BLUE THUNDER", "BOAR", "BOAT SAIL", "BOBCAT", "BODE", "BOGUE", "BOLA", "BOLAR", "BOLT", "BOMAR", "BOMBER", "BONE", "BONNIE SUE", "BONNO", "BONSI", "BOOMER", "BOOT", "BORAGE", "BORBA", "BORER", "BOSCO", "BOSOX", "BOTE", "BOXER", "BRAMA", "BRANDYWINE", "BRASS HAT", "BRAT", "BRAVE", "BRAVO", "BRAWLER", "BRAY", "BREW", "BRIARPATCH", "BRICE", "BRICKSTON", "BRICKWALL", "BRICKYARD", "BRIGG", "BRIGHAM", "BRINEY", "BRINY", "BROADWAY", "BROCHURE", "BRODY", "BROMO", "BRONCO", "BROOK", "BROOM", "BROWN BEAR", "BRUCE", "BUBBA", "BUCKEYE", "BUFF", "BUILD", "BULB", "BULL", "BULLDOG", "BULLET", "BULLFROG TANGO", "BULLSEYE", "BUMPY", "BURGLAR", "BURNER", "BURNING BUSH", "BURR", "BURT", "BUTCH", "BUXOM", "BUZZ", "BUZZARD", "BUZZSAW", "BYLAW", "DACOTAH", "DAE", "DAGDA", "DAGGER", "DAGO", "DAGON", "DAGRAT", "DAILY", "DALLAS", "DALLY", "DAME", "DAMON", "DANDA", "DANDER", "DANNO", "DAPPER DAN", "DARE", "DARK", "DARKSTAR", "DART", "DAUBY", "DAWG", "DAZZLE", "DEAL", "DEATH", "DEER HUNTER", "DEERLODGE", "DEFY", "DELVE", "DEMO", "DEMON", "DEMUS", "DENALI", "DEPOT", "DERBY", "DERMA", "DESERT BASE", "DESERT CONTROL", "DETONE", "DEUCE", "DEVIL", "DEVON", "DEWEY", "DIAL", "DIAMOND", "DIAMOND OPS", "DIAMONDBACK", "DICEY", "DIDO", "DIGGER", "DILLON", "DINO", "DIPPER", "DIRK", "DIRT", "DISCO", "DITTY", "DIXIE", "DIZZY", "DOBBY", "DOG", "DOGGY", "DOGWOOD", "DOMB", "DOMINO", "DONG", "DONNA", "DOOM", "DOORWAY CONTROL", "DORSAL", "DOUD", "DOUGHBOY", "DOVER", "DOWN RIGGER", "DOWNFALL", "DOWNY", "DRAGNET", "DRAGON", "DRAGONFIRE", "DRAKO", "DRAW", "DREAMLAND", "DROPKICK", "DRUB", "DRUG", "DRY", "DRYDEN", "DUCK", "DUDE", "DUKE", "DUNMORE", "DUPE", "DUPLE", "DUSTER", "DUSTY", "EAGLE", "EAGLE CLIFF", "EAGLE NEST", "EARL", "EARP", "EASY", "EASY RIDER", "EATHAN", "EDGAR", "EDGY", "EEL", "EFFORT", "ELCID", "ELECTRIC", "ELF", "ELGIN", "ELITE", "ELTON", "ELVAN", "ELVIS", "EMMET", "EMPIRE", "ENERGY", "ENTRY", "EPIC", "EPOXY", "ERGOT", "ESSEX", "ESSO", "ETHEL", "EUREKA", "EVA", "EVAC", "EVADER", "EVEN", "EVIL EYE", "EXPO", "EXUDE", "EXULT", "EXXON", "FAF", "FALCON", "FALKE", "FALLON", "FALLS", "FAME", "FANG", "FANGS", "FANTOM", "FANTOP", "FARMER", "FASTEAGLE", "FATBOY", "FATLY", "FAULT", "FELIX", "FENCE HEAD", "FENNY", "FERRY", "FETCH", "FEUD", "FEVER", "FILO", "FINA", "FIR", "FIREBALL", "FIREBRAND", "FIRESIDE", "FIRM", "FIRST", "FIRST FLT CNTRL", "FISHER BODY", "FIST", "FITCH", "FLAG PLOT", "FLAME", "FLASH", "FLEAGLE", "FLEAGO", "FLINT BASE", "FLOSS", "FLOUT", "FLU", "FLUME", "FLYING ACE", "FLYNEST", "FOCAL", "FOCUS", "FOG PATCH CONTR", "FONDA", "FONG", "FONT", "FORCE", "FORKS", "FOSDICK", "FOSS", "FOX", "FOXTROT TANGO", "FOXTROT WHISKEY", "FOXY", "FRANK", "FRATE", "FRAY", "FREDDY", "FREE", "FREEBIE", "FREEDOM", "FREEMASON", "FRIED CHICKEN", "FRISCO", "FRISK", "FROM", "FRONTIER CONTL", "FRONTLINE", "FROSTY", "FUJIN", "FUNGO", "FUNNY", "FURIOUS", "FUROR", "FURR", "FURY", "FUSS", "FYY", "GABBY", "GAF", "GAIN", "GAINER", "GALE", "GAM", "GAMBLE", "GAMMA RAY", "GANGSTER", "GARBY", "GASLIGHT", "GASPIPE", "GASSER", "GATOR", "GEKKO", "GELD", "GELT", "GEMINI", "GENUS", "GETUP", "GHOST", "GHOST WALKER", "GIANT KILLER", "GIANT TALK", "GILA", "GIN", "GLASS EYE", "GLOBAL", "GLUCOSE", "GNARLY", "GOAT", "GOBO", "GOLAN", "GOLD", "GOLD EAGLE", "GOLDENROD", "GOMER", "GONDOLA", "GOOD", "GOODY", "GOOFY", "GOPHER", "GORAL", "GORDO", "GOURD", "GRAMBY", "GRAND SLAM CTL", "GRAY EAGLE", "GRAY HAWK", "GRAY KNIGHT", "GREEN PINE", "GRIFFIN", "GRIMEY", "GRIP", "GRIZZLY", "GROAT", "GROUCH", "GROUP", "GROUT", "GROWL", "GROWN", "GRUB", "GRUMAN", "GRUMPY", "GRUNT", "GUARDIAN", "GUCCI", "GUDA", "GULL", "GUMBO", "GUN TRAIN", "GUNFIGHTER", "GUNRUNNER", "GUNSMOKE", "GUNTRAIN", "GUPPY", "GUSS", "GYPSY", "HACK", "HAF", "HAIL", "HAITI", "HAKE", "HAL", "HALIBUT", "HALL", "HALT", "HAMMER", "HAMPSHIRE", "HANGOVER", "HAPPY", "HAPPY HOUR", "HAPPY HUNTER", "HARDBALL", "HARDY", "HARLEY", "HARM", "HARMO", "HARPO", "HARPY", "HART", "HASSLE", "HAVOC", "HAWG", "HAWK", "HAWKEYE", "HEAD DANCER", "HEADCAP", "HEALER", "HEAT", "HELL CAT", "HELLION", "HEMPY", "HENRY", "HERC", "HERKY", "HERMA", "HERSHEY", "HEWIT", "HEWN", "HEWY", "HEXAD", "HIFI", "HIGH COUNTRY", "HIGH ROLLER", "HIGHTEST", "HIKE", "HILDA", "HIPPO", "HIPPY", "HIRAM", "HOBBY", "HOBO", "HOG", "HOGMAN", "HOIST", "HOKY", "HOLE", "HOMEPLATE", "HOMER", "HONK", "HOOK", "HOOPER", "HOOSIER", "HOPE", "HORNET", "HORSE", "HOSER", "HOSS", "HOTLIPS", "HOUND", "HOWEL", "HOWL", "HUEY", "HUGO", "HULA DANCER", "HUMMER", "HUN", "HUNT", "HUNTER", "HUNTRESS", "HURA", "HURC", "HURDS", "HURKY", "HURLY", "HURON", "HURRICANE", "HUSKER", "HUSKY", "HUSTLER", "HUTCH", "HYDRO", "HYMN", "IAF", "ICEMAN", "IDLER", "IDOL", "IGLOO", "IGUANA", "ILLINI", "IMPAC", "IMPACT", "IMPLY", "IMPY", "INDIA", "INDIAN", "INDY", "INKLE", "INSTIGATOR", "INTAC", "INTO", "IONIC", "IONS", "IOTA", "IRISH MIST", "IRON", "IRON MAN", "IRONROD", "IRONROD 1", "ISLAND RULER", "IVANHOE", "IVORY", "JABBA", "JACKPOT", "JADE", "JAKAL", "JAKE", "JAMBO", "JAMESON", "JDOG", "JAPE", "JAREM", "JASON", "JASPER", "JAVA", "JAW", "JAWS", "JAYHAWK", "JAZZ", "JEDI", "JEEP", "JENNY", "JERRY", "JERSEY", "JEST", "JESTER", "JIFFY", "JIGGS", "JIMMY", "JITTERBUG", "JIVE", "JOCK", "JOHN", "JOINT", "JOJO", "JOKER", "JOLLY", "JONAS", "JOSA", "JOSE", "JOSS", "JOYCE", "JUBA", "JUBY", "JUDGE", "JUDO", "JUICE", "JUMBO", "JUMP", "JUNE", "JUNIOR", "JUNK", "JUNO", "JURY", "JUST", "KALE", "KAPUT", "KARMA", "KATE", "KAYO", "KELP", "KELT", "KEMP", "KENNARD", "KENYA", "KETCH", "KEYSTONE", "KHARMA", "KICK", "KILLER", "KILN", "KILO", "KING", "KIOWA", "KIPPY", "KIRBY", "KIRK", "KISKA", "KIST", "KITE", "KITTY HAWK", "KLEENEX", "KNIFE", "KNIGHT", "KNIGHTRIDER", "KNOT", "KNOWN", "KOALA", "KOPEK", "KOTO", "KRILL", "KRUPA", "LACTOSE", "LAG", "LAITY", "LAKER", "LAMPO", "LANCE", "LANCER", "LANDO", "LANDSLIDE", "LANG", "LARADO", "LARK", "LARMA", "LARVA", "LAVA", "LEGAL", "LEHI", "LEICA", "LEMAY", "LENNA", "LEON", "LEOPARD", "LEPER", "LESTER", "LETHAL", "LETTERMAN", "LEVI", "LIBERTY", "LIBERTY STAR", "LIBRA", "LIDO", "LIFTER", "LIGHTNING", "LILY", "LIMA", "LINED", "LINFIELD", "LION", "LISA", "LITE", "LITZ", "LLOYD", "LOBO", "LOLLY", "LONE STAR", "LONE WOLF", "LONG FIRE", "LONG RIFLE", "LONGHORN", "LONNY", "LOOK", "LOOKING GLASS", "LOOP", "LOOSEFOOT", "LOPER", "LORNWOLF", "LOS", "LOT", "LOTTO", "LOUIE", "LOUT", "LUBO", "LUCKY", "LUGO", "LUMP", "LUNAR", "LUNDY", "LUSTY", "LYNX", "MACE", "MAFIA", "MAGIC", "MAGNET", "MAGNI", "MAGNOLIA", "MAGNUM", "MAGPIE", "MAILTRUCK", "MAINE", "MAINSAIL", "MAINSTAY", "MAJAN", "MAKO", "MALAN", "MALE", "MALTY", "MAMBY", "MANIAC", "MANTA", "MANX", "MAPES", "MAPLE", "MARATHON MARKET", "MARLIN", "MARS", "MARTA", "MASH", "MAST", "MASTADON", "MATH", "MATRA", "MAVERICK", "MAXIE", "MAY", "MAYO", "MAZDA", "McCOY", "MEDEVAC", "MEGA", "MELBA", "MELD", "MELLOW", "MELON", "MENDER", "MERCURY", "MERL", "MESQUITE", "METAL", "METMAN", "MIAMI MONITOR", "MIDAS", "MIDDLEGROUND", "MIG", "MILER", "MILESTONE", "MILL", "MILLER", "MIME CONTROL", "MIND", "MINE", "MINT", "MINTY", "MINUTEMAN", "MISSIONARY", "MISTY", "MITE", "MOBILE", "MOCKINGBIRD", "MOHAWK", "MOHO", "MOJO", "MOKIE", "MOLLY", "MONARCH", "MONGOL", "MONROE", "MONSTER", "MOOCH", "MOODY", "MOON", "MOOR", "MOOSE", "MOPE", "MOPED", "MOPUP", "MORE", "MORNING STAR", "MOTEL", "MOTOWN", "MOULD", "MOUNTAINEER", "MOURN", "MOUSE", "MOVER", "MOZLE", "MUDBUG", "MULL", "MURK", "MURKY", "MUROC", "MUSHROOM", "MUSIC", "MUSKET", "MUSTANG", "NAIL", "NALO", "NANCY", "NAPPY", "NATHE", "NATO", "NATRO", "NAVEL", "NEARS", "NEST", "NEVIN", "NEWLY", "NICKEL", "NIGHTHAWK", "NIGHTMARE", "NIGHTWATCH", "NINJA", "NIOBE", "NITER", "NITRATE", "NITRO", "NOAH", "NODAK", "NOMAD", "NOMEX", "NOON", "NOOSE", "NORSE", "NORTH", "NORTHERN LIGHTS", "NORTHWIND", "NORWEGIAN", "NOVA", "NOVAR", "NUCAR", "NUTMEG", "OAK", "OAKS", "OCEAN", "OCEAN LORD", "OCEANSIDE", "ODOUR", "OGRADY", "OHIO", "OILER", "OILGATE", "OKIE", "OLD", "OLD SALT", "OLDS", "OLMIS", "OLMOS", "OLSON", "OMAHA", "OMAR", "OMEGA", "ONYX", "OPBAT", "OPEC", "OPEN SKIES", "ORCA", "ORION", "ORKIN", "OSCAR", "OTIS", "OUTDO", "OUTLAW", "OUTRIDER", "OVERLORD", "OVERWORK", "PACER", "PACK", "PACOM", "PAGEBOY", "PAGUS", "PALL", "PAN HANDLE", "PANAMA", "PANSY", "PANTHER", "PANTS", "PAOLA", "PAPPY", "PARADISE", "PARDO", "PARROT", "PART", "PARTRIDGE CNTRL", "PARTS", "PASH", "PASHA", "PASS", "PASSWORD", "PASTY", "PAT", "PATCH", "PATIO", "PATLO", "PATSY", "PAVE", "PEACH", "PEAR", "PEDRO", "PEEWEE", "PELA", "PELICAN", "PENCE", "PEPSI", "PERCY", "PERK", "PERM", "PERMA", "PETE", "PETIT", "PETRO", "PHANTOM", "PHANTOM OPS", "PHILANDER", "PHOBIA", "PHOENIX", "PHONY", "PICKUP", "PICKY", "PICO", "PIGGY", "PIGPEN", "PIKES PEAK", "PIKESIDE", "PILGRIM", "PILOT", "PINBALL", "PINEAPPLE", "PINETREE", "PING PONG", "PINION", "PISTON", "PIT", "PIT STOP", "PITTS", "PIXIE", "PIZZA", "PLANT", "PLATE", "PLOD", "PLUSH", "POGO", "POKER", "POLAR", "POLE VAULTER", "POLECAT", "POLLY", "PONY", "POOK", "POPA", "POPPER", "POPPYA", "PORT CITY CNTRL", "POSEY", "POWER", "PRIDE", "PRIME BEEF", "PRIMO", "PRO", "PROCLAIM", "PROFILE", "PRONG", "PROPS", "PROSE", "PROUD EAGLE", "PROUD WARRIOR", "PROVO", "PUEBLO", "PUGET", "PULL", "PULSAR", "PURE", "PUSH", "PYOTE", "PYRAMID", "PYTHON", "QUAIL", "QUASAR", "QUEEN", "QUEST", "QUID", "QUIRT", "QUOTE", "QUOTH", "TACK", "TACO", "TAFFY", "TAKE", "TALC", "TALLY", "TALON", "TANGO", "TANGY", "TANK", "TAPE", "TAPER", "TARAGON", "TARTAN", "TASTY", "TATER", "TAZ", "TBOLT", "TEAL", "TEASE", "TEMPO", "TERMITE", "TERRY", "TESS", "TESTLINE", "TEX", "TEXACO", "TEXAS", "THINKER", "THOMAS", "THOR", "THREE GEESE", "THUD", "THUG", "THUMPER", "THUNDERBIRD", "TIER", "TIGER", "TIGERTAIL", "TIGRE", "TILE", "TIME", "TIMON", "TINSIL", "TIRE", "TITAN", "TOAD", "TOGA", "TOLER", "TOLL", "TOMCAT", "TOMMY", "TONER", "TONG", "TONIGHT", "TONUS", "TOPCAT", "TOPGUN", "TOPHAND", "TOPHAT", "TOPSOIL", "TORCH", "TORCO", "TOREADOR", "TORF", "TORY", "TOSA", "TOTAL", "TOTTY", "TOUCH", "TOUR", "TOWER", "TOXI", "TOXIC", "TRAILED", "TRAIN", "TRAP", "TRAVIS", "TRAW", "TRELD", "TREND", "TRIAL", "TRIBE", "TRICE", "TRIDENT", "TRIGGER", "TRILL", "TRIM", "TRIST", "TRITON", "TROCH", "TROIT", "TROLL", "TROMP", "TRON", "TROPIC AIR", "TROUBLESHOOTER", "TROUT", "TRUAX", "TRUCE", "TRUDY", "TRYST", "TUG", "TUGGER", "TULLY", "TULSA", "TUNE", "TUNER", "TUPPY", "TURBO", "TURF", "TURNER", "TUSK", "TUTTY", "UNCLE", "UNION", "UNSEW", "UNTIL", "UPSET", "UTAH", "UTTER", "VADER", "VAGUE", "VALOR", "VALVO", "VAMP", "VANDY", "VAPID", "VEGA", "VEIN", "VELVA", "VENOM", "VENUE", "VENUS", "VERSE", "VESPA", "VEST", "VETCH", "VETTE", "VICKI", "VICTOR", "VICTORY", "VIGA", "VIKING", "VINAL", "VINE", "VINO", "VIPER", "VIXEN", "VOID", "VOLVE", "VOLVO", "VOTE", "VOTER", "VULCAN", "VULTURE "] }, "./src/utils/immutable.ts": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.memoizeResult = t.memoize = t.shallowCompare = t.mapConverter = t.safeKeyBy = t.safeListMap = t.safeListConstruct = t.safeConstruct = void 0; var n = r("../../node_modules/immutable/dist/immutable.es.js"); function a(e, t) { return function (e, t) { return t instanceof e }(e, t) ? t : new e(t || void 0) } function o(e, t) { var r = [], o = function (t) { r.push(a(e, t)) }; return Array.isArray(t) ? t.forEach(o) : n.List.isList(t) && t.forEach(o), n.List(r) } t.safeConstruct = a, t.safeListConstruct = o, t.safeListMap = function (e, t) { return e ? Array.isArray(e) ? n.List(e.map(t)) : e.map(t) : n.List() }; var i = function (e, t) { return t.uid }; t.safeKeyBy = function (e, t) { var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : i; return t ? Array.isArray(t) || t instanceof n.List ? o(e, t).toMap().mapKeys(r) : n.Map(t).map(function (t) { return a(e, t) }) : n.List().toMap() }, t.mapConverter = function (e) { var t = n.Map(); return e && !n.default.isMap(e) && (t = n.Map(e)), t }; var c = Object.prototype.hasOwnProperty; function s(e, t) { return e === t ? 0 !== e || 1 / e === 1 / t : e !== e && t !== t } function u(e, t) { if (!(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2]) { if (n.isImmutable(e)) return n.isImmutable(t) && e.equals(t); if (n.isImmutable(t)) return !1 } if (s(e, t)) return !0; if ("object" !== typeof e || null === e || "object" !== typeof t || null === t) return !1; var r = Object.keys(e), a = Object.keys(t); if (r.length !== a.length) return !1; for (var o = 0; o < r.length; o += 1)if (!c.call(t, r[o]) || !s(e[r[o]], t[r[o]])) return !1; return !0 } function l(e) { var t, r = void 0; return function () { for (var n = arguments.length, a = new Array(n), o = 0; o < n; o++)a[o] = arguments[o]; return null !== r && u(a, r) || (t = e.apply(void 0, a), r = a), t } } t.shallowCompare = u, t.memoize = l, t.memoizeResult = function (e) { var t; return l(function () { var r = e.apply(void 0, arguments); return u(t, r, !0) || (t = r), t }) } }, "./src/utils/index.ts": function (e, t, r) { "use strict"; var n = this && this.__createBinding || (Object.create ? function (e, t, r, n) { void 0 === n && (n = r), Object.defineProperty(e, n, { enumerable: !0, get: function () { return t[r] } }) } : function (e, t, r, n) { void 0 === n && (n = r), e[n] = t[r] }), a = this && this.__exportStar || function (e, t) { for (var r in e) "default" === r || Object.prototype.hasOwnProperty.call(t, r) || n(t, e, r) }; Object.defineProperty(t, "__esModule", { value: !0 }), t.Service = void 0, a(r("./src/utils/blob.ts"), t), a(r("./src/utils/collections.ts"), t), a(r("./src/utils/colorUtils.ts"), t), a(r("./src/utils/coordinateUtils.ts"), t), a(r("./src/utils/events.ts"), t), a(r("./src/utils/fileUtils.ts"), t), a(r("./src/utils/functional.ts"), t), a(r("./src/utils/getRandomCallsign.ts"), t), a(r("./src/utils/immutable.ts"), t), a(r("./src/utils/levenshtein.ts"), t), a(r("./src/utils/request.ts"), t), a(r("./src/utils/safelyHandle.ts"), t), a(r("./src/utils/Service.ts"), t); var o = r("./src/utils/Service.ts"); Object.defineProperty(t, "Service", { enumerable: !0, get: function () { return o.default } }), a(r("./src/utils/sorting.ts"), t), a(r("./src/utils/tasks.ts"), t), a(r("./src/utils/uuid.ts"), t), a(r("./src/utils/validate.ts"), t), a(r("./src/utils/validation.ts"), t), a(r("./src/utils/xml.ts"), t) }, "./src/utils/levenshtein.ts": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.levenshtein = void 0, t.levenshtein = function (e, t) { var r = e.length, n = t.length, a = r + 1, o = n + 1, i = Array(a); if (0 === r) return n; if (0 === n) return r; for (var c = 0; c < a; c += 1)i[c] = Array(o), i[c][0] = c; for (var s = 0; s < o; s += 1)i[0][s] = s; for (var u = 1; u <= r; u += 1)for (var l = e.charAt(u - 1), f = 1; f <= n; f += 1) { if (u === f && i[u][f] > 4) return r; var d = t.charAt(f - 1), p = l === d ? 0 : 1; i[u][f] = Math.min(i[u - 1][f] + 1, i[u][f - 1] + 1, i[u - 1][f - 1] + p), u > 1 && f > 1 && l === t.charAt(f - 2) && e.charAt(u - 2) === d && (i[u][f] = Math.min(i[u][f], i[u - 2][f - 2] + p)) } return i[r][n] } }, "./src/utils/request.ts": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.sanitizeURL = t.isLocalhost = t.generateRequestUrl = t.parseQueryParam = t.encodeParam = t.parseJSON = t.get = void 0; var n = {}; function a() { return (a = c(i.mark(function e(t) { return i.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if ("string" !== typeof t) { e.next = 2; break } return e.abrupt("return", JSON.parse(t)); case 2: if (!(t instanceof Response)) { e.next = 4; break } return e.abrupt("return", t.json()); case 4: return e.next = 6, Promise.resolve(t).then(function (e) { return "string" === typeof e ? JSON.parse(e) : e.json() }); case 6: return e.abrupt("return", e.sent); case 7: case "end": return e.stop() } }, e) }))).apply(this, arguments) } function o(e, t) { return Array.isArray(t) ? t.map(function (t, r) { return o("".concat(e), t) }).join("&") : t instanceof Object ? Object.keys(t).map(function (r) { return o("".concat(e, "[").concat(r, "]"), t[r]) }).join("&") : "".concat(e, "=").concat(encodeURIComponent(String(t))) } function s(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r = {}; Object.keys(t).forEach(function (e) { var n = t[e]; (n || 0 === n) && (r[e] = n) }); var n = Object.keys(r).map(function (e) { return o(e, r[e]) }); return n.length ? "".concat(e, "?").concat(n.join("&")) : e } t.get = function (e, t) { var r = s(e, t); return n[r] || (n[r] = new Promise(function () { var e = c(i.mark(function e(t, a) { var o, c; return i.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.prev = 0, e.next = 3, fetch(r, { method: "GET", mode: "no-cors" }); case 3: return o = e.sent, e.next = 6, o.text(); case 6: c = e.sent, delete n[r], t(c), e.next = 14; break; case 11: e.prev = 11, e.t0 = e.catch(0), a(e.t0); case 14: case "end": return e.stop() } }, e, null, [[0, 11]]) })); return function (t, r) { return e.apply(this, arguments) } }())), n[r] }, t.parseJSON = function (e) { return a.apply(this, arguments) }, t.encodeParam = o, t.parseQueryParam = function (e) { e = e.replace(/&amp;/g, "&"); for (var t = {}, r = new URL(e).search, n = ("?" === r[0] ? r.substr(1) : r).split("&"), a = 0; a < n.length; a++) { var o = n[a].split("="); t[decodeURIComponent(o[0])] = decodeURIComponent(o[1] || "") } return t }, t.generateRequestUrl = s, t.isLocalhost = function () { var e = "localhost" === self.location.hostname, t = "[::1]" === self.location.hostname, r = self.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/); return e || t || r }, t.sanitizeURL = function (e) { return e.replace(/([^:])(\/\/+)/g, "$1/") } }, "./src/utils/safelyHandle.ts": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.safelyHandle = void 0, t.safelyHandle = function (e) { var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1], r = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2]; return function (n) { if (n && (t && "function" === typeof n.preventDefault && n.preventDefault(), r && "function" === typeof n.stopPropagation && n.stopPropagation()), "function" === typeof e) { for (var a = arguments.length, o = new Array(a > 1 ? a - 1 : 0), i = 1; i < a; i++)o[i - 1] = arguments[i]; e.apply(void 0, [n].concat(o)) } } } }, "./src/utils/sorting.ts": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.naturalSort = t.alphaSort = t.SortDirection = void 0, function (e) { e[e.NONE = 0] = "NONE", e[e.DESC = -1] = "DESC", e[e.ASC = 1] = "ASC" }(t.SortDirection || (t.SortDirection = {})), t.alphaSort = function (e, t) { var r = String(e).toLowerCase(), n = String(t).toLowerCase(); return r > n ? 1 : n > r ? -1 : 0 }, t.naturalSort = function (e, t) { return e > t ? 1 : t > e ? -1 : 0 } }, "./src/utils/tasks.ts": function (e, t, r) { "use strict"; function n(e) { var t = setTimeout(e, 0); return function () { return clearTimeout(t) } } Object.defineProperty(t, "__esModule", { value: !0 }), t.debounce = t.throttleFrame = t.throttle = t.queueMicroTask = t.queueTask = void 0, t.queueTask = n, t.queueMicroTask = function (e) { var t = !1; return Promise.resolve().then(function () { t || e() }), function () { t = !0 } }, t.throttle = function (e) { var t, r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 50, o = !1, i = !1; return function c() { for (var s = arguments.length, u = new Array(s), l = 0; l < s; l++)u[l] = arguments[l]; t = u, o ? i = !0 : (n(function () { return e.apply(void 0, a(t)) }), o = !0, setTimeout(function () { o = !1, i && (i = !1, c.apply(void 0, a(t))) }, r)) } }, t.throttleFrame = function (e) { var t, r = null; return function () { for (var n = arguments.length, o = new Array(n), i = 0; i < n; i++)o[i] = arguments[i]; t = o, null === r && (r = requestAnimationFrame(function () { e.apply(void 0, a(t)), r = null })) } }, t.debounce = function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 50, r = null; return function () { for (var n = arguments.length, a = new Array(n), o = 0; o < n; o++)a[o] = arguments[o]; null !== r && (clearTimeout(r), r = null), r = setTimeout(function () { e.apply(void 0, a), r = null }, t) } } }, "./src/utils/uuid.ts": function (e, t, r) { "use strict"; function n() { return Math.floor(65536 * (1 + Math.random())).toString(16).substring(1) } Object.defineProperty(t, "__esModule", { value: !0 }), t.uuid = void 0, t.uuid = function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : -1; if (-1 === e) return "".concat(n()).concat(n(), "-").concat(n(), "-").concat(n(), "-").concat(n(), "-").concat(n()).concat(n()).concat(n()); for (var t = ""; t.length < e;)t += n(); return t.substring(0, e) } }, "./src/utils/validate.ts": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.validate = void 0, t.validate = function (e, t) { return e.every(function (e) { return e(t) }) } }, "./src/utils/validation.ts": function (e, t, r) { "use strict"; function n(e) { return "undefined" === typeof e } function a(e) { return "function" === typeof e } function o(e) { return "string" === typeof e } function i(e) { return "number" === typeof e && !isNaN(e) } function c(e) { return i(e) && !Number.isNaN(e) && e >= -90 && e <= 90 } function s(e) { return i(e) && !Number.isNaN(e) && e >= -180 && e <= 180 } Object.defineProperty(t, "__esModule", { value: !0 }), t.fail = t.pass = t.isPoint = t.isCoordinate = t.isLongitude = t.isLatitude = t.isValidDuration = t.isNonEmptyString = t.isObject = t.isNumber = t.isString = t.isFunction = t.isBool = t.isNull = t.isUndefined = t.isOneOf = t.isOptional = t.isNullable = t.isInstanceOf = t.isEnumMember = void 0, t.isEnumMember = function (e) { return function (t) { return !!e && "undefined" !== typeof t && -1 !== Object.values(e).indexOf(t) } }, t.isInstanceOf = function (e) { return function (t) { return !!t && t instanceof e } }, t.isNullable = function (e) { if (!a(e)) throw new Error("isNullable first argument must be a validator function."); return function (t) { return null === t || e(t) } }, t.isOptional = function (e) { if (!a(e)) throw new Error("isOptional first argument must be a validator function."); return function (t) { return "undefined" === typeof t || e(t) } }, t.isOneOf = function (e, t, r) { if (!a(e)) throw new Error("isOneOf first argument must be a validator function."); if (void 0 !== t && !a(t)) throw new Error("isOneOf second argument must be a validator function if provided."); if (void 0 !== r && !a(r)) throw new Error("isOneOf third argument must be a validator function if provided."); return function (n) { var a = [e]; return t && a.push(t), r && a.push(r), a.some(function (e) { return e(n) }) } }, t.isUndefined = n, t.isNull = function (e) { return null === e }, t.isBool = function (e) { return "boolean" === typeof e }, t.isFunction = a, t.isString = o, t.isNumber = i, t.isObject = function (e) { return !!e && "object" === typeof e }, t.isNonEmptyString = function (e) { return o(e) && !!e.length }, t.isValidDuration = function (e) { return i(e) && e >= 0 }, t.isLatitude = c, t.isLongitude = s, t.isCoordinate = function (e) { return Array.isArray(e) && 2 === e.length && s(e[0]) && c(e[1]) }, t.isPoint = function (e) { return !!e && s(e.lon) && c(e.lat) && (n(e.ce) || i(e.ce)) && (n(e.le) || i(e.le)) && (n(e.hae) || i(e.hae)) }, t.pass = function (e) { return !0 }, t.fail = function (e) { return !1 } }, "./src/utils/xml.ts": function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.toXML = t.fromXML = t.HEADER = t.XML_ATTRIBUTE_KEY = t.XML_TEXT_KEY = void 0; var n = r("../../node_modules/fast-xml-parser/src/parser.js"), a = r("../../node_modules/he/he.js"); t.XML_TEXT_KEY = "#text", t.XML_ATTRIBUTE_KEY = "#attr"; var i = { attributeNamePrefix: "", attrNodeName: t.XML_ATTRIBUTE_KEY, textNodeName: t.XML_TEXT_KEY, ignoreAttributes: !1, allowBooleanAttributes: !0, parseNodeValue: !0, parseAttributeValue: !0, parseTrueNumberOnly: !0, trimValues: !0, attrValueProcessor: function (e) { return a.decode(e, { isAttributeValue: !0 }) }, tagValueProcessor: function (e) { return a.decode(e) } }, c = new n.j2xParser(i); function s(e) { var r = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]; if (!e || "object" !== typeof e) return m({}, t.XML_TEXT_KEY, e); var n = r ? {} : e; return Object.entries(e).map(function (e) { var a = o(e, 2), i = a[0], c = a[1]; i === t.XML_ATTRIBUTE_KEY ? n[i] = r ? v({}, c) : c : i === t.XML_TEXT_KEY ? n[i] = c : null === c || "object" !== typeof c ? n[i] = m({}, t.XML_TEXT_KEY, c) : Array.isArray(c) ? n[i] = c.map(function (e) { return s(e, r) }) : n[i] = s(c, r) }), n } t.HEADER = '<?xml version="1.0" encoding="UTF-8"?>', t.fromXML = function (e) { return s(arguments.length > 1 && void 0 !== arguments[1] && arguments[1] ? n.parse("".concat(t.HEADER).concat(e), i) : n.parse(e, i), !1) }, t.toXML = function (e) { return arguments.length > 1 && void 0 !== arguments[1] && arguments[1] ? "".concat(t.HEADER).concat(c.parse(s(e, !0))) : c.parse(s(e, !0)) } } }) }, e.exports = n() }, , , , , , , , , , , , , , , , , , , , , , , , , , function (e, t, r) { "use strict"; var n = this && this.__createBinding || (Object.create ? function (e, t, r, n) { void 0 === n && (n = r), Object.defineProperty(e, n, { enumerable: !0, get: function () { return t[r] } }) } : function (e, t, r, n) { void 0 === n && (n = r), e[n] = t[r] }), a = this && this.__exportStar || function (e, t) { for (var r in e) "default" === r || Object.prototype.hasOwnProperty.call(t, r) || n(t, e, r) }; Object.defineProperty(t, "__esModule", { value: !0 }), a(r(362), t), a(r(543), t), a(r(544), t) }, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function (e, t, r) { e.exports = r(151).wrap(r(545)()), e.exports.__esModule = !0 }, , , , , , , , , , , , , , , , , function (e, t, r) { e.exports = r(151).wrap(r(605)()), e.exports.__esModule = !0 }, , function (e, t, r) { "use strict"; var n = r(216), a = r(243), o = r(266), i = r(214), c = r(215), s = r(174); function u(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = s(e); if (t) { var a = s(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return c(this, r) } } var l = this && this.__importDefault || function (e) { return e && e.__esModule ? e : { default: e } }; Object.defineProperty(t, "__esModule", { value: !0 }); var f = r(24), d = l(r(326)), p = r(8); t.default = function (e, t, r) { Object.keys(e).forEach(function (e) { if (!p.isFunction(t[e])) throw new Error('validatedRecordFactory parameter "propValidators" is missing required validator key "'.concat(e, '".')) }); var c = f.Record(e, r); return function (e) { i(f, c); var l = u(f); function f(e) { return n(this, f), Object.keys(t).forEach(function (n) { var a = e[n]; if (!t[n](a)) throw new d.default("".concat(r, " constructor"), "props.".concat(n), "".concat(n, " value")) }), l.call(this, e) } return a(f, [{ key: "get", value: function (e) { return o(s(f.prototype), "get", this).call(this, e) } }, { key: "set", value: function (e, n) { if (t[e] && !t[e](n)) throw new d.default("".concat(r, ".set"), "".concat(e), "".concat(e, " value")); return o(s(f.prototype), "set", this).call(this, e, n) } }, { key: "delete", value: function (e) { return o(s(f.prototype), "delete", this).call(this, e) } }]), f }() } }, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function (e, t, r) { e.exports = r(151).wrap(r(603)()), e.exports.__esModule = !0 }, function (e, t, r) { e.exports = r(151).wrap(r(604)()), e.exports.__esModule = !0 }, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function (e, t, r) { e.exports = r(151).wrap(r(546)()), e.exports.__esModule = !0 }, function (e, t, r) { e.exports = r(151).wrap(r(611)()), e.exports.__esModule = !0 }, , , , , , , , , , , , function (e, t, r) { "use strict"; var n = r(216), a = r(214), o = r(215), i = r(174), c = r(357); function s(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = i(e); if (t) { var a = i(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return o(this, r) } } Object.defineProperty(t, "__esModule", { value: !0 }); var u = function (e) { a(r, e); var t = s(r); function r(e, a, o) { var i; return n(this, r), (i = t.call(this, "".concat(e, " ").concat(a, " is not a valid ").concat(o, "."))).name = "ValidationError", i } return r }(c(Error)); t.default = u }, , , , , function (e, t) { function r(e) { var t = new Error("Cannot find module '" + e + "'"); throw t.code = "MODULE_NOT_FOUND", t } r.keys = function () { return [] }, r.resolve = r, e.exports = r, r.id = 331 }, , , , , , , , , , , , , , , , function (e, t, r) { e.exports = r.p + "static/media/video-fallback.9f93438c.png" }, , , , , , , , , , , , , , , function (e, t, r) { "use strict"; var n = this && this.__createBinding || (Object.create ? function (e, t, r, n) { void 0 === n && (n = r), Object.defineProperty(e, n, { enumerable: !0, get: function () { return t[r] } }) } : function (e, t, r, n) { void 0 === n && (n = r), e[n] = t[r] }), a = this && this.__exportStar || function (e, t) { for (var r in e) "default" === r || Object.prototype.hasOwnProperty.call(t, r) || n(t, e, r) }; Object.defineProperty(t, "__esModule", { value: !0 }), a(r(540), t), a(r(541), t), a(r(202), t), a(r(542), t) }, function (e, t, r) { "use strict"; r.r(t), r.d(t, "saemaps", function () { return s }), r.d(t, "default", function () { return c }); var n = r(79), a = n.Reader, o = n.Writer, i = n.util, c = n.roots.default || (n.roots.default = {}), s = c.saemaps = function () { var e = {}; return e.commoncommo = function () { var e = {}; return e.protobuf = function () { var e = {}; return e.v1 = function () { var e = {}; return e.Contact = function () { function e(e) { if (e) for (var t = Object.keys(e), r = 0; r < t.length; ++r)null != e[t[r]] && (this[t[r]] = e[t[r]]) } return e.prototype.endpoint = "", e.prototype.callsign = "", e.create = function (t) { return new e(t) }, e.encode = function (e, t) { return t || (t = o.create()), null != e.endpoint && Object.hasOwnProperty.call(e, "endpoint") && t.uint32(10).string(e.endpoint), null != e.callsign && Object.hasOwnProperty.call(e, "callsign") && t.uint32(18).string(e.callsign), t }, e.encodeDelimited = function (e, t) { return this.encode(e, t).ldelim() }, e.decode = function (e, t) { e instanceof a || (e = a.create(e)); for (var r = void 0 === t ? e.len : e.pos + t, n = new c.saemaps.commoncommo.protobuf.v1.Contact; e.pos < r;) { var o = e.uint32(); switch (o >>> 3) { case 1: n.endpoint = e.string(); break; case 2: n.callsign = e.string(); break; default: e.skipType(7 & o) } } return n }, e.decodeDelimited = function (e) { return e instanceof a || (e = new a(e)), this.decode(e, e.uint32()) }, e.verify = function (e) { return "object" !== typeof e || null === e ? "object expected" : null != e.endpoint && e.hasOwnProperty("endpoint") && !i.isString(e.endpoint) ? "endpoint: string expected" : null != e.callsign && e.hasOwnProperty("callsign") && !i.isString(e.callsign) ? "callsign: string expected" : null }, e.fromObject = function (e) { if (e instanceof c.saemaps.commoncommo.protobuf.v1.Contact) return e; var t = new c.saemaps.commoncommo.protobuf.v1.Contact; return null != e.endpoint && (t.endpoint = String(e.endpoint)), null != e.callsign && (t.callsign = String(e.callsign)), t }, e.toObject = function (e, t) { t || (t = {}); var r = {}; return t.defaults && (r.endpoint = "", r.callsign = ""), null != e.endpoint && e.hasOwnProperty("endpoint") && (r.endpoint = e.endpoint), null != e.callsign && e.hasOwnProperty("callsign") && (r.callsign = e.callsign), r }, e.prototype.toJSON = function () { return this.constructor.toObject(this, n.util.toJSONOptions) }, e }(), e.CotEvent = function () { function e(e) { if (e) for (var t = Object.keys(e), r = 0; r < t.length; ++r)null != e[t[r]] && (this[t[r]] = e[t[r]]) } return e.prototype.type = "", e.prototype.access = "", e.prototype.qos = "", e.prototype.opex = "", e.prototype.uid = "", e.prototype.sendTime = i.Long ? i.Long.fromBits(0, 0, !0) : 0, e.prototype.startTime = i.Long ? i.Long.fromBits(0, 0, !0) : 0, e.prototype.staleTime = i.Long ? i.Long.fromBits(0, 0, !0) : 0, e.prototype.how = "", e.prototype.lat = 0, e.prototype.lon = 0, e.prototype.hae = 0, e.prototype.ce = 0, e.prototype.le = 0, e.prototype.detail = null, e.create = function (t) { return new e(t) }, e.encode = function (e, t) { return t || (t = o.create()), null != e.type && Object.hasOwnProperty.call(e, "type") && t.uint32(10).string(e.type), null != e.access && Object.hasOwnProperty.call(e, "access") && t.uint32(18).string(e.access), null != e.qos && Object.hasOwnProperty.call(e, "qos") && t.uint32(26).string(e.qos), null != e.opex && Object.hasOwnProperty.call(e, "opex") && t.uint32(34).string(e.opex), null != e.uid && Object.hasOwnProperty.call(e, "uid") && t.uint32(42).string(e.uid), null != e.sendTime && Object.hasOwnProperty.call(e, "sendTime") && t.uint32(48).uint64(e.sendTime), null != e.startTime && Object.hasOwnProperty.call(e, "startTime") && t.uint32(56).uint64(e.startTime), null != e.staleTime && Object.hasOwnProperty.call(e, "staleTime") && t.uint32(64).uint64(e.staleTime), null != e.how && Object.hasOwnProperty.call(e, "how") && t.uint32(74).string(e.how), null != e.lat && Object.hasOwnProperty.call(e, "lat") && t.uint32(81).double(e.lat), null != e.lon && Object.hasOwnProperty.call(e, "lon") && t.uint32(89).double(e.lon), null != e.hae && Object.hasOwnProperty.call(e, "hae") && t.uint32(97).double(e.hae), null != e.ce && Object.hasOwnProperty.call(e, "ce") && t.uint32(105).double(e.ce), null != e.le && Object.hasOwnProperty.call(e, "le") && t.uint32(113).double(e.le), null != e.detail && Object.hasOwnProperty.call(e, "detail") && c.saemaps.commoncommo.protobuf.v1.Detail.encode(e.detail, t.uint32(122).fork()).ldelim(), t }, e.encodeDelimited = function (e, t) { return this.encode(e, t).ldelim() }, e.decode = function (e, t) { e instanceof a || (e = a.create(e)); for (var r = void 0 === t ? e.len : e.pos + t, n = new c.saemaps.commoncommo.protobuf.v1.CotEvent; e.pos < r;) { var o = e.uint32(); switch (o >>> 3) { case 1: n.type = e.string(); break; case 2: n.access = e.string(); break; case 3: n.qos = e.string(); break; case 4: n.opex = e.string(); break; case 5: n.uid = e.string(); break; case 6: n.sendTime = e.uint64(); break; case 7: n.startTime = e.uint64(); break; case 8: n.staleTime = e.uint64(); break; case 9: n.how = e.string(); break; case 10: n.lat = e.double(); break; case 11: n.lon = e.double(); break; case 12: n.hae = e.double(); break; case 13: n.ce = e.double(); break; case 14: n.le = e.double(); break; case 15: n.detail = c.saemaps.commoncommo.protobuf.v1.Detail.decode(e, e.uint32()); break; default: e.skipType(7 & o) } } return n }, e.decodeDelimited = function (e) { return e instanceof a || (e = new a(e)), this.decode(e, e.uint32()) }, e.verify = function (e) { if ("object" !== typeof e || null === e) return "object expected"; if (null != e.type && e.hasOwnProperty("type") && !i.isString(e.type)) return "type: string expected"; if (null != e.access && e.hasOwnProperty("access") && !i.isString(e.access)) return "access: string expected"; if (null != e.qos && e.hasOwnProperty("qos") && !i.isString(e.qos)) return "qos: string expected"; if (null != e.opex && e.hasOwnProperty("opex") && !i.isString(e.opex)) return "opex: string expected"; if (null != e.uid && e.hasOwnProperty("uid") && !i.isString(e.uid)) return "uid: string expected"; if (null != e.sendTime && e.hasOwnProperty("sendTime") && !i.isInteger(e.sendTime) && !(e.sendTime && i.isInteger(e.sendTime.low) && i.isInteger(e.sendTime.high))) return "sendTime: integer|Long expected"; if (null != e.startTime && e.hasOwnProperty("startTime") && !i.isInteger(e.startTime) && !(e.startTime && i.isInteger(e.startTime.low) && i.isInteger(e.startTime.high))) return "startTime: integer|Long expected"; if (null != e.staleTime && e.hasOwnProperty("staleTime") && !i.isInteger(e.staleTime) && !(e.staleTime && i.isInteger(e.staleTime.low) && i.isInteger(e.staleTime.high))) return "staleTime: integer|Long expected"; if (null != e.how && e.hasOwnProperty("how") && !i.isString(e.how)) return "how: string expected"; if (null != e.lat && e.hasOwnProperty("lat") && "number" !== typeof e.lat) return "lat: number expected"; if (null != e.lon && e.hasOwnProperty("lon") && "number" !== typeof e.lon) return "lon: number expected"; if (null != e.hae && e.hasOwnProperty("hae") && "number" !== typeof e.hae) return "hae: number expected"; if (null != e.ce && e.hasOwnProperty("ce") && "number" !== typeof e.ce) return "ce: number expected"; if (null != e.le && e.hasOwnProperty("le") && "number" !== typeof e.le) return "le: number expected"; if (null != e.detail && e.hasOwnProperty("detail")) { var t = c.saemaps.commoncommo.protobuf.v1.Detail.verify(e.detail); if (t) return "detail." + t } return null }, e.fromObject = function (e) { if (e instanceof c.saemaps.commoncommo.protobuf.v1.CotEvent) return e; var t = new c.saemaps.commoncommo.protobuf.v1.CotEvent; if (null != e.type && (t.type = String(e.type)), null != e.access && (t.access = String(e.access)), null != e.qos && (t.qos = String(e.qos)), null != e.opex && (t.opex = String(e.opex)), null != e.uid && (t.uid = String(e.uid)), null != e.sendTime && (i.Long ? (t.sendTime = i.Long.fromValue(e.sendTime)).unsigned = !0 : "string" === typeof e.sendTime ? t.sendTime = parseInt(e.sendTime, 10) : "number" === typeof e.sendTime ? t.sendTime = e.sendTime : "object" === typeof e.sendTime && (t.sendTime = new i.LongBits(e.sendTime.low >>> 0, e.sendTime.high >>> 0).toNumber(!0))), null != e.startTime && (i.Long ? (t.startTime = i.Long.fromValue(e.startTime)).unsigned = !0 : "string" === typeof e.startTime ? t.startTime = parseInt(e.startTime, 10) : "number" === typeof e.startTime ? t.startTime = e.startTime : "object" === typeof e.startTime && (t.startTime = new i.LongBits(e.startTime.low >>> 0, e.startTime.high >>> 0).toNumber(!0))), null != e.staleTime && (i.Long ? (t.staleTime = i.Long.fromValue(e.staleTime)).unsigned = !0 : "string" === typeof e.staleTime ? t.staleTime = parseInt(e.staleTime, 10) : "number" === typeof e.staleTime ? t.staleTime = e.staleTime : "object" === typeof e.staleTime && (t.staleTime = new i.LongBits(e.staleTime.low >>> 0, e.staleTime.high >>> 0).toNumber(!0))), null != e.how && (t.how = String(e.how)), null != e.lat && (t.lat = Number(e.lat)), null != e.lon && (t.lon = Number(e.lon)), null != e.hae && (t.hae = Number(e.hae)), null != e.ce && (t.ce = Number(e.ce)), null != e.le && (t.le = Number(e.le)), null != e.detail) { if ("object" !== typeof e.detail) throw TypeError(".saemaps.commoncommo.protobuf.v1.CotEvent.detail: object expected"); t.detail = c.saemaps.commoncommo.protobuf.v1.Detail.fromObject(e.detail) } return t }, e.toObject = function (e, t) { t || (t = {}); var r = {}; if (t.defaults) { if (r.type = "", r.access = "", r.qos = "", r.opex = "", r.uid = "", i.Long) { var n = new i.Long(0, 0, !0); r.sendTime = t.longs === String ? n.toString() : t.longs === Number ? n.toNumber() : n } else r.sendTime = t.longs === String ? "0" : 0; if (i.Long) { var a = new i.Long(0, 0, !0); r.startTime = t.longs === String ? a.toString() : t.longs === Number ? a.toNumber() : a } else r.startTime = t.longs === String ? "0" : 0; if (i.Long) { var o = new i.Long(0, 0, !0); r.staleTime = t.longs === String ? o.toString() : t.longs === Number ? o.toNumber() : o } else r.staleTime = t.longs === String ? "0" : 0; r.how = "", r.lat = 0, r.lon = 0, r.hae = 0, r.ce = 0, r.le = 0, r.detail = null } return null != e.type && e.hasOwnProperty("type") && (r.type = e.type), null != e.access && e.hasOwnProperty("access") && (r.access = e.access), null != e.qos && e.hasOwnProperty("qos") && (r.qos = e.qos), null != e.opex && e.hasOwnProperty("opex") && (r.opex = e.opex), null != e.uid && e.hasOwnProperty("uid") && (r.uid = e.uid), null != e.sendTime && e.hasOwnProperty("sendTime") && ("number" === typeof e.sendTime ? r.sendTime = t.longs === String ? String(e.sendTime) : e.sendTime : r.sendTime = t.longs === String ? i.Long.prototype.toString.call(e.sendTime) : t.longs === Number ? new i.LongBits(e.sendTime.low >>> 0, e.sendTime.high >>> 0).toNumber(!0) : e.sendTime), null != e.startTime && e.hasOwnProperty("startTime") && ("number" === typeof e.startTime ? r.startTime = t.longs === String ? String(e.startTime) : e.startTime : r.startTime = t.longs === String ? i.Long.prototype.toString.call(e.startTime) : t.longs === Number ? new i.LongBits(e.startTime.low >>> 0, e.startTime.high >>> 0).toNumber(!0) : e.startTime), null != e.staleTime && e.hasOwnProperty("staleTime") && ("number" === typeof e.staleTime ? r.staleTime = t.longs === String ? String(e.staleTime) : e.staleTime : r.staleTime = t.longs === String ? i.Long.prototype.toString.call(e.staleTime) : t.longs === Number ? new i.LongBits(e.staleTime.low >>> 0, e.staleTime.high >>> 0).toNumber(!0) : e.staleTime), null != e.how && e.hasOwnProperty("how") && (r.how = e.how), null != e.lat && e.hasOwnProperty("lat") && (r.lat = t.json && !isFinite(e.lat) ? String(e.lat) : e.lat), null != e.lon && e.hasOwnProperty("lon") && (r.lon = t.json && !isFinite(e.lon) ? String(e.lon) : e.lon), null != e.hae && e.hasOwnProperty("hae") && (r.hae = t.json && !isFinite(e.hae) ? String(e.hae) : e.hae), null != e.ce && e.hasOwnProperty("ce") && (r.ce = t.json && !isFinite(e.ce) ? String(e.ce) : e.ce), null != e.le && e.hasOwnProperty("le") && (r.le = t.json && !isFinite(e.le) ? String(e.le) : e.le), null != e.detail && e.hasOwnProperty("detail") && (r.detail = c.saemaps.commoncommo.protobuf.v1.Detail.toObject(e.detail, t)), r }, e.prototype.toJSON = function () { return this.constructor.toObject(this, n.util.toJSONOptions) }, e }(), e.Detail = function () { function e(e) { if (e) for (var t = Object.keys(e), r = 0; r < t.length; ++r)null != e[t[r]] && (this[t[r]] = e[t[r]]) } return e.prototype.xmlDetail = "", e.prototype.contact = null, e.prototype.group = null, e.prototype.precisionLocation = null, e.prototype.status = null, e.prototype.takv = null, e.prototype.track = null, e.create = function (t) { return new e(t) }, e.encode = function (e, t) { return t || (t = o.create()), null != e.xmlDetail && Object.hasOwnProperty.call(e, "xmlDetail") && t.uint32(10).string(e.xmlDetail), null != e.contact && Object.hasOwnProperty.call(e, "contact") && c.saemaps.commoncommo.protobuf.v1.Contact.encode(e.contact, t.uint32(18).fork()).ldelim(), null != e.group && Object.hasOwnProperty.call(e, "group") && c.saemaps.commoncommo.protobuf.v1.Group.encode(e.group, t.uint32(26).fork()).ldelim(), null != e.precisionLocation && Object.hasOwnProperty.call(e, "precisionLocation") && c.saemaps.commoncommo.protobuf.v1.PrecisionLocation.encode(e.precisionLocation, t.uint32(34).fork()).ldelim(), null != e.status && Object.hasOwnProperty.call(e, "status") && c.saemaps.commoncommo.protobuf.v1.Status.encode(e.status, t.uint32(42).fork()).ldelim(), null != e.takv && Object.hasOwnProperty.call(e, "takv") && c.saemaps.commoncommo.protobuf.v1.Takv.encode(e.takv, t.uint32(50).fork()).ldelim(), null != e.track && Object.hasOwnProperty.call(e, "track") && c.saemaps.commoncommo.protobuf.v1.Track.encode(e.track, t.uint32(58).fork()).ldelim(), t }, e.encodeDelimited = function (e, t) { return this.encode(e, t).ldelim() }, e.decode = function (e, t) { e instanceof a || (e = a.create(e)); for (var r = void 0 === t ? e.len : e.pos + t, n = new c.saemaps.commoncommo.protobuf.v1.Detail; e.pos < r;) { var o = e.uint32(); switch (o >>> 3) { case 1: n.xmlDetail = e.string(); break; case 2: n.contact = c.saemaps.commoncommo.protobuf.v1.Contact.decode(e, e.uint32()); break; case 3: n.group = c.saemaps.commoncommo.protobuf.v1.Group.decode(e, e.uint32()); break; case 4: n.precisionLocation = c.saemaps.commoncommo.protobuf.v1.PrecisionLocation.decode(e, e.uint32()); break; case 5: n.status = c.saemaps.commoncommo.protobuf.v1.Status.decode(e, e.uint32()); break; case 6: n.takv = c.saemaps.commoncommo.protobuf.v1.Takv.decode(e, e.uint32()); break; case 7: n.track = c.saemaps.commoncommo.protobuf.v1.Track.decode(e, e.uint32()); break; default: e.skipType(7 & o) } } return n }, e.decodeDelimited = function (e) { return e instanceof a || (e = new a(e)), this.decode(e, e.uint32()) }, e.verify = function (e) { if ("object" !== typeof e || null === e) return "object expected"; if (null != e.xmlDetail && e.hasOwnProperty("xmlDetail") && !i.isString(e.xmlDetail)) return "xmlDetail: string expected"; if (null != e.contact && e.hasOwnProperty("contact")) { var t = c.saemaps.commoncommo.protobuf.v1.Contact.verify(e.contact); if (t) return "contact." + t } if (null != e.group && e.hasOwnProperty("group")) { var r = c.saemaps.commoncommo.protobuf.v1.Group.verify(e.group); if (r) return "group." + r } if (null != e.precisionLocation && e.hasOwnProperty("precisionLocation")) { var n = c.saemaps.commoncommo.protobuf.v1.PrecisionLocation.verify(e.precisionLocation); if (n) return "precisionLocation." + n } if (null != e.status && e.hasOwnProperty("status")) { var a = c.saemaps.commoncommo.protobuf.v1.Status.verify(e.status); if (a) return "status." + a } if (null != e.takv && e.hasOwnProperty("takv")) { var o = c.saemaps.commoncommo.protobuf.v1.Takv.verify(e.takv); if (o) return "takv." + o } if (null != e.track && e.hasOwnProperty("track")) { var s = c.saemaps.commoncommo.protobuf.v1.Track.verify(e.track); if (s) return "track." + s } return null }, e.fromObject = function (e) { if (e instanceof c.saemaps.commoncommo.protobuf.v1.Detail) return e; var t = new c.saemaps.commoncommo.protobuf.v1.Detail; if (null != e.xmlDetail && (t.xmlDetail = String(e.xmlDetail)), null != e.contact) { if ("object" !== typeof e.contact) throw TypeError(".saemaps.commoncommo.protobuf.v1.Detail.contact: object expected"); t.contact = c.saemaps.commoncommo.protobuf.v1.Contact.fromObject(e.contact) } if (null != e.group) { if ("object" !== typeof e.group) throw TypeError(".saemaps.commoncommo.protobuf.v1.Detail.group: object expected"); t.group = c.saemaps.commoncommo.protobuf.v1.Group.fromObject(e.group) } if (null != e.precisionLocation) { if ("object" !== typeof e.precisionLocation) throw TypeError(".saemaps.commoncommo.protobuf.v1.Detail.precisionLocation: object expected"); t.precisionLocation = c.saemaps.commoncommo.protobuf.v1.PrecisionLocation.fromObject(e.precisionLocation) } if (null != e.status) { if ("object" !== typeof e.status) throw TypeError(".saemaps.commoncommo.protobuf.v1.Detail.status: object expected"); t.status = c.saemaps.commoncommo.protobuf.v1.Status.fromObject(e.status) } if (null != e.takv) { if ("object" !== typeof e.takv) throw TypeError(".saemaps.commoncommo.protobuf.v1.Detail.takv: object expected"); t.takv = c.saemaps.commoncommo.protobuf.v1.Takv.fromObject(e.takv) } if (null != e.track) { if ("object" !== typeof e.track) throw TypeError(".saemaps.commoncommo.protobuf.v1.Detail.track: object expected"); t.track = c.saemaps.commoncommo.protobuf.v1.Track.fromObject(e.track) } return t }, e.toObject = function (e, t) { t || (t = {}); var r = {}; return t.defaults && (r.xmlDetail = "", r.contact = null, r.group = null, r.precisionLocation = null, r.status = null, r.takv = null, r.track = null), null != e.xmlDetail && e.hasOwnProperty("xmlDetail") && (r.xmlDetail = e.xmlDetail), null != e.contact && e.hasOwnProperty("contact") && (r.contact = c.saemaps.commoncommo.protobuf.v1.Contact.toObject(e.contact, t)), null != e.group && e.hasOwnProperty("group") && (r.group = c.saemaps.commoncommo.protobuf.v1.Group.toObject(e.group, t)), null != e.precisionLocation && e.hasOwnProperty("precisionLocation") && (r.precisionLocation = c.saemaps.commoncommo.protobuf.v1.PrecisionLocation.toObject(e.precisionLocation, t)), null != e.status && e.hasOwnProperty("status") && (r.status = c.saemaps.commoncommo.protobuf.v1.Status.toObject(e.status, t)), null != e.takv && e.hasOwnProperty("takv") && (r.takv = c.saemaps.commoncommo.protobuf.v1.Takv.toObject(e.takv, t)), null != e.track && e.hasOwnProperty("track") && (r.track = c.saemaps.commoncommo.protobuf.v1.Track.toObject(e.track, t)), r }, e.prototype.toJSON = function () { return this.constructor.toObject(this, n.util.toJSONOptions) }, e }(), e.Group = function () { function e(e) { if (e) for (var t = Object.keys(e), r = 0; r < t.length; ++r)null != e[t[r]] && (this[t[r]] = e[t[r]]) } return e.prototype.name = "", e.prototype.role = "", e.create = function (t) { return new e(t) }, e.encode = function (e, t) { return t || (t = o.create()), null != e.name && Object.hasOwnProperty.call(e, "name") && t.uint32(10).string(e.name), null != e.role && Object.hasOwnProperty.call(e, "role") && t.uint32(18).string(e.role), t }, e.encodeDelimited = function (e, t) { return this.encode(e, t).ldelim() }, e.decode = function (e, t) { e instanceof a || (e = a.create(e)); for (var r = void 0 === t ? e.len : e.pos + t, n = new c.saemaps.commoncommo.protobuf.v1.Group; e.pos < r;) { var o = e.uint32(); switch (o >>> 3) { case 1: n.name = e.string(); break; case 2: n.role = e.string(); break; default: e.skipType(7 & o) } } return n }, e.decodeDelimited = function (e) { return e instanceof a || (e = new a(e)), this.decode(e, e.uint32()) }, e.verify = function (e) { return "object" !== typeof e || null === e ? "object expected" : null != e.name && e.hasOwnProperty("name") && !i.isString(e.name) ? "name: string expected" : null != e.role && e.hasOwnProperty("role") && !i.isString(e.role) ? "role: string expected" : null }, e.fromObject = function (e) { if (e instanceof c.saemaps.commoncommo.protobuf.v1.Group) return e; var t = new c.saemaps.commoncommo.protobuf.v1.Group; return null != e.name && (t.name = String(e.name)), null != e.role && (t.role = String(e.role)), t }, e.toObject = function (e, t) { t || (t = {}); var r = {}; return t.defaults && (r.name = "", r.role = ""), null != e.name && e.hasOwnProperty("name") && (r.name = e.name), null != e.role && e.hasOwnProperty("role") && (r.role = e.role), r }, e.prototype.toJSON = function () { return this.constructor.toObject(this, n.util.toJSONOptions) }, e }(), e.PrecisionLocation = function () { function e(e) { if (e) for (var t = Object.keys(e), r = 0; r < t.length; ++r)null != e[t[r]] && (this[t[r]] = e[t[r]]) } return e.prototype.geopointsrc = "", e.prototype.altsrc = "", e.create = function (t) { return new e(t) }, e.encode = function (e, t) { return t || (t = o.create()), null != e.geopointsrc && Object.hasOwnProperty.call(e, "geopointsrc") && t.uint32(10).string(e.geopointsrc), null != e.altsrc && Object.hasOwnProperty.call(e, "altsrc") && t.uint32(18).string(e.altsrc), t }, e.encodeDelimited = function (e, t) { return this.encode(e, t).ldelim() }, e.decode = function (e, t) { e instanceof a || (e = a.create(e)); for (var r = void 0 === t ? e.len : e.pos + t, n = new c.saemaps.commoncommo.protobuf.v1.PrecisionLocation; e.pos < r;) { var o = e.uint32(); switch (o >>> 3) { case 1: n.geopointsrc = e.string(); break; case 2: n.altsrc = e.string(); break; default: e.skipType(7 & o) } } return n }, e.decodeDelimited = function (e) { return e instanceof a || (e = new a(e)), this.decode(e, e.uint32()) }, e.verify = function (e) { return "object" !== typeof e || null === e ? "object expected" : null != e.geopointsrc && e.hasOwnProperty("geopointsrc") && !i.isString(e.geopointsrc) ? "geopointsrc: string expected" : null != e.altsrc && e.hasOwnProperty("altsrc") && !i.isString(e.altsrc) ? "altsrc: string expected" : null }, e.fromObject = function (e) { if (e instanceof c.saemaps.commoncommo.protobuf.v1.PrecisionLocation) return e; var t = new c.saemaps.commoncommo.protobuf.v1.PrecisionLocation; return null != e.geopointsrc && (t.geopointsrc = String(e.geopointsrc)), null != e.altsrc && (t.altsrc = String(e.altsrc)), t }, e.toObject = function (e, t) { t || (t = {}); var r = {}; return t.defaults && (r.geopointsrc = "", r.altsrc = ""), null != e.geopointsrc && e.hasOwnProperty("geopointsrc") && (r.geopointsrc = e.geopointsrc), null != e.altsrc && e.hasOwnProperty("altsrc") && (r.altsrc = e.altsrc), r }, e.prototype.toJSON = function () { return this.constructor.toObject(this, n.util.toJSONOptions) }, e }(), e.Status = function () { function e(e) { if (e) for (var t = Object.keys(e), r = 0; r < t.length; ++r)null != e[t[r]] && (this[t[r]] = e[t[r]]) } return e.prototype.battery = 0, e.create = function (t) { return new e(t) }, e.encode = function (e, t) { return t || (t = o.create()), null != e.battery && Object.hasOwnProperty.call(e, "battery") && t.uint32(8).uint32(e.battery), t }, e.encodeDelimited = function (e, t) { return this.encode(e, t).ldelim() }, e.decode = function (e, t) { e instanceof a || (e = a.create(e)); for (var r = void 0 === t ? e.len : e.pos + t, n = new c.saemaps.commoncommo.protobuf.v1.Status; e.pos < r;) { var o = e.uint32(); switch (o >>> 3) { case 1: n.battery = e.uint32(); break; default: e.skipType(7 & o) } } return n }, e.decodeDelimited = function (e) { return e instanceof a || (e = new a(e)), this.decode(e, e.uint32()) }, e.verify = function (e) { return "object" !== typeof e || null === e ? "object expected" : null != e.battery && e.hasOwnProperty("battery") && !i.isInteger(e.battery) ? "battery: integer expected" : null }, e.fromObject = function (e) { if (e instanceof c.saemaps.commoncommo.protobuf.v1.Status) return e; var t = new c.saemaps.commoncommo.protobuf.v1.Status; return null != e.battery && (t.battery = e.battery >>> 0), t }, e.toObject = function (e, t) { t || (t = {}); var r = {}; return t.defaults && (r.battery = 0), null != e.battery && e.hasOwnProperty("battery") && (r.battery = e.battery), r }, e.prototype.toJSON = function () { return this.constructor.toObject(this, n.util.toJSONOptions) }, e }(), e.Takv = function () { function e(e) { if (e) for (var t = Object.keys(e), r = 0; r < t.length; ++r)null != e[t[r]] && (this[t[r]] = e[t[r]]) } return e.prototype.device = "", e.prototype.platform = "", e.prototype.os = "", e.prototype.version = "", e.create = function (t) { return new e(t) }, e.encode = function (e, t) { return t || (t = o.create()), null != e.device && Object.hasOwnProperty.call(e, "device") && t.uint32(10).string(e.device), null != e.platform && Object.hasOwnProperty.call(e, "platform") && t.uint32(18).string(e.platform), null != e.os && Object.hasOwnProperty.call(e, "os") && t.uint32(26).string(e.os), null != e.version && Object.hasOwnProperty.call(e, "version") && t.uint32(34).string(e.version), t }, e.encodeDelimited = function (e, t) { return this.encode(e, t).ldelim() }, e.decode = function (e, t) { e instanceof a || (e = a.create(e)); for (var r = void 0 === t ? e.len : e.pos + t, n = new c.saemaps.commoncommo.protobuf.v1.Takv; e.pos < r;) { var o = e.uint32(); switch (o >>> 3) { case 1: n.device = e.string(); break; case 2: n.platform = e.string(); break; case 3: n.os = e.string(); break; case 4: n.version = e.string(); break; default: e.skipType(7 & o) } } return n }, e.decodeDelimited = function (e) { return e instanceof a || (e = new a(e)), this.decode(e, e.uint32()) }, e.verify = function (e) { return "object" !== typeof e || null === e ? "object expected" : null != e.device && e.hasOwnProperty("device") && !i.isString(e.device) ? "device: string expected" : null != e.platform && e.hasOwnProperty("platform") && !i.isString(e.platform) ? "platform: string expected" : null != e.os && e.hasOwnProperty("os") && !i.isString(e.os) ? "os: string expected" : null != e.version && e.hasOwnProperty("version") && !i.isString(e.version) ? "version: string expected" : null }, e.fromObject = function (e) { if (e instanceof c.saemaps.commoncommo.protobuf.v1.Takv) return e; var t = new c.saemaps.commoncommo.protobuf.v1.Takv; return null != e.device && (t.device = String(e.device)), null != e.platform && (t.platform = String(e.platform)), null != e.os && (t.os = String(e.os)), null != e.version && (t.version = String(e.version)), t }, e.toObject = function (e, t) { t || (t = {}); var r = {}; return t.defaults && (r.device = "", r.platform = "", r.os = "", r.version = ""), null != e.device && e.hasOwnProperty("device") && (r.device = e.device), null != e.platform && e.hasOwnProperty("platform") && (r.platform = e.platform), null != e.os && e.hasOwnProperty("os") && (r.os = e.os), null != e.version && e.hasOwnProperty("version") && (r.version = e.version), r }, e.prototype.toJSON = function () { return this.constructor.toObject(this, n.util.toJSONOptions) }, e }(), e.Track = function () { function e(e) { if (e) for (var t = Object.keys(e), r = 0; r < t.length; ++r)null != e[t[r]] && (this[t[r]] = e[t[r]]) } return e.prototype.speed = 0, e.prototype.course = 0, e.create = function (t) { return new e(t) }, e.encode = function (e, t) { return t || (t = o.create()), null != e.speed && Object.hasOwnProperty.call(e, "speed") && t.uint32(9).double(e.speed), null != e.course && Object.hasOwnProperty.call(e, "course") && t.uint32(17).double(e.course), t }, e.encodeDelimited = function (e, t) { return this.encode(e, t).ldelim() }, e.decode = function (e, t) { e instanceof a || (e = a.create(e)); for (var r = void 0 === t ? e.len : e.pos + t, n = new c.saemaps.commoncommo.protobuf.v1.Track; e.pos < r;) { var o = e.uint32(); switch (o >>> 3) { case 1: n.speed = e.double(); break; case 2: n.course = e.double(); break; default: e.skipType(7 & o) } } return n }, e.decodeDelimited = function (e) { return e instanceof a || (e = new a(e)), this.decode(e, e.uint32()) }, e.verify = function (e) { return "object" !== typeof e || null === e ? "object expected" : null != e.speed && e.hasOwnProperty("speed") && "number" !== typeof e.speed ? "speed: number expected" : null != e.course && e.hasOwnProperty("course") && "number" !== typeof e.course ? "course: number expected" : null }, e.fromObject = function (e) { if (e instanceof c.saemaps.commoncommo.protobuf.v1.Track) return e; var t = new c.saemaps.commoncommo.protobuf.v1.Track; return null != e.speed && (t.speed = Number(e.speed)), null != e.course && (t.course = Number(e.course)), t }, e.toObject = function (e, t) { t || (t = {}); var r = {}; return t.defaults && (r.speed = 0, r.course = 0), null != e.speed && e.hasOwnProperty("speed") && (r.speed = t.json && !isFinite(e.speed) ? String(e.speed) : e.speed), null != e.course && e.hasOwnProperty("course") && (r.course = t.json && !isFinite(e.course) ? String(e.course) : e.course), r }, e.prototype.toJSON = function () { return this.constructor.toObject(this, n.util.toJSONOptions) }, e }(), e.TakControl = function () { function e(e) { if (e) for (var t = Object.keys(e), r = 0; r < t.length; ++r)null != e[t[r]] && (this[t[r]] = e[t[r]]) } return e.prototype.minProtoVersion = 0, e.prototype.maxProtoVersion = 0, e.create = function (t) { return new e(t) }, e.encode = function (e, t) { return t || (t = o.create()), null != e.minProtoVersion && Object.hasOwnProperty.call(e, "minProtoVersion") && t.uint32(8).uint32(e.minProtoVersion), null != e.maxProtoVersion && Object.hasOwnProperty.call(e, "maxProtoVersion") && t.uint32(16).uint32(e.maxProtoVersion), t }, e.encodeDelimited = function (e, t) { return this.encode(e, t).ldelim() }, e.decode = function (e, t) { e instanceof a || (e = a.create(e)); for (var r = void 0 === t ? e.len : e.pos + t, n = new c.saemaps.commoncommo.protobuf.v1.TakControl; e.pos < r;) { var o = e.uint32(); switch (o >>> 3) { case 1: n.minProtoVersion = e.uint32(); break; case 2: n.maxProtoVersion = e.uint32(); break; default: e.skipType(7 & o) } } return n }, e.decodeDelimited = function (e) { return e instanceof a || (e = new a(e)), this.decode(e, e.uint32()) }, e.verify = function (e) { return "object" !== typeof e || null === e ? "object expected" : null != e.minProtoVersion && e.hasOwnProperty("minProtoVersion") && !i.isInteger(e.minProtoVersion) ? "minProtoVersion: integer expected" : null != e.maxProtoVersion && e.hasOwnProperty("maxProtoVersion") && !i.isInteger(e.maxProtoVersion) ? "maxProtoVersion: integer expected" : null }, e.fromObject = function (e) { if (e instanceof c.saemaps.commoncommo.protobuf.v1.TakControl) return e; var t = new c.saemaps.commoncommo.protobuf.v1.TakControl; return null != e.minProtoVersion && (t.minProtoVersion = e.minProtoVersion >>> 0), null != e.maxProtoVersion && (t.maxProtoVersion = e.maxProtoVersion >>> 0), t }, e.toObject = function (e, t) { t || (t = {}); var r = {}; return t.defaults && (r.minProtoVersion = 0, r.maxProtoVersion = 0), null != e.minProtoVersion && e.hasOwnProperty("minProtoVersion") && (r.minProtoVersion = e.minProtoVersion), null != e.maxProtoVersion && e.hasOwnProperty("maxProtoVersion") && (r.maxProtoVersion = e.maxProtoVersion), r }, e.prototype.toJSON = function () { return this.constructor.toObject(this, n.util.toJSONOptions) }, e }(), e.TakMessage = function () { function e(e) { if (e) for (var t = Object.keys(e), r = 0; r < t.length; ++r)null != e[t[r]] && (this[t[r]] = e[t[r]]) } return e.prototype.takControl = null, e.prototype.cotEvent = null, e.create = function (t) { return new e(t) }, e.encode = function (e, t) { return t || (t = o.create()), null != e.takControl && Object.hasOwnProperty.call(e, "takControl") && c.saemaps.commoncommo.protobuf.v1.TakControl.encode(e.takControl, t.uint32(10).fork()).ldelim(), null != e.cotEvent && Object.hasOwnProperty.call(e, "cotEvent") && c.saemaps.commoncommo.protobuf.v1.CotEvent.encode(e.cotEvent, t.uint32(18).fork()).ldelim(), t }, e.encodeDelimited = function (e, t) { return this.encode(e, t).ldelim() }, e.decode = function (e, t) { e instanceof a || (e = a.create(e)); for (var r = void 0 === t ? e.len : e.pos + t, n = new c.saemaps.commoncommo.protobuf.v1.TakMessage; e.pos < r;) { var o = e.uint32(); switch (o >>> 3) { case 1: n.takControl = c.saemaps.commoncommo.protobuf.v1.TakControl.decode(e, e.uint32()); break; case 2: n.cotEvent = c.saemaps.commoncommo.protobuf.v1.CotEvent.decode(e, e.uint32()); break; default: e.skipType(7 & o) } } return n }, e.decodeDelimited = function (e) { return e instanceof a || (e = new a(e)), this.decode(e, e.uint32()) }, e.verify = function (e) { if ("object" !== typeof e || null === e) return "object expected"; if (null != e.takControl && e.hasOwnProperty("takControl")) { var t = c.saemaps.commoncommo.protobuf.v1.TakControl.verify(e.takControl); if (t) return "takControl." + t } if (null != e.cotEvent && e.hasOwnProperty("cotEvent")) { var r = c.saemaps.commoncommo.protobuf.v1.CotEvent.verify(e.cotEvent); if (r) return "cotEvent." + r } return null }, e.fromObject = function (e) { if (e instanceof c.saemaps.commoncommo.protobuf.v1.TakMessage) return e; var t = new c.saemaps.commoncommo.protobuf.v1.TakMessage; if (null != e.takControl) { if ("object" !== typeof e.takControl) throw TypeError(".saemaps.commoncommo.protobuf.v1.TakMessage.takControl: object expected"); t.takControl = c.saemaps.commoncommo.protobuf.v1.TakControl.fromObject(e.takControl) } if (null != e.cotEvent) { if ("object" !== typeof e.cotEvent) throw TypeError(".saemaps.commoncommo.protobuf.v1.TakMessage.cotEvent: object expected"); t.cotEvent = c.saemaps.commoncommo.protobuf.v1.CotEvent.fromObject(e.cotEvent) } return t }, e.toObject = function (e, t) { t || (t = {}); var r = {}; return t.defaults && (r.takControl = null, r.cotEvent = null), null != e.takControl && e.hasOwnProperty("takControl") && (r.takControl = c.saemaps.commoncommo.protobuf.v1.TakControl.toObject(e.takControl, t)), null != e.cotEvent && e.hasOwnProperty("cotEvent") && (r.cotEvent = c.saemaps.commoncommo.protobuf.v1.CotEvent.toObject(e.cotEvent, t)), r }, e.prototype.toJSON = function () { return this.constructor.toObject(this, n.util.toJSONOptions) }, e }(), e }(), e }(), e }(), e }() }, function (e, t, r) { "use strict"; var n = r(264), a = r(216), o = r(243), i = r(266), c = r(214), s = r(215), u = r(174); function l(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = u(e); if (t) { var a = u(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return s(this, r) } } var f = this && this.__importDefault || function (e) { return e && e.__esModule ? e : { default: e } }; Object.defineProperty(t, "__esModule", { value: !0 }); var d = r(24), p = f(r(326)), m = f(r(365)), h = r(8), v = h.isNullable(h.isString), g = h.isNullable(h.isInstanceOf(m.default)), b = { access: null, ce: 999999, detail: null, hae: 999999, how: "h-g-i-g-o", le: 999999, lat: 0, lon: 0, opex: null, qos: null, sendTime: Date.now(), staleTime: Date.now(), startTime: Date.now(), type: "a-f-G-U-C-I", uid: h.uuid() }, y = { access: [v, "nullable string"], ce: [h.isNumber, "number"], detail: [g, "nullable EventDetail instance"], hae: [h.isNumber, "number"], how: [h.isString, "string"], le: [h.isNumber, "number"], lat: [h.pass, "latitude"], lon: [h.pass, "longitude"], opex: [v, "nullable string"], qos: [v, "nullable string"], sendTime: [h.isNumber, "number"], staleTime: [h.isNumber, "number"], startTime: [h.isNumber, "number"], type: [h.isNonEmptyString, "non-empty string"], uid: [h.isNonEmptyString, "non-empty string"] }, E = d.Record(b), O = function (e) { c(r, E); var t = l(r); function r() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; return a(this, r), Object.entries(e).forEach(function (e) { var t = n(e, 2), r = t[0], a = t[1], o = n(y[r], 2), i = o[0], c = o[1]; if (!i(a)) throw new p.default("Event constructor", "props.".concat(r), c) }), t.call(this, e) } return o(r, [{ key: "set", value: function (e, t) { var n = y[e]; if (!n) throw new Error('Event.set Cannot set unknown key "'.concat(e, '".')); if (!n[0](t)) throw new p.default("Event.set", e, n[1]); return i(u(r.prototype), "set", this).call(this, e, t) } }]), r }(); t.default = O }, function (e, t, r) { "use strict"; var n = r(265), a = r(216), o = r(243), i = r(266), c = r(214), s = r(215), u = r(174); function l(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = u(e); if (t) { var a = u(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return s(this, r) } } var f = this && this.__importDefault || function (e) { return e && e.__esModule ? e : { default: e } }; Object.defineProperty(t, "__esModule", { value: !0 }); var d = r(24), p = r(8), m = f(r(366)), h = f(r(367)), v = f(r(368)), g = f(r(369)), b = f(r(370)), y = f(r(371)), E = r(8), O = r(362), S = { contact: null, group: null, precisionLocation: null, status: null, takv: null, track: null, xml: null, xmlDetail: null }, w = d.Record(S), A = function (e) { c(r, w); var t = l(r); function r(e) { if (a(this, r), !E.isNull(e.xmlDetail)) throw new Error('EventDetail.constructor props.xmlDetail must be null. Assign XML by provided a parsable object structure as the "xml" prop.'); return t.call(this, r.convertProps(e)) } return o(r, [{ key: "xml", get: function () { var e = this.get("xml"); return e || null } }, { key: "get", value: function (e) { if ("xml" === e) { var t = i(u(r.prototype), "get", this).call(this, "xml"); return t || null } return i(u(r.prototype), "get", this).call(this, e) } }, { key: "set", value: function (e, t) { if ("undefined" === typeof S[e]) throw new Error("EventDetail.set Cannot set unknown key ".concat(e, ".")); var a = r.convertProps(n({}, e, t))[e]; return i(u(r.prototype), "set", this).call(this, e, a) } }, { key: "setIn", value: function () { throw new Error('EventDetail.setIn Cannot deeply update EventDetail records. Create a new instance or call "set".') } }, { key: "merge", value: function () { throw new Error('EventDetail.merge Cannot merge EventDetail records. Create a new instance or call "set".') } }, { key: "update", value: function (e, t) { if ("function" !== typeof t) throw new Error("EventDetail.update Updater argument must be a function."); var r = t(this[e]); return this.set(e, r) } }, { key: "updateIn", value: function () { throw new Error('EventDetail.updateIn Cannot deeply update EventDetail records. Create a new instance or call "set".') } }, { key: "getContact", value: function () { if (this.contact) return { callsign: this.contact.callsign, endpoint: this.contact.endpoint }; var e = this.getXMLAttributes("contact"); return O.isContact(e) ? e : null } }, { key: "setCallsign", value: function (e) { return this.contact ? this.update("contact", function (t) { return t ? t.set("callsign", e) : new m.default({ callsign: e }) }) : this } }, { key: "getGroup", value: function () { if (this.group) return { name: this.group.name, role: this.group.role }; var e = this.getXMLAttributes("group"); return O.isGroup(e) ? e : null } }, { key: "getStatus", value: function () { } }, { key: "getTakv", value: function () { return this.takv ? { device: this.takv.device, os: this.takv.os, platform: this.takv.platform, version: this.takv.version } : this.getXMLAttributes("group") } }, { key: "getRemarks", value: function () { return this.getIn(["xml", "remarks", p.XML_TEXT_KEY]) || "" } }, { key: "setRemarks", value: function (e) { return i(u(r.prototype), "setIn", this).call(this, ["xml", "remarks"], n({}, p.XML_TEXT_KEY, e)) } }, { key: "getTrack", value: function () { } }, { key: "getXMLAttributes", value: function (e) { return this.getIn(["xml", e, p.XML_ATTRIBUTE_KEY]) || null } }], [{ key: "convertProps", value: function (e) { return { contact: e.contact ? p.safeConstruct(m.default, e.contact) : null, group: e.group ? p.safeConstruct(h.default, e.group) : null, precisionLocation: e.precisionLocation ? p.safeConstruct(v.default, e.precisionLocation) : null, status: e.status ? p.safeConstruct(g.default, e.status) : null, takv: e.takv ? p.safeConstruct(b.default, e.takv) : null, track: e.track ? p.safeConstruct(y.default, e.track) : null, xml: e.xml ? p.clone(e.xml) : null, xmlDetail: null } } }]), r }(); t.default = A }, function (e, t, r) { "use strict"; var n = this && this.__importDefault || function (e) { return e && e.__esModule ? e : { default: e } }; Object.defineProperty(t, "__esModule", { value: !0 }); var a = n(r(202)), o = r(8); t.default = a.default({ callsign: "", endpoint: "" }, { callsign: o.isString, endpoint: o.isOptional(o.isString) }, "Contact") }, function (e, t, r) { "use strict"; var n = this && this.__importDefault || function (e) { return e && e.__esModule ? e : { default: e } }; Object.defineProperty(t, "__esModule", { value: !0 }); var a = n(r(202)), o = r(8); t.default = a.default({ name: "", role: "" }, { name: o.isString, role: o.isString }, "Group") }, function (e, t, r) { "use strict"; var n = this && this.__importDefault || function (e) { return e && e.__esModule ? e : { default: e } }; Object.defineProperty(t, "__esModule", { value: !0 }); var a = n(r(202)), o = r(8); t.default = a.default({ altsrc: "", geopointsrc: "" }, { altsrc: o.isString, geopointsrc: o.isString }, "PrecisionLocation") }, function (e, t, r) { "use strict"; var n = this && this.__importDefault || function (e) { return e && e.__esModule ? e : { default: e } }; Object.defineProperty(t, "__esModule", { value: !0 }); var a = n(r(202)), o = r(8); t.default = a.default({ battery: 0 }, { battery: o.isNumber }, "Status") }, function (e, t, r) { "use strict"; var n = this && this.__importDefault || function (e) { return e && e.__esModule ? e : { default: e } }; Object.defineProperty(t, "__esModule", { value: !0 }); var a = n(r(202)), o = r(8); t.default = a.default({ device: "", os: "", platform: "", version: "" }, { device: o.isString, os: o.isString, platform: o.isString, version: o.isString }, "Takv") }, function (e, t, r) { "use strict"; var n = this && this.__importDefault || function (e) { return e && e.__esModule ? e : { default: e } }; Object.defineProperty(t, "__esModule", { value: !0 }); var a = n(r(202)), o = r(8); t.default = a.default({ course: 0, speed: 0 }, { course: o.isOptional(o.isNumber), speed: o.isOptional(o.isNumber) }, "Track") }, , , , , , , , , , , , , , , , , , , , , , , , , , function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, , , , function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, , function (e) { e.exports = { a: "4.6.0-VBMMVP.0" } }, , , , , , , , , function (e, t, r) { e.exports = r.p + "static/media/aoi.5af4c408.png" }, , , , , , , , , , function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--", toolHeightCollapsed: "44px", toolWidthCollapsed: "44px" } }, function (e, t, r) { e.exports = r.p + "static/media/WebSAEToolbarLogo.d7a8ac7e.svg" }, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function (e, t, r) { e.exports = r(742) }, , , function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , , function (e, t, r) { "use strict"; var n, a = r(264), o = r(265), i = this && this.__importDefault || function (e) { return e && e.__esModule ? e : { default: e } }; Object.defineProperty(t, "__esModule", { value: !0 }), t.createEventFilter = t.matchesFilter = t.FilterExclusivity = void 0; var c, s, u = i(r(326)), l = r(8); function f(e) { return "string" === typeof e ? s.STRING : "function" === typeof e ? s.FUNCTION : s.REGEXP } !function (e) { e[e.NONE = 0] = "NONE", e[e.FIRST_IN = 1] = "FIRST_IN", e[e.LAST_IN = 2] = "LAST_IN", e[e.MOST_SPECIFIC = 3] = "MOST_SPECIFIC" }(c = t.FilterExclusivity || (t.FilterExclusivity = {})), function (e) { e[e.STRING = 3] = "STRING", e[e.REGEXP = 2] = "REGEXP", e[e.FUNCTION = 1] = "FUNCTION" }(s || (s = {})); var d = function (e) { return function (t, r, n) { var a = [], o = [], i = e(r, n); return i ? (a.push(i[1]), o.push(i)) : (i = e(t, n)) && a.push(i[1]), [a, o] } }, p = d(function (e, t) { for (var r = 0; r < e.length; r++) { var n = e[r]; if (b(n[0], t)) return n } return null }), m = d(function (e, t) { for (var r = null, n = 0; n < e.length; n++) { var a = e[n]; b(a[0], t) && (r = a) } return r }), h = d(function (e, t) { for (var r = null, n = 0; n < e.length; n++) { var a = e[n]; (!r || f(a[0]) > f(r[0])) && b(a[0], t) && (r = a) } return r }), v = (o(n = {}, c.NONE, function (e, t, r) { var n = [], a = [], o = function (e, t) { b(e[0], r) && (n.push(e[1]), t && a.push(e)) }; return e.forEach(function (e) { o(e, !1) }), t.forEach(function (e) { o(e, !0) }), [n, a] }), o(n, c.FIRST_IN, p), o(n, c.LAST_IN, m), o(n, c.MOST_SPECIFIC, h), n), g = l.isInstanceOf(RegExp); function b(e, t) { if (l.isString(e)) return t.type === e; if (l.isFunction(e)) return !!e(t); if (g(e)) return e.test(t.type); throw new u.default("matchesFilter", 'argument "filter"', "string, function, or instance of RegExp.") } t.matchesFilter = b; var y = 5, E = 16; function O() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : c.NONE, t = [], r = [], n = v[e]; return { on: function (e, r) { t.push([e, r]) }, once: function (e, t) { r.push([e, t]) }, off: function (e, n) { var o = "function" === typeof e ? function (t) { var r = a(t, 2), o = r[0], i = r[1]; return o !== e || i !== n } : function (t) { var r = a(t, 2), o = r[0], i = r[1]; return String(o) !== String(e) || i !== n }; t = t.filter(o), r = r.filter(o) }, clear: function () { t = [], r = [] }, emit: function (e) { for (var o = n(t, r, e), i = a(o, 2), c = i[0], s = i[1], u = function (e) { var t = s[e], n = "function" === typeof t[0] ? function (e) { var r = a(e, 2), n = r[0], o = r[1]; return n !== t[0] || o !== t[1] } : function (e) { var r = a(e, 2), n = r[0], o = r[1]; return String(n) !== String(t[0]) || o !== t[1] }; r = r.filter(n) }, f = 0; f < s.length; f++)u(f); if (!c.length) return !1; var d = l.chunk(c, y), p = 0; return l.queueTask(function t() { var r, n; r = d[p], n = e, r.forEach(function (e) { try { e(n) } catch (t) { } }), ++p < d.length && setTimeout(t, E) }), !0 } } } t.createEventFilter = O, t.default = O }, function (e, t, r) { "use strict"; var n = this && this.__importDefault || function (e) { return e && e.__esModule ? e : { default: e } }; Object.defineProperty(t, "__esModule", { value: !0 }), t.encodeTakMessage = t.extractTakMessage = t.PROTO_CONVERSION_OPTIONS = t.MAGIC_BYTE = void 0; var a = r(8), o = n(r(363)).default.saemaps.commoncommo.protobuf.v1; t.MAGIC_BYTE = 191, t.PROTO_CONVERSION_OPTIONS = { enums: String, longs: Number, defaults: !0, arrays: !0, objects: !0 }, t.extractTakMessage = function (e) { var r = new Uint8Array(e); if (r.byteLength < 2) throw new Error("Cannot parse empty message"); if (r[0] !== t.MAGIC_BYTE) throw new Error("Invalid message header."); var n = o.TakMessage.toObject(o.TakMessage.decodeDelimited(r.slice(1)), t.PROTO_CONVERSION_OPTIONS), i = n; return n.cotEvent ? (n.cotEvent.detail ? (n.cotEvent.detail.xmlDetail ? i.cotEvent.detail.xml = a.fromXML(i.cotEvent.detail.xmlDetail, !0) : i.cotEvent.detail.xml = null, i.cotEvent.detail.xmlDetail = null) : i.cotEvent.detail = null, i) : null }, t.encodeTakMessage = function (e) { var r = o.TakMessage.verify(e); if (null !== r) throw new Error("Invalid TakMessage provided: ".concat(r)); var n = Object.assign({}, e); e.cotEvent ? (e.cotEvent = Object.assign({}, e.cotEvent), e.cotEvent.detail ? (e.cotEvent.detail = Object.assign({}, e.cotEvent.detail), e.cotEvent.detail.xml ? n.cotEvent.detail.xmlDetail = a.toXML(n.cotEvent.detail.xml, !1) : (n.cotEvent.detail.xmlDetail = null, delete n.cotEvent.detail.xmlDetail), n.cotEvent.detail.xml = null, delete n.cotEvent.detail.xml) : (n.cotEvent.detail = null, delete n.cotEvent.detail)) : (n.cotEvent = null, delete n.cotEvent); var i = o.TakMessage.encodeDelimited(n).finish(), c = new Uint8Array(i.length + 1); return c.set([t.MAGIC_BYTE]), c.set(i, 1), c } }, function (e, t, r) { "use strict"; var n = this && this.__importDefault || function (e) { return e && e.__esModule ? e : { default: e } }; Object.defineProperty(t, "__esModule", { value: !0 }), t.isGroup = t.isContact = t.isCotEvent = t.isDetail = t.isMessageType = t.isTakMessage = void 0; var a = n(r(363)), o = a.default.saemaps.commoncommo.protobuf.v1.TakMessage; function i(e) { return !!e && null === e.xmlDetail && (null === e.xml || "object" === typeof e.xml) } function c(e) { return !!e && null === a.default.saemaps.commoncommo.protobuf.v1.CotEvent.verify(e) && (null === e.detail || i(e.detail)) } t.isTakMessage = function (e) { return !!e && null === o.verify(e) && c(e.cotEvent) }, t.isMessageType = function (e) { return function (t) { return !!t && !!t.messageType && t.messageType === e } }, t.isDetail = i, t.isCotEvent = c, t.isContact = function (e) { return !!e && null === a.default.saemaps.commoncommo.protobuf.v1.Contact.verify(e) }, t.isGroup = function (e) { return !!e && null === a.default.saemaps.commoncommo.protobuf.v1.Group.verify(e) } }, function (e, t, r) { "use strict"; var n = this && this.__createBinding || (Object.create ? function (e, t, r, n) { void 0 === n && (n = r), Object.defineProperty(e, n, { enumerable: !0, get: function () { return t[r] } }) } : function (e, t, r, n) { void 0 === n && (n = r), e[n] = t[r] }), a = this && this.__exportStar || function (e, t) { for (var r in e) "default" === r || Object.prototype.hasOwnProperty.call(t, r) || n(t, e, r) }, o = this && this.__importDefault || function (e) { return e && e.__esModule ? e : { default: e } }; Object.defineProperty(t, "__esModule", { value: !0 }), t.CotEventTakv = t.CotEventTrack = t.CotEventStatus = t.CotEventPrecisionLocation = t.CotEventGroup = t.CotEventDetail = t.CotEventContact = t.CotEvent = void 0; var i = r(364); Object.defineProperty(t, "CotEvent", { enumerable: !0, get: function () { return o(i).default } }), a(r(364), t); var c = r(366); Object.defineProperty(t, "CotEventContact", { enumerable: !0, get: function () { return o(c).default } }); var s = r(365); Object.defineProperty(t, "CotEventDetail", { enumerable: !0, get: function () { return o(s).default } }); var u = r(367); Object.defineProperty(t, "CotEventGroup", { enumerable: !0, get: function () { return o(u).default } }); var l = r(368); Object.defineProperty(t, "CotEventPrecisionLocation", { enumerable: !0, get: function () { return o(l).default } }); var f = r(369); Object.defineProperty(t, "CotEventStatus", { enumerable: !0, get: function () { return o(f).default } }); var d = r(371); Object.defineProperty(t, "CotEventTrack", { enumerable: !0, get: function () { return o(d).default } }); var p = r(370); Object.defineProperty(t, "CotEventTakv", { enumerable: !0, get: function () { return o(p).default } }) }, function (e, t, r) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.MessageTypes = void 0; r(8); !function (e) { e.CHAT_MESSAGE = "ChatMessage", e.CONTROL_MESSAGE = "ControlMessage", e.SITUATIONAL_AWARENESS = "SituationAwarenessMessage", e.MISSION_CHANGE = "MissionChange" }(t.MessageTypes || (t.MessageTypes = {})) }, function (e, t, r) { e.exports = function () { return new Worker(r.p + "048b04e23d3ea2b128f9.worker.js") } }, function (e, t, r) { e.exports = function () { return new Worker(r.p + "e1af1fc875bb109df5ac.worker.js") } }, , , , , , , , , , function (e, t) { }, , function (e, t) { }, , , , , , , , , , , , , , , , , , , , , , , , , function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, , function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = function () { return new Worker(r.p + "df4d660c7896e3b18a75.worker.js") } }, function (e, t, r) { e.exports = function () { return new Worker(r.p + "823eca8213434de419f7.worker.js") } }, function (e, t, r) { e.exports = function () { return new Worker(r.p + "4b201acf263918f2b1b4.worker.js") } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = function () { return new Worker(r.p + "5d9e4b754b39c7600828.worker.js") } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, , , , , , , , , , , function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, , function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t) { }, , , , , , , , , , , , , , , , , , , , function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { e.exports = { classPrefix: "wt-", separatorElement: "__", separatorModifier: "--" } }, function (e, t, r) { "use strict"; r.r(t); var n = r(11), a = r.n(n), o = r(20), i = (r(507), r(3)), c = r.n(i), s = r(55), u = r.n(s), l = r(37), f = r(408), d = r(6); function p() { var e = self.location.pathname, t = self.location.origin; if (e.includes("index.html")) { var r = e.split("/"); return r.pop(), "".concat(t).concat(r.join("/"), "/") } return "".concat(t).concat(e) } function m() { var e = new URL(p()); return e.pathname = e.pathname.replace(/websae/, "websae-plugins"), e.toString() } var h, v, g, b, y = !1, E = function () { var e = Object(d.userAgent)(), t = e.os, r = e.browser; return { device: "".concat(r.name, " - ").concat(r.version), os: "".concat(t.name, " - ").concat(t.version), platform: "WebSAE", version: f.a } }, O = "".concat(p(), "websae-manifest.json"), S = "".concat(m(), "websae-manifest.json"), w = "".concat(p(), "resources/"); !function (e) { e.UID = "WebSAE-uid", e.CLUSTER_DEFAULT_COTS = "WebSAE-cluster-default-cots", e.USER_INFORMATION = "WebSAE-user-information", e.MISSION_SUBSCRIPTIONS = "WebSAE-mission-subscriptions", e.SOCKET_TOPIC = "WebSAE-socket-topic", e.AOI = "WebSAE-aoi", e.EVENTS = "WebSAE-events", e.FILES = "WebSAE-files", e.MAP_POSITION = "WebSAE-map-position", e.TOOLS_ORDER = "WebSAE-tools-order", e.LAYER = "WebSAE-layer", e.LAYER_3D = "WebSAE-3D-Layer", e.LAYER_CAPABILITIES = "WebSAE-layer-capabilities", e.CHAT_MESSAGES = "WebSAE-chat-messages", e.MAP_ITEM_VISIBILITY = "WebSAE-map-item-visibility", e.MAP_ITEM_OPACITY = "WebSAE-map-item-opacity", e.ALERTS_INFORMATION = "WebSAE-alerts-information", e.DATA_PACKAGES = "WebSAE-data-packages", e.VIDEO = "WebSAE-video", e.NOTIFICATIONS = "WebSAE-notifications", e.WIDGET_GRID = "WebSAE-widget-grid", e.__DEV__ = "WebSAE__DEV__" }(h || (h = {})), function (e) { e.UID = "uid", e.GROUP = "group", e.TEAM = "team", e.MISSION = "mission", e.CHATROOM = "chatroom", e.XMPP = "xmpp" }(v || (v = {})), function (e) { e.CHAT_MESSAGE = "ChatMessage", e.CONTROL_MESSAGE = "ControlMessage", e.SITUATIONAL_AWARENESS = "SituationAwarenessMessage", e.MISSION_CHANGE = "MissionChange" }(g || (g = {})), function (e) { e.SUCCESS = "success", e.ERROR = "error", e.WARNING = "warning", e.DEFAULT = "default" }(b || (b = {})); var A, C = r(13), T = r(14), j = r(18), k = r(17), R = r(21), N = r(12); !function (e) { e.ADD_ERROR = "errors/ADD_ERROR", e.DISMISS_ERROR = "errors/DISMISS_ERROR", e.CLEAR_ERRORS = "errors/CLEAR_ERRORS" }(A || (A = {})); var L = r(8), _ = r.n(L), I = r(165), M = r(409); function x(e) { throw new Error("Unhandled action type: ".concat(e.type)) } var D = r(35), P = r(33), U = function (e) { return e }, B = Object.values(h).reduce(function (e, t) { return Object(P.a)({}, e, Object(C.a)({}, t, function (e) { return Object(L.throttle)(function (t, r) { var n = r(t); localStorage.setItem(e, "string" === typeof n ? n : JSON.stringify(n)) }, 250) }(t))) }, {}); function F(e, t) { var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : U; return B[e](t, r), t } function V(e, t) { var r = localStorage.getItem(e); return null === r ? t() : t(JSON.parse(r)) } var H = function (e, t) { return e.includes(t.type) }; function G(e, t, r, n, a) { var o = []; return [].concat(t).forEach(function (e) { "string" === typeof e ? o.push(e) : o = [].concat(Object(D.a)(o), Object(D.a)(Object.values(e))) }), function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : e, i = arguments.length > 1 ? arguments[1] : void 0; if (!H(o, i)) return t; var c = r(t, i); return n && t !== c ? F(n, c, a) : c } } var q = r(24), K = r(53), z = r(311); function Y(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } function W(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var X = function (e) { Object(k.a)(r, e); var t = W(r); function r(e, n, a) { var o; return Object(T.a)(this, r), (o = t.call(this, "".concat(e, " ").concat(n, " is not a valid ").concat(a, "."))).name = "ValidationError", o } return r }(function (e) { Object(k.a)(r, e); var t = Y(r); function r(e) { var n; Object(T.a)(this, r), n = t.call(this, e); var a = (this instanceof r ? this.constructor : void 0).prototype; return Object.setPrototypeOf ? Object.setPrototypeOf(Object(K.a)(n), a) : Object(K.a)(n).__proto__ && (Object(K.a)(n).__proto__ = a), n.name = "WebSAEError", n } return r }(Object(z.a)(Error))); function J(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var Z = Object(q.Record)({ lat: 0, lon: 0, ce: 999999, le: 999999, hae: 999999 }), Q = function (e) { Object(k.a)(r, e); var t = J(r); function r() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; Object(T.a)(this, r); var n, a, o, i = r.DEFAULT_RECORD; return Array.isArray(e) ? (a = e[0] || i.lon, n = e[1] || i.lat, o = i.hae) : (n = e.lat || i.lat, a = e.lon || i.lon, o = e.hae || i.hae), t.call(this, { hae: o, lat: Number(n), lon: Number(a) }) } return Object(j.a)(r, [{ key: "toLonLat", value: function () { return [this.lon, this.lat] } }, { key: "toLatLon", value: function () { return [this.lat, this.lon] } }]), r }(Z); Q.DEFAULT_RECORD = new Z; var $ = r(79), ee = $.Reader, te = $.Writer, re = $.util, ne = $.roots.default || ($.roots.default = {}); ne.saemaps = function () { var e = {}; return e.commoncommo = function () { var e = {}; return e.protobuf = function () { var e = {}; return e.v1 = function () { var e = {}; return e.Contact = function () { function e(e) { if (e) for (var t = Object.keys(e), r = 0; r < t.length; ++r)null != e[t[r]] && (this[t[r]] = e[t[r]]) } return e.prototype.endpoint = "", e.prototype.callsign = "", e.create = function (t) { return new e(t) }, e.encode = function (e, t) { return t || (t = te.create()), null != e.endpoint && Object.hasOwnProperty.call(e, "endpoint") && t.uint32(10).string(e.endpoint), null != e.callsign && Object.hasOwnProperty.call(e, "callsign") && t.uint32(18).string(e.callsign), t }, e.encodeDelimited = function (e, t) { return this.encode(e, t).ldelim() }, e.decode = function (e, t) { e instanceof ee || (e = ee.create(e)); for (var r = void 0 === t ? e.len : e.pos + t, n = new ne.saemaps.commoncommo.protobuf.v1.Contact; e.pos < r;) { var a = e.uint32(); switch (a >>> 3) { case 1: n.endpoint = e.string(); break; case 2: n.callsign = e.string(); break; default: e.skipType(7 & a) } } return n }, e.decodeDelimited = function (e) { return e instanceof ee || (e = new ee(e)), this.decode(e, e.uint32()) }, e.verify = function (e) { return "object" !== typeof e || null === e ? "object expected" : null != e.endpoint && e.hasOwnProperty("endpoint") && !re.isString(e.endpoint) ? "endpoint: string expected" : null != e.callsign && e.hasOwnProperty("callsign") && !re.isString(e.callsign) ? "callsign: string expected" : null }, e.fromObject = function (e) { if (e instanceof ne.saemaps.commoncommo.protobuf.v1.Contact) return e; var t = new ne.saemaps.commoncommo.protobuf.v1.Contact; return null != e.endpoint && (t.endpoint = String(e.endpoint)), null != e.callsign && (t.callsign = String(e.callsign)), t }, e.toObject = function (e, t) { t || (t = {}); var r = {}; return t.defaults && (r.endpoint = "", r.callsign = ""), null != e.endpoint && e.hasOwnProperty("endpoint") && (r.endpoint = e.endpoint), null != e.callsign && e.hasOwnProperty("callsign") && (r.callsign = e.callsign), r }, e.prototype.toJSON = function () { return this.constructor.toObject(this, $.util.toJSONOptions) }, e }(), e.CotEvent = function () { function e(e) { if (e) for (var t = Object.keys(e), r = 0; r < t.length; ++r)null != e[t[r]] && (this[t[r]] = e[t[r]]) } return e.prototype.type = "", e.prototype.access = "", e.prototype.qos = "", e.prototype.opex = "", e.prototype.uid = "", e.prototype.sendTime = re.Long ? re.Long.fromBits(0, 0, !0) : 0, e.prototype.startTime = re.Long ? re.Long.fromBits(0, 0, !0) : 0, e.prototype.staleTime = re.Long ? re.Long.fromBits(0, 0, !0) : 0, e.prototype.how = "", e.prototype.lat = 0, e.prototype.lon = 0, e.prototype.hae = 0, e.prototype.ce = 0, e.prototype.le = 0, e.prototype.detail = null, e.create = function (t) { return new e(t) }, e.encode = function (e, t) { return t || (t = te.create()), null != e.type && Object.hasOwnProperty.call(e, "type") && t.uint32(10).string(e.type), null != e.access && Object.hasOwnProperty.call(e, "access") && t.uint32(18).string(e.access), null != e.qos && Object.hasOwnProperty.call(e, "qos") && t.uint32(26).string(e.qos), null != e.opex && Object.hasOwnProperty.call(e, "opex") && t.uint32(34).string(e.opex), null != e.uid && Object.hasOwnProperty.call(e, "uid") && t.uint32(42).string(e.uid), null != e.sendTime && Object.hasOwnProperty.call(e, "sendTime") && t.uint32(48).uint64(e.sendTime), null != e.startTime && Object.hasOwnProperty.call(e, "startTime") && t.uint32(56).uint64(e.startTime), null != e.staleTime && Object.hasOwnProperty.call(e, "staleTime") && t.uint32(64).uint64(e.staleTime), null != e.how && Object.hasOwnProperty.call(e, "how") && t.uint32(74).string(e.how), null != e.lat && Object.hasOwnProperty.call(e, "lat") && t.uint32(81).double(e.lat), null != e.lon && Object.hasOwnProperty.call(e, "lon") && t.uint32(89).double(e.lon), null != e.hae && Object.hasOwnProperty.call(e, "hae") && t.uint32(97).double(e.hae), null != e.ce && Object.hasOwnProperty.call(e, "ce") && t.uint32(105).double(e.ce), null != e.le && Object.hasOwnProperty.call(e, "le") && t.uint32(113).double(e.le), null != e.detail && Object.hasOwnProperty.call(e, "detail") && ne.saemaps.commoncommo.protobuf.v1.Detail.encode(e.detail, t.uint32(122).fork()).ldelim(), t }, e.encodeDelimited = function (e, t) { return this.encode(e, t).ldelim() }, e.decode = function (e, t) { e instanceof ee || (e = ee.create(e)); for (var r = void 0 === t ? e.len : e.pos + t, n = new ne.saemaps.commoncommo.protobuf.v1.CotEvent; e.pos < r;) { var a = e.uint32(); switch (a >>> 3) { case 1: n.type = e.string(); break; case 2: n.access = e.string(); break; case 3: n.qos = e.string(); break; case 4: n.opex = e.string(); break; case 5: n.uid = e.string(); break; case 6: n.sendTime = e.uint64(); break; case 7: n.startTime = e.uint64(); break; case 8: n.staleTime = e.uint64(); break; case 9: n.how = e.string(); break; case 10: n.lat = e.double(); break; case 11: n.lon = e.double(); break; case 12: n.hae = e.double(); break; case 13: n.ce = e.double(); break; case 14: n.le = e.double(); break; case 15: n.detail = ne.saemaps.commoncommo.protobuf.v1.Detail.decode(e, e.uint32()); break; default: e.skipType(7 & a) } } return n }, e.decodeDelimited = function (e) { return e instanceof ee || (e = new ee(e)), this.decode(e, e.uint32()) }, e.verify = function (e) { if ("object" !== typeof e || null === e) return "object expected"; if (null != e.type && e.hasOwnProperty("type") && !re.isString(e.type)) return "type: string expected"; if (null != e.access && e.hasOwnProperty("access") && !re.isString(e.access)) return "access: string expected"; if (null != e.qos && e.hasOwnProperty("qos") && !re.isString(e.qos)) return "qos: string expected"; if (null != e.opex && e.hasOwnProperty("opex") && !re.isString(e.opex)) return "opex: string expected"; if (null != e.uid && e.hasOwnProperty("uid") && !re.isString(e.uid)) return "uid: string expected"; if (null != e.sendTime && e.hasOwnProperty("sendTime") && !re.isInteger(e.sendTime) && !(e.sendTime && re.isInteger(e.sendTime.low) && re.isInteger(e.sendTime.high))) return "sendTime: integer|Long expected"; if (null != e.startTime && e.hasOwnProperty("startTime") && !re.isInteger(e.startTime) && !(e.startTime && re.isInteger(e.startTime.low) && re.isInteger(e.startTime.high))) return "startTime: integer|Long expected"; if (null != e.staleTime && e.hasOwnProperty("staleTime") && !re.isInteger(e.staleTime) && !(e.staleTime && re.isInteger(e.staleTime.low) && re.isInteger(e.staleTime.high))) return "staleTime: integer|Long expected"; if (null != e.how && e.hasOwnProperty("how") && !re.isString(e.how)) return "how: string expected"; if (null != e.lat && e.hasOwnProperty("lat") && "number" !== typeof e.lat) return "lat: number expected"; if (null != e.lon && e.hasOwnProperty("lon") && "number" !== typeof e.lon) return "lon: number expected"; if (null != e.hae && e.hasOwnProperty("hae") && "number" !== typeof e.hae) return "hae: number expected"; if (null != e.ce && e.hasOwnProperty("ce") && "number" !== typeof e.ce) return "ce: number expected"; if (null != e.le && e.hasOwnProperty("le") && "number" !== typeof e.le) return "le: number expected"; if (null != e.detail && e.hasOwnProperty("detail")) { var t = ne.saemaps.commoncommo.protobuf.v1.Detail.verify(e.detail); if (t) return "detail." + t } return null }, e.fromObject = function (e) { if (e instanceof ne.saemaps.commoncommo.protobuf.v1.CotEvent) return e; var t = new ne.saemaps.commoncommo.protobuf.v1.CotEvent; if (null != e.type && (t.type = String(e.type)), null != e.access && (t.access = String(e.access)), null != e.qos && (t.qos = String(e.qos)), null != e.opex && (t.opex = String(e.opex)), null != e.uid && (t.uid = String(e.uid)), null != e.sendTime && (re.Long ? (t.sendTime = re.Long.fromValue(e.sendTime)).unsigned = !0 : "string" === typeof e.sendTime ? t.sendTime = parseInt(e.sendTime, 10) : "number" === typeof e.sendTime ? t.sendTime = e.sendTime : "object" === typeof e.sendTime && (t.sendTime = new re.LongBits(e.sendTime.low >>> 0, e.sendTime.high >>> 0).toNumber(!0))), null != e.startTime && (re.Long ? (t.startTime = re.Long.fromValue(e.startTime)).unsigned = !0 : "string" === typeof e.startTime ? t.startTime = parseInt(e.startTime, 10) : "number" === typeof e.startTime ? t.startTime = e.startTime : "object" === typeof e.startTime && (t.startTime = new re.LongBits(e.startTime.low >>> 0, e.startTime.high >>> 0).toNumber(!0))), null != e.staleTime && (re.Long ? (t.staleTime = re.Long.fromValue(e.staleTime)).unsigned = !0 : "string" === typeof e.staleTime ? t.staleTime = parseInt(e.staleTime, 10) : "number" === typeof e.staleTime ? t.staleTime = e.staleTime : "object" === typeof e.staleTime && (t.staleTime = new re.LongBits(e.staleTime.low >>> 0, e.staleTime.high >>> 0).toNumber(!0))), null != e.how && (t.how = String(e.how)), null != e.lat && (t.lat = Number(e.lat)), null != e.lon && (t.lon = Number(e.lon)), null != e.hae && (t.hae = Number(e.hae)), null != e.ce && (t.ce = Number(e.ce)), null != e.le && (t.le = Number(e.le)), null != e.detail) { if ("object" !== typeof e.detail) throw TypeError(".saemaps.commoncommo.protobuf.v1.CotEvent.detail: object expected"); t.detail = ne.saemaps.commoncommo.protobuf.v1.Detail.fromObject(e.detail) } return t }, e.toObject = function (e, t) { t || (t = {}); var r = {}; if (t.defaults) { if (r.type = "", r.access = "", r.qos = "", r.opex = "", r.uid = "", re.Long) { var n = new re.Long(0, 0, !0); r.sendTime = t.longs === String ? n.toString() : t.longs === Number ? n.toNumber() : n } else r.sendTime = t.longs === String ? "0" : 0; if (re.Long) { var a = new re.Long(0, 0, !0); r.startTime = t.longs === String ? a.toString() : t.longs === Number ? a.toNumber() : a } else r.startTime = t.longs === String ? "0" : 0; if (re.Long) { var o = new re.Long(0, 0, !0); r.staleTime = t.longs === String ? o.toString() : t.longs === Number ? o.toNumber() : o } else r.staleTime = t.longs === String ? "0" : 0; r.how = "", r.lat = 0, r.lon = 0, r.hae = 0, r.ce = 0, r.le = 0, r.detail = null } return null != e.type && e.hasOwnProperty("type") && (r.type = e.type), null != e.access && e.hasOwnProperty("access") && (r.access = e.access), null != e.qos && e.hasOwnProperty("qos") && (r.qos = e.qos), null != e.opex && e.hasOwnProperty("opex") && (r.opex = e.opex), null != e.uid && e.hasOwnProperty("uid") && (r.uid = e.uid), null != e.sendTime && e.hasOwnProperty("sendTime") && ("number" === typeof e.sendTime ? r.sendTime = t.longs === String ? String(e.sendTime) : e.sendTime : r.sendTime = t.longs === String ? re.Long.prototype.toString.call(e.sendTime) : t.longs === Number ? new re.LongBits(e.sendTime.low >>> 0, e.sendTime.high >>> 0).toNumber(!0) : e.sendTime), null != e.startTime && e.hasOwnProperty("startTime") && ("number" === typeof e.startTime ? r.startTime = t.longs === String ? String(e.startTime) : e.startTime : r.startTime = t.longs === String ? re.Long.prototype.toString.call(e.startTime) : t.longs === Number ? new re.LongBits(e.startTime.low >>> 0, e.startTime.high >>> 0).toNumber(!0) : e.startTime), null != e.staleTime && e.hasOwnProperty("staleTime") && ("number" === typeof e.staleTime ? r.staleTime = t.longs === String ? String(e.staleTime) : e.staleTime : r.staleTime = t.longs === String ? re.Long.prototype.toString.call(e.staleTime) : t.longs === Number ? new re.LongBits(e.staleTime.low >>> 0, e.staleTime.high >>> 0).toNumber(!0) : e.staleTime), null != e.how && e.hasOwnProperty("how") && (r.how = e.how), null != e.lat && e.hasOwnProperty("lat") && (r.lat = t.json && !isFinite(e.lat) ? String(e.lat) : e.lat), null != e.lon && e.hasOwnProperty("lon") && (r.lon = t.json && !isFinite(e.lon) ? String(e.lon) : e.lon), null != e.hae && e.hasOwnProperty("hae") && (r.hae = t.json && !isFinite(e.hae) ? String(e.hae) : e.hae), null != e.ce && e.hasOwnProperty("ce") && (r.ce = t.json && !isFinite(e.ce) ? String(e.ce) : e.ce), null != e.le && e.hasOwnProperty("le") && (r.le = t.json && !isFinite(e.le) ? String(e.le) : e.le), null != e.detail && e.hasOwnProperty("detail") && (r.detail = ne.saemaps.commoncommo.protobuf.v1.Detail.toObject(e.detail, t)), r }, e.prototype.toJSON = function () { return this.constructor.toObject(this, $.util.toJSONOptions) }, e }(), e.Detail = function () { function e(e) { if (e) for (var t = Object.keys(e), r = 0; r < t.length; ++r)null != e[t[r]] && (this[t[r]] = e[t[r]]) } return e.prototype.xmlDetail = "", e.prototype.contact = null, e.prototype.group = null, e.prototype.precisionLocation = null, e.prototype.status = null, e.prototype.takv = null, e.prototype.track = null, e.create = function (t) { return new e(t) }, e.encode = function (e, t) { return t || (t = te.create()), null != e.xmlDetail && Object.hasOwnProperty.call(e, "xmlDetail") && t.uint32(10).string(e.xmlDetail), null != e.contact && Object.hasOwnProperty.call(e, "contact") && ne.saemaps.commoncommo.protobuf.v1.Contact.encode(e.contact, t.uint32(18).fork()).ldelim(), null != e.group && Object.hasOwnProperty.call(e, "group") && ne.saemaps.commoncommo.protobuf.v1.Group.encode(e.group, t.uint32(26).fork()).ldelim(), null != e.precisionLocation && Object.hasOwnProperty.call(e, "precisionLocation") && ne.saemaps.commoncommo.protobuf.v1.PrecisionLocation.encode(e.precisionLocation, t.uint32(34).fork()).ldelim(), null != e.status && Object.hasOwnProperty.call(e, "status") && ne.saemaps.commoncommo.protobuf.v1.Status.encode(e.status, t.uint32(42).fork()).ldelim(), null != e.takv && Object.hasOwnProperty.call(e, "takv") && ne.saemaps.commoncommo.protobuf.v1.Takv.encode(e.takv, t.uint32(50).fork()).ldelim(), null != e.track && Object.hasOwnProperty.call(e, "track") && ne.saemaps.commoncommo.protobuf.v1.Track.encode(e.track, t.uint32(58).fork()).ldelim(), t }, e.encodeDelimited = function (e, t) { return this.encode(e, t).ldelim() }, e.decode = function (e, t) { e instanceof ee || (e = ee.create(e)); for (var r = void 0 === t ? e.len : e.pos + t, n = new ne.saemaps.commoncommo.protobuf.v1.Detail; e.pos < r;) { var a = e.uint32(); switch (a >>> 3) { case 1: n.xmlDetail = e.string(); break; case 2: n.contact = ne.saemaps.commoncommo.protobuf.v1.Contact.decode(e, e.uint32()); break; case 3: n.group = ne.saemaps.commoncommo.protobuf.v1.Group.decode(e, e.uint32()); break; case 4: n.precisionLocation = ne.saemaps.commoncommo.protobuf.v1.PrecisionLocation.decode(e, e.uint32()); break; case 5: n.status = ne.saemaps.commoncommo.protobuf.v1.Status.decode(e, e.uint32()); break; case 6: n.takv = ne.saemaps.commoncommo.protobuf.v1.Takv.decode(e, e.uint32()); break; case 7: n.track = ne.saemaps.commoncommo.protobuf.v1.Track.decode(e, e.uint32()); break; default: e.skipType(7 & a) } } return n }, e.decodeDelimited = function (e) { return e instanceof ee || (e = new ee(e)), this.decode(e, e.uint32()) }, e.verify = function (e) { if ("object" !== typeof e || null === e) return "object expected"; if (null != e.xmlDetail && e.hasOwnProperty("xmlDetail") && !re.isString(e.xmlDetail)) return "xmlDetail: string expected"; if (null != e.contact && e.hasOwnProperty("contact")) { var t = ne.saemaps.commoncommo.protobuf.v1.Contact.verify(e.contact); if (t) return "contact." + t } if (null != e.group && e.hasOwnProperty("group")) { var r = ne.saemaps.commoncommo.protobuf.v1.Group.verify(e.group); if (r) return "group." + r } if (null != e.precisionLocation && e.hasOwnProperty("precisionLocation")) { var n = ne.saemaps.commoncommo.protobuf.v1.PrecisionLocation.verify(e.precisionLocation); if (n) return "precisionLocation." + n } if (null != e.status && e.hasOwnProperty("status")) { var a = ne.saemaps.commoncommo.protobuf.v1.Status.verify(e.status); if (a) return "status." + a } if (null != e.takv && e.hasOwnProperty("takv")) { var o = ne.saemaps.commoncommo.protobuf.v1.Takv.verify(e.takv); if (o) return "takv." + o } if (null != e.track && e.hasOwnProperty("track")) { var i = ne.saemaps.commoncommo.protobuf.v1.Track.verify(e.track); if (i) return "track." + i } return null }, e.fromObject = function (e) { if (e instanceof ne.saemaps.commoncommo.protobuf.v1.Detail) return e; var t = new ne.saemaps.commoncommo.protobuf.v1.Detail; if (null != e.xmlDetail && (t.xmlDetail = String(e.xmlDetail)), null != e.contact) { if ("object" !== typeof e.contact) throw TypeError(".saemaps.commoncommo.protobuf.v1.Detail.contact: object expected"); t.contact = ne.saemaps.commoncommo.protobuf.v1.Contact.fromObject(e.contact) } if (null != e.group) { if ("object" !== typeof e.group) throw TypeError(".saemaps.commoncommo.protobuf.v1.Detail.group: object expected"); t.group = ne.saemaps.commoncommo.protobuf.v1.Group.fromObject(e.group) } if (null != e.precisionLocation) { if ("object" !== typeof e.precisionLocation) throw TypeError(".saemaps.commoncommo.protobuf.v1.Detail.precisionLocation: object expected"); t.precisionLocation = ne.saemaps.commoncommo.protobuf.v1.PrecisionLocation.fromObject(e.precisionLocation) } if (null != e.status) { if ("object" !== typeof e.status) throw TypeError(".saemaps.commoncommo.protobuf.v1.Detail.status: object expected"); t.status = ne.saemaps.commoncommo.protobuf.v1.Status.fromObject(e.status) } if (null != e.takv) { if ("object" !== typeof e.takv) throw TypeError(".saemaps.commoncommo.protobuf.v1.Detail.takv: object expected"); t.takv = ne.saemaps.commoncommo.protobuf.v1.Takv.fromObject(e.takv) } if (null != e.track) { if ("object" !== typeof e.track) throw TypeError(".saemaps.commoncommo.protobuf.v1.Detail.track: object expected"); t.track = ne.saemaps.commoncommo.protobuf.v1.Track.fromObject(e.track) } return t }, e.toObject = function (e, t) { t || (t = {}); var r = {}; return t.defaults && (r.xmlDetail = "", r.contact = null, r.group = null, r.precisionLocation = null, r.status = null, r.takv = null, r.track = null), null != e.xmlDetail && e.hasOwnProperty("xmlDetail") && (r.xmlDetail = e.xmlDetail), null != e.contact && e.hasOwnProperty("contact") && (r.contact = ne.saemaps.commoncommo.protobuf.v1.Contact.toObject(e.contact, t)), null != e.group && e.hasOwnProperty("group") && (r.group = ne.saemaps.commoncommo.protobuf.v1.Group.toObject(e.group, t)), null != e.precisionLocation && e.hasOwnProperty("precisionLocation") && (r.precisionLocation = ne.saemaps.commoncommo.protobuf.v1.PrecisionLocation.toObject(e.precisionLocation, t)), null != e.status && e.hasOwnProperty("status") && (r.status = ne.saemaps.commoncommo.protobuf.v1.Status.toObject(e.status, t)), null != e.takv && e.hasOwnProperty("takv") && (r.takv = ne.saemaps.commoncommo.protobuf.v1.Takv.toObject(e.takv, t)), null != e.track && e.hasOwnProperty("track") && (r.track = ne.saemaps.commoncommo.protobuf.v1.Track.toObject(e.track, t)), r }, e.prototype.toJSON = function () { return this.constructor.toObject(this, $.util.toJSONOptions) }, e }(), e.Group = function () { function e(e) { if (e) for (var t = Object.keys(e), r = 0; r < t.length; ++r)null != e[t[r]] && (this[t[r]] = e[t[r]]) } return e.prototype.name = "", e.prototype.role = "", e.create = function (t) { return new e(t) }, e.encode = function (e, t) { return t || (t = te.create()), null != e.name && Object.hasOwnProperty.call(e, "name") && t.uint32(10).string(e.name), null != e.role && Object.hasOwnProperty.call(e, "role") && t.uint32(18).string(e.role), t }, e.encodeDelimited = function (e, t) { return this.encode(e, t).ldelim() }, e.decode = function (e, t) { e instanceof ee || (e = ee.create(e)); for (var r = void 0 === t ? e.len : e.pos + t, n = new ne.saemaps.commoncommo.protobuf.v1.Group; e.pos < r;) { var a = e.uint32(); switch (a >>> 3) { case 1: n.name = e.string(); break; case 2: n.role = e.string(); break; default: e.skipType(7 & a) } } return n }, e.decodeDelimited = function (e) { return e instanceof ee || (e = new ee(e)), this.decode(e, e.uint32()) }, e.verify = function (e) { return "object" !== typeof e || null === e ? "object expected" : null != e.name && e.hasOwnProperty("name") && !re.isString(e.name) ? "name: string expected" : null != e.role && e.hasOwnProperty("role") && !re.isString(e.role) ? "role: string expected" : null }, e.fromObject = function (e) { if (e instanceof ne.saemaps.commoncommo.protobuf.v1.Group) return e; var t = new ne.saemaps.commoncommo.protobuf.v1.Group; return null != e.name && (t.name = String(e.name)), null != e.role && (t.role = String(e.role)), t }, e.toObject = function (e, t) { t || (t = {}); var r = {}; return t.defaults && (r.name = "", r.role = ""), null != e.name && e.hasOwnProperty("name") && (r.name = e.name), null != e.role && e.hasOwnProperty("role") && (r.role = e.role), r }, e.prototype.toJSON = function () { return this.constructor.toObject(this, $.util.toJSONOptions) }, e }(), e.PrecisionLocation = function () { function e(e) { if (e) for (var t = Object.keys(e), r = 0; r < t.length; ++r)null != e[t[r]] && (this[t[r]] = e[t[r]]) } return e.prototype.geopointsrc = "", e.prototype.altsrc = "", e.create = function (t) { return new e(t) }, e.encode = function (e, t) { return t || (t = te.create()), null != e.geopointsrc && Object.hasOwnProperty.call(e, "geopointsrc") && t.uint32(10).string(e.geopointsrc), null != e.altsrc && Object.hasOwnProperty.call(e, "altsrc") && t.uint32(18).string(e.altsrc), t }, e.encodeDelimited = function (e, t) { return this.encode(e, t).ldelim() }, e.decode = function (e, t) { e instanceof ee || (e = ee.create(e)); for (var r = void 0 === t ? e.len : e.pos + t, n = new ne.saemaps.commoncommo.protobuf.v1.PrecisionLocation; e.pos < r;) { var a = e.uint32(); switch (a >>> 3) { case 1: n.geopointsrc = e.string(); break; case 2: n.altsrc = e.string(); break; default: e.skipType(7 & a) } } return n }, e.decodeDelimited = function (e) { return e instanceof ee || (e = new ee(e)), this.decode(e, e.uint32()) }, e.verify = function (e) { return "object" !== typeof e || null === e ? "object expected" : null != e.geopointsrc && e.hasOwnProperty("geopointsrc") && !re.isString(e.geopointsrc) ? "geopointsrc: string expected" : null != e.altsrc && e.hasOwnProperty("altsrc") && !re.isString(e.altsrc) ? "altsrc: string expected" : null }, e.fromObject = function (e) { if (e instanceof ne.saemaps.commoncommo.protobuf.v1.PrecisionLocation) return e; var t = new ne.saemaps.commoncommo.protobuf.v1.PrecisionLocation; return null != e.geopointsrc && (t.geopointsrc = String(e.geopointsrc)), null != e.altsrc && (t.altsrc = String(e.altsrc)), t }, e.toObject = function (e, t) { t || (t = {}); var r = {}; return t.defaults && (r.geopointsrc = "", r.altsrc = ""), null != e.geopointsrc && e.hasOwnProperty("geopointsrc") && (r.geopointsrc = e.geopointsrc), null != e.altsrc && e.hasOwnProperty("altsrc") && (r.altsrc = e.altsrc), r }, e.prototype.toJSON = function () { return this.constructor.toObject(this, $.util.toJSONOptions) }, e }(), e.Status = function () { function e(e) { if (e) for (var t = Object.keys(e), r = 0; r < t.length; ++r)null != e[t[r]] && (this[t[r]] = e[t[r]]) } return e.prototype.battery = 0, e.create = function (t) { return new e(t) }, e.encode = function (e, t) { return t || (t = te.create()), null != e.battery && Object.hasOwnProperty.call(e, "battery") && t.uint32(8).uint32(e.battery), t }, e.encodeDelimited = function (e, t) { return this.encode(e, t).ldelim() }, e.decode = function (e, t) { e instanceof ee || (e = ee.create(e)); for (var r = void 0 === t ? e.len : e.pos + t, n = new ne.saemaps.commoncommo.protobuf.v1.Status; e.pos < r;) { var a = e.uint32(); switch (a >>> 3) { case 1: n.battery = e.uint32(); break; default: e.skipType(7 & a) } } return n }, e.decodeDelimited = function (e) { return e instanceof ee || (e = new ee(e)), this.decode(e, e.uint32()) }, e.verify = function (e) { return "object" !== typeof e || null === e ? "object expected" : null != e.battery && e.hasOwnProperty("battery") && !re.isInteger(e.battery) ? "battery: integer expected" : null }, e.fromObject = function (e) { if (e instanceof ne.saemaps.commoncommo.protobuf.v1.Status) return e; var t = new ne.saemaps.commoncommo.protobuf.v1.Status; return null != e.battery && (t.battery = e.battery >>> 0), t }, e.toObject = function (e, t) { t || (t = {}); var r = {}; return t.defaults && (r.battery = 0), null != e.battery && e.hasOwnProperty("battery") && (r.battery = e.battery), r }, e.prototype.toJSON = function () { return this.constructor.toObject(this, $.util.toJSONOptions) }, e }(), e.Takv = function () { function e(e) { if (e) for (var t = Object.keys(e), r = 0; r < t.length; ++r)null != e[t[r]] && (this[t[r]] = e[t[r]]) } return e.prototype.device = "", e.prototype.platform = "", e.prototype.os = "", e.prototype.version = "", e.create = function (t) { return new e(t) }, e.encode = function (e, t) { return t || (t = te.create()), null != e.device && Object.hasOwnProperty.call(e, "device") && t.uint32(10).string(e.device), null != e.platform && Object.hasOwnProperty.call(e, "platform") && t.uint32(18).string(e.platform), null != e.os && Object.hasOwnProperty.call(e, "os") && t.uint32(26).string(e.os), null != e.version && Object.hasOwnProperty.call(e, "version") && t.uint32(34).string(e.version), t }, e.encodeDelimited = function (e, t) { return this.encode(e, t).ldelim() }, e.decode = function (e, t) { e instanceof ee || (e = ee.create(e)); for (var r = void 0 === t ? e.len : e.pos + t, n = new ne.saemaps.commoncommo.protobuf.v1.Takv; e.pos < r;) { var a = e.uint32(); switch (a >>> 3) { case 1: n.device = e.string(); break; case 2: n.platform = e.string(); break; case 3: n.os = e.string(); break; case 4: n.version = e.string(); break; default: e.skipType(7 & a) } } return n }, e.decodeDelimited = function (e) { return e instanceof ee || (e = new ee(e)), this.decode(e, e.uint32()) }, e.verify = function (e) { return "object" !== typeof e || null === e ? "object expected" : null != e.device && e.hasOwnProperty("device") && !re.isString(e.device) ? "device: string expected" : null != e.platform && e.hasOwnProperty("platform") && !re.isString(e.platform) ? "platform: string expected" : null != e.os && e.hasOwnProperty("os") && !re.isString(e.os) ? "os: string expected" : null != e.version && e.hasOwnProperty("version") && !re.isString(e.version) ? "version: string expected" : null }, e.fromObject = function (e) { if (e instanceof ne.saemaps.commoncommo.protobuf.v1.Takv) return e; var t = new ne.saemaps.commoncommo.protobuf.v1.Takv; return null != e.device && (t.device = String(e.device)), null != e.platform && (t.platform = String(e.platform)), null != e.os && (t.os = String(e.os)), null != e.version && (t.version = String(e.version)), t }, e.toObject = function (e, t) { t || (t = {}); var r = {}; return t.defaults && (r.device = "", r.platform = "", r.os = "", r.version = ""), null != e.device && e.hasOwnProperty("device") && (r.device = e.device), null != e.platform && e.hasOwnProperty("platform") && (r.platform = e.platform), null != e.os && e.hasOwnProperty("os") && (r.os = e.os), null != e.version && e.hasOwnProperty("version") && (r.version = e.version), r }, e.prototype.toJSON = function () { return this.constructor.toObject(this, $.util.toJSONOptions) }, e }(), e.Track = function () { function e(e) { if (e) for (var t = Object.keys(e), r = 0; r < t.length; ++r)null != e[t[r]] && (this[t[r]] = e[t[r]]) } return e.prototype.speed = 0, e.prototype.course = 0, e.create = function (t) { return new e(t) }, e.encode = function (e, t) { return t || (t = te.create()), null != e.speed && Object.hasOwnProperty.call(e, "speed") && t.uint32(9).double(e.speed), null != e.course && Object.hasOwnProperty.call(e, "course") && t.uint32(17).double(e.course), t }, e.encodeDelimited = function (e, t) { return this.encode(e, t).ldelim() }, e.decode = function (e, t) { e instanceof ee || (e = ee.create(e)); for (var r = void 0 === t ? e.len : e.pos + t, n = new ne.saemaps.commoncommo.protobuf.v1.Track; e.pos < r;) { var a = e.uint32(); switch (a >>> 3) { case 1: n.speed = e.double(); break; case 2: n.course = e.double(); break; default: e.skipType(7 & a) } } return n }, e.decodeDelimited = function (e) { return e instanceof ee || (e = new ee(e)), this.decode(e, e.uint32()) }, e.verify = function (e) { return "object" !== typeof e || null === e ? "object expected" : null != e.speed && e.hasOwnProperty("speed") && "number" !== typeof e.speed ? "speed: number expected" : null != e.course && e.hasOwnProperty("course") && "number" !== typeof e.course ? "course: number expected" : null }, e.fromObject = function (e) { if (e instanceof ne.saemaps.commoncommo.protobuf.v1.Track) return e; var t = new ne.saemaps.commoncommo.protobuf.v1.Track; return null != e.speed && (t.speed = Number(e.speed)), null != e.course && (t.course = Number(e.course)), t }, e.toObject = function (e, t) { t || (t = {}); var r = {}; return t.defaults && (r.speed = 0, r.course = 0), null != e.speed && e.hasOwnProperty("speed") && (r.speed = t.json && !isFinite(e.speed) ? String(e.speed) : e.speed), null != e.course && e.hasOwnProperty("course") && (r.course = t.json && !isFinite(e.course) ? String(e.course) : e.course), r }, e.prototype.toJSON = function () { return this.constructor.toObject(this, $.util.toJSONOptions) }, e }(), e.TakControl = function () { function e(e) { if (e) for (var t = Object.keys(e), r = 0; r < t.length; ++r)null != e[t[r]] && (this[t[r]] = e[t[r]]) } return e.prototype.minProtoVersion = 0, e.prototype.maxProtoVersion = 0, e.create = function (t) { return new e(t) }, e.encode = function (e, t) { return t || (t = te.create()), null != e.minProtoVersion && Object.hasOwnProperty.call(e, "minProtoVersion") && t.uint32(8).uint32(e.minProtoVersion), null != e.maxProtoVersion && Object.hasOwnProperty.call(e, "maxProtoVersion") && t.uint32(16).uint32(e.maxProtoVersion), t }, e.encodeDelimited = function (e, t) { return this.encode(e, t).ldelim() }, e.decode = function (e, t) { e instanceof ee || (e = ee.create(e)); for (var r = void 0 === t ? e.len : e.pos + t, n = new ne.saemaps.commoncommo.protobuf.v1.TakControl; e.pos < r;) { var a = e.uint32(); switch (a >>> 3) { case 1: n.minProtoVersion = e.uint32(); break; case 2: n.maxProtoVersion = e.uint32(); break; default: e.skipType(7 & a) } } return n }, e.decodeDelimited = function (e) { return e instanceof ee || (e = new ee(e)), this.decode(e, e.uint32()) }, e.verify = function (e) { return "object" !== typeof e || null === e ? "object expected" : null != e.minProtoVersion && e.hasOwnProperty("minProtoVersion") && !re.isInteger(e.minProtoVersion) ? "minProtoVersion: integer expected" : null != e.maxProtoVersion && e.hasOwnProperty("maxProtoVersion") && !re.isInteger(e.maxProtoVersion) ? "maxProtoVersion: integer expected" : null }, e.fromObject = function (e) { if (e instanceof ne.saemaps.commoncommo.protobuf.v1.TakControl) return e; var t = new ne.saemaps.commoncommo.protobuf.v1.TakControl; return null != e.minProtoVersion && (t.minProtoVersion = e.minProtoVersion >>> 0), null != e.maxProtoVersion && (t.maxProtoVersion = e.maxProtoVersion >>> 0), t }, e.toObject = function (e, t) { t || (t = {}); var r = {}; return t.defaults && (r.minProtoVersion = 0, r.maxProtoVersion = 0), null != e.minProtoVersion && e.hasOwnProperty("minProtoVersion") && (r.minProtoVersion = e.minProtoVersion), null != e.maxProtoVersion && e.hasOwnProperty("maxProtoVersion") && (r.maxProtoVersion = e.maxProtoVersion), r }, e.prototype.toJSON = function () { return this.constructor.toObject(this, $.util.toJSONOptions) }, e }(), e.TakMessage = function () { function e(e) { if (e) for (var t = Object.keys(e), r = 0; r < t.length; ++r)null != e[t[r]] && (this[t[r]] = e[t[r]]) } return e.prototype.takControl = null, e.prototype.cotEvent = null, e.create = function (t) { return new e(t) }, e.encode = function (e, t) { return t || (t = te.create()), null != e.takControl && Object.hasOwnProperty.call(e, "takControl") && ne.saemaps.commoncommo.protobuf.v1.TakControl.encode(e.takControl, t.uint32(10).fork()).ldelim(), null != e.cotEvent && Object.hasOwnProperty.call(e, "cotEvent") && ne.saemaps.commoncommo.protobuf.v1.CotEvent.encode(e.cotEvent, t.uint32(18).fork()).ldelim(), t }, e.encodeDelimited = function (e, t) { return this.encode(e, t).ldelim() }, e.decode = function (e, t) { e instanceof ee || (e = ee.create(e)); for (var r = void 0 === t ? e.len : e.pos + t, n = new ne.saemaps.commoncommo.protobuf.v1.TakMessage; e.pos < r;) { var a = e.uint32(); switch (a >>> 3) { case 1: n.takControl = ne.saemaps.commoncommo.protobuf.v1.TakControl.decode(e, e.uint32()); break; case 2: n.cotEvent = ne.saemaps.commoncommo.protobuf.v1.CotEvent.decode(e, e.uint32()); break; default: e.skipType(7 & a) } } return n }, e.decodeDelimited = function (e) { return e instanceof ee || (e = new ee(e)), this.decode(e, e.uint32()) }, e.verify = function (e) { if ("object" !== typeof e || null === e) return "object expected"; if (null != e.takControl && e.hasOwnProperty("takControl")) { var t = ne.saemaps.commoncommo.protobuf.v1.TakControl.verify(e.takControl); if (t) return "takControl." + t } if (null != e.cotEvent && e.hasOwnProperty("cotEvent")) { var r = ne.saemaps.commoncommo.protobuf.v1.CotEvent.verify(e.cotEvent); if (r) return "cotEvent." + r } return null }, e.fromObject = function (e) { if (e instanceof ne.saemaps.commoncommo.protobuf.v1.TakMessage) return e; var t = new ne.saemaps.commoncommo.protobuf.v1.TakMessage; if (null != e.takControl) { if ("object" !== typeof e.takControl) throw TypeError(".saemaps.commoncommo.protobuf.v1.TakMessage.takControl: object expected"); t.takControl = ne.saemaps.commoncommo.protobuf.v1.TakControl.fromObject(e.takControl) } if (null != e.cotEvent) { if ("object" !== typeof e.cotEvent) throw TypeError(".saemaps.commoncommo.protobuf.v1.TakMessage.cotEvent: object expected"); t.cotEvent = ne.saemaps.commoncommo.protobuf.v1.CotEvent.fromObject(e.cotEvent) } return t }, e.toObject = function (e, t) { t || (t = {}); var r = {}; return t.defaults && (r.takControl = null, r.cotEvent = null), null != e.takControl && e.hasOwnProperty("takControl") && (r.takControl = ne.saemaps.commoncommo.protobuf.v1.TakControl.toObject(e.takControl, t)), null != e.cotEvent && e.hasOwnProperty("cotEvent") && (r.cotEvent = ne.saemaps.commoncommo.protobuf.v1.CotEvent.toObject(e.cotEvent, t)), r }, e.prototype.toJSON = function () { return this.constructor.toObject(this, $.util.toJSONOptions) }, e }(), e }(), e }(), e }(), e }(), ne.saemaps.commoncommo.protobuf.v1.TakMessage; function ae(e) { return !!e && null === e.xmlDetail && (null === e.xml || "object" === typeof e.xml) } function oe(e) { return !!e && null === ne.saemaps.commoncommo.protobuf.v1.CotEvent.verify(e) && (null === e.detail || ae(e.detail)) } function ie(e) { return Array.isArray(e) && 4 === e.length && Object(L.isCoordinate)([e[0], e[1]]) && Object(L.isCoordinate)([e[2], e[3]]) } function ce(e) { return Object(L.isNumber)(e) && e >= 0 && e <= 28 } function se(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var ue, le = { center: new Q, name: "", zoom: 0, uid: Object(L.uuid)() }, fe = Object(q.Record)(le), de = (Object.prototype.hasOwnProperty, function (e) { Object(k.a)(r, e); var t = se(r); function r(e) { if (Object(T.a)(this, r), !Object(L.validate)([L.isNonEmptyString], e.name)) throw new X("AreaOfInterest constructor", "props.name", "non-empty AOI name"); if (!Object(L.validate)([ce], e.zoom)) throw new X("AreaOfInterest constructor", "props.zoom", "zoom level"); return t.call(this, { name: e.name, center: Object(L.safeConstruct)(Q, e.center), zoom: e.zoom, uid: e.uid || Object(L.uuid)() }) } return Object(j.a)(r, [{ key: "toLonLat", value: function () { return this.center.toLonLat() } }, { key: "toLatLon", value: function () { return this.center.toLatLon() } }]), r }(fe)); function pe(e) { var t = e.uid ? Object(P.a)({}, e) : Object(P.a)({}, e, { uid: Object(L.uuid)() }); return { type: ue.CREATE_AOI, payload: Object(L.safeConstruct)(de, t) } } function me(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } !function (e) { e.CREATE_AOI = "aoi/CREATE_AOI", e.REMOVE_AOI = "aoi/REMOVE_AOI", e.EDIT_AOI = "aoi/EDIT_AOI", e.SET_AOI_BUTTON = "aoi/SET_AOI_BUTTON" }(ue || (ue = {})); var he, ve = { aois: Object(q.List)(), displayButton: !0 }, ge = function (e) { Object(k.a)(r, e); var t = me(r); function r() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; return Object(T.a)(this, r), t.call(this, { aois: Object(L.safeListConstruct)(de, e.aois) }) } return Object(j.a)(r, [{ key: "getAll", value: function () { return this.aois } }, { key: "hasAOI", value: function (e) { return this.aois.some(function (t) { return t.uid === e.uid }) } }, { key: "getAOI", value: function (e) { var t = this.aois.find(function (t) { return t.name === e }); if (!t) throw new Error('AOIState.getAOI Cannot retrieve unknown AOI with name "'.concat(e, '".')); return t } }, { key: "addAOI", value: function (e) { if (this.hasAOI(e)) throw new Error('AOIState.addAOI Cannot add duplicate AOI id with name "'.concat(e.name, '".')); return this.set("aois", this.aois.push(e)) } }, { key: "removeAOI", value: function (e) { if (!this.hasAOI(e)) throw new Error('AOIState.removeAOI Cannot remove unknown AOI with name "'.concat(e.name, '".')); return this.set("aois", this.aois.filter(function (t) { return t.uid !== e.uid })) } }, { key: "editAOI", value: function (e) { var t = this.aois.findIndex(function (t) { return e.uid === t.uid }); if (-1 === t) throw new Error('AOIState.editAOI Cannot edit unknown AOI with name "'.concat(e.name, '".')); return this.setIn(["aois", t], e) } }, { key: "setDisplayButton", value: function (e) { return this.set("displayButton", e) } }]), r }(Object(q.Record)(ve)), be = G(V(h.AOI, function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; return new ge(e) }), ue, function (e, t) { switch (t.type) { case ue.CREATE_AOI: return e.addAOI(t.payload); case ue.REMOVE_AOI: return e.removeAOI(t.payload); case ue.EDIT_AOI: return e.editAOI(t.payload.aoi); case ue.SET_AOI_BUTTON: return e.setDisplayButton(t.payload.displayValue) }return x(t) }, h.AOI); function ye(e) { var t = [].concat(e), r = [], n = 0; return t.forEach(function (e) { oe(e) ? r.push(e) : (console.warn("loadMessages Skipping invalid CotEvent:", e), n++) }), { type: he.LOAD_MESSAGES, payload: r, meta: { invalidMessageCount: n } } } function Ee(e) { var t = [].concat(e), r = [], n = 0; return t.forEach(function (e) { oe(e) ? r.push(e) : (console.warn("removeMessages Skipping invalid CotEvent:", e), n++) }), { type: he.REMOVE_MESSAGES, payload: r, meta: { invalidMessageCount: n } } } !function (e) { e.RECEIVE_MESSAGES = "common/RECEIVE_MESSAGES", e.LOAD_MESSAGES = "common/LOAD_MESSAGES", e.REMOVE_MESSAGES = "common/REMOVE_MESSAGES" }(he || (he = {})); var Oe = r(164); function Se(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var we = Object(q.Record)({ isIndividual: !1, identifier: "__placeholder__", type: "custom" }), Ae = function (e) { return !!e.length }, Ce = function (e) { Object(k.a)(r, e); var t = Se(r); function r(e) { if (Object(T.a)(this, r), !Object(L.validate)([L.isString, Ae], e.type)) throw new X("Address", "type", "address type"); return t.call(this, Object(P.a)({}, e)) } return Object(j.a)(r, [{ key: "hasType", value: function (e) { return this.type === e } }, { key: "toString", value: function () { return "".concat(this.type, ":").concat(this.identifier) } }]), r }(we), Te = r(227); Object.prototype.hasOwnProperty; function je(e) { return !!e && Object(L.isBool)(e.isIndividual) && Object(L.isString)(e.type) && Object(L.isString)(e.identifier) && function (e) { if ("string" !== typeof e || !e.length) return !1; var t = e.split(":"), r = Object(Te.a)(t), n = r[0], a = r.slice(1); return !(!n.length || !a.length) && !!a.join("").length }("".concat(e.type, ":").concat(e.identifier)) } function ke(e) { return !!e && function (e) { return "string" === typeof e && !!e.length }(e.name) && je(e.address) } function Re(e) { return !!e && (Object(L.isString)(e.body) || Object(L.isNumber)(e.body)) && Object(L.isString)(e.id) && Object(L.isNumber)(e.timestamp) && Object(L.isPoint)(e.location) && je(e.address) && je(e.from) } function Ne() { var e = localStorage.getItem(h.UID); if (null == e || e.length < 10) { var t = Object(L.uuid)(); return localStorage.setItem(h.UID, t), t } return e } var Le = new Ce({ isIndividual: !0, identifier: "__placeholder__", type: v.UID }), _e = {}; Object.values(v); function Ie() { return Me({ isIndividual: !0, type: v.UID, identifier: Ne() }) } function Me(e) { var t, r, n; if ("undefined" === typeof e) return Le; if (e instanceof Ce) return e; if (!Object(L.validate)([je], e)) throw new X("create", "constructor parameter", "address pair"); t = e.type, r = e.identifier, n = e.isIndividual, _e[t] || (_e[t] = {}); var a = _e[t]; return a[r] || (a[r] = new Ce({ type: t, identifier: r, isIndividual: n })), a[r] } function xe(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var De = { address: Me(), body: "", location: new Q, timestamp: Date.now() }, Pe = function (e) { Object(k.a)(r, e); var t = xe(r); function r(e) { Object(T.a)(this, r); var n = e.address, a = e.location, o = e.body, i = Object(Oe.a)(e, ["address", "location", "body"]), c = "undefined" === typeof i.timestamp ? Date.now() : Number(i.timestamp); if (!Object(L.isNumber)(c)) throw new X("DraftMessage", "props.timestamp", "unix millisecond timestamp"); if (!Object(L.isNonEmptyString)(o)) throw new X("DraftMessage", "props.body", "non-empty string"); return t.call(this, { body: o, timestamp: c, address: Me(n), location: Object(L.safeConstruct)(Q, a) }) } return Object(j.a)(r, [{ key: "getRawAddress", value: function () { return this.address.toString() } }]), r }(Object(q.Record)(De)); function Ue(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var Be, Fe = function (e) { Object(k.a)(r, e); var t = Ue(r); function r(e) { Object(T.a)(this, r); var n = Number(e.timestamp), a = Me(e.from), o = Me(e.address); if (!Re(e)) throw new X("Message", "props", "must be a valid IMessage"); return t.call(this, Object(P.a)({}, e, { timestamp: n, address: Me(o), from: Me(a), isClientMessage: Ie().equals(a), location: Object(L.safeConstruct)(Q, e.location) })) } return Object(j.a)(r, [{ key: "getRawAddress", value: function () { return this.address.toString() } }], [{ key: "fromDraftMessage", value: function (e) { return new r({ address: e.address, from: Ie(), body: e.body, id: Object(L.uuid)(), timestamp: e.timestamp, location: e.location }) } }]), r }(Object(q.Record)({ address: Me(), body: "", from: Me(), id: "", isClientMessage: !1, location: new Q, timestamp: Date.now() })); function Ve(e, t) { return { type: Be.RENEW_CONTACTS, payload: { contacts: [].concat(e).map(function (e) { var t = e.address; return { name: e.name, address: Me(t) } }), lastSeen: t } } } function He(e) { var t = [].concat(e), r = [], n = 0; return t.forEach(function (e) { Re(e) ? r.push(e) : (console.warn("loadMessages Skipping invalid CotEvent:", e), n++) }), { type: Be.LOAD_CHAT_MESSAGES, payload: t, meta: { invalidMessageCount: n } } } function Ge(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } !function (e) { e.LOAD_CONTACTS = "chat/LOAD_CONTACTS", e.LOAD_CHAT_MESSAGES = "chat/LOAD_CHAT_MESSAGES", e.RECEIVE_CHAT_MESSAGES = "chat/RECEIVE_CHAT_MESSAGES", e.RENEW_CONTACTS = "chat/RENEW_CONTACTS", e.REMOVE_PENDING_MESSAGES = "chat/REMOVE_PENDING_MESSAGES", e.SEND_MESSAGE = "chat/SEND_MESSAGE", e.MUTE_CONVERSATION = "chat/MUTE_CONVERSATION", e.UNMUTE_CONVERSATION = "chat/UNMUTE_CONVERSATION" }(Be || (Be = {})); var qe = function (e) { Object(k.a)(r, e); var t = Ge(r); function r(e) { if (Object(T.a)(this, r), !Object(L.validate)([ke], e)) throw new X("Contact", "constructor props", "INewContact"); return t.call(this, { address: Me(e.address), messages: Object(L.safeListConstruct)(Fe, e.messages), name: e.name }) } return Object(j.a)(r, [{ key: "addMessage", value: function (e) { return this.set("messages", this.messages.push(e)) } }, { key: "hasAddress", value: function (e) { return this.address.equals(e) } }, { key: "hasType", value: function (e) { return this.address.hasType(e) } }]), r }(Object(q.Record)({ address: Me(), messages: Object(q.List)(), name: "__placeholder__" })); function Ke(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var ze, Ye = { contacts: Object(q.List)(), lastSeenByAddress: Object(q.Map)(), pendingMessages: Object(q.List)(), unaddressableMessages: Object(q.Map)(), mutedConversations: Object(q.Set)(), chatMuted: !1 }, We = function (e) { Object(k.a)(r, e); var t = Ke(r); function r() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : Ye; Object(T.a)(this, r); var n = e.lastSeenByAddress.asMutable(); return e.contacts.forEach(function (e) { n.has(e.address) || n.set(e.address, 0) }), n = n.asImmutable(), t.call(this, Object(P.a)({}, e, { lastSeenByAddress: n })) } return Object(j.a)(r, [{ key: "hasContact", value: function (e) { return e instanceof qe ? this.contacts.includes(e) : this.contacts.some(function (t) { return t.hasAddress(e) }) } }, { key: "getContact", value: function (e) { var t = this.contacts.find(function (t) { return t.hasAddress(e) }); if (!t) throw new Error('ChatState.getContactByAddress cannot retrieve unknown address "'.concat(e.toString(), '".')); return t } }, { key: "getContacts", value: function () { return this.contacts } }, { key: "getLastSeen", value: function (e) { var t = e instanceof qe ? e.address : e; if (!this.lastSeenByAddress.has(t)) throw new Error('ChatState.getLastSeen cannot retrieve unknown address or contact "'.concat(e.toString(), '".')); return this.lastSeenByAddress.get(t) } }, { key: "confirmPendingMessages", value: function (e) { var t = this, r = [].concat(e); return this.withMutations(function (e) { var n = t.pendingMessages.filter(function (e) { return r.includes(e) }); n.forEach(function (t) { e.addMessage(Fe.fromDraftMessage(t)) }), e.set("pendingMessages", t.pendingMessages.filterNot(function (e) { return n.includes(e) })) }) } }, { key: "addContacts", value: function (e, t) { var r = [].concat(e), n = "undefined" === typeof t ? Date.now() : Number(t); if (!Object(L.isNumber)(n)) throw new X("ChatState.addContacts", "lastSeen", "unix millisecond timestamp"); return this.withMutations(function (e) { r.forEach(function (t) { var r = t.address, a = t.name; e.hasContact(r) || (e.set("contacts", e.contacts.push(new qe({ address: r, name: a }))), e.setIn(["lastSeenByAddress", r], n)) }), e.remapUnaddressedMessages() }) } }, { key: "renewContacts", value: function (e, t) { var r = [].concat(e), n = "undefined" === typeof t ? Date.now() : Number(t); if (!Object(L.isNumber)(n)) throw new X("ChatState.renewContacts", "lastSeen", "unix millisecond timestamp"); return this.withMutations(function (e) { r.forEach(function (t) { var r = t.address, a = t.name, o = e.contacts.findIndex(function (e) { return e.hasAddress(r) }); if (-1 === o) throw new Error("ChatState.renewContact cannot renew unknown contact ".concat(r.toString())); var i = e.getIn(["contacts", o]); a && i.name !== a && e.setIn(["contacts", o], i.set("name", a)), e.setIn(["lastSeenByAddress", r], n), e.remapUnaddressedMessages() }) }) } }, { key: "addMessage", value: function (e) { var t = Object(L.safeConstruct)(Fe, e); return this.withMutations(function (e) { var r = -1; if (-1 === (r = t.isClientMessage || !t.address.isIndividual ? e.contacts.findIndex(function (e) { return e.hasAddress(t.address) }) : e.contacts.findIndex(function (e) { return e.hasAddress(t.from) }))) e.addUnaddressableMessage(t); else { var n = e.contacts.get(r); e.setIn(["contacts", r], n.addMessage(t)) } }) } }, { key: "addPendingMessage", value: function (e) { return this.set("pendingMessages", this.pendingMessages.push(e)) } }, { key: "muteConversation", value: function (e) { return this.update("mutedConversations", function (t) { return t.add(e) }) } }, { key: "unMuteContervation", value: function (e) { return this.update("mutedConversations", function (t) { return t.remove(e) }) } }, { key: "addUnaddressableMessage", value: function (e) { return this.withMutations(function (t) { var r = e.isClientMessage ? ["unaddressableMessages", e.address] : ["unaddressableMessages", e.from]; t.hasIn(r) || t.setIn(r, Object(q.List)()), t.setIn(r, t.getIn(r).push(e)) }) } }, { key: "remapUnaddressedMessages", value: function () { return this.withMutations(function (e) { e.contacts.forEach(function (t, r) { var n = t.address, a = t.messages; if (e.unaddressableMessages.has(n)) { var o = e.unaddressableMessages.get(n); e.setIn(["contacts", r, "messages"], a.concat(o)), e.deleteIn(["unaddressableMessages", n]) } }) }) } }]), r }(Object(q.Record)(Ye)), Xe = r(10); !function (e) { e.ONLINE = "Online", e.AWAY = "Away", e.OFFLINE = "Offline" }(ze || (ze = {})); var Je = ["All Chat Rooms"], Ze = r(432); function Qe(e) { Ie(); var t = function (e) { if (!e || !e.detail || !e.detail.xml) return null; var t = e.detail.xml, r = t.__chat, n = t.remarks; if (r && n) return [r, n]; return null }(e); if (!t) return null; var r = t[1][L.XML_TEXT_KEY] || null; if (null === r) return null; var n = function (e) { var t = Object(Xe.a)(e, 2), r = t[0], n = t[1]; if (!r || !n) return null; var a = Ie(), o = r.chatgrp; if (!o) return null; var i = o[L.XML_ATTRIBUTE_KEY]; if (!i) return null; for (var c = Object.keys(i).filter(function (e) { return et.test(e) && Object(L.isNonEmptyString)(i[e]) && i[e] !== a.identifier }).map(function (e) { return i[e] }), s = null, u = 0; u < Je.length; u++) { var l = Je[u], f = c.indexOf(l); if (-1 !== f) { s = l, c.splice(f, 1); break } } if (!c.length) return null; var d = null === s ? a : Me({ isIndividual: !1, type: v.CHATROOM, identifier: s }); return [Me({ isIndividual: !0, type: v.UID, identifier: c[0] }), d] }(t); if (!n) return null; var a = t[1][L.XML_ATTRIBUTE_KEY], o = a && a.time ? new Date(a.time) : null; if (!o || !Object(Ze.a)(o)) return null; var i = Object(Xe.a)(n, 2), c = i[0], s = i[1]; return new Fe({ body: r, address: s, from: c, id: e.uid || Object(L.uuid)(), location: { lat: e.lat || 0, lon: e.lon || 0 }, timestamp: o.getTime() }) } function $e(e) { if (!e.uid || !e.detail) return null; var t = e.detail.group; if (!t || !t.name || !t.role) return null; var r = function (e) { if (!e) return null; var t, r = e.contact; if (r) t = r; else { var n = e.xml; if (!n) return null; var a = n.contact; if (!a) return null; var o = a[L.XML_ATTRIBUTE_KEY]; if (!o) return null; t = o } return Object(L.isNonEmptyString)(t.callsign) && Object(L.isNonEmptyString)(t.endpoint) ? { callsign: t.callsign, endpoint: t.endpoint } : null }(e.detail); return r ? { address: Me({ isIndividual: !0, type: v.UID, identifier: e.uid }), name: r.callsign } : null } var et = /^uid[0-9]+$/; function tt(e, t) { var r = "undefined" !== typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (!r) { if (Array.isArray(e) || (r = function (e, t) { if (!e) return; if ("string" === typeof e) return rt(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); "Object" === r && e.constructor && (r = e.constructor.name); if ("Map" === r || "Set" === r) return Array.from(e); if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return rt(e, t) }(e)) || t && e && "number" === typeof e.length) { r && (e = r); var n = 0, a = function () { }; return { s: a, n: function () { return n >= e.length ? { done: !0 } : { done: !1, value: e[n++] } }, e: function (e) { throw e }, f: a } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var o, i = !0, c = !1; return { s: function () { r = r.call(e) }, n: function () { var e = r.next(); return i = e.done, e }, e: function (e) { c = !0, o = e }, f: function () { try { i || null == r.return || r.return() } finally { if (c) throw o } } } } function rt(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } var nt = G(new We, [Be, he.RECEIVE_MESSAGES, he.LOAD_MESSAGES], function (e, t) { switch (t.type) { case Be.REMOVE_PENDING_MESSAGES: return e.confirmPendingMessages(t.payload); case Be.SEND_MESSAGE: return e.addPendingMessage(t.payload); case Be.LOAD_CONTACTS: return e.addContacts(t.payload.contacts, t.payload.lastSeen); case Be.RENEW_CONTACTS: return e.renewContacts(t.payload.contacts, t.payload.lastSeen); case Be.RECEIVE_CHAT_MESSAGES: case Be.LOAD_CHAT_MESSAGES: return e.withMutations(function (e) { t.payload.forEach(function (t) { e.addMessage(t) }) }); case Be.MUTE_CONVERSATION: return e.muteConversation(t.payload); case Be.UNMUTE_CONVERSATION: return e.unMuteContervation(t.payload); case he.LOAD_MESSAGES: case he.RECEIVE_MESSAGES: return e.withMutations(function (e) { var r, n = Ie(), a = tt(t.payload); try { for (a.s(); !(r = a.n()).done;) { var o = r.value, i = $e(o); i && !i.address.equals(n) && (e.hasContact(i.address) ? e.renewContacts(i, o.sendTime) : e.addContacts(i, o.sendTime)) } } catch (c) { a.e(c) } finally { a.f() } }) }return x(t) }), at = Object(q.List)(), ot = Object.values(A), it = function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : at, t = arguments.length > 1 ? arguments[1] : void 0; if (t.error instanceof Error) return e.push(t.error); if (!function (e) { return ot.includes(e.type) }(t)) return e; switch (t.type) { case A.ADD_ERROR: if (!(t.payload instanceof Error)) throw new TypeError("ADD_ERROR payload must be instanceof Error."); return e.push(t.payload); case A.DISMISS_ERROR: if (!(t.payload instanceof Error)) throw new TypeError("DISMISS_ERROR payload must be instanceof Error."); return e.filterNot(function (e) { return e === t.payload }); case A.CLEAR_ERRORS: return Object(q.List)() }return x(t) }, ct = r(34); function st(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var ut = { events: Object(q.List)(), eventIndexByUid: Object(q.Map)() }, lt = new (function (e) { Object(k.a)(r, e); var t = st(r); function r(e) { return Object(T.a)(this, r), t.call(this, { events: Object(q.List)(), eventIndexByUid: Object(q.Map)() }) } return Object(j.a)(r, [{ key: "getEvents", value: function () { return this.events } }, { key: "hasEventByUid", value: function (e) { return this.eventIndexByUid.has(e) } }, { key: "hasEvent", value: function (e) { return this.events.includes(e) } }, { key: "getEventByUid", value: function (e) { var t = this.getEventIndexByUid(e); if (-1 === t) throw new Error('EventsState.getEventByUid Cannot retrieve unknown uid "'.concat(e, '".')); var r = this.events.get(t); if (!r) throw new Error('EventsState.getEventByUid Model is in an invalid state, uid "'.concat(e, '" exists but the event is missing.')); return r } }, { key: "addEvents", value: function (e) { var t, r = this; if (e instanceof ct.CotEvent || Array.isArray(e)) t = Object(q.List)([].concat(e)); else { if (!q.List.isList(e)) throw new Error("EventsState.addEvents Must provide at least one event, an Array, or an IList of events to add."); t = e } return t.count() ? this.withMutations(function (e) { var n = e.events.count(), a = e.events.asMutable(), o = e.eventIndexByUid.asMutable(), i = 0; t.forEach(function (e) { if (r.hasEventByUid(e.uid)) { var t = o.get(e.uid); a.set(t, e) } else a.push(e), o.set(e.uid, n + i), i++ }), a.wasAltered() && e.set("events", a.asImmutable()), o.wasAltered() && e.set("eventIndexByUid", o.asImmutable()) }) : this } }, { key: "removeEvents", value: function (e) { var t, r = this; if (e instanceof ct.CotEvent || Array.isArray(e)) t = Object(q.List)([].concat(e)); else { if (!q.List.isList(e)) throw new Error("EventsState.removeEvents Must provide at least one event, an Array, or an IList of events to remove."); t = e } if (!t.count()) return this; var n = {}; return t.forEach(function (e) { n[e.uid] = !0 }), this.withMutations(function (e) { var t = {}, a = [], o = 0; r.events.forEach(function (e) { var r = e.uid; n[r] || (a.push(e), t[r] = o++) }), e.set("events", Object(q.List)(a)), e.set("eventIndexByUid", Object(q.Map)(t)) }) } }, { key: "getEventIndexByUid", value: function (e) { return this.hasEventByUid(e) ? this.eventIndexByUid.get(e) : -1 } }]), r }(Object(q.Record)(ut)))({}), ft = Object(L.isEnumMember)(he), dt = function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : lt, t = arguments.length > 1 ? arguments[1] : void 0; if (!function (e) { return ft(e.type) }(t) || !t.payload.length) return e; switch (t.type) { case he.LOAD_MESSAGES: case he.RECEIVE_MESSAGES: return e.addEvents(t.payload.map(function (e) { var t = isNaN(e.le) ? 99999 : e.le, r = isNaN(e.hae) ? 99999 : e.hae, n = isNaN(e.ce) ? 99999 : e.ce; return e instanceof ct.CotEvent ? e : new ct.CotEvent(Object(P.a)({}, e, { detail: e.detail ? Object(L.safeConstruct)(ct.CotEventDetail, e.detail) : null, le: t, hae: r, ce: n })) })); case he.REMOVE_MESSAGES: return e.removeEvents(t.payload.map(function (e) { return e instanceof ct.CotEvent ? e : new ct.CotEvent(Object(P.a)({}, e, { detail: e.detail ? Object(L.safeConstruct)(ct.CotEventDetail, e.detail) : null })) })) }return x(t) }; function pt(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var mt, ht = Object(L.isEnumMember)(b), vt = { id: "__placeholder__", details: Object(q.Map)(), duration: 5e3, channel: "__placeholder__", headerTitle: "__placeholder__", headerIcon: void 0, headerText: void 0, contentTitle: "__placeholder__", contentText: "__placeholder__", type: b.DEFAULT, actions: Object(q.List)([]), hyperlink: void 0, timestamp: Date.now(), dismissed: !1, persistent: !1 }, gt = function (e) { Object(k.a)(r, e); var t = pt(r); function r(e) { if (Object(T.a)(this, r), !Object(L.validate)([ht], e.type)) throw new X("Notification constructor", "props.type", "NotificationType"); if (!Object(L.validate)([L.isValidDuration], e.duration)) throw new X("Notification constructor", "props.duration", "numeric duration"); if (!Object(L.validate)([L.isString], e.channel)) throw new X("Notification constructor", "props.channel", "channel"); return t.call(this, Object(P.a)({}, e, { details: Object(q.Map)(e.details || {}), actions: Object(q.List)(e.actions || []), hyperlink: e.hyperlink || void 0 })) } return r }(Object(q.Record)(vt)); !function (e) { e.ADD_NOTIFICATION = "notifications/ADD_NOTIFICATION", e.REMOVE_NOTIFICATION = "notifications/REMOVE_NOTIFICATION", e.CLEAR_NOTIFICATIONS = "notifications/CLEAR_NOTIFICATIONS", e.DISMISS_NOTIFICATION = "notifications/DISMISS_NOTIFICATION" }(mt || (mt = {})); var bt, yt = G(V(h.NOTIFICATIONS, function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []; return Object(q.List)(e.map(function (e) { return new gt(e) })) }), mt, function (e, t) { switch (t.type) { case mt.ADD_NOTIFICATION: var r = Object(L.safeConstruct)(gt, t.payload); return e.some(function (e) { return e.id === r.id }) ? e : e.push(r); case mt.DISMISS_NOTIFICATION: var n = e.findIndex(function (e) { return e.id === t.payload }); return n > -1 ? e.update(n, function (e) { return e.set("dismissed", !0) }) : e; case mt.REMOVE_NOTIFICATION: var a = e.indexOf(t.payload); return -1 === a ? e : e.delete(a); case mt.CLEAR_NOTIFICATIONS: return Object(q.List)() }return x(t) }, h.NOTIFICATIONS, function (e) { return e.filter(function (e) { return e.persistent }).toJS() }); function Et(e) { return { type: bt.SET_MAP_MODE, payload: e } } function Ot(e) { return { type: bt.SET_LOCKED_ITEM, payload: e } } !function (e) { e.SET_MAP_MODE = "map/SET_MAP_MODE", e.SET_SHOW_STALE = "map/SET_SHOW_STALE", e.SET_POSITION = "map/SET_POSITION", e.SET_LOCKED_ITEM = "map/SET_LOCKED_ITEM" }(bt || (bt = {})); var St, wt = r(185); function At(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } !function (e) { e.DEFAULT = "DEFAULT", e.EXCLUSIVE = "EXCLUSIVE", e.SELECT = "SELECT" }(St || (St = {})); var Ct = { center: [-98.5795, 39.8283], zoom: 5, pointerLocation: [0, 0], mapMode: St.DEFAULT, lockedTo: void 0 }, Tt = function (e) { Object(k.a)(r, e); var t = At(r); function r(e) { Object(T.a)(this, r); var n = e.pointerLocation || [0, 0]; return t.call(this, { pointerLocation: n, center: e.center, zoom: e.zoom, lockedTo: e.lockedTo }) } return Object(j.a)(r, [{ key: "setPosition", value: function (e, t) { return this.set("center", Object(D.a)(e)).set("zoom", t) } }, { key: "setMapMode", value: function (e) { return this.set("mapMode", e) } }, { key: "isExclusive", value: function () { return this.mapMode === St.EXCLUSIVE } }]), r }(Object(q.Record)(Ct)), jt = G(V(h.MAP_POSITION, function (e) { if (!e) return new Tt({}); var t, r = e.center, n = e.zoom; if (!Object(L.isNumber)(n) || 2 !== r.length || !r.every(L.isNumber)) return new Tt({}); try { t = new Tt({ center: e.center, zoom: e.zoom, lockedTo: e.lockedTo }) } catch (a) { console.error(a), t = new Tt({}) } return t }), [bt], function (e, t) { switch (t.type) { case bt.SET_MAP_MODE: return e.setMapMode(t.payload); case bt.SET_POSITION: return e.setPosition(t.payload.center, t.payload.zoom); case bt.SET_LOCKED_ITEM: return e.set("lockedTo", t.payload) }return x(t) }, h.MAP_POSITION, function (e) { return { center: e.center, zoom: e.zoom, lockedTo: e.lockedTo } }); function kt(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var Rt, Nt = function (e) { Object(k.a)(r, e); var t = kt(r); function r(e) { return Object(T.a)(this, r), t.call(this, e) } return Object(j.a)(r, null, [{ key: "isValidTeamName", value: function (e) { return this.TEAMS.some(function (t) { return t.name === e }) } }, { key: "get", value: function (e) { var t = this; if (!Object(L.validate)([function (e) { return t.isValidTeamName(e) }], e)) throw new X("Team.get", "name", "TeamName"); return this.TEAMS.find(function (t) { return t.name === e }) } }, { key: "getAll", value: function () { return Object(D.a)(this.TEAMS) } }]), r }(Object(q.Record)({ color: "#000000", name: "Black", type: "SYSTEM" })); Nt.TEAMS = [new Nt({ name: "Black", color: "#000000", type: "SYSTEM" }), new Nt({ name: "Blue", color: "#0000FF", type: "SYSTEM" }), new Nt({ name: "Brown", color: "#964b00", type: "SYSTEM" }), new Nt({ name: "Cyan", color: "#2CFFFE", type: "SYSTEM" }), new Nt({ name: "Dark Blue", color: "#00007F", type: "SYSTEM" }), new Nt({ name: "Dark Green", color: "#007F00", type: "SYSTEM" }), new Nt({ name: "Green", color: "#00FF00", type: "SYSTEM" }), new Nt({ name: "Grey", color: "#777777", type: "SYSTEM" }), new Nt({ name: "Magenta", color: "#FF00FF", type: "SYSTEM" }), new Nt({ name: "Maroon", color: "#7F0000", type: "SYSTEM" }), new Nt({ name: "Orange", color: "#FF7700", type: "SYSTEM" }), new Nt({ name: "Purple", color: "#7F007F", type: "SYSTEM" }), new Nt({ name: "Red", color: "#FF0000", type: "SYSTEM" }), new Nt({ name: "Teal", color: "#007F7F", type: "SYSTEM" }), new Nt({ name: "White", color: "#FFFFFF", type: "SYSTEM" }), new Nt({ name: "Yellow", color: "#FFFF00", type: "SYSTEM" })], function (e) { e.LOAD_GROUPS = "user/LOAD_GROUPS", e.SET_INFORMATION = "user/SET_INFORMATION", e.SET_TRACK_LOCATION = "user/SET_TRACK_LOCATION", e.SET_LOCATION = "user/SET_LOCATION" }(Rt || (Rt = {})); var Lt, _t = function (e) { return { payload: { callsign: e.callsign, location: new Q(e.location), role: e.role, team: Nt.get(e.team) }, type: Rt.SET_INFORMATION } }, It = ["Team Member", "Team Lead", "HQ", "Sniper", "Medic", "Forward Observer", "K9", "RTO"]; function Mt(e) { return "string" === typeof e && -1 !== It.indexOf(e) } function xt(e) { return "string" === typeof e && e.length > 0 } function Dt(e) { return e && xt(e.callsign) && Mt(e.role) && Nt.isValidTeamName(e.team) } function Pt(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } !function (e) { e.READONLY = "ROLE_READONLY", e.ANONYMOUS = "ROLE_ANONYMOUS", e.ADMIN = "ROLE_ADMIN" }(Lt || (Lt = {})); var Ut, Bt = function (e) { Object(k.a)(r, e); var t = Pt(r); function r(e) { Object(T.a)(this, r); var n = e.callsign || "", a = e.role || "Team Member"; if (e.callsign && !Object(L.validate)([xt], n)) throw new X("UserState", 'field "callsign"', "callsign"); if (!Object(L.validate)([Mt], a)) throw new X("UserState", 'field "role"', "WebSAE Role"); return t.call(this, Object(P.a)({}, e, { callsign: n, location: Object(L.safeConstruct)(Q, e.location), role: a, team: "string" === typeof e.team ? Nt.get(e.team) : e.team, shouldTrack: e.shouldTrack })) } return Object(j.a)(r, [{ key: "setTeam", value: function (e) { var t = "string" === typeof e ? Nt.get(e) : e; return this.set("team", t) } }, { key: "hasValidInformation", value: function () { return Dt({ callsign: this.callsign, role: this.role, team: this.team.name }) } }]), r }(Object(q.Record)({ callsign: "", clientSeed: Ne(), location: new Q, team: Nt.get("Cyan"), role: "Team Member", shouldTrack: void 0 })), Ft = G(V(h.USER_INFORMATION, function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; return new Bt(e) }), Rt, function (e, t) { switch (t.type) { case Rt.LOAD_GROUPS: return e; case Rt.SET_INFORMATION: return e.withMutations(function (e) { e.set("callsign", t.payload.callsign), e.set("location", t.payload.location), e.set("role", t.payload.role), e.setTeam(t.payload.team) }); case Rt.SET_TRACK_LOCATION: return e.withMutations(function (e) { e.set("shouldTrack", t.payload) }); case Rt.SET_LOCATION: return e.withMutations(function (e) { e.set("location", new Q(t.payload)) }) }return x(t) }, h.USER_INFORMATION, function (e) { var t = e.toJS(); return t.team = e.team.name, t }); function Vt(e) { return { type: Ut.SET_ORDERED_TOOLS, payload: e } } function Ht(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } !function (e) { e.REGISTER_TOOL = "tool/REGISTER_TOOL", e.SET_ORDERED_TOOLS = "tools/SET_ORDERED_TOOLS" }(Ut || (Ut = {})); var Gt, qt = ["point-dropper", "overlays", "contacts", "layers", "feeds", "alerts", "video", "shapes", "data-packages", "file-import", "areas-of-interest-tool"], Kt = { tools: Object(q.OrderedSet)(), orderedTools: Object(q.OrderedSet)() }, zt = function (e) { Object(k.a)(r, e); var t = Ht(r); function r() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; Object(T.a)(this, r); var n = e.tools ? Object(q.OrderedSet)(e.tools) : Object(q.OrderedSet)(), a = e.orderedTools ? Object(q.OrderedSet)(e.orderedTools) : Object(q.OrderedSet)(Kt.orderedTools); return t.call(this, { tools: n, orderedTools: a }) } return Object(j.a)(r, [{ key: "hasTool", value: function (e) { return this.tools.includes(e) } }, { key: "registerTool", value: function (e) { if (!e || this.tools.includes(e)) throw new X("ToolState.registerTool", "name", e); return this.set("tools", this.tools.add(e)) } }, { key: "setOrderedTools", value: function (e) { return this.set("orderedTools", e) } }]), r }(Object(q.Record)(Kt)), Yt = G(V(h.TOOLS_ORDER, function (e) { if (!e) return new zt; if (!Array.isArray(e)) return new zt; if (!e.some(L.isString)) return new zt; var t; try { t = new zt({ orderedTools: Object(q.OrderedSet)(e) }) } catch (r) { console.error(r), t = new zt } return t }), [Ut], function (e, t) { switch (t.type) { case Ut.REGISTER_TOOL: return e.registerTool(t.payload); case Ut.SET_ORDERED_TOOLS: return e.setOrderedTools(t.payload) }return x(t) }, h.TOOLS_ORDER, function (e) { return e.orderedTools }); function Wt(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } !function (e) { e.SET_ICONSET_LOADING = "point-dropper/SET_ICONSET_LOADING", e.SET_ICONSET = "point-dropper/SET_ICONSET", e.SET_CUSTOM_ICONSETS = "point-dropper/SET_CUSTOM_ICONSET", e.SET_CUSTOM_ICONS = "point-dropper/SET_CUSTOM_ICONS", e.DELETE_CUSTOM_ICONSET = "point-dropper/DELETE_CUSTOM_ICONSET" }(Gt || (Gt = {})); var Xt = { loadingIconsets: !1, iconsets: Object(q.List)(), customIconsets: Object(q.Map)(), customIcons: Object(q.Map)() }, Jt = G(new (function (e) { Object(k.a)(r, e); var t = Wt(r); function r() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; Object(T.a)(this, r); var n = e.iconsets ? Object(q.List)(e.iconsets) : Object(q.List)(), a = e.customIconsets ? Object(q.Map)(e.customIconsets) : Object(q.Map)(), o = e.customIcons ? Object(q.Map)(e.customIcons) : Object(q.Map)(); return t.call(this, { iconsets: n, customIconsets: a, customIcons: o }) } return Object(j.a)(r, [{ key: "hasIconSet", value: function (e) { return !!this.iconsets.find(function (t) { return t.uid === e }) } }, { key: "addCustomIcons", value: function (e) { var t = this.customIcons.withMutations(function (t) { e.forEach(function (e) { t.set(e.path, e) }) }); return this.withMutations(function (e) { e.set("customIcons", t) }) } }, { key: "addCustomIconsets", value: function (e) { var t = this, r = this.customIconsets.withMutations(function (r) { var n; e.map(function (e) { return n = [], t.customIcons.forEach(function (t) { t.iconsetUid === e.uid && n.push(t) }), { uid: e.uid, name: e.name, icons: n, defaultGroup: e.defaultGroup, version: e.version } }).forEach(function (e) { r.set(e.uid, e) }) }); return this.withMutations(function (e) { e.set("customIconsets", r) }) } }, { key: "deleteCustomIconset", value: function (e) { var t = this.customIconsets.get(e), r = this.customIcons.withMutations(function (e) { t && t.icons.forEach(function (t) { e.delete(t.path) }) }), n = this.customIconsets.withMutations(function (t) { t.delete(e) }); return this.withMutations(function (e) { e.set("customIcons", r), e.set("customIconsets", n) }) } }]), r }(Object(q.Record)(Xt))), [Gt], function (e, t) { switch (t.type) { case Gt.SET_ICONSET_LOADING: return e.set("loadingIconsets", t.payload); case Gt.SET_ICONSET: return e.set("iconsets", t.payload); case Gt.SET_CUSTOM_ICONSETS: return e.withMutations(function (e) { e.addCustomIconsets(t.payload) }); case Gt.SET_CUSTOM_ICONS: return e.withMutations(function (e) { e.addCustomIcons(t.payload) }); case Gt.DELETE_CUSTOM_ICONSET: return e.withMutations(function (e) { e.deleteCustomIconset(t.payload) }) }return x(t) }); function Zt(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var Qt, $t = function (e) { Object(k.a)(r, e); var t = Zt(r); function r(e) { Object(T.a)(this, r); var n = e.uid || "", a = e.activeAlert || !1, o = e.alertTrigger || !1, i = e.alertSafetyTrigger || !1, c = e.alertType || "NINE_ONE_ONE"; return t.call(this, Object(P.a)({}, e, { uid: n, activeAlert: a, alertTrigger: o, alertSafetyTrigger: i, alertType: c })) } return r }(Object(q.Record)({ uid: "", activeAlert: !1, alertType: "NINE_ONE_ONE", alertTrigger: !1, alertSafetyTrigger: !1 })); !function (e) { e.SET_ALERT_UID = "alerts/SET_ALERT_UID", e.SET_ACTIVE_ALERT = "alerts/SET_ACTIVE_ALERTS", e.SET_ALERT_TRIGGER = "alerts/SET_ALERT_TRIGGER", e.SET_ALERT_SAFETY_TRIGGER = "alerts/SET_ALERT_SAFETY_TRIGGER", e.SET_ALERT_TYPE = "alerts/SET_ALERT_TYPE" }(Qt || (Qt = {})); var er, tr = function (e) { return { payload: e, type: Qt.SET_ALERT_UID } }, rr = function (e) { return { payload: e, type: Qt.SET_ACTIVE_ALERT } }, nr = function (e) { return { payload: e, type: Qt.SET_ALERT_TRIGGER } }, ar = function (e) { return { payload: e, type: Qt.SET_ALERT_SAFETY_TRIGGER } }, or = G(V(h.ALERTS_INFORMATION, function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; return new $t(e || {}) }), Qt, function (e, t) { switch (t.type) { case Qt.SET_ALERT_UID: return e.withMutations(function (e) { e.set("uid", t.payload) }); case Qt.SET_ACTIVE_ALERT: return e.withMutations(function (e) { e.set("activeAlert", t.payload) }); case Qt.SET_ALERT_TRIGGER: return e.withMutations(function (e) { e.set("alertTrigger", t.payload) }); case Qt.SET_ALERT_SAFETY_TRIGGER: return e.withMutations(function (e) { e.set("alertSafetyTrigger", t.payload) }); case Qt.SET_ALERT_TYPE: return e.withMutations(function (e) { e.set("alertType", t.payload) }) }return x(t) }, h.ALERTS_INFORMATION, function (e) { return e.toJS() }); !function (e) { e.ADD_PACKAGES = "data-packages/ADD_PACKAGES", e.DELETE_ALL_PACKAGES = "data-packages/DELETE_ALL_PACKAGES", e.DELETE_PACKAGE = "data-packages/DELETE_PACKAGE" }(er || (er = {})); var ir, cr = function (e) { return { payload: e, type: er.DELETE_PACKAGE } }; function sr(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var ur = { manifest: { MissionPackageManifest: (ir = {}, Object(C.a)(ir, L.XML_ATTRIBUTE_KEY, { version: 0 }), Object(C.a)(ir, "Configuration", { Parameter: [Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { name: "unknown", value: "unknown" })] }), Object(C.a)(ir, "Contents", { Content: "unknown" }), ir) }, name: "Unknown", sender: "Unknown", uid: Object(L.uuid)(), enabled: !1, cotsEvents: Object(q.List)(), size: 0, attachments: [] }, lr = function (e) { Object(k.a)(r, e); var t = sr(r); function r(e) { return Object(T.a)(this, r), t.call(this, { manifest: e.manifest, name: e.name, sender: e.sender, enabled: e.enabled, cotsEvents: e.cotsEvents ? Object(q.List)(e.cotsEvents) : Object(q.List)(), size: e.size, uid: e.uid, attachments: e.attachments }) } return r }(Object(q.Record)(ur)); function fr(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var dr, pr, mr, hr, vr, gr = function (e) { Object(k.a)(r, e); var t = fr(r); function r(e) { Object(T.a)(this, r); e.packages || Object(q.Map)(); return t.call(this, { packages: e.packages }) } return Object(j.a)(r, [{ key: "addDataPackage", value: function (e) { var t = this, r = new lr(e); return this.withMutations(function (e) { e.set("packages", t.packages.set(r.uid, r)) }) } }, { key: "deleteAllDataPackages", value: function () { var e = this; return this.withMutations(function (t) { t.set("packages", e.packages.clear()) }) } }, { key: "deleteDataPackage", value: function (e) { var t = this; return this.withMutations(function (r) { r.set("packages", t.packages.delete(e)) }) } }]), r }(Object(q.Record)({ packages: Object(q.Map)() })), br = G(V(h.DATA_PACKAGES, function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; return new gr(e || {}) }), er, function (e, t) { switch (t.type) { case er.ADD_PACKAGES: return e.addDataPackage(t.payload); case er.DELETE_ALL_PACKAGES: return e.deleteAllDataPackages(); case er.DELETE_PACKAGE: return e.deleteDataPackage(t.payload) }return x(t) }); function yr(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } !function (e) { e.MISSION_OWNER = "MISSION_OWNER", e.MISSION_SUBSCRIBER = "MISSION_SUBSCRIBER", e.MISSION_READONLY_SUBSCRIBER = "MISSION_READONLY_SUBSCRIBER" }(dr || (dr = {})), function (e) { e.MISSION_READ = "MISSION_READ", e.MISSION_WRITE = "MISSION_WRITE", e.MISSION_DELETE = "MISSION_DELETE", e.MISSION_SET_ROLE = "MISSION_SET_ROLE", e.MISSION_SET_PASSWORD = "MISSION_SET_PASSWORD" }(pr || (pr = {})), function (e) { e.MISSION_DELETED = "t-x-m-d", e.MISSION_CREATE = "t-x-m-n", e.CONTENT_CHANGE = "t-x-m-c", e.LOG_CHANGE = "t-x-m-c-l", e.KEYWORD_CHANGE = "t-x-m-c-k", e.KEYWORD_UID_CHANGE = "t-x-m-c-k-u", e.KEYWORD_RESOURCE_CHANGE = "t-x-m-c-k-c", e.METADATA_CHANGE = "t-x-m-c-m", e.MISSION_INVITE = "t-x-m-i", e.ROLE_CHANGE = "t-x-m-r", e.EXTERNAL_DATA_CHANGE = "t-x-m-c-e" }(mr || (mr = {})), function (e) { e.CREATE_MISSION = "CREATE_MISSION", e.DELETE_MISSION = "DELETE_MISSION", e.ADD_CONTENT = "ADD_CONTENT", e.REMOVE_CONTENT = "REMOVE_CONTENT", e.UPDATE_CONTENT = "UPDATE_CONTENT" }(hr || (hr = {})), function (e) { e.CREATE_MISSION = "Mission Created", e.DELETE_MISSION = "Mission Deleted", e.ADD_CONTENT = "Content Added", e.REMOVE_CONTENT = "Content Removed", e.UPDATE_CONTENT = "Content Updated" }(vr || (vr = {})); var Er = { chatRooms: "", contents: Object(q.List)(), createTime: "", creatorUid: "", defaultRole: { permissions: [], type: dr.MISSION_SUBSCRIBER }, description: "", externalData: void 0, keywords: Object(q.List)(), name: "", ownerRole: { permissions: [], type: dr.MISSION_SUBSCRIBER }, passwordProtected: !1, token: "", tool: "", uids: Object(q.List)(), missionChanges: Object(q.List)(), logs: Object(q.List)(), feeds: [] }, Or = function (e) { Object(k.a)(r, e); var t = yr(r); function r(e) { Object(T.a)(this, r); var n = Object(P.a)({}, e, { contents: Object(q.List)(e.contents), keywords: Object(q.List)(e.keywords), uids: Object(q.List)(e.uids), missionChanges: Object(q.List)(e.missionChanges), logs: Object(q.List)(e.logs), feeds: e.feeds }); return t.call(this, n) } return r }(Object(q.Record)(Er)); function Sr(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var wr = function (e) { Object(k.a)(r, e); var t = Sr(r); function r() { return Object(T.a)(this, r), t.apply(this, arguments) } return Object(j.a)(r, [{ key: "info", value: function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "websae"; console.log("[INFO][".concat(t, "] ").concat(e)) } }, { key: "error", value: function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "websae"; console.error("[ERROR][".concat(t, "] ").concat(e)) } }, { key: "warn", value: function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "websae"; console.warn("[WARN][".concat(t, "] ").concat(e)) } }]), r }(L.Service); wr.create = wr.factory(); var Ar = {}; try { var Cr = localStorage.getItem(h.__DEV__); Cr && (Ar = JSON.parse(Cr)) } catch (fA) { } function Tr(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var jr = function (e) { Object(k.a)(r, e); var t = Tr(r); function r() { var e; if (Object(T.a)(this, r), (e = t.call(this)).apiProtocol = window.location.protocol.replace(":", ""), e.saeServerDomain = r.DEFAULT_URL(), e.dataSyncEndPoint = "/Marti/sync", e.martiEndpoint = "".concat(window.martiApiPort, "/Marti"), e.apiEndpoint = "".concat(e.martiEndpoint, "/api"), e.martiUrl = "".concat(e.apiProtocol, "://").concat(e.saeServerDomain).concat(e.martiEndpoint), e.apiUrl = "".concat(e.apiProtocol, "://").concat(e.saeServerDomain).concat(e.apiEndpoint), e.syncUrl = "".concat(e.apiProtocol, "://").concat(e.saeServerDomain).concat(e.dataSyncEndPoint), e.contactsUrl = "".concat(e.apiUrl, "/contacts/all"), e.mlaUrl = "".concat(e.apiUrl, "/maplayers/"), e.missionsUrl = "".concat(e.apiUrl, "/missions/"), e.copViewUrl = "".concat(e.apiUrl, "/cops/"), e.versionUrl = "".concat(e.apiUrl, "/version"), e.socketProtocol = "https" === e.apiProtocol ? "wss" : "ws", e.socketUrl = "".concat(e.socketProtocol, "://").concat(e.saeServerDomain, window.saeServerPort, "/takproto/1"), e.SAEServerVersion = "", !window.__WEBSAE_MANIFEST__LOADED) throw Error('Attempting to initialize the SAEServerService before "websae-manifest.json" is fully loaded '); if (Object(L.isLocalhost)()) try { V(h.__DEV__, function (t) { t && Object(L.isString)(t.saeServerUrl) && (e.saeServerDomain = t.saeServerUrl, e.updateUrls()) }) } finally { e.fetchSAEServerVersion() } else e.fetchSAEServerVersion(); return e } return Object(j.a)(r, [{ key: "setSaeServerDomain", value: function (e) { var t; Object(L.isLocalhost)() && this.saeServerDomain !== e && (e ? (this.saeServerDomain = e, wr.create().warn("Setting SAEServer url to ".concat(e, ". This is only allowed in development and will not be available in production."))) : (this.saeServerDomain = r.DEFAULT_URL(), wr.create().warn("Setting SAEServer url to the default url: ".concat(this.saeServerDomain))), this.updateUrls(), this.emit("change"), t = { saeServerUrl: e }, F(h.__DEV__, Object.assign(Ar, t))) } }, { key: "getSaeServerDomain", value: function () { return this.saeServerDomain } }, { key: "getContactsUrl", value: function () { return this.contactsUrl } }, { key: "getMlaUrl", value: function () { return this.mlaUrl } }, { key: "getMissionsUrl", value: function () { return this.missionsUrl } }, { key: "getCopViewUrl", value: function () { return this.copViewUrl } }, { key: "getSockUrl", value: function () { return this.socketUrl } }, { key: "getSyncUrl", value: function () { return this.syncUrl } }, { key: "getApiURl", value: function () { return this.apiUrl } }, { key: "getVersionUrl", value: function () { return this.versionUrl } }, { key: "getSAEServerVersion", value: function () { return this.SAEServerVersion } }, { key: "getMartiURL", value: function () { return this.martiUrl } }, { key: "getMartiClientPage", value: function () { return "".concat(this.getMartiURL(), "/clients/index.html") } }, { key: "fetchSAEServerVersion", value: function () { var e = Object(o.a)(a.a.mark(function e() { var t; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, Object(L.get)(this.getVersionUrl()); case 2: t = e.sent, this.SAEServerVersion = t || "unknown", this.emit("version", this.SAEServerVersion); case 5: case "end": return e.stop() } }, e, this) })); return function () { return e.apply(this, arguments) } }() }, { key: "updateUrls", value: function () { this.martiUrl = "".concat(this.apiProtocol, "://").concat(this.saeServerDomain).concat(this.martiEndpoint), this.apiUrl = "".concat(this.apiProtocol, "://").concat(this.saeServerDomain).concat(this.apiEndpoint), this.syncUrl = "".concat(this.apiProtocol, "://").concat(this.saeServerDomain).concat(this.dataSyncEndPoint), this.contactsUrl = "".concat(this.apiUrl, "/contacts/all"), this.mlaUrl = "".concat(this.apiUrl, "/maplayers/"), this.missionsUrl = "".concat(this.apiUrl, "/missions/"), this.copViewUrl = "".concat(this.apiUrl, "/cops/"), this.versionUrl = "".concat(this.apiUrl, "/version"), this.socketUrl = "".concat(this.socketProtocol, "://").concat(this.saeServerDomain, "/takproto/1") } }]), r }(L.Service); jr.create = jr.factory(), jr.DEFAULT_URL = function () { return window.__TAK_SERVER_DOMAIN__ && "string" === typeof window.__TAK_SERVER_DOMAIN__ ? window.__TAK_SERVER_DOMAIN__ : Object(L.isLocalhost)() ? self.location.hostname : self.location.hostname }; var kr, Rr, Nr, Lr, _r, Ir, Mr, xr, Dr, Pr = jr; !function (e) { e.GROUND_TROOP_INFANTRY = "a-f-G-U-C-I", e.GROUND_TROOP = "a-f-G-U-C" }(Rr || (Rr = {})), function (e) { e.SPOT_MARKER = "b-m-p-s-m", e.COT_MARKER = "---------", e.QUICK_PIC = "b-i-x-i" }(Nr || (Nr = {})), function (e) { e.POLYGON = "u-d-f", e.CIRCLE = "u-d-c-c", e.BOX = "u-d-r", e.FREEHAND = "freehand" }(Lr || (Lr = {})), function (e) { e.LINE = "u-rb-a", e.CIRCLE = "u-r-b-c-c", e.BULLSEYE = "u-r-b-bullseye" }(_r || (_r = {})), function (e) { e.DEFAULT = "b-m-r" }(Ir || (Ir = {})), function (e) { e.DEFAULT = "a-f-A", e.SPI = "b-m-p-s-p-i" }(Mr || (Mr = {})), function (e) { e[e.MAP = -1] = "MAP", e[e.MAP_LAYERS = 10] = "MAP_LAYERS", e[e.IMAGE = 30] = "IMAGE", e[e.KML = 40] = "KML", e[e.OVERLAY = 60] = "OVERLAY", e[e.GENERIC = 70] = "GENERIC", e[e.MARKER = 90] = "MARKER", e[e.USER = 120] = "USER", e[e.ALERT = 160] = "ALERT" }(xr || (xr = {})), function (e) { e.B = "b", e.DOCUMENT = "b-i", e.QUICK_PIC = "b-i-x-i", e.ALARM_GEOPHYSICAL = "b-a-g", e.ALARM_OPEN = "b-a-o-opn", e.ALARM_PANIC = "b-a-o-pan", e.ALARM_TROUBLE = "b-a-o-tbl", e.SPI = "b-m-p-s-p-i", e.SENSOR_LOCATION = "b-m-p-s-p-loc", e.BINOCULARS = "b-m-p-s-p-op", e.AIMPOINT = "b-m-p-a", e.BLACK_TRIANGLE = "b-m-p-c-z", e.GUGPGPOW = "b-m-p-w", e.PIICON_INITIAL = "b-m-p-c-ip", e.PIICON_CONTACT = "b-m-p-c-cp", e.SPOT_MARKER = "b-m-p-s-m", e.BASIC_DIP = "b-m-p-j-basic", e.DIP = "b-m-p-j-dip", e.ALT_DIP = "b-m-p-j-alt", e.ALT_YELLOW_DIP = "b-m-p-j-alt-yellow", e.ALT_GREEN_DIP = "b-m-p-j-alt-green", e.ALT_GRAY_DIP = "b-m-p-j-alt-gray", e.OPEN = "b-m-p-j-open", e.PRP = "b-m-p-j-prp", e.VIRTUAL_DZ = "b-m-p-j-virtual-dz", e.LAST_OUT = "b-m-p-j-last-out", e.HEIGHT_MARKER = "b-m-p-j-height-marker", e.HEIGHT_MARKER_YELLOW = "b-m-p-j-height-marker-yellow", e.HEIGHT_MARKER_RED = "b-m-p-j-height-marker-red", e.STOPLIGHT = "b-m-p-j-harp", e.HEIGHT_MARKER_GONE = "b-m-p-j-height-marker-gone", e.HARP_RING = "b-m-p-j-harp-ring", e.WIND = "b-m-p-j-wind", e.LP = "b-m-p-j-lp", e.GOTO = "b-m-p-w-GOTO", e.DAMAGED = "b-r-f-h-c", e.AIRCRAFT = "b-t-i-a-A" }(Dr || (Dr = {})); var Ur = (kr = {}, Object(C.a)(kr, Dr.B, "resources/bit-icons/b.png"), Object(C.a)(kr, Dr.DOCUMENT, "resources/bit-icons/document.png"), Object(C.a)(kr, Dr.QUICK_PIC, "resources/bit-icons/camera.png"), Object(C.a)(kr, Dr.ALARM_GEOPHYSICAL, "resources/bit-icons/alarm-geophysical.png"), Object(C.a)(kr, Dr.ALARM_OPEN, "resources/bit-icons/alarm-open.png"), Object(C.a)(kr, Dr.ALARM_PANIC, "resources/bit-icons/alarm-panic.png"), Object(C.a)(kr, Dr.ALARM_TROUBLE, "resources/bit-icons/alarm-trouble.png"), Object(C.a)(kr, Dr.SPI, "resources/bit-icons/b-m-p-s-p-i.png"), Object(C.a)(kr, Dr.SENSOR_LOCATION, "resources/bit-icons/sensor_location.png"), Object(C.a)(kr, Dr.BINOCULARS, "resources/bit-icons/binos.png"), Object(C.a)(kr, Dr.AIMPOINT, "resources/bit-icons/aimpoint.png"), Object(C.a)(kr, Dr.BLACK_TRIANGLE, "resources/bit-icons/blacktriangle.png"), Object(C.a)(kr, Dr.GUGPGPOW, "resources/bit-icons/gugpgpow------.png"), Object(C.a)(kr, Dr.PIICON_INITIAL, "resources/bit-icons/piicon_initial.png"), Object(C.a)(kr, Dr.PIICON_CONTACT, "resources/bit-icons/piicon_contact.png"), Object(C.a)(kr, Dr.SPOT_MARKER, "resources/bit-icons/reference_point.png"), Object(C.a)(kr, Dr.BASIC_DIP, "resources/bit-icons/dip.png</fi"), Object(C.a)(kr, Dr.DIP, "resources/bit-icons/dip.png"), Object(C.a)(kr, Dr.ALT_DIP, "resources/bit-icons/alt_dip.png"), Object(C.a)(kr, Dr.ALT_YELLOW_DIP, "resources/bit-icons/alt_dip.png"), Object(C.a)(kr, Dr.ALT_GREEN_DIP, "resources/bit-icons/alt_dip_green.png"), Object(C.a)(kr, Dr.ALT_GRAY_DIP, "resources/bit-icons/alt_dip_gray.png"), Object(C.a)(kr, Dr.OPEN, "resources/bit-icons/open.png"), Object(C.a)(kr, Dr.PRP, "resources/bit-icons/reference_point.png"), Object(C.a)(kr, Dr.VIRTUAL_DZ, "resources/bit-icons/virtual_dz.png"), Object(C.a)(kr, Dr.LAST_OUT, "resources/bit-icons/redlight.png"), Object(C.a)(kr, Dr.HEIGHT_MARKER, "resources/bit-icons/reference_point.png"), Object(C.a)(kr, Dr.HEIGHT_MARKER_YELLOW, "resources/bit-icons/height_marker_yellow.png"), Object(C.a)(kr, Dr.HEIGHT_MARKER_RED, "resources/bit-icons/height_marker_red.png"), Object(C.a)(kr, Dr.STOPLIGHT, "resources/bit-icons/stoplight.png"), Object(C.a)(kr, Dr.HEIGHT_MARKER_GONE, "resources/bit-icons/no_icon.png"), Object(C.a)(kr, Dr.HARP_RING, "resources/bit-icons/no_icon.png"), Object(C.a)(kr, Dr.WIND, "resources/bit-icons/b.png"), Object(C.a)(kr, Dr.LP, "resources/bit-icons/reference_point.png"), Object(C.a)(kr, Dr.GOTO, "resources/bit-icons/green_flag.png"), Object(C.a)(kr, Dr.DAMAGED, "resources/bit-icons/damaged.png"), Object(C.a)(kr, Dr.AIRCRAFT, "resources/bit-icons/aircraft_blue.png"), kr), Br = function (e) { var t = e.uid; if (e.detail) { var r = e.detail.getContact(); r && Object(L.isString)(r.callsign) && "" !== r.callsign && (t = r.callsign) } return t }, Fr = function (e) { return !!new RegExp(Object.values(Rr).join("|")).test(e.type) && !(!e.detail || !e.detail.getGroup()) }, Vr = function (e) { for (var t = [], r = e.querySelectorAll("event"), n = 0; n < r.length; n += 1) { var a = r[n]; t.push(zr(a)) } return t }, Hr = function (e) { return e }, Gr = function (e) { return new Date(e).getTime() }; function qr(e, t) { var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : Hr, n = {}; return t.forEach(function (t) { n[t] = r(function (e, t) { var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : ""; return e.hasAttribute(t) ? e.getAttribute(t) : r }(e, t, "")) }), n } var Kr = new XMLSerializer, zr = function (e) { var t = {}, r = qr(e, ["uid", "type", "time", "start", "how"]), n = r.uid, a = r.type, o = r.how, i = qr(e, ["time", "start", "stale"], Gr), c = i.time, s = i.start, u = i.stale; t.uid = n, t.type = a, t.sendTime = c, t.startTime = s, t.staleTime = u, t.how = o; var l = e.querySelector("point"); if (l) { var f = qr(l, ["lat", "lon", "hae", "ce", "le"], Number), d = f.ce, p = f.lat, m = f.le, h = f.lon, v = f.hae; t.ce = d, t.lat = p, t.le = m, t.lon = h, t.hae = v } var g = e.querySelector("detail"); if (g) { var b = Kr.serializeToString(g), y = Object(L.fromXML)(b), E = new ct.CotEventDetail({ xml: y.detail, xmlDetail: null }); t.detail = E } return new ct.CotEvent(t) }; function Yr(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var Wr = function (e) { Object(k.a)(r, e); var t = Yr(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).missionBaseURL = function () { return Pr.create().getMissionsUrl() }, e } return Object(j.a)(r, [{ key: "createMission", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { var r, n, o, i, c, s, u, l, f, d, p; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return r = t.name, n = t.creatorUid, o = t.description, i = t.tool, c = t.password, s = t.defaultRole, u = t.group, l = Object(L.generateRequestUrl)("".concat(this.missionBaseURL()).concat(encodeURIComponent(r)), { description: o || "", tool: i || "public", creatorUid: n, password: c || "", group: u, defaultRole: s }), e.next = 4, fetch(l, { method: "PUT", mode: "no-cors" }); case 4: return f = e.sent, e.next = 7, f.json(); case 7: return d = e.sent, p = d.data, e.abrupt("return", p[0]); case 10: case "end": return e.stop() } }, e, this) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "getAllMissions", value: function () { var e = Object(o.a)(a.a.mark(function e() { var t, r, n; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, fetch(Object(L.generateRequestUrl)(this.missionBaseURL(), { defaultRole: "true", passwordProtected: "true" }), { mode: "no-cors" }); case 2: return t = e.sent, e.next = 5, t.json(); case 5: return r = e.sent, n = r.data, e.abrupt("return", n); case 8: case "end": return e.stop() } }, e, this) })); return function () { return e.apply(this, arguments) } }() }, { key: "getMission", value: function () { var e = Object(o.a)(a.a.mark(function e(t, r) { var n, o, i, c, s, u; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return n = t.name, o = {}, r && (o.MissionAuthorization = "Bearer " + r), e.next = 5, fetch(Object(L.generateRequestUrl)("".concat(this.missionBaseURL()).concat(encodeURIComponent(n)), { changes: "true", logs: "true" }), { mode: "no-cors", headers: o }); case 5: return i = e.sent, e.next = 8, i.json(); case 8: return c = e.sent, s = c.data, u = new Or(s[0]), e.abrupt("return", u); case 12: case "end": return e.stop() } }, e, this) })); return function (t, r) { return e.apply(this, arguments) } }() }, { key: "getMissionSubscriptions", value: function () { var e = Object(o.a)(a.a.mark(function e(t, r) { var n, o, i, c; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return n = {}, r && (n.MissionAuthorization = "Bearer " + r), e.next = 4, fetch(Object(L.generateRequestUrl)("".concat(this.missionBaseURL()).concat(encodeURIComponent(t), "/subscriptions")), { mode: "no-cors", headers: n }); case 4: return o = e.sent, e.next = 7, o.json(); case 7: return i = e.sent, c = i.data, e.abrupt("return", c); case 10: case "end": return e.stop() } }, e, this) })); return function (t, r) { return e.apply(this, arguments) } }() }, { key: "getMissionContacts", value: function () { var e = Object(o.a)(a.a.mark(function e(t, r) { var n, o, i; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return n = {}, r && (n.MissionAuthorization = "Bearer " + r), e.next = 4, fetch(Object(L.generateRequestUrl)("".concat(this.missionBaseURL()).concat(encodeURIComponent(t), "/contacts")), { mode: "no-cors", headers: n }); case 4: return o = e.sent, e.next = 7, o.json(); case 7: return i = e.sent, e.abrupt("return", i); case 9: case "end": return e.stop() } }, e, this) })); return function (t, r) { return e.apply(this, arguments) } }() }, { key: "getReadOnlyAccessToken", value: function () { var e = Object(o.a)(a.a.mark(function e(t, r) { var n, o, i, c; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return n = Object(L.generateRequestUrl)("".concat(this.missionBaseURL()).concat(encodeURIComponent(t), "/token"), { password: r }), e.next = 3, fetch(n, { mode: "no-cors" }); case 3: return o = e.sent, e.next = 6, o.json(); case 6: return i = e.sent, c = i.data, i.status, e.abrupt("return", c); case 10: case "end": return e.stop() } }, e, this) })); return function (t, r) { return e.apply(this, arguments) } }() }, { key: "getLatestMissionCotEvents", value: function () { var e = Object(o.a)(a.a.mark(function e(t, r) { var n, o, i, c, s, u; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return n = {}, r && (n.MissionAuthorization = "Bearer " + r), e.next = 4, fetch(Object(L.generateRequestUrl)("".concat(this.missionBaseURL()).concat(encodeURIComponent(t), "/cot")), { mode: "no-cors", headers: n }); case 4: return o = e.sent, e.next = 7, o.text(); case 7: return i = e.sent, c = new DOMParser, s = c.parseFromString(i, "application/xml"), u = Vr(s), e.abrupt("return", u); case 12: case "end": return e.stop() } }, e, this) })); return function (t, r) { return e.apply(this, arguments) } }() }, { key: "getMissionChanges", value: function () { var e = Object(o.a)(a.a.mark(function e(t, r) { var n, o, i, c; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return n = {}, r && (n.MissionAuthorization = "Bearer " + r), e.next = 4, fetch(Object(L.generateRequestUrl)("".concat(this.missionBaseURL()).concat(encodeURIComponent(t), "/changes"), { squashed: "false" }), { mode: "no-cors", headers: n }); case 4: return o = e.sent, e.next = 7, o.json(); case 7: return i = e.sent, c = i.data, e.abrupt("return", c); case 10: case "end": return e.stop() } }, e, this) })); return function (t, r) { return e.apply(this, arguments) } }() }, { key: "createMissionSubscription", value: function () { var e = Object(o.a)(a.a.mark(function e(t, r, n) { var o, i, c, s; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return o = {}, n && (o.MissionAuthorization = "Bearer " + n), i = "".concat(this.missionBaseURL()).concat(encodeURIComponent(t), "/subscription?uid=").concat(encodeURIComponent(r)), e.next = 5, fetch(i, { method: "PUT", mode: "no-cors", headers: o }); case 5: return c = e.sent, e.next = 8, c.json(); case 8: return s = e.sent, e.abrupt("return", s); case 10: case "end": return e.stop() } }, e, this) })); return function (t, r, n) { return e.apply(this, arguments) } }() }, { key: "deleteMissionSubscription", value: function () { var e = Object(o.a)(a.a.mark(function e(t, r, n) { var o, i; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return o = {}, n && (o.MissionAuthorization = "Bearer " + n), i = "".concat(this.missionBaseURL()).concat(encodeURIComponent(t), "/subscription?uid=").concat(encodeURIComponent(r)), e.next = 5, fetch(i, { method: "DELETE", mode: "no-cors", headers: o }); case 5: case "end": return e.stop() } }, e, this) })); return function (t, r, n) { return e.apply(this, arguments) } }() }, { key: "addMissionContent", value: function () { var e = Object(o.a)(a.a.mark(function e(t, r, n, o) { var i, c; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return i = Object(L.generateRequestUrl)("".concat(this.missionBaseURL()).concat(encodeURIComponent(t), "/contents"), { creatorUid: Ne() }), c = { "Content-Type": "application/json" }, o && (c.MissionAuthorization = "Bearer " + o), e.next = 5, fetch(i, { mode: "no-cors", body: JSON.stringify({ hashes: r, uids: n }), method: "PUT", headers: c }); case 5: e.sent; case 6: case "end": return e.stop() } }, e, this) })); return function (t, r, n, a) { return e.apply(this, arguments) } }() }, { key: "removeMissionContent", value: function () { var e = Object(o.a)(a.a.mark(function e(t, r, n) { var o, i, c, s; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return o = sn().getState().dataSync.getTokenBy(t), i = { "Content-Type": "application/json" }, o && (i.MissionAuthorization = "Bearer " + o), e.next = 5, fetch(Object(L.generateRequestUrl)("".concat(this.missionBaseURL()).concat(encodeURIComponent(t), "/contents"), { hash: r || "", uid: n || "", creatorUid: Ne() }), { mode: "no-cors", method: "DELETE", headers: i }); case 5: return c = e.sent, e.next = 8, c.json(); case 8: s = e.sent, s.data; case 10: case "end": return e.stop() } }, e, this) })); return function (t, r, n) { return e.apply(this, arguments) } }() }, { key: "getMissionSubscriptionRoles", value: function () { var e = Object(o.a)(a.a.mark(function e(t, r) { var n, o, i, c, s; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return n = Object(L.generateRequestUrl)("".concat(this.missionBaseURL()).concat(encodeURIComponent(t), "/subscriptions/roles")), o = {}, r && (o.MissionAuthorization = "Bearer " + r), e.next = 5, fetch(n, { mode: "no-cors", headers: o }); case 5: return i = e.sent, e.next = 8, i.json(); case 8: return c = e.sent, s = c.data, e.abrupt("return", s); case 11: case "end": return e.stop() } }, e, this) })); return function (t, r) { return e.apply(this, arguments) } }() }, { key: "setMissionRole", value: function () { var e = Object(o.a)(a.a.mark(function e(t, r, n, o) { var i, c; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return i = {}, o && (i.MissionAuthorization = "Bearer " + o), c = Object(L.generateRequestUrl)("".concat(this.missionBaseURL()).concat(encodeURIComponent(t), "/role"), { clientUid: r, role: n }), e.next = 5, fetch(c, { method: "PUT", mode: "no-cors", headers: i }); case 5: e.sent; case 6: case "end": return e.stop() } }, e, this) })); return function (t, r, n, a) { return e.apply(this, arguments) } }() }, { key: "getMissionRoleFromToken", value: function () { var e = Object(o.a)(a.a.mark(function e(t, r) { var n, o, i, c; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return n = {}, r && (n.MissionAuthorization = "Bearer " + r), o = Object(L.generateRequestUrl)("".concat(this.missionBaseURL()).concat(encodeURIComponent(t), "/role")), e.next = 5, fetch(o, { method: "GET", mode: "no-cors", headers: n }); case 5: return i = e.sent, c = i.json(), e.abrupt("return", c); case 8: case "end": return e.stop() } }, e, this) })); return function (t, r) { return e.apply(this, arguments) } }() }, { key: "deleteMission", value: function () { var e = Object(o.a)(a.a.mark(function e(t, r, n, o) { var i, c; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return i = {}, o && (i.MissionAuthorization = "Bearer " + o), c = Object(L.generateRequestUrl)("".concat(this.missionBaseURL()).concat(encodeURIComponent(t)), { deepDelete: r, creatorUid: n || "" }), e.next = 5, fetch(c, { method: "DELETE", mode: "no-cors", headers: i }); case 5: case "end": return e.stop() } }, e, this) })); return function (t, r, n, a) { return e.apply(this, arguments) } }() }]), r }(L.Service); Wr.create = Wr.factory(); var Xr, Jr = Wr; function Zr() { return function () { var e = Object(o.a)(a.a.mark(function e(t) { var r, n; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, Jr.create().getAllMissions(); case 2: r = e.sent, n = r.map(function (e) { return new Or(e) }), t({ type: Xr.INITIALIZE_MISSIONS, payload: [].concat(n) }); case 5: case "end": return e.stop() } }, e) })); return function (t) { return e.apply(this, arguments) } }() } function Qr(e, t) { return { type: Xr.ADD_MISSION_TOKEN_TO_MAP, payload: { missionName: e, token: t } } } function $r(e) { return function () { var t = Object(o.a)(a.a.mark(function t(r, n) { return a.a.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: r({ type: Xr.SUBSCRIBE, payload: e }); case 1: case "end": return t.stop() } }, t) })); return function (e, r) { return t.apply(this, arguments) } }() } function en(e) { return function () { var t = Object(o.a)(a.a.mark(function t(r, n) { return a.a.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: r({ type: Xr.UNSUBSCRIBE, payload: e }); case 1: case "end": return t.stop() } }, t) })); return function (e, r) { return t.apply(this, arguments) } }() } function tn(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } !function (e) { e.INITIALIZE_MISSIONS = "dataSync/INITIALIZE_MISSIONS", e.RELOAD_MISSION = "dataSync/RELOAD_MISSION", e.ADD_MISSION_TOKEN_TO_MAP = "dataSync/ADD_MISSION_TOKEN_TO_MAP", e.REMOVE_MISSION_TOKEN_FROM_MAP = "dataSync/REMOVE_MISSION_TOKEN_FROM_MAP", e.LOAD_MISSION_CONTENT = "dataSync/LOAD_MISSION_CONTENT", e.SET_MISSION_ROLE_MAP = "dataSync/SET_MISSION_ROLE_MAP", e.REMOVE_MISSION_ROLE_FROM_MAP = "dataSync/REMOVE_MISSION_ROLE_FROM_MAP", e.SET_MISSION_DETAILS = "dataSync/SET_MISSION_DETAILS", e.REMOVE_MISSION_DETAILS = "dataSync/REMOVE_MISSION_DETAILS", e.SUBSCRIBE = "dataSync/SUBSCRIBE", e.UNSUBSCRIBE = "dataSync/UNSUBSCRIBE", e.SET_CURRENT_MISSION = "dataSync/SET_CURRENT_MISSION" }(Xr || (Xr = {})); var rn, nn = { subscriptions: Object(q.Set)(), missions: Object(q.Map)(), missionRoleMap: Object(q.Map)(), missionAuthTokenMap: Object(q.Map)() }, an = function (e) { Object(k.a)(r, e); var t = tn(r); function r() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : nn; return Object(T.a)(this, r), t.call(this, Object(P.a)({}, e)) } return Object(j.a)(r, [{ key: "getTokenBy", value: function (e) { return this.missionAuthTokenMap.get(e) } }, { key: "addMissionTokenToMap", value: function (e) { var t = e.missionName, r = e.token; return r ? this.setIn(["missionAuthTokenMap", t], r) : this } }, { key: "initializeMissions", value: function (e) { return this.set("missions", this.missions.withMutations(function (t) { e.forEach(function (e) { t.has(e.name) && t.get(e.name).loaded || t.set(e.name, { mission: e, loaded: !1, userRole: e.defaultRole, author: e.creatorUid, subscribers: [], missionChanges: [], missionCots: [], missionContacts: [] }) }) })) } }, { key: "subscribe", value: function (e) { return this.set("subscriptions", this.subscriptions.add(e)) } }, { key: "unsubscribe", value: function (e) { return this.set("subscriptions", this.subscriptions.remove(e)) } }, { key: "setMissionDetails", value: function (e) { var t = e.mission, r = e.userRole, n = e.author, a = e.subscribers, o = e.missionChanges, i = e.missionCots, c = e.missionContacts, s = e.loaded; return this.setIn(["missions", t.name], { mission: t, userRole: r, author: n, subscribers: a, missionChanges: o, missionCots: i, missionContacts: c, loaded: s }) } }, { key: "setMissionRoleMap", value: function (e) { var t = e.missionName, r = e.roles; return this.set("missionRoleMap", this.missionRoleMap.set(t, r)) } }, { key: "removeMissionDetails", value: function (e) { return this.set("missions", this.missions.delete(e)) } }, { key: "removeMissionTokenFromMap", value: function (e) { return this.set("missionAuthTokenMap", this.missionAuthTokenMap.delete(e)) } }, { key: "removeMissionRoleFromMap", value: function (e) { return this.set("missionRoleMap", this.missionRoleMap.delete(e)) } }]), r }(Object(q.Record)(nn)), on = G(V(h.MISSION_SUBSCRIPTIONS, function (e) { if (e) { var t = e.tokens, r = e.subscriptions; return (new an).set("subscriptions", Object(q.Set)(r)).set("missionAuthTokenMap", Object(q.Map)(t)) } return new an }), [Xr], function (e, t) { switch (t.type) { case Xr.INITIALIZE_MISSIONS: return e.initializeMissions(t.payload); case Xr.ADD_MISSION_TOKEN_TO_MAP: return e.addMissionTokenToMap(t.payload); case Xr.SUBSCRIBE: return e.subscribe(t.payload); case Xr.UNSUBSCRIBE: return e.unsubscribe(t.payload); case Xr.SET_MISSION_DETAILS: return e.setMissionDetails(t.payload); case Xr.SET_MISSION_ROLE_MAP: return e.setMissionRoleMap(t.payload); case Xr.REMOVE_MISSION_ROLE_FROM_MAP: return e.removeMissionRoleFromMap(t.payload); case Xr.REMOVE_MISSION_TOKEN_FROM_MAP: return e.removeMissionTokenFromMap(t.payload); case Xr.REMOVE_MISSION_DETAILS: return e.removeMissionDetails(t.payload) }return x(t) }, h.MISSION_SUBSCRIPTIONS, function (e) { return { tokens: e.missionAuthTokenMap.toJS(), subscriptions: e.subscriptions.toJS() } }), cn = Object(I.c)({ aoi: be, chat: nt, errors: it, events: dt, map: jt, notifications: yt, user: Ft, tool: Yt, pointDropper: Jt, alerts: or, dataPackages: br, dataSync: on }); function sn() { return rn || (rn = function () { var e = y && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : I.d, t = [M.a.withExtraArgument(function (e) { return Cd.getService(e) })]; return Object(I.e)(cn, void 0, e(I.a.apply(void 0, t))) }()), rn } function un(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var ln = function (e) { Object(k.a)(r, e); var t = un(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).store = sn(), e.unsubscribe = void 0, e.previousErrors = void 0, e.cancelClearTask = null, e.onStoreChange = function () { var t = e.store.getState().errors; t !== e.previousErrors && (e.previousErrors = t) }, e.previousErrors = e.store.getState().errors, e.unsubscribe = e.store.subscribe(e.onStoreChange), e } return Object(j.a)(r, [{ key: "addError", value: function (e) { var t = this; arguments.length > 1 && void 0 !== arguments[1] && arguments[1], arguments.length > 2 && arguments[2], arguments.length > 3 && arguments[3]; Object(L.queueTask)(function () { t.store.dispatch(function (e) { return { type: A.ADD_ERROR, payload: e } }(e)) }) } }, { key: "dismissError", value: function (e) { var t = this; if (!this.previousErrors.includes(e)) throw new Error("ErrorService.dismissError cannot dismiss unknown error."); Object(L.queueTask)(function () { t.previousErrors.includes(e) && t.store.dispatch(function (e) { return { type: A.DISMISS_ERROR, payload: e } }(e)) }) } }, { key: "clearErrors", value: function () { var e = this; this.cancelClearTask && (this.cancelClearTask(), this.cancelClearTask = null), this.cancelClearTask = Object(L.queueTask)(function () { e.store.dispatch({ type: A.CLEAR_ERRORS }) }) } }, { key: "getErrors", value: function () { return this.previousErrors.skipWhile(function () { return !1 }) } }]), r }(L.Service); function fn(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } ln.create = ln.factory(); var dn, pn = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z", "0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "-", "+", "[", "]", ";", "'", ",", ".", "/", "\\", "`", " ", "esc", "enter"], mn = ["ctrl", "shift", "alt"], hn = function (e) { return pn.includes(e) }, vn = function (e) { return mn.includes(e) }, gn = function (e) { Object(k.a)(r, e); var t = fn(r); function r() { var e; Object(T.a)(this, r); for (var n = arguments.length, a = new Array(n), o = 0; o < n; o++)a[o] = arguments[o]; return (e = t.call.apply(t, [this].concat(a))).isAttached = !1, e.onKeyDown = function (t) { var r, n = t.altKey, a = t.ctrlKey, o = t.key, i = t.shiftKey, c = function () { switch (o) { case "Escape": return "esc"; case "Enter": return "enter"; default: return o } }(); Object(L.validate)([hn], c) && (r = i ? ["shift", c] : n ? ["alt", c] : a ? ["ctrl", c] : c, e.emit(e.getCombinationString(r), t)) }, e } return Object(j.a)(r, [{ key: "onCombination", value: function (e, t) { this.attach(), this.on(this.getCombinationString(e), t) } }, { key: "onceCombination", value: function (e, t) { this.attach(), this.once(this.getCombinationString(e), t) } }, { key: "offCombination", value: function (e, t) { this.attach(), this.off(this.getCombinationString(e), t) } }, { key: "attach", value: function () { this.isAttached || (document.addEventListener("keydown", this.onKeyDown, { capture: !0 }), this.isAttached = !0) } }, { key: "getCombinationString", value: function (e) { if ("string" === typeof e) { if (!Object(L.validate)([hn], e)) throw new X("HotkeyService", "hotkey token", "character"); return e } if (1 === e.length) { if (!Object(L.validate)([hn], e[0])) throw new X("HotkeyService", "hotkey token", "modifier") } else { if (!Object(L.validate)([vn], e[0])) throw new X("HotkeyService", "hotkey token", "modifier"); if (!Object(L.validate)([hn], e[1])) throw new X("HotkeyService", "hotkey token", "character") } return e.join(r.TOKEN_SEPARATOR) } }]), r }(L.Service); gn.create = gn.factory(), gn.TOKEN_SEPARATOR = "|", function (e) { e[e.DISCONNECTED = 0] = "DISCONNECTED", e[e.DISCONNECTING = 1] = "DISCONNECTING", e[e.CONNECTED = 2] = "CONNECTED", e[e.CONNECTING = 3] = "CONNECTING" }(dn || (dn = {})); var bn = r(151), yn = r(183); function En(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var On = ne.saemaps.commoncommo.protobuf.v1, Sn = function (e) { Object(k.a)(r, e); var t = En(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).state = dn.DISCONNECTED, e.reconnectTimer = null, e.handleSocketDisconnect = function (t) { var r = t.state; e.state = r, null === e.reconnectTimer && (e.reconnectTimer = self.setTimeout(function () { e.reconnectTimer = null, e.reconnect() }, 3e3), e.emit("disconnect")) }, window.addEventListener("offline", function () { e.disconnect(), e.emit("disconnect") }), window.addEventListener("online", function () { e.reconnect() }), document.addEventListener("visibilitychange", e.handleVisibilityChange.bind(Object(K.a)(e)), !1), Pr.create().on("change", e.onTakUrlChange.bind(Object(K.a)(e))), e.init(), e } return Object(j.a)(r, [{ key: "init", value: function () { var e = Object(o.a)(a.a.mark(function e() { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, Object(yn.onSocketConnect)(Object(bn.proxy)(this.handleSocketConnect.bind(this))); case 2: return e.next = 4, Object(yn.onSocketDisconnect)(Object(bn.proxy)(this.handleSocketDisconnect.bind(this))); case 4: return e.next = 6, Object(yn.onSocketError)(Object(bn.proxy)(this.handleSocketError.bind(this))); case 6: return e.next = 8, Object(yn.onSocketMessage)(Object(bn.proxy)(this.handleSocketMessage.bind(this))); case 8: this.emit("ready"); case 9: case "end": return e.stop() } }, e, this) })); return function () { return e.apply(this, arguments) } }() }, { key: "reconnect", value: function () { var e = Object(o.a)(a.a.mark(function e() { var t; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (this.state !== dn.CONNECTING) { e.next = 2; break } return e.abrupt("return"); case 2: return t = Pr.create().getSockUrl(), e.next = 5, Object(yn.connect)(t); case 5: case "end": return e.stop() } }, e, this) })); return function () { return e.apply(this, arguments) } }() }, { key: "handleVisibilityChange", value: function () { this.state !== dn.DISCONNECTED && this.state !== dn.DISCONNECTING || this.reconnect() } }, { key: "disconnect", value: function () { var e = Object(o.a)(a.a.mark(function e() { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (this.state !== dn.DISCONNECTED && this.state !== dn.DISCONNECTING) { e.next = 2; break } return e.abrupt("return"); case 2: return e.next = 4, Object(yn.disconnect)(); case 4: case "end": return e.stop() } }, e, this) })); return function () { return e.apply(this, arguments) } }() }, { key: "sendMessage", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { var r, n, o, i, c = arguments; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (r = c.length > 1 && void 0 !== c[1] ? c[1] : [], n = c.length > 2 && void 0 !== c[2] ? c[2] : "callsign", o = !(c.length > 3 && void 0 !== c[3]) || c[3], null === (i = On.CotEvent.verify(t))) { e.next = 6; break } throw new Error("SocketService.sendMessage invalid ICotEvent provided: ".concat(i)); case 6: if (!t.detail || !t.detail.xml) { e.next = 13; break } if (t.detail.xml.link || (t.detail.xml.link = Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { relation: "p-p", type: Rr.GROUND_TROOP_INFANTRY, uid: Ne() })), !r.length) { e.next = 12; break } if (r.every(L.isNonEmptyString)) { e.next = 11; break } throw new X("SocketService.sendMessage", "destinations", "array of non-empty string"); case 11: t.detail.xml.marti = { dest: r.map(function (e) { return Object(C.a)({}, L.XML_ATTRIBUTE_KEY, Object(C.a)({}, n, e)) }) }; case 12: t.detail.xml && t.detail.xml["_flow-tags_"] && o && delete t.detail.xml["_flow-tags_"]; case 13: return e.next = 15, Object(yn.sendMessage)(t); case 15: case "end": return e.stop() } }, e) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "isConnected", value: function () { return this.state === dn.CONNECTED } }, { key: "handleSocketConnect", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { var r; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: r = t.state, this.state = r, clearTimeout(this.reconnectTimer), this.reconnectTimer = null, this.emit("connect"); case 5: case "end": return e.stop() } }, e, this) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "handleSocketError", value: function (e) { var t = e.state, r = e.error, n = e.closeEventCode; this.state = t, this.emit("error", new Error(r.message)), Td("logger").error(r.message), this.state !== dn.CONNECTED && (this.state = dn.DISCONNECTED, this.emit("disconnect")), n && 1008 === n && this.reconnect() } }, { key: "onTakUrlChange", value: function () { var e = Object(o.a)(a.a.mark(function e() { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, Object(yn.setSocketUrl)(Pr.create().getSockUrl()); case 2: case "end": return e.stop() } }, e) })); return function () { return e.apply(this, arguments) } }() }, { key: "handleSocketMessage", value: function (e) { var t = e.state, r = e.message; this.state = t, this.emit("message", r) } }]), r }(L.Service); Sn.create = Sn.factory(); var wn = r(410); function An(e, t) { var r = "undefined" !== typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (!r) { if (Array.isArray(e) || (r = function (e, t) { if (!e) return; if ("string" === typeof e) return Cn(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); "Object" === r && e.constructor && (r = e.constructor.name); if ("Map" === r || "Set" === r) return Array.from(e); if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return Cn(e, t) }(e)) || t && e && "number" === typeof e.length) { r && (e = r); var n = 0, a = function () { }; return { s: a, n: function () { return n >= e.length ? { done: !0 } : { done: !1, value: e[n++] } }, e: function (e) { throw e }, f: a } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var o, i = !0, c = !1; return { s: function () { r = r.call(e) }, n: function () { var e = r.next(); return i = e.done, e }, e: function (e) { c = !0, o = e }, f: function () { try { i || null == r.return || r.return() } finally { if (c) throw o } } } } function Cn(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } function Tn(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var jn = function (e) { Object(k.a)(r, e); var t = Tn(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).hasStartedBefore = !1, e.pollingTimer = null, e.previousState = void 0, e.statusCheckTimer = void 0, e.statusLookup = new Map, e.socketService = Sn.create(), e.store = sn(), e.unsubscribe = void 0, e.retrieveContacts = Object(o.a)(a.a.mark(function t() { var r; return a.a.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.prev = 0, t.next = 3, Object(L.parseJSON)(Object(L.get)(Pr.create().getContactsUrl())); case 3: (r = t.sent.filter(function (e) { return Object(L.isNonEmptyString)(e.uid) && Object(L.isNonEmptyString)(e.callsign) }).map(function (e) { return new qe({ address: Me({ isIndividual: !0, type: v.UID, identifier: e.uid }), name: e.callsign }) }).filter(function (t) { return !e.store.getState().chat.hasContact(t.address) })).length && e.loadContacts(r), t.next = 10; break; case 7: t.prev = 7, t.t0 = t.catch(0), wr.create().error("ContactService.retrieveContacts: There was an error loading contacts, ".concat(t.t0)); case 10: return t.prev = 10, e.startPolling(), t.finish(10); case 13: case "end": return t.stop() } }, t, null, [[0, 7, 10, 13]]) })), e.updateContactStatuses = function () { e.previousState.getContacts().forEach(function (t) { e.updateAndNotifyContactStatus(t) }), e.statusCheckTimer = self.setTimeout(e.updateContactStatuses, r.STATUS_CHECK_INTERVAL) }, e.onStoreChange = function () { var t = e.store.getState().chat; if (!t.equals(e.previousState)) { var r = e.previousState.getContacts().toSet(), n = t.getContacts().toSet(), a = n.subtract(r), o = r.subtract(n), i = n.intersect(r); e.previousState = t, o.forEach(function (t) { e.statusLookup.has(t) && e.statusLookup.delete(t) }), a.forEach(function (t) { e.emit("contact-change", t), e.updateAndNotifyContactStatus(t) }), i.forEach(function (t) { e.updateAndNotifyContactStatus(t) }) } }, e.updateAndNotifyContactStatus = function (t) { var r = e.getAddressStatus(t.address), n = e.statusLookup.get(t) || null; null !== n && r === n || (e.emit("status-change", t, e.getLastSeen(t.address), r), e.statusLookup.set(t, r)) }, e.socketService.on("connect", function () { e.hasStartedBefore ? e.startPolling() : (e.hasStartedBefore = !0, e.retrieveContacts()), Td("socket").on("message", function (t) { if ("t-x-d-d" === t.type) { var r = new ct.CotEvent(Object(P.a)({}, t, { detail: t.detail ? Object(L.safeConstruct)(ct.CotEventDetail, t.detail) : null })), n = e.getContacts().find(function (e) { return e.address.identifier === function (e) { var t = e.detail; if (t) { var r = t.xml; if (r && r.link) { var n = r.link[L.XML_ATTRIBUTE_KEY]; return n ? n.uid : void 0 } } }(r) }); n && e.store.dispatch(Ve(n, 1e6)), e.store.dispatch(Ee(r)) } }), Td("cotStorage").once("load", function (e) { var t = e.filter(function (e) { return "t-x-d-d" === e.type }); sn().dispatch(Ee(t.toArray())) }) }), e.socketService.on("disconnect", function () { e.stopPolling() }), e.unsubscribe = e.store.subscribe(e.onStoreChange), e.previousState = e.store.getState().chat, e.statusCheckTimer = self.setTimeout(e.updateContactStatuses, r.STATUS_CHECK_INTERVAL), e } return Object(j.a)(r, [{ key: "getContactByAddress", value: function (e) { if (!this.hasContactForAddress(e)) throw new Error('ContactService.getContactByAddress cannot retrieve unknown address "'.concat(e.toString(), '".')); return this.previousState.getContact(e) } }, { key: "hasContactForAddress", value: function (e) { return this.previousState.hasContact(e) } }, { key: "getContacts", value: function () { return this.previousState.getContacts() } }, { key: "getLastSeen", value: function (e) { return this.previousState.getLastSeen(e) } }, { key: "getAddressStatus", value: function (e) { var t = Object(wn.a)(Date.now(), this.getLastSeen(e)); return function (e) { return e >= 36e5 }(t) ? ze.OFFLINE : function (e) { return e <= 36e5 && e >= 9e4 }(t) ? ze.AWAY : ze.ONLINE } }, { key: "loadContacts", value: function (e) { var t = [].concat(e); if (!t.every(function (e) { return ke(e) })) throw new TypeError("ContactService.addContacts first arguments must be one or many instances of Contact, or valid Contact constructor parameters."); var r, n = this.store.getState(), a = n.chat, o = n.user, i = Me({ isIndividual: !0, type: v.UID, identifier: o.clientSeed }), c = [], s = [], u = An(t); try { for (u.s(); !(r = u.n()).done;) { var l = r.value, f = Me(l.address); if (!i || !i.equals(f)) (a.hasContact(f) ? a.getContact(f) : null) ? s.push(l) : c.push(l) } } catch (d) { u.e(d) } finally { u.f() } c.length && this.store.dispatch(function (e, t) { return { type: Be.LOAD_CONTACTS, payload: { contacts: [].concat(e).map(function (e) { var t = e.address; return { name: e.name, address: Me(t) } }), lastSeen: t } } }(c)), s.length && this.store.dispatch(Ve(s)) } }, { key: "stopPolling", value: function () { null !== this.pollingTimer && (self.clearTimeout(this.pollingTimer), this.pollingTimer = null) } }, { key: "startPolling", value: function () { this.stopPolling(), this.pollingTimer = self.setTimeout(this.retrieveContacts, r.POLL_INTERVAL) } }]), r }(L.Service); function kn(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } jn.create = jn.factory(), jn.POLL_INTERVAL = 15e3, jn.STATUS_CHECK_INTERVAL = 5e3; var Rn = function (e) { Object(k.a)(r, e); var t = kn(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).pendingRemovalTimer = null, e.pendingRemovals = [], e.isDispatching = !1, e.addressRegistry = {}, e.socketService = Sn.create(), e.store = sn(), e.unsubscribe = void 0, e.onStoreChange = function () { if (e.isDispatching) Object(L.queueTask)(e.onStoreChange); else { var t = e.store.getState().chat.pendingMessages; t.count() && t.forEach(function (t) { e.pendingRemovals.includes(t) || e.dispatchMessage(t) }) } }, e.flushPendingRemovals = function () { null !== e.pendingRemovalTimer && (clearTimeout(e.pendingRemovalTimer), e.pendingRemovalTimer = null); var t, r = Object(D.a)(e.pendingRemovals); e.pendingRemovals = [], e.store.dispatch((t = r, { type: Be.REMOVE_PENDING_MESSAGES, payload: [].concat(t) })) }, e.store = sn(), e.unsubscribe = e.store.subscribe(e.onStoreChange), e } return Object(j.a)(r, [{ key: "registerAddressHandler", value: function (e, t, r) { if (!Object(L.isNonEmptyString)(e)) throw new Error("MessagingService.registerAddressHandler first argument must be a non-empty string."); if (this.hasAddressHandler(e)) throw new Error('MessagingService.registerAddressHandler cannot re-register addressType "'.concat(e, '".')); if (!Object(L.isFunction)(t)) throw new TypeError('MessagingService.registerAddressHandler third argument must be of type "function", got "'.concat(typeof t, '".')); if (!Object(L.isFunction)(r)) throw new TypeError('MessagingService.registerAddressHandler fourth argument must be of type "function", got "'.concat(typeof r, '".')); this.addressRegistry[e] = { type: e, getIcon: r, sendMessage: t } } }, { key: "hasAddressHandler", value: function (e) { return !!(t = this.addressRegistry[e]) && Object(L.isFunction)(t.getIcon) && Object(L.isFunction)(t.sendMessage); var t } }, { key: "getAddressIconURL", value: function (e) { if (!this.hasAddressHandler(e.type)) throw new Error('MessagingService.getAddressIconURL cannot get icon for unknown address type "'.concat(e.type, '".')); return this.addressRegistry[e.type].getIcon(e) } }, { key: "receiveMessages", value: function (e) { var t = [].concat(e); if (!t.every(function (e) { return e instanceof Fe })) throw new TypeError("MessagingService.receiveMessages first argument must be a Message or array of Messages."); this.store.dispatch(function (e) { var t = [].concat(e), r = [], n = 0; return t.forEach(function (e) { e instanceof Fe ? r.push(e) : (console.warn("receiveChatMessages Skipping invalid Chat Message:", e), n++) }), { type: Be.RECEIVE_CHAT_MESSAGES, payload: t, meta: { invalidMessageCount: n } } }(t)) } }, { key: "dispatchMessage", value: function (e) { var t = this, r = null; if (e.address.type in this.addressRegistry) { r = this.addressRegistry[e.address.type], this.isDispatching = !0; try { r.sendMessage(e, function () { return t.queueRemoveMessage(e) }) } catch (n) { console.error(n), this.queueRemoveMessage(e) } this.isDispatching = !1 } } }, { key: "queueRemoveMessage", value: function (e) { null === this.pendingRemovalTimer && (this.pendingRemovalTimer = window.setTimeout(this.flushPendingRemovals, r.REMOVAL_FLUSH_DELAY)), this.pendingRemovals.push(e) } }]), r }(L.Service); Rn.REMOVAL_FLUSH_DELAY = 250, Rn.create = Rn.factory(); var Nn = r(313); function Ln(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var _n = function (e) { Object(k.a)(r, e); var t = Ln(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).store = sn(), e.unsubscribe = void 0, e.previousChat = void 0, e.previousMessages = void 0, e.previousMessageIds = void 0, e.onStoreChange = Object(L.throttle)(function () { var t = e.store.getState().chat; if (t.getContacts() !== e.previousChat.getContacts()) { var r = t.getContacts().map(function (e) { return e.messages }).flatten().toSet(), n = r.subtract(e.previousMessages), a = e.previousMessages.subtract(r); e.previousChat = t, e.previousMessages = r, e.previousMessageIds = r.map(function (e) { return e.id }), n.count() && e.storeMessages(n), a.count() && e.removeMessages(a.map(function (e) { return e.id }).toArray()) } }, r.EVENT_STORAGE_FREQUENCY), e.previousChat = e.store.getState().chat, e.previousMessages = e.previousChat.getContacts().map(function (e) { return e.messages }).flatten().toSet(), e.previousMessageIds = e.previousMessages.map(function (e) { return e.id }), e.loadExistingMessages(), e.unsubscribe = e.store.subscribe(e.onStoreChange), e } return Object(j.a)(r, [{ key: "storeMessages", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, Object(Nn.saveMessages)(t.toJS()); case 2: case "end": return e.stop() } }, e) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "removeMessages", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, Object(Nn.deleteMessages)(t); case 2: case "end": return e.stop() } }, e) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "loadExistingMessages", value: function () { var e = Object(o.a)(a.a.mark(function e() { var t, r = this; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, Object(Nn.getAllMessages)(); case 2: (t = e.sent.filter(function (e) { return Re(e) && !r.previousMessageIds.includes(e.id) })).length && this.store.dispatch(He(t)); case 4: case "end": return e.stop() } }, e, this) })); return function () { return e.apply(this, arguments) } }() }]), r }(L.Service); function In(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } _n.create = _n.factory(), _n.EVENT_STORAGE_FREQUENCY = 3e3; var Mn, xn, Dn, Pn = function (e) { Object(k.a)(r, e); var t = In(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).messageBuffer = [], e.flushBufferTimer = null, e.socketService = Sn.create(), e.store = sn(), e.onSocketMessage = function (t) { e.ingestMessage(t) }, e.onFlushBuffer = function () { var t = Object(D.a)(e.messageBuffer); e.flushBufferTimer = null, e.messageBuffer = [], t.length && e.store.dispatch(function (e) { var t = [].concat(e), r = [], n = 0; return t.forEach(function (e) { oe(e) ? r.push(e) : (console.warn("receiveMessages Skipping invalid CotEvent:", e), n++) }), { type: he.RECEIVE_MESSAGES, payload: r, meta: { invalidMessageCount: n } } }(t)) }, e.socketService.on("message", e.onSocketMessage), e } return Object(j.a)(r, [{ key: "ingestMessage", value: function (e) { this.flushBufferTimer || (this.flushBufferTimer = window.setTimeout(this.onFlushBuffer, r.MESSAGE_BUFFER_DELAY)), this.messageBuffer.push(e) } }]), r }(L.Service); function Un(e) { return "string" === typeof e ? Dn.STRING : "function" === typeof e ? Dn.FUNCTION : Dn.REGEXP } Pn.create = Pn.factory(), Pn.MESSAGE_BUFFER_DELAY = 1e3, function (e) { e[e.NONE = 0] = "NONE", e[e.FIRST_IN = 1] = "FIRST_IN", e[e.LAST_IN = 2] = "LAST_IN", e[e.MOST_SPECIFIC = 3] = "MOST_SPECIFIC" }(xn || (xn = {})), function (e) { e[e.STRING = 3] = "STRING", e[e.REGEXP = 2] = "REGEXP", e[e.FUNCTION = 1] = "FUNCTION" }(Dn || (Dn = {})); var Bn = function (e) { return function (t, r, n) { var a = [], o = [], i = e(r, n); return i ? (a.push(i[1]), o.push(i)) : (i = e(t, n)) && a.push(i[1]), [a, o] } }, Fn = Bn(function (e, t) { for (var r = 0; r < e.length; r++) { var n = e[r]; if (qn(n[0], t)) return n } return null }), Vn = Bn(function (e, t) { for (var r = null, n = 0; n < e.length; n++) { var a = e[n]; qn(a[0], t) && (r = a) } return r }), Hn = Bn(function (e, t) { for (var r = null, n = 0; n < e.length; n++) { var a = e[n]; (!r || Un(a[0]) > Un(r[0])) && qn(a[0], t) && (r = a) } return r }), Gn = (Mn = {}, Object(C.a)(Mn, xn.NONE, function (e, t, r) { var n = [], a = [], o = function (e, t) { qn(e[0], r) && (n.push(e[1]), t && a.push(e)) }; return e.forEach(function (e) { o(e, !1) }), t.forEach(function (e) { o(e, !0) }), [n, a] }), Object(C.a)(Mn, xn.FIRST_IN, Fn), Object(C.a)(Mn, xn.LAST_IN, Vn), Object(C.a)(Mn, xn.MOST_SPECIFIC, Hn), Object(L.isInstanceOf)(RegExp)); function qn(e, t) { if (Object(L.isString)(e)) return t.type === e; if (Object(L.isFunction)(e)) return !!e(t); if (Gn(e)) return e.test(t.type); throw new X("matchesFilter", 'argument "filter"', "string, function, or instance of RegExp.") } var Kn, zn = r(62), Yn = (r(547), r(147)), Wn = r(285), Xn = r(195), Jn = r(302), Zn = r(56), Qn = r(106), $n = r(117), ea = Object(L.createEmitter)(), ta = !1; function ra() { if (!ta) { var e = sn(); Kn = e.getState(), Object.keys(Kn), e.subscribe(function () { ea.emit("storeChange", e.getState()), Kn = e.getState() }), ta = !0 } } function na(e, t) { ra(); var r = null, n = Kn[e], a = function (a) { n.equals(a[e]) || (n = a[e], r = Object(L.queueTask)(function () { r = null, t(a[e]) })) }; return function (e) { ra(), ea.on("storeChange", e) }(a), function () { var e; r && (r(), r = null), e = a, ra(), ea.off("storeChange", e) } } var aa = r(16), oa = r(54), ia = r(92), ca = r(295); function sa(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var ua = function (e) { Object(k.a)(r, e); var t = sa(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).mapItems = {}, e.itemQueue = [], e.mapItemsGroup = new Qn.b({ visible: !0, opacity: 1 }), e.map = void 0, e.map3d = void 0, e.mapState = void 0, e.lockedToState = void 0, e.vectorLayersMap = new Map, e.onMoveEvent = function (t) { try { if (e.getFeaturesAtPixel(t.pixel).length && e.map) document.getElementsByTagName("html")[0].style.cursor = "pointer"; else { var r = document.getElementsByTagName("html")[0].style.cursor; document.getElementsByTagName("html")[0].style.cursor = "pointer" !== r ? r : "" } } catch (fA) { } }, e.onLockedItemMove = Object(L.throttle)(function () { try { if (e.map && e.lockedToState) { var t = Object(Xe.a)(e.lockedToState, 1)[0], r = e.getItem(t).getExtent(); if (r) { var n = Object(aa.w)(r); e.map.getView().animate({ center: n, duration: 300 }) } } } catch (fA) { wr.create().error("MapRenderingService.onLockedItemMove: There was an error moving centering the map for locked item. Error - ".concat(fA)) } }, 1e3), void 0 === V(h.CLUSTER_DEFAULT_COTS, function (e) { if (void 0 !== e) return e }) && F(h.CLUSTER_DEFAULT_COTS, !0), e.mapState = sn().getState().map, e.onMapStateChange = e.onMapStateChange.bind(Object(K.a)(e)), e.onLockedItemMove = e.onLockedItemMove.bind(Object(K.a)(e)), na("map", e.onMapStateChange.bind(Object(K.a)(e))), hi.create().onMapReady(function (t, r) { e.map = t, e.map3d = r, e.map.getLayers().push(e.mapItemsGroup), e.map.on("click", e.onMapClick.bind(Object(K.a)(e))), e.map.on("pointermove", e.onMoveEvent.bind(Object(K.a)(e))), e.itemQueue.forEach(function (t) { e.addItem(t) }), e.itemQueue = [] }), e } return Object(j.a)(r, [{ key: "getMap3DScene", value: function () { return this.map3d.getCesiumScene() } }, { key: "hasItem", value: function (e) { return !!this.mapItems[e] } }, { key: "getItem", value: function (e) { if (!this.hasItem(e)) throw Error("MapRenderingService.getItem Cannot get MapItem not rendered."); return this.mapItems[e] } }, { key: "addItem", value: function (e) { this.map ? (this.mapItems[e.id] = e, this.vectorLayersMap.has(e.getMapItemTypeId()) || this.mapItemsGroup.getLayers().push(e.getVectorLayer()), e.setMap(this.map), e.render(), this.mapState.lockedTo === e.id && (this.onMapStateChange(this.mapState.set("lockedTo", void 0)), this.onMapStateChange(this.mapState.set("lockedTo", e.id)))) : this.itemQueue.push(e) } }, { key: "addCotItem", value: function (e) { var t; if (this.vectorLayersMap.has(e.getMapItemTypeId())) t = this.vectorLayersMap.get(e.getMapItemTypeId()); else { var r = new ia.a({ features: [] }), n = V(h.CLUSTER_DEFAULT_COTS, function (e) { if (e) return e }); "default-cot-map-item" === e.getMapItemTypeId() && n && (r = new ca.a({ createCluster: function (e, t) { var r = new Zn.a; return r.setGeometry(e), r.setProperties({ cluster: !0, mapItemIds: t.map(function (e) { return e.getProperties().mapItemId }), features: t }), r }, source: new ia.a({ features: [] }) })).setProperties({ clusterSource: !0 }), t = new $n.a({ zIndex: xr.MARKER, className: e.getMapItemTypeId(), source: r, visible: !0 }) } e.setVectorLayer(t), this.addItem(e), this.vectorLayersMap.set(e.getMapItemTypeId(), t) } }, { key: "setDefaultMapItemClusterSource", value: function (e) { var t = this.vectorLayersMap.get("default-cot-map-item"); if (t) { var r = t.getSource(); if (e && !r.get("clusterSource")) { var n = r.getFeatures(), a = new ca.a({ createCluster: function (e, t) { var r = new Zn.a; return r.setGeometry(e), r.setProperties({ cluster: !0, mapItemIds: t.map(function (e) { return e.getProperties().mapItemId }), features: t }), r }, source: new ia.a({ features: n }) }); a.setProperties({ clusterSource: !0 }), t.setSource(a), r.dispose() } else if (!e && r.get("clusterSource")) { var o = r.getSource().getFeatures(), i = new ia.a({ features: o }); t.setSource(i), r.dispose() } } F(h.CLUSTER_DEFAULT_COTS, e) } }, { key: "removeItem", value: function (e) { try { if (!this.hasItem(e)) throw Error("MapRenderingService.removeItem cannot before item not on map."); var t = this.mapItems[e]; return "generic" === t.type && t.getVectorLayer().dispose(), t.dispose(), this.lockedToState && this.lockedToState[0] === e && (this.lockedToState[1]("move", this.onLockedItemMove), sn().dispatch(Ot(void 0))), delete this.mapItems[e], null } catch (fA) { return fA } } }, { key: "onMapClick", value: function (e) { if (!(Td("map").isExclusive() || Td("menu").isOpened())) try { var t = this.getFeaturesAtPixel(e.pixel); switch (Td("map").getMapMode()) { case St.DEFAULT: if (0 === t.length) return; if (1 === t.length) return void (t[0].getProperties().cluster ? this.handleClusterItemClick(t, e) : this.handleSingleItemClick(t, e)); if (t.length > 1) return void this.handleMultiItemClick(t, e); break; case St.SELECT: if (0 === t.length) return; if (1 === t.length) return void (t[0].get("cluster") ? this.handleClusterItemSelect(t, e) : this.handleSingleItemSelect(t, e)); if (t.length > 1) return void this.handleMultiItemSelect(t, e); break; case St.EXCLUSIVE: } } catch (fA) { wr.create().error("MapRenderingService.onClick: Un-able to properly handle click event. ".concat(fA)) } } }, { key: "onMapStateChange", value: function (e) { if (e.lockedTo !== this.mapState.lockedTo) { if (void 0 === e.lockedTo) { if (this.lockedToState && "function" === typeof this.lockedToState[1]) { var t = Object(Xe.a)(this.lockedToState, 2), r = (t[0], t[1]); try { r("move", this.onLockedItemMove) } catch (fA) { wr.create().error('MapRenderingService.onMapStateChange: Unable to unsubscribe from "move". '.concat(fA)) } } } else if (this.hasItem(e.lockedTo)) { var n = this.getItem(e.lockedTo); if (!["on", "once", "off"].every(function (e) { return "function" === typeof n[e] })) return void wr.create().error('MapRenderingService.onMapStateChange: Map Lock Item must implement an IEventable, and emit a "move" event.'); n.on("move", this.onLockedItemMove), this.lockedToState = [n.id, n.off] } else wr.create().error("MapRenderingService.onMapStateChange: Attempting to Lock to item not on the map."); this.mapState = e } } }, { key: "getFeaturesAtPixel", value: function (e) { var t = []; this.map3d && this.map3d.getEnabled() ? this.map3d.getCesiumScene().drillPick(new oa.Cartesian2(e[0], e[1])).forEach(function (e) { "undefined" !== typeof e && t.push(e.primitive.olFeature) }) : this.map.forEachFeatureAtPixel(e, function (e) { t.push(e) }); return t } }, { key: "handleSingleItemClick", value: function (e, t) { var r = e[0].getProperties().mapItemId; this.hasItem(String(r)) && this.getItem(String(r)).onClick(t, e) } }, { key: "handleMultiItemClick", value: function (e, t) { var r = this; if (e.every(function (t) { return t.getProperties().mapItemId === e[0].getProperties().mapItemId })) { var n = e[0].getProperties().mapItemId; this.hasItem(String(n)) && this.getItem(String(n)).onClick(t, e) } else { this.emit("multi-item-click", function e(t) { var n = []; return t.forEach(function (t) { if (t.get("cluster") && t.get("features")) { var a = t.get("features"), o = e(a); n.push.apply(n, Object(D.a)(o)) } var i = t.getProperties().mapItemId; if (r.hasItem(i) && !n.some(function (e) { var t = Object(Xe.a)(e, 2), r = t[0]; return t[1], r.id === i })) { var c = r.getItem(i); n.push([c, "cot" === c.type && c.getFeatures() ? c.getFeatures() : [t]]) } }), n }(e), t) } } }, { key: "handleClusterItemClick", value: function (e, t) { var r = e[0].getProperties().mapItemIds, n = e[0].get("features"); if (1 === r.length) this.handleSingleItemClick(n, t); else if (r.length > 1) { var a = Object(aa.j)(); n.forEach(function (e) { Object(aa.p)(a, e.getGeometry().getExtent()) }), this.map.getView().fit(a, { duration: 1e3, padding: [200, 200, 200, 200] }), this.handleMultiItemClick(n, t) } } }, { key: "handleClusterItemSelect", value: function (e, t) { var r = e[0].getProperties().mapItemIds, n = e[0].get("features"); if (1 === r.length) this.handleSingleItemSelect(n, t); else if (r.length > 1) { var a = Object(aa.j)(); n.forEach(function (e) { Object(aa.p)(a, e.getGeometry().getExtent()) }), this.map.getView().fit(a, { duration: 1e3, padding: [200, 200, 200, 200] }), this.handleMultiItemSelect(n, t) } } }, { key: "handleMultiItemSelect", value: function (e, t) { var r = this, n = []; e.forEach(function (e) { var t = e.getProperties().mapItemId; if (r.hasItem(t) && !n.some(function (e) { return e.id === t })) { var a = r.getItem(t); n.push(a) } }), this.emit("items-selected", n) } }, { key: "handleSingleItemSelect", value: function (e, t) { var r = e[0].getProperties().mapItemId; if (this.hasItem(String(r))) { var n = this.getItem(String(r)); this.emit("items-selected", [n]) } } }]), r }(L.Service); ua.create = ua.factory(); var la, fa, da, pa, ma = ua, ha = (r(583), function () { }), va = Object(i.createContext)({ allowPoints: !1, type: "mgrs", setCoordinate: ha, onClear: ha, onCopy: ha, setIsValid: ha, setSelectedCotType: ha, emitter: Object(L.createEmitter)() }), ga = (r(584), Object(d.getClasses)("coordinate-mgrs", ["dialog-body", "actions"], [])), ba = function () { var e = Object(i.useState)(""), t = Object(Xe.a)(e, 2), r = t[0], n = t[1], a = Object(i.useState)(""), o = Object(Xe.a)(a, 2), s = o[0], u = o[1], l = Object(i.useState)(""), f = Object(Xe.a)(l, 2), p = f[0], m = f[1], h = Object(i.useState)(""), v = Object(Xe.a)(h, 2), g = v[0], b = v[1], y = Object(i.useContext)(va), E = y.coordinate, O = y.setCoordinate, S = y.setIsValid, w = y.emitter; Object(i.useEffect)(function () { if (E && Object(L.isCoordinate)([E[1], E[0]])) try { var e = Object(L.toMGRS)(E[0], E[1]); e && (n(e.zone), u(e.square), m(e.easting), b(e.northing), S(!0)) } catch (fA) { } else S(!1) }, []), Object(i.useEffect)(function () { var e = function () { n(""), u(""), m(""), b(""), S(!1) }; return w.on("clear", e), function () { w.off("clear", e) } }, []); var A = Object(i.useCallback)(function (e, t) { var a = r, o = s, i = p, c = g; if ("zone" === e ? (a = t, n(t)) : "square" === e ? (o = t, u(t)) : "easting" === e ? (i = t, m(t)) : "northing" === e && (c = t, b(t)), a && o && i && c) try { var l = Object(L.mgrsToLatLon)({ zone: a, square: o, easting: i, northing: c }); O([l.latitude, l.longitude]), S(!0) } catch (fA) { S(!1) } else S(!1) }, [n, u, m, b, r, s, p, g, O]); return c.a.createElement("div", { className: ga.BASE }, c.a.createElement(d.TextInput, { placeholder: "Zone", value: r, onChange: function (e) { return A("zone", String(e.target.value).toUpperCase()) } }), c.a.createElement(d.TextInput, { placeholder: "Square", value: s, onChange: function (e) { return A("square", String(e.target.value).toUpperCase()) } }), c.a.createElement(d.TextInput, { placeholder: "Easting", value: p, onChange: function (e) { return A("easting", String(e.target.value).toUpperCase()) } }), c.a.createElement(d.TextInput, { placeholder: "Northing", value: g, onChange: function (e) { return A("northing", String(e.target.value).toUpperCase()) } })) }, ya = (r(585), Object(d.getClasses)("coordinate-utm", [], [])), Ea = function () { var e = Object(i.useState)(""), t = Object(Xe.a)(e, 2), r = t[0], n = t[1], a = Object(i.useState)(""), o = Object(Xe.a)(a, 2), s = o[0], u = o[1], l = Object(i.useState)(""), f = Object(Xe.a)(l, 2), p = f[0], m = f[1], h = Object(i.useContext)(va), v = h.coordinate, g = h.setCoordinate, b = h.setIsValid, y = h.emitter; Object(i.useEffect)(function () { if (v && Object(L.isCoordinate)([v[1], v[0]])) try { var e = Object(L.toUTM)(v[0], v[1]); e && (n(e.zone), u(e.easting), m(e.northing), b(!0)) } catch (fA) { } else b(!1) }, []), Object(i.useEffect)(function () { var e = function () { n(""), u(""), m(""), b(!1) }; return y.on("clear", e), function () { y.off("clear", e) } }, []); var E = Object(i.useCallback)(function (e, t) { var a = r, o = s, i = p; if ("zone" === e ? (a = t, n(t)) : "easting" === e ? (o = t, u(t)) : "northing" === e && (i = t, m(t)), a && o && i) try { var c = Object(L.utmToLatLon)({ zone: a, easting: o, northing: i, hemisphere: "N" }); g([c.latitude, c.longitude]), b(!0) } catch (fA) { b(!1) } }, [n, u, m, r, s, p, g]); return c.a.createElement("div", { className: ya.BASE }, c.a.createElement(d.TextInput, { placeholder: "Zone", value: r, onChange: function (e) { return E("zone", String(e.target.value).toUpperCase()) } }), c.a.createElement(d.TextInput, { placeholder: "Easting", value: s, onChange: function (e) { return E("easting", String(e.target.value).toUpperCase()) } }), c.a.createElement(d.TextInput, { placeholder: "Northing", value: p, onChange: function (e) { return E("northing", String(e.target.value).toUpperCase()) } })) }, Oa = (r(586), Object(d.getClasses)("coordinate-dd", ["actions"], [])), Sa = function () { var e = Object(i.useState)(""), t = Object(Xe.a)(e, 2), r = t[0], n = t[1], a = Object(i.useState)(""), o = Object(Xe.a)(a, 2), s = o[0], u = o[1], l = Object(i.useContext)(va), f = l.coordinate, p = l.setCoordinate, m = l.setIsValid, h = l.emitter; Object(i.useEffect)(function () { if (f && Object(L.isCoordinate)([f[1], f[0]])) try { n(f[0].toFixed(7)), u(f[1].toFixed(7)), m(!0) } catch (fA) { } else m(!1) }, []), Object(i.useEffect)(function () { var e = function () { n(""), u(""), m(!1) }; return h.on("clear", e), function () { h.off("clear", e) } }, []); var v = function (e, t) { var a = r, o = s; "latitude" === e ? (a = t, n(t)) : "longitude" === e && (o = t, u(t)), a && o && Object(L.isCoordinate)([Number(o), Number(a)]) ? (p([Number(a), Number(o)]), m(!0)) : m(!1) }; return c.a.createElement("div", { className: Oa.BASE }, c.a.createElement("label", { className: Object(d.className)(Object(d.prefix)("label"), Object(d.prefix)("label--inline")) }, c.a.createElement("span", null, "Latitude "), c.a.createElement(d.TextInput, { type: "number", placeholder: "latitude", value: r, onChange: function (e) { return v("latitude", e.target.value) } }), c.a.createElement("small", null, "\xb0")), c.a.createElement("label", { className: Object(d.className)(Object(d.prefix)("label"), Object(d.prefix)("label--inline")) }, c.a.createElement("span", null, "Longitude"), c.a.createElement(d.TextInput, { type: "number", placeholder: "longitude", value: s, onChange: function (e) { return v("longitude", e.target.value) } }), c.a.createElement("small", null, "\xb0"))) }, wa = (r(587), Object(d.getClasses)("coordinate-dms", ["actions"], [])), Aa = function () { var e = Object(i.useState)(""), t = Object(Xe.a)(e, 2), r = t[0], n = t[1], a = Object(i.useState)(""), o = Object(Xe.a)(a, 2), s = o[0], u = o[1], l = Object(i.useState)(""), f = Object(Xe.a)(l, 2), p = f[0], m = f[1], h = Object(i.useState)(""), v = Object(Xe.a)(h, 2), g = v[0], b = v[1], y = Object(i.useState)(""), E = Object(Xe.a)(y, 2), O = E[0], S = E[1], w = Object(i.useState)(""), A = Object(Xe.a)(w, 2), C = A[0], T = A[1], j = Object(i.useContext)(va), k = j.coordinate, R = j.setCoordinate, N = j.setIsValid, _ = j.emitter; Object(i.useEffect)(function () { if (k && Object(L.isCoordinate)([k[1], k[0]])) try { var e = Object(L.toDMS)(k[0], k[1]); e && ("S" === e.latitude.direction && (e.latitude.degrees = -1 * Number(e.latitude.degrees)), n(String(e.latitude.degrees)), u(String(e.latitude.minutes)), m(String(e.latitude.seconds)), "W" === String(e.longitude.direction) && (e.longitude.degrees = -1 * Number(e.longitude.degrees)), b(String(e.longitude.degrees)), S(String(e.longitude.minutes)), T(String(e.longitude.seconds)), N(!0)) } catch (fA) { } else N(!1) }, []), Object(i.useEffect)(function () { var e = function () { n(""), u(""), m(""), b(""), S(""), T(""), N(!1) }; return _.on("clear", e), function () { _.off("clear", e) } }, []); var I = Object(i.useCallback)(function (e, t) { var a = { latDeg: r, latMin: s, latSec: p, lonDeg: g, lonMin: O, lonSec: C }; if ({ latDeg: n, latMin: u, latSec: m, lonDeg: b, lonMin: S, lonSec: T }[e](t), a[e] = t, Object.values(a).every(function (e) { return e })) try { var o = { degrees: a.latDeg, minutes: a.latMin, seconds: a.latSec }, i = { degrees: a.lonDeg, minutes: a.lonMin, seconds: a.lonSec }, c = Object(L.dmsToLatLon)(o, i); R([c[0], c[1]]), N(!0) } catch (fA) { N(!1) } else N(!1) }, [r, s, p, g, O, C, n, u, m, b, S, T]); return c.a.createElement("div", { className: wa.BASE }, c.a.createElement("label", { className: Object(d.className)(Object(d.prefix)("label"), Object(d.prefix)("label--inline")) }, c.a.createElement("span", null, "Latitude "), c.a.createElement(d.TextInput, { type: "number", value: r, onChange: function (e) { return I("latDeg", e.target.value) } }), c.a.createElement("small", null, "\xb0"), c.a.createElement(d.TextInput, { type: "number", value: s, onChange: function (e) { return I("latMin", e.target.value) } }), c.a.createElement("small", null, "'"), c.a.createElement(d.TextInput, { type: "number", value: p, onChange: function (e) { return I("latSec", e.target.value) } }), c.a.createElement("small", null, '"')), c.a.createElement("label", { className: Object(d.className)(Object(d.prefix)("label"), Object(d.prefix)("label--inline")) }, c.a.createElement("span", null, "Longitude"), c.a.createElement(d.TextInput, { type: "number", value: g, onChange: function (e) { return I("lonDeg", e.target.value) } }), c.a.createElement("small", null, "\xb0"), c.a.createElement(d.TextInput, { type: "number", value: O, onChange: function (e) { return I("lonMin", e.target.value) } }), c.a.createElement("small", null, "'"), c.a.createElement(d.TextInput, { type: "number", value: C, onChange: function (e) { return I("lonSec", e.target.value) } }), c.a.createElement("small", null, '"'))) }; r(588); !function (e) { e.Warfighting = "S", e["Tactical Graphics"] = "G", e.Metoc = "W", e.Intelligence = "I", e.Mapping = "M", e.Military = "O" }(la || (la = {})), function (e) { e.Pending = "P", e.Unknown = "U", e["Assumed Friendly"] = "A", e.Friendly = "F", e.Neutral = "N", e.Suspect = "S", e.Hostile = "H", e["Exercise Pending"] = "G", e["Exercise Unknown"] = "W", e["Exercise Friendly"] = "D", e["Exercise Neutral"] = "L", e["Exercise Assumed Friendly"] = "M", e.Joker = "J", e.Faker = "K", e["None Specified"] = "O", e.Other = "X" }(fa || (fa = {})), function (e) { e.Space = "P", e.Air = "A", e.Ground = "G", e["Sea Surface"] = "S", e["Sea Subsurface"] = "U", e.SOF = "F" }(da || (da = {})), function (e) { e["Anticipated/Planned"] = "A", e.Present = "P" }(pa || (pa = {})); var Ca, Ta = Object.entries({ P: { "------": "Space Track", "S-----": "Satellite", "V-----": "Crewed Space Vehicle", "T-----": "Space Station", "L-----": "Space Launch Vehicle" }, A: { "------": "Air Track", "M-----": "Military", "MF----": "Fixed Wing", "MFB---": "Bomber", "MFF---": "Fighter", "MFFI--": "Interceptor", "MFT---": "Trainer", "MFA---": "Attack/strike", "MFL---": "V/stol", "MFK---": "Tanker", "MFC---": "Cargo Airlift (Transport)", "MFCL--": "Cargo Airlift (Light)", "MFCM--": "Cargo Airlift (Medium)", "MFCH--": "Cargo Airlift (Heavy)", "MFJ---": "Electronic Countermeasures (Ecm/jammer)", "MFO---": "Medical Evacuation (Medevac)", "MFR---": "Reconnaissance", "MFRW--": "Airborne Early Warning (Aew)", "MFRZ--": "Electronic Surveillance Measures", "MFRX--": "Photographic", "MFP---": "Patrol", "MFPN--": "Antisurface Warfare (Asuw)", "MFPM--": "Mine Countermeasures", "MFU---": "Utility", "MFUL--": "Utility (Light)", "MFUM--": "Utility (Medium)", "MFUH--": "Utility (Heavy)", "MFY---": "Communications", "MFH---": "Combat Search And Rescue (Csar)", "MFD---": "Airborne Command Post (C2)", "MFQ---": "Drone (Rpv/ua)", "MFS---": "Antisubmarine Warfare (Asw) Carrier Based", "MFM---": "Special Operations Forces (Sof)", "MH----": "Rotary Wing", "MHA---": "Attack", "MHS---": "Antisubmarine Warfare/mpa", "MHU---": "Utility", "MHUL--": "Utility (Light)", "MHUM--": "Utility (Medium)", "MHUH--": "Utility (Heavy)", "MHI---": "Mine Countermeasures", "MHH---": "Combat Search And Rescue (Csar)", "MHR---": "Reconnaissance", "MHQ---": "Drone (Rpv/ua)", "MHC---": "Cargo Airlift (Transport)", "MHCL--": "Cargo Airlift (Light)", "MHCM--": "Cargo Airlift (Medium)", "MHCH--": "Cargo Airlift (Heavy)", "MHT---": "Trainer", "MHO---": "Medevac", "MHM---": "Special Operations Forces (Sof)", "MHD---": "Airborne Command Post (C2)", "MHK---": "Tanker", "MHJ---": "Electronic Countermeasures (Ecm/jammer)", "ML----": "Lighter Than Air", "W-----": "Weapon", "WM----": "Weapon Missile In Flight", "WMS---": "Surface Launched Missile", "WMSS--": "Surface to surface Missile (Ssm)", "WMSA--": "Surface to air Missile (Sam)", "WMA---": "Air Launched Missile", "WMAS--": "Air to surface Missile (Asm)", "WMAA--": "Air to air Missile (Aam)", "WMU---": "Subsurface to surface Missile (S/ssm)", "WML---": "Land Attach Missile", "WD----": "Decoy", "C-----": "Civil Aircraft", "CF----": "Fixed Wing", "CH----": "Rotary Wing", "CL----": "Lighter Than Air" }, G: { "------": "Ground Track", "U-----": "Unit", "UC----": "Combat", "UCD---": "Air Defense", "UCDS--": "Short Range", "UCDSC-": "Chaparral", "UCDSS-": "Stinger", "UCDSV-": "Vulcan", "UCDM--": "Air Defense Missile", "UCDML-": "Air Defense Missile Light", UCDMLA: "Air Defense Missile Motorized (Avenger)", "UCDMM-": "Air Defense Missile Medium", "UCDMH-": "Air Defense Missile Heavy", "UCDH--": "H/mad", "UCDHH-": "Hawk", "UCDHP-": "Patriot", "UCDG--": "Gun Unit", "UCDC--": "Composite", "UCDT--": "Targeting Unit", "UCDO--": "Theater Missile Defense Unit", "UCA---": "Armor", "UCAT--": "Armor Track", "UCATA-": "Armor Track Airborne", "UCATW-": "Armor Track Amphibious", UCATWR: "Armor Track Amphibious Recovery", "UCATL-": "Armor Track, Light", "UCATM-": "Armor Track, Medium", "UCATH-": "Armor Track, Heavy", "UCATR-": "Armor Track, Recovery", "UCAW--": "Armor, Wheeled", "UCAWS-": "Armor, Wheeled Air Assault", "UCAWA-": "Armor, Wheeled Airborne", "UCAWW-": "Armor, Wheeled Amphibious", UCAWWR: "Armor, Wheeled Amphibious Recovery", "UCAWL-": "Armor, Wheeled Light", "UCAWM-": "Armor, Wheeled Medium", "UCAWH-": "Armor, Wheeled Heavy", "UCAWR-": "Armor, Wheeled Recovery", "UCAA--": "Antiarmor", "UCAAD-": "Antiarmor Dismounted", "UCAAL-": "Antiarmor Light", "UCAAM-": "Antiarmor Airborne", "UCAAS-": "Antiarmor Air Assault", "UCAAU-": "Antiarmor Mountain", "UCAAC-": "Antiarmor Arctic", "UCAAA-": "Antiarmor Armored", UCAAAT: "Antiarmor Armored Tracked", UCAAAW: "Antiarmor Armored Wheeled", UCAAAS: "Antiarmor Armored Air Assault", "UCAAO-": "Antiarmor Motorized", UCAAOS: "Antiarmor Motorized Air Assault", "UCV---": "Aviation", "UCVF--": "Fixed Wing", "UCVFU-": "Utility Fixed Wing", "UCVFA-": "Attack Fixed Wing", "UCVFR-": "Recon Fixed Wing", "UCVR--": "Rotary Wing", "UCVRA-": "Attack Rotary Wing", "UCVRS-": "Scout Rotary Wing", "UCVRW-": "Antisubmarine Warfare Rotary Wing", "UCVRU-": "Utility Rotary Wing", UCVRUL: "Light Utility Rotary Wing", UCVRUM: "Medium Utility Rotary Wing", UCVRUH: "Heavy Utility Rotary Wing", UCVRUC: "C2 Rotary Wing", UCVRUE: "Medevac Rotary Wing", "UCVRM-": "Mine Countermeasure Rotary Wing", "UCVS--": "Search And Rescue", "UCVC--": "Composite", "UCVV--": "Vertical And/or Short Takeoff And Landing Aircraft(v/stol)", "UCVU--": "Unmanned Aircraft", "UCVUF-": "Unmanned Aircraft Fixed Wing", "UCVUR-": "Unmanned Aircraft Rotary Wing", "UCI---": "Infantry", "UCIL--": "Infantry Light", "UCIM--": "Infantry Motorized", "UCIO--": "Infantry Mountain", "UCIA--": "Infantry Airborne", "UCIS--": "Infantry Air Assault", "UCIZ--": "Infantry Mechanized", "UCIN--": "Infantry Naval", "UCII--": "Infantry Fighting Vehicle", "UCIC--": "Infantry Arctic", "UCE---": "Engineer", "UCEC--": "Engineer Combat", "UCECS-": "Engineer Combat Air Assault", "UCECA-": "Engineer Combat Airborne", "UCECC-": "Engineer Combat Arctic", "UCECL-": "Engineer Combat Light (Sapper)", "UCECM-": "Engineer Combat Medium", "UCECH-": "Engineer Combat Heavy", "UCECT-": "Engineer Combat Mechanized (Track)", "UCECW-": "Engineer Combat Motorized", "UCECO-": "Engineer Combat Mountain", "UCECR-": "Engineer Combat Recon", "UCEN--": "Engineer Construction", "UCENN-": "Engineer Naval Construction", "UCF---": "Field Artillery", "UCFH--": "Howitzer/gun", "UCFHE-": "Self-propelled", "UCFHS-": "Air Assault", "UCFHA-": "Airborne", "UCFHC-": "Arctic", "UCFHO-": "Mountain", "UCFHL-": "Light", "UCFHM-": "Medium", "UCFHH-": "Heavy", "UCFHX-": "Amphibious", "UCFR--": "Rocket", "UCFRS-": "Single Rocket Launcher", UCFRSS: "Single Rocket Self-propelled", UCFRSR: "Single Rocket Truck", UCFRST: "Single Rocket Towed", "UCFRM-": "Multiple Rocket Launcher", UCFRMS: "Multiple Rocket Self-propelled", UCFRMR: "Multiple Rocket Truck", UCFRMT: "Multiple Rocket Towed", "UCFT--": "Target Acquisition", "UCFTR-": "Radar", "UCFTS-": "Sound", "UCFTF-": "Flash (Optical)", "UCFTC-": "Colt/fist", UCFTCD: "Dismounted Colt/fist", UCFTCM: "Tracked Colt/fist", "UCFTA-": "Anglico", "UCFM--": "Mortar", "UCFMS-": "Self-propelled (Sp) Tracked Mortar", "UCFMW-": "Sp Wheeled Mortar", "UCFMT-": "Towed Mortar", UCFMTA: "Towed Airborne Mortar", UCFMTS: "Towed Air Assault Mortar", UCFMTC: "Towed Arctic Mortar", UCFMTO: "Towed Mountain Mortar", "UCFML-": "Amphibious Mortar", "UCFS--": "Artillery Survey", "UCFSS-": "Air Assault", "UCFSA-": "Airborne", "UCFSL-": "Light", "UCFSO-": "Mountain", "UCFO--": "Meteorological", "UCFOS-": "Air Assault Meteorological", "UCFOA-": "Airborne Meteorological", "UCFOL-": "Light Meteorological", "UCFOO-": "Mountain Meteorological", "UCR---": "Reconnaissance", "UCRH--": "Reconnaissance Horse", "UCRV--": "Reconnaissance Cavalry", "UCRVA-": "Reconnaissance Cavalry Armored", "UCRVM-": "Reconnaissance Cavalry Motorized", "UCRVG-": "Reconnaissance Cavalry Ground", "UCRVO-": "Reconnaissance Cavalry Air", "UCRC--": "Reconnaissance Arctic", "UCRS--": "Reconnaissance Air Assault", "UCRA--": "Reconnaissance Airborne", "UCRO--": "Reconnaissance Mountain", "UCRL--": "Reconnaissance Light", "UCRR--": "Reconnaissance Marine", "UCRRD-": "Reconnaissance Marine Division", "UCRRF-": "Reconnaissance Marine Force", "UCRRL-": "Reconnaissance Marine Light Armored Reconnaissnace (Lar)", "UCRX--": "Reconnaissance Long Range Surveillance (Lrs)", "UCM---": "Missile (Surf-surf)", "UCMT--": "Missile (Surf-surf) Tactical", "UCMS--": "Missile (Surf-surf) Strategic", "UCS---": "Internal Security Forces", "UCSW--": "Riverine", "UCSG--": "Ground", "UCSGD-": "Dismounted Ground", "UCSGM-": "Motorized Ground", "UCSGA-": "Mechanized Ground", "UCSM--": "Wheeled Mechanized", "UCSR--": "Railroad", "UCSA--": "Aviation", "UU----": "Combat Support", "UUA---": "Combat Support Cbrn", "UUAC--": "Chemical", "UUACC-": "Smoke/decon", UUACCK: "Mechanized Smoke/decon", UUACCM: "Motorized Smoke/decon", "UUACS-": "Smoke", UUACSM: "Motorized Smoke", UUACSA: "Armor Smoke", "UUACR-": "Chemical Recon", UUACRW: "Chemical Wheeled Armored Vehicle", UUACRS: "Chemical Wheeled Armored Vehicle Reconnaissance ", "UUAN--": "Nuclear", "UUAB--": "Biological", "UUABR-": "Recon Equipped", "UUAD--": "Decontamination", "UUM---": "Military Intelligence", "UUMA--": "Aerial Exploitation", "UUMS--": "Signal Intelligence (Sigint)", "UUMSE-": "Electronic Warfare", UUMSEA: "Armored Wheeled Vehicle", UUMSED: "Direction Finding", UUMSEI: "Intercept", UUMSEJ: "Jamming", UUMSET: "Theater", UUMSEC: "Corps", "UUMC--": "Counterintelligence", "UUMR--": "Surveillance", "UUMRG-": "Ground Surveillance Radar", "UUMRS-": "Sensor", UUMRSS: "Sensor Scm", "UUMRX-": "Ground Station Module", "UUMMO-": "Meteorological", "UUMO--": "Operations", "UUMT--": "Tactical Exploit", "UUMQ--": "Interrogation", "UUMJ--": "Joint Intelligence Center", "UUL---": "Law Enforcement Unit", "UULS--": "Shore Patrol", "UULM--": "Military Police", "UULC--": "Civilian Law Enforcement", "UULF--": "Security Police (Air)", "UULD--": "Central Intelligence Division (Cid)", "UUS---": "Signal Unit", "UUSA--": "Area", "UUSC--": "Communication Configured Package", "UUSCL-": "Large Communication Configured Package (Lccp)", "UUSO--": "Command Operations", "UUSF--": "Forward Communications", "UUSM--": "Multiple Subscriber Element", "UUSMS-": "Small Extension Node", "UUSML-": "Large Extension Node", "UUSMN-": "Node Center", "UUSR--": "Radio Unit", "UUSRS-": "Tactical Satellite", "UUSRT-": "Teletype Center", "UUSRW-": "Relay", "UUSS--": "Signal Support", "UUSW--": "Telephone Switch", "UUSX--": "Electronic Ranging", "UUI---": "Information Warfare Unit", "UUP---": "Landing Support", "UUE---": "Explosive Ordnance Disposal", "US----": "Combat Service Support", "USA---": "Administrative (Admin)", "USAT--": "Admin Theater", "USAC--": "Admin Corps", "USAJ--": "Judge Advocate General (Jag)", "USAJT-": "Jag Theater", "USAJC-": "Jag Corps", "USAO--": "Postal", "USAOT-": "Postal Theater", "USAOC-": "Postal Corps", "USAF--": "Finance", "USAFT-": "Finance Theater", "USAFC-": "Finance Corps", "USAS--": "Personnel Services", "USAST-": "Personnel Theater", "USASC-": "Personnel Corps", "USAM--": "Mortuary/graves Registry", "USAMT-": "Mortuary/graves Registry Theater", "USAMC-": "Mortuary/graves Registry Corps", "USAR--": "Religious/chaplain", "USART-": "Religious/chaplain Theater", "USARC-": "Religious/chaplain Corps", "USAP--": "Public Affairs", "USAPT-": "Public Affairs Theater", "USAPC-": "Public Affairs Corps", "USAPB-": "Public Affairs Broadcast", USAPBT: "Public Affairs Broadcast Theater", USAPBC: "Public Affairs Broadcast Corps", "USAPM-": "Public Affairs Joint Information Bureau (Jib)", USAPMT: "Public Affairs Jib Theater", USAPMC: "Public Affairs Jib Corps", "USAX--": "Replacement Holding Unit (Rhu)", "USAXT-": "Rhu Theater", "USAXC-": "Rhu Corps", "USAL--": "Labor", "USALT-": "Labor Theater", "USALC-": "Labor Corps", "USAW--": "Morale, Welfare, Recreation (Mwr)", "USAWT-": "Mwr Theater", "USAWC-": "Mwr Corps", "USAQ--": "Quartermaster (Supply)", "USAQT-": "Quartermaster (Supply) Theater", "USAQC-": "Quartermaster (Supply) Corps", "USM---": "Medical", "USMT--": "Medical Theater", "USMC--": "Medical Corps", "USMM--": "Medical Treatment Facility", "USMMT-": "Medical Treatment Facility Theater", "USMMC-": "Medical Treatment Facility Corps", "USMV--": "Medical Veterinary", "USMVT-": "Medical Veterinary Theater", "USMVC-": "Medical Veterinary Corps", "USMD--": "Medical Dental", "USMDT-": "Medical Dental Theater", "USMDC-": "Medical Dental Corps", "USMP--": "Medical Psychological", "USMPT-": "Medical Psychological Theater", "USMPC-": "Medical Psychological Corps", "USS---": "Supply", "USST--": "Supply Theater", "USSC--": "Supply Corps", "USS1--": "Supply Class I", "USS1T-": "Supply Class I Theater", "USS1C-": "Supply Class I Corps", "USS2--": "Supply Class Ii", "USS2T-": "Supply Class Ii Theater", "USS2C-": "Supply Class Ii Corps", "USS3--": "Supply Class Iii", "USS3T-": "Supply Class Iii Theater", "USS3C-": "Supply Class Iii Corps", "USS3A-": "Supply Class Iii Aviation", USS3AT: "Supply Class Iii Aviation Theater", USS3AC: "Supply Class Iii Aviation Corps", "USS4--": "Supply Class Iv", "USS4T-": "Supply Class Iv Theater", "USS4C-": "Supply Class Iv Corps", "USS5--": "Supply Class V", "USS5T-": "Supply Class V Theater", "USS5C-": "Supply Class V Corps", "USS6--": "Supply Class Vi", "USS6T-": "Supply Class Vi Theater", "USS6C-": "Supply Class Vi Corps", "USS7--": "Supply Class Vii", "USS7T-": "Supply Class Vii Theater", "USS7C-": "Supply Class Vii Corps", "USS8--": "Supply Class Viii", "USS8T-": "Supply Class Viii Theater", "USS8C-": "Supply Class Viii Corps", "USS9--": "Supply Class Ix", "USS9T-": "Supply Class Ix Theater", "USS9C-": "Supply Class Ix Corps", "USSX--": "Supply Class X", "USSXT-": "Supply Class X Theater", "USSXC-": "Supply Class X Corps", "USSL--": "Supply Laundry/bath", "USSLT-": "Supply Laundry/bath Theater", "USSLC-": "Supply Laundry/bath Corps", "USSW--": "Supply Water", "USSWT-": "Supply Water Theater", "USSWC-": "Supply Water Corps", "USSWP-": "Supply Water Purification", USSWPT: "Supply Water Purification Theater", USSWPC: "Supply Water Purification Corps", "UST---": "Transportation", "USTT--": "Transportation Theater", "USTC--": "Transportation Corps", "USTM--": "Movement Control Center (Mcc)", "USTMT-": "Mcc Theater", "USTMC-": "Mcc Corps", "USTR--": "Railhead", "USTRT-": "Railhead Theater", "USTRC-": "Railhead Corps", "USTS--": "Spod/spoe", "USTST-": "Spod/spoe Theater", "USTSC-": "Spod/spoe Corps", "USTA--": "Apod/apoe", "USTAT-": "Apod/apoe Theater", "USTAC-": "Apod/apoe Corps", "USTI--": "Missile", "USTIT-": "Missile Theater", "USTIC-": "Missile Corps", "USX---": "Maintenance", "USXT--": "Maintenance Theater", "USXC--": "Maintenance Corps", "USXH--": "Maintenance Heavy", "USXHT-": "Maintenance Heavy Theater", "USXHC-": "Maintenance Heavy Corps", "USXR--": "Maintenance Recovery", "USXRT-": "Maintenance Recovery Theater", "USXRC-": "Maintenance Recovery Corps", "USXO--": "Ordnance", "USXOT-": "Ordnance Theater", "USXOC-": "Ordnance Corps", "USXOM-": "Ordnance Missile", USXOMT: "Ordnance Missile Theater", USXOMC: "Ordnance Missile Corps", "USXE--": "Electro-optical", "USXET-": "Electro-optical Theater", "USXEC-": "Electro-optical Corps", "UH----": "Special C2 Headquarters Component", "E-----": "Ground Track Equipment", "EW----": "Weapon", "EWM---": "Missile Launcher", "EWMA--": "Air Defense (Ad) Missile Launcher", "EWMAS-": "Short Range Ad Missile Launcher", EWMASR: "Transporter Launcher And Radar (Tlar)", EWMASE: "Transporter Erector Launcher And Radar (Telar)", "EWMAI-": "Intermediate Range Ad Missile Launcher", EWMAIR: "Transporter Launcher And Radar (Tlar)", EWMAIE: "Transporter Erector Launcher And Radar (Telar)", "EWMAL-": "Long Range Ad Missile Launcher", EWMALR: "Transporter Launcher And Radar (Tlar)", EWMALE: "Transporter Erector Launcher And Radar (Telar)", "EWMAT-": "Ad Missile Launcher Theater", EWMATR: "Transporter Launcher And Radar (Tlar)", EWMATE: "Transporter Erector Launcher And Radar (Telar)", "EWMS--": "Surf-surf (Ss) Missile Launcher", "EWMSS-": "Short Range Ss Missile Launcher", "EWMSI-": "Intermediate Range Ss Missile Launcher", "EWMSL-": "Long Range Ss Missile Launcher", "EWMT--": "Missile Launcher Antitank (At)", "EWMTL-": "Missile Launcher At Light", "EWMTM-": "Missile Launcher At Medium", "EWMTH-": "Missile Launcher At Heavy", "EWS---": "Single Rocket Launcher", "EWSL--": "Single Rocket Launcher Light", "EWSM--": "Single Rocket Launcher Medium", "EWSH--": "Single Rocket Launcher Heavy", "EWX---": "Multiple Rocket Launcher", "EWXL--": "Multiple Rocket Launcher Light", "EWXM--": "Multiple Rocket Launcher Medium", "EWXH--": "Multiple Rocket Launcher Heavy", "EWT---": "Antitank Rocket Launcher", "EWTL--": "Antitank Rocket Launcher Light", "EWTM--": "Antitank Rocket Launcher Medium", "EWTH--": "Antitank Rocket Launcher Heavy", "EWR---": "Rifle/automatic Weapon", "EWRR--": "Rifle", "EWRL--": "Light Machine Gun", "EWRH--": "Heavy Machine Gun", "EWZ---": "Grenade Launcher", "EWZL--": "Grenade Launcher Light", "EWZM--": "Grenade Launcher Medium", "EWZH--": "Grenade Launcher Heavy", "EWO---": "Mortar", "EWOL--": "Mortar Light", "EWOM--": "Mortar Medium", "EWOH--": "Mortar Heavy", "EWH---": "Howitzer", "EWHL--": "Howitzer Light", "EWHLS-": "Howitzer Light Self-propelled", "EWHM--": "Howitzer Medium", "EWHMS-": "Howitzer Medium Self-propelled", "EWHH--": "Howitzer Heavy", "EWHHS-": "Howitzer Heavy Self-propelled", "EWG---": "Antitank Gun", "EWGL--": "Antitank Gun Light", "EWGM--": "Antitank Gun Medium", "EWGH--": "Antitank Gun Heavy", "EWGR--": "Antitank Gun Recoilless", "EWD---": "Direct Fire Gun", "EWDL--": "Direct Fire Gun Light", "EWDLS-": "Direct Fire Gun Light Self-propelled", "EWDM--": "Direct Fire Gun Medium", "EWDMS-": "Direct Fire Gun Medium Self-propelled", "EWDH--": "Direct Fire Gun Heavy", "EWDHS-": "Direct Fire Gun Heavy Self-propelled", "EWA---": "Air Defense Gun", "EWAL--": "Air Defense Gun Light", "EWAM--": "Air Defense Gun Medium", "EWAH--": "Air Defense Gun Heavy", "EV----": "Ground Vehicle", "EVA---": "Armored Vehicle", "EVAT--": "Tank", "EVATL-": "Tank Light", EVATLR: "Tank Light Recovery", "EVATM-": "Tank Medium", EVATMR: "Tank Medium Recovery", "EVATH-": "Tank Heavy", EVATHR: "Tank Heavy Recovery", "EVAA--": "Armored Personnel Carrier", "EVAAR-": "Armored Personnel Carrier Recovery", "EVAI--": "Armored Infantry", "EVAC--": "C2v/acv", "EVAS--": "Combat Service Support Vehicle", "EVAL--": "Light Armored Vehicle", "EVU---": "Utility Vehicle", "EVUB--": "Bus", "EVUS--": "Semi", "EVUSL-": "Semi Light", "EVUSM-": "Semi Medium", "EVUSH-": "Semi Heavy", "EVUL--": "Limited Cross-country Truck", "EVUX--": "Cross-country Truck", "EVUR--": "Water Craft", "EVUT--": "Tow Truck", "EVUTL-": "Tow Truck Light", "EVUTH-": "Tow Truck Heavy", "EVUA--": "Ambulance", "EVUAA-": "Armored Ambulance", "EVE---": "Engineer Vehicle", "EVEB--": "Bridge", "EVEE--": "Earthmover", "EVEC--": "Construction Vehicle", "EVEM--": "Mine Laying Vehicle", "EVEMV-": "Armored Carrier With Volcano", "EVEML-": "Truck Mounted With Volcano", "EVEA--": "Mine Clearing Vehicle", "EVEAA-": "Armored Mounted Mine Clearing Vehicle", "EVEAT-": "Trailer Mounted Mine Clearing Vehicle", "EVED--": "Dozer", "EVEDA-": "Armored Dozer", "EVES--": "Armored Assault", "EVER--": "Armored Engineer Recon Vehicle (Aerv)", "EVEH--": "Backhoe", "EVEF--": "Ferry Transporter", "EVT---": "Train Locomotive", "EVC---": "Civilian Vehicle", "EVCA--": "Automobile", "EVCAL-": "Compact Automobile", "EVCAM-": "Midsize Automobile", "EVCAH-": "Sedan Automobile", "EVCO--": "Open-bed Truck", "EVCOL-": "Pickup Open-bed Truck", "EVCOM-": "Small Open-bed Truck", "EVCOH-": "Large Open-bed Truck", "EVCM--": "Multiple Passenger Vehicle", "EVCML-": "Van Multiple Passenger Vehicle", "EVCMM-": "Small Bus Multiple Passenger Vehicle", "EVCMH-": "Large Bus Multiple Passenger Vehicle", "EVCU--": "Utility Vehicle", "EVCUL-": "Sport Utility Vehicle (Suv), Utility Vehicle", "EVCUM-": "Small Box Truck, Utility Vehicle", "EVCUH-": "Large Box Truck, Utility Vehicle", "EVCJ--": "Jeep Type Vehicle", "EVCJL-": "Small/light Jeep Type Vehicle", "EVCJM-": "Medium Jeep Type Vehicle", "EVCJH-": "Large/heavy Jeep Type Vehicle", "EVCT--": "Tractor Trailer Truck With Box Trailer", "EVCTL-": "Small/light Box Trailer, Tractor Trailer Truck", "EVCTM-": "Medium Box Trailer, Tractor Trailer Truck", "EVCTH-": "Large/heavy Box Trailer, Tractor Trailer Truck", "EVCF--": "Tractor Trailer Truck With Flatbed Trailer", "EVCFL-": "Small/light Flatbed Trailer, Tractor Trailer Truck", "EVCFM-": "Medium Flatbed Trailer, Tractor Trailer Truck", "EVCFH-": "Large/heavy Flatbed Trailer, Tractor Trailer Truck", "EVM---": "Pack Animal(s)", "EVS---": "Missile Support Vehicle", "EVST--": "Missile Support Vehicle Transloader", "EVSR--": "Missile Support Vehicle Transporter", "EVSC--": "Missile Support Vehicle Crane/loading Device", "EVSP--": "Missile Support Vehicle Propellant Transporter", "EVSW--": "Missile Support Vehicle Warhead Transporter", "ES----": "Sensor", "ESR---": "Radar", "ESE---": "Emplaced Sensor", "EX----": "Special Equipment", "EXI---": "Improvised Explosive Device", "EXL---": "Laser", "EXN---": "Cbrn Equipment", "EXF---": "Flame Thrower", "EXM---": "Land Mines", "EXMC--": "Claymore", "EXML--": "Less Than Lethal", "I-----": "Installation", "IR----": "Raw Material Production/storage", "IRM---": "Mine", "IRP---": "Petroleum/gas/oil", "IRN---": "Cbrn", "IRNB--": "Biological", "IRNC--": "Chemical", "IRNN--": "Nuclear", "IP----": "Processing Facility", "IPD---": "Decontamination", "IE----": "Equipment Manufacture", "IU----": "Service, Research, Utility Facility", "IUR---": "Technological Research Facility", "IUT---": "Telecommunications Facility", "IUTR---": "Telecommunications Facility/Radios", "IUE---": "Electric Power Facility", "IUEN--": "Nuclear Plant", "IUED--": "Dam", "IUEF--": "Fossil Fuel", "IUP---": "Public Water Services", "IM----": "Military Materiel Facility", "IMF---": "Nuclear Energy", "IMFA--": "Atomic Energy Reactor", "IMFP--": "Nuclear Material Production", "IMFPW-": "Weapons Grade", "IMFS--": "Nuclear Material Storage", "IMA---": "Aircraft Production & Assembly", "IME---": "Ammunition And Explosives Production", "IMG---": "Armament Production", "IMV---": "Military Vehicle Production", "IMN---": "Engineering Equipment Production", "IMNB--": "Bridge", "IMC---": "Chemical & Biological Warfare Production", "IMS---": "Ship Construction", "IMM---": "Missile & Space System Production", "IG----": "Government Leadership", "IB----": "Military Base/facility", "IBA---": "Airport/airbase", "IBN---": "Seaport/naval Base", "IT----": "Transport Facility", "IX----": "Medical Facility", "IXH---": "Hospital" }, S: { "------": "Sea Surface Track", "C-----": "Combatant", "CL----": "Line", "CLCV--": "Carrier", "CLBB--": "Battleship", "CLCC--": "Cruiser", "CLDD--": "Destroyer", "CLFF--": "Frigate/corvette", "CA----": "Amphibious Warfare Ship", "CALA--": "Assault Vessel", "CALS--": "Landing Ship", "CALC--": "Landing Craft", "CM----": "Mine Warfare Vessel", "CMML--": "Minelayer", "CMMS--": "Minesweeper", "CMMH--": "Minehunter", "CMMA--": "Mcm Support", "CMMD--": "Mcm Drone", "CP----": "Patrol", "CPSB--": "Antisubmarine Warfare", "CPSU--": "Antisurface Warfare", "CH----": "Hovercraft", "S-----": "Station", "SP----": "Picket", "SA----": "Asw Ship", "G-----": "Navy Group", "GT----": "Navy Task Force", "GG----": "Navy Task Group", "GU----": "Navy Task Unit", "GC----": "Convoy", "N-----": "Noncombatant", "NR----": "Underway Replenishment", "NF----": "Fleet Support", "NI----": "Intelligence", "NS----": "Service & Support Harbor", "NM----": "Hospital Ship", "NH----": "Hovercraft", "NN----": "Station", "NNR---": "Rescue", "X-----": "Non-military", "XM----": "Merchant", "XMC---": "Cargo", "XMR---": "Roll On/roll Off", "XMO---": "Oiler/tanker", "XMTU--": "Tug", "XMF---": "Ferry", "XMP---": "Passenger", "XMH---": "Hazardous Materials (Hazmat)", "XMTO--": "Towing Vessel", "XF----": "Fishing", "XFDF--": "Drifter", "XFDR--": "Dredge", "XFTR--": "Trawler", "XR----": "Leisure Craft", "XL----": "Law Enforcement Vessel", "XH----": "Hovercraft", "O-----": "Own Track" }, U: { "------": "Subsurface Track", "S-----": "Submarine", "SN----": "Nuclear Propulsion", "SC----": "Conventional Propulsion", "SO----": "Other Submersible", "SU----": "Unmanned Underwater Vehicle (Uuv)", "W-----": "Underwater Weapon", "WT----": "Torpedo", "WM----": "Sea Mine", "WMD---": "Sea Mine Neutralized", "WMG---": "Sea Mine (Ground)", "WMGD--": "Sea Mine (Ground) Neutralized", "WMM---": "Sea Mine (Moored)", "WMMD--": "Sea Mine (Moored) Neutralized", "WMF---": "Sea Mine (Floating)", "WMFD--": "Sea Mine (Floating) Neutralized", "WMO---": "Sea Mine (Other Position)", "WMOD--": "Sea Mine (Other Position) Neutralized", "WD----": "Underwater Decoy", "WDM---": "Sea Mine Decoy", "N-----": "Non-submarine", "ND----": "Diver" }, F: { "------": "Special Operations Forces (SOF) Unit", "A-----": "SOF Unit Aviation", "AF----": "SOF Unit Fixed Wing", "AFA---": "SOF Unit Attack", "AFK---": "SOF Unit Refuel", "AFU---": "SOF Unit Utility", "AFUL--": "SOF Unit Utility (Light)", "AFUM--": "SOF Unit Utility (Medium)", "AFUH--": "SOF Unit Utility (Heavy)", "AV----": "SOF Unit V/stol", "AH----": "SOF Unit Rotary Wing", "AHH---": "SOF Unit Combat Search And Rescue", "AHA---": "SOF Unit Attack", "AHU---": "SOF Unit Utility", "AHUL--": "SOF Unit Utility (Light)", "AHUM--": "SOF Unit Utility (Medium)", "AHUH--": "SOF Unit Utility (Heavy)", "N-----": "SOF Unit SOF Unit Naval", "NS----": "SOF Unit Seal", "NU----": "SOF Unit Underwater Demolition Team", "NB----": "SOF Unit Special Boat", "NN----": "SOF Unit Special Ssnr", "G-----": "SOF Unit Ground", "GS----": "SOF Unit Special Forces", "GR----": "SOF Unit Ranger", "GP----": "SOF Unit Psychological Operations (Psyop)", "GPA---": "SOF Unit Fixed Wing Aviation", "GC----": "SOF Unit Civil Affairs", "B-----": "SOF Unit Support" } }).reduce(function (e, t) { var r = Object(Xe.a)(t, 2), n = r[0], a = r[1], o = Object.entries(a).map(function (e) { var t = Object(Xe.a)(e, 2), r = t[0], a = t[1], o = Array.from(r.replace(/-/g, "")), i = o.length ? "-".concat(o.join("-")) : ""; return { cot: "a-.-".concat(n).concat(i), desc: a } }); return [].concat(Object(D.a)(e), Object(D.a)(o)) }, new Array), ja = function (e) { var t = String(e).trim(), r = la.Warfighting, n = String(t[2]).toUpperCase(), a = t[4], o = pa.Present, i = t.slice(6).replace(/-/g, "").padEnd(6, "-").toUpperCase(), c = "--"; /^a-.-G-I/.test(t) && (c = "h-"); return "".concat(r).concat(n).concat(a).concat(o).concat(i).concat(c).concat("--").concat("-") }, ka = function (e) { var t = Ta.filter(function (t) { return RegExp(t.cot).test(String(e).trim()) }).pop(); return t ? t.desc : "" }, Ra = Object(q.List)(Ta).filter(function (e) { return !!e.cot && (!e.cot.startsWith("a-.-X") && e.cot.startsWith("a-")) }).groupBy(function (e) { return e.cot.length }), Na = r(154), La = r.n(Na), _a = Object(d.getClasses)("coordinate-actions", ["cot-group", "cot-item", "button-group"], []), Ia = ["none", "b-m-p-s-m", "a-u-G", "a-f-G", "a-h-G", "a-n-G"], Ma = function () { var e = Object(i.useContext)(va), t = e.onClear, r = e.onCopy, n = e.selectedCotType, a = e.setSelectedCotType, o = e.allowPoints, s = Object(i.useMemo)(function () { return o ? Ia.map(function (e) { var t = Object(d.className)(_a.Elements["cot-item"], Object(C.a)({}, "".concat(_a.Elements["cot-item"], "--selected"), e === n)), r = function () { return a(e) }; if ("none" === e) return c.a.createElement("div", { key: e, tabIndex: 0, onClick: r, className: t }, c.a.createElement("span", null, "No Point")); if ("b-m-p-s-m" === e) return c.a.createElement("div", { key: e, tabIndex: 0, onClick: r, className: t }, c.a.createElement(d.Icon, { color: "white", svgPath: "M12,8A4,4 0 0,0 8,12A4,4 0 0,0 12,16A4,4 0 0,0 16,12A4,4 0 0,0 12,8Z" })); var o = ja(e).toLowerCase(), i = new La.a.Symbol(o, { sidc: o, size: 20 }).toDataURL(); return c.a.createElement("div", { key: e, tabIndex: 0, onClick: r, className: t }, c.a.createElement("img", { src: i })) }) : null }, [n, a, o]); return c.a.createElement("div", { className: _a.BASE }, c.a.createElement("div", { className: _a.Elements["cot-group"] }, s), c.a.createElement("div", { className: _a.Elements["button-group"] }, c.a.createElement(d.Button.Secondary, { onClick: t, small: !0 }, "Clear"), c.a.createElement(d.Button.Secondary, { onClick: r, small: !0 }, c.a.createElement(d.Icon, { svgPath: "M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" }), " ", "Copy"))) }; r(589); function xa(e, t, r, n) { var a = !1; Object(i.useEffect)(function () { var n = function () { a && r.apply(void 0, arguments) }; return a = !0, e.on(t, n), function () { a = !1, e.off(t, n) } }, [e, t, r].concat(Object(D.a)(n))) } function Da(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } !function (e) { e.ROLE_ANONYMOUS = "ROLE_ANONYMOUS", e.ROLE_ADMIN = "ROLE_ADMIN", e.ROLE_READONLY = "ROLE_READONLY" }(Ca || (Ca = {})); var Pa = function (e) { Object(k.a)(r, e); var t = Da(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).saeServerService = Pr.create(), e.userRoles = [Ca.ROLE_ANONYMOUS], e.fetchUserRoles(), e.saeServerService.on("change", function () { e.fetchUserRoles() }), e } return Object(j.a)(r, [{ key: "getUserRoles", value: function () { return this.userRoles } }, { key: "fetchUserRoles", value: function () { var e = Object(o.a)(a.a.mark(function e() { var t, r, n; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.prev = 0, t = "".concat(this.saeServerService.getApiURl(), "/util/user/roles"), e.next = 4, fetch(t, { mode: "no-cors" }); case 4: return r = e.sent, e.next = 7, r.json(); case 7: n = e.sent, this.userRoles = n, e.next = 14; break; case 11: e.prev = 11, e.t0 = e.catch(0), this.userRoles = [Ca.ROLE_ANONYMOUS]; case 14: this.emit("role-change", this.userRoles); case 15: case "end": return e.stop() } }, e, this, [[0, 11]]) })); return function () { return e.apply(this, arguments) } }() }]), r }(L.Service); Pa.create = Pa.factory(); var Ua = Pa, Ba = Object(i.createContext)({ isAdmin: !1, isReadonly: !1 }), Fa = function (e) { return e.includes(Ca.ROLE_ADMIN) }, Va = function (e) { return e.includes(Ca.ROLE_READONLY) }, Ha = function (e) { var t = e.children, r = Ua.create(), n = Object(i.useState)(Fa(r.getUserRoles())), a = Object(Xe.a)(n, 2), o = a[0], s = a[1], u = Object(i.useState)(Va(r.getUserRoles())), l = Object(Xe.a)(u, 2), f = l[0], d = l[1]; return xa(r, "role-change", function (e) { s(Fa(e)), d(Va(e)) }, [s, d]), c.a.createElement(Ba.Provider, { value: { isReadonly: f, isAdmin: o } }, t) }, Ga = function (e) { var t = e.onClick, r = Object(i.useContext)(Ba).isReadonly; return c.a.createElement("div", { className: Oo.Elements["palette-items"] }, ["white", "yellow", "orange", "brown", "red", "purple", "blue", "cyan", "green", "gray", "black"].map(function (e, n) { var a = Object(d.className)(Oo.Elements["palette-item"], Object(C.a)({}, Oo.Elements["palette-item-disabled"], r)); return c.a.createElement(d.Icon, { key: n, onClick: r ? function () { } : t(e), className: a, style: { stroke: "#ffffff", strokeWidth: "1px" }, icon: "circle", color: e }) })) }, qa = function (e) { var t = e.onSelectPoint; return c.a.createElement(d.Card, { collapsible: !0, className: Object(d.className)(Oo.Elements.palette, Oo.Modifiers["spot-map"]), title: "Spots" }, c.a.createElement(Ga, { onClick: function (e) { return function (r) { var n = Date.now(), a = Object(L.rgbaToCot)(Object(L.colorToRGBA)(e)), o = new ct.CotEvent({ uid: Object(L.uuid)(), type: "".concat(Nr.SPOT_MARKER), startTime: n, sendTime: n, staleTime: n + 1e10, detail: new ct.CotEventDetail({ contact: new ct.CotEventContact({ callsign: "".concat(e[0].toUpperCase(), " ").concat(Object(L.uuid)().slice(0, 4)), endpoint: "" }), xml: { archive: Object(C.a)({}, L.XML_TEXT_KEY, ""), color: Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { argb: a }), usericon: Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { iconsetpath: "COT_MAPPING_SPOTMAP/b-m-p-s-m/".concat(a) }) }, takv: E(), xmlDetail: null }) }); t(o) } } })) }, Ka = function (e) { var t = e.onSelectPoint, r = e.iconSet, n = Object(i.useContext)(Ba).isReadonly, a = function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "a-u-G", r = arguments.length > 1 ? arguments[1] : void 0, n = arguments.length > 2 ? arguments[2] : void 0; return function (a) { var o = Date.now(), i = new ct.CotEvent({ uid: Object(L.uuid)(), type: e, startTime: o, sendTime: o, staleTime: o + 1e10, detail: new ct.CotEventDetail({ contact: new ct.CotEventContact({ callsign: "".concat(n.slice(0, -4), " ").concat(Object(L.uuid)().slice(0, 4)) }), takv: new ct.CotEventTakv(E()), xml: { archive: Object(C.a)({}, L.XML_TEXT_KEY, ""), usericon: Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { iconsetpath: r }) }, xmlDetail: null }) }); t(i) } }, o = Object(i.useState)(r.defaultGroup), s = Object(Xe.a)(o, 2), u = s[0], l = s[1], f = new Set(r.icons.map(function (e) { return e.groupName })), m = Object(i.useCallback)(function () { return r.icons.filter(function (e) { return e.groupName === u }).map(function (e) { var t = e.name, o = e.groupName, i = e.type2525b, s = o || r.defaultGroup, u = "".concat(r.path, "/").concat(s, "/").concat(t), l = "".concat(p(), "iconsets/").concat(u), f = "".concat(r.uid, "/").concat(o, "/").concat(t), m = Object(d.className)(Oo.Elements["palette-item"], Object(C.a)({}, Oo.Elements["palette-item-disabled"], n)); return c.a.createElement("div", { key: u, className: m }, c.a.createElement("img", { onClick: n ? function () { } : a(i, f, t), src: l, alt: "" })) }) }, [f, u, r]), h = Object(i.useCallback)(function () { return Array.from(f).map(function (e, t) { return c.a.createElement("option", { key: t, value: e }, e) }) }, [f, r]); return c.a.createElement(d.Card, { className: Object(d.className)(Oo.Elements.palette, Oo.Modifiers.custom, "".concat(Oo.Elements.palette, "--").concat(r.name)), collapsible: !0, defaultOpen: !1, title: r.name }, c.a.createElement(d.Select, { className: Oo.Elements["palette-select"], onChange: function (e) { return l(e.currentTarget.value) }, value: u }, h()), c.a.createElement("div", { className: Oo.Elements["palette-items"] }, m())) }; function za(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var Ya = function (e) { Object(k.a)(r, e); var t = za(r); function r() { var e; Object(T.a)(this, r); for (var n = arguments.length, a = new Array(n), o = 0; o < n; o++)a[o] = arguments[o]; return (e = t.call.apply(t, [this].concat(a))).instructionStack = Object(q.Stack)(), e.history = Object(q.Stack)(), e } return Object(j.a)(r, [{ key: "report", value: function () { var e = this.instructionStack.peek(); e && this.emit("change", e) } }, { key: "next", value: function () { var e = this.instructionStack.peek(); e && (this.history = this.history.push(e), this.instructionStack = this.instructionStack.pop(), this.report()) } }, { key: "previous", value: function () { var e = this.history.peek(); e && (this.instructionStack = this.instructionStack.push(e), this.history = this.history.pop(), this.report()) } }, { key: "peek", value: function () { return this.instructionStack.peek() } }, { key: "instruct", value: function () { var e; this.drop(), this.instructionStack = (e = this.instructionStack).push.apply(e, arguments); var t = this.peek(); t && this.emit("change", t) } }, { key: "drop", value: function () { this.history = this.history.clear(), this.instructionStack = this.instructionStack.clear(), this.emit("change", void 0) } }]), r }(L.Service); Ya.create = Ya.factory(); var Wa, Xa = { title: "Click/Tap the map to place a point." }; r(590); function Ja(e, t) { var r = "undefined" !== typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (!r) { if (Array.isArray(e) || (r = function (e, t) { if (!e) return; if ("string" === typeof e) return Za(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); "Object" === r && e.constructor && (r = e.constructor.name); if ("Map" === r || "Set" === r) return Array.from(e); if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return Za(e, t) }(e)) || t && e && "number" === typeof e.length) { r && (e = r); var n = 0, a = function () { }; return { s: a, n: function () { return n >= e.length ? { done: !0 } : { done: !1, value: e[n++] } }, e: function (e) { throw e }, f: a } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var o, i = !0, c = !1; return { s: function () { r = r.call(e) }, n: function () { var e = r.next(); return i = e.done, e }, e: function (e) { c = !0, o = e }, f: function () { try { i || null == r.return || r.return() } finally { if (c) throw o } } } } function Za(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } !function (e) { e.MapboxStreets = "MapboxStreets", e.MapboxDark = "MapboxDark", e.MapboxLight = "MapboxLight", e.MapboxOutdoors = "MapboxOutdoors", e.MapboxSatellite = "MapboxSatellite", e.GoogleSatellite = "GoogleSatellite", e.GoogleRoad = "GoogleRoad", e.GoogleHybrid = "GoogleHybrid", e.ESRIWorldTopo = "ESRIWorldTopo" }(Wa || (Wa = {})); var Qa = function (e) { return "string" !== typeof e && ("string" === typeof e.name && "string" === typeof e.title && "string" === typeof e.url) }; function $a(e, t) { var r = "undefined" !== typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (!r) { if (Array.isArray(e) || (r = function (e, t) { if (!e) return; if ("string" === typeof e) return eo(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); "Object" === r && e.constructor && (r = e.constructor.name); if ("Map" === r || "Set" === r) return Array.from(e); if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return eo(e, t) }(e)) || t && e && "number" === typeof e.length) { r && (e = r); var n = 0, a = function () { }; return { s: a, n: function () { return n >= e.length ? { done: !0 } : { done: !1, value: e[n++] } }, e: function (e) { throw e }, f: a } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var o, i = !0, c = !1; return { s: function () { r = r.call(e) }, n: function () { var e = r.next(); return i = e.done, e }, e: function (e) { c = !0, o = e }, f: function () { try { i || null == r.return || r.return() } finally { if (c) throw o } } } } function eo(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } function to(e) { if (!Object(L.isObject)(e)) throw new Error('WebSAE manifest at URL "'.concat(O, '" is invalid.')); if (e.pingInterval && (!Number.isSafeInteger(e.pingInterval) || e.pingInterval < 1e4 || e.pingInterval > 6e4)) throw new Error('WebSAE manifest at URL "'.concat(O, '" contains invalid property. pingInterval must be an integer between 10000ms and 60000ms')); if (e.saStaleDelay && (!Number.isSafeInteger(e.saStaleDelay) || e.saStaleDelay < 15e3 || e.saStaleDelay > 18e4)) throw new Error('WebSAE manifest at URL "'.concat(O, '" contains invalid property. saStaleDelay must be an integer between 60000ms and 180000ms')); if (e.saSendInterval && (!Number.isSafeInteger(e.saSendInterval) || e.saSendInterval < 1e4 || e.saSendInterval > 6e4)) throw new Error('WebSAE manifest at URL "'.concat(O, '" contains invalid property. saSendInterval must be an integer between 10000ms and 60000ms')); if (e.defaultMapLayer && ("string" === typeof e.defaultMapLayer && !Object.values(Wa).includes(e.defaultMapLayer) || "object" === typeof e.defaultMapLayer && !Qa(e.defaultMapLayer))) throw new Error('WebSAE manifest at URL "'.concat(O, '" contains invalid property. "defaultMapLayer" must be a string of a known map layer name, or an object describing a custom default layer. Custom default layers must have properties name, title, and url - all as strings.')); if (e.baseLayers && (!Array.isArray(e.baseLayers) || Array.isArray(e.baseLayers) && e.baseLayers.length < 1 || !e.baseLayers.every(function (e) { return Qa(e) }))) throw new Error('WebSAE manifest at URL "'.concat(O, '" contains invalid property. "baseLayers" must be an Array that contains IBaselayer objects with valid XYZ layers defined. It is up to the Admin to verify that the baseLayers work with WebSAE.')); if (e.plugins) { if (!Array.isArray(e.plugins)) throw new Error('WebSAE manifest at URL "'.concat(O, '" contains invalid property. "plugins" must be an array.')); var t, r = $a(e.plugins); try { for (r.s(); !(t = r.n()).done;) { var n = t.value; if ("string" === typeof n && !Object(L.isNonEmptyString)(n)) throw new Error('WebSAE manifest at URL "'.concat(O, '" contains invalid property. "plugins" array must not contain an empty string.')); if (Object(L.isObject)(n)) for (var a = 0, o = ["name", "title", "path"]; a < o.length; a++) { var i = o[a], c = n[i]; if (!c || !Object(L.isNonEmptyString)(c)) throw new Error('WebSAE manifest at URL "'.concat(O, '" has invalid "plugin" property. "').concat(i, '" must be an non-empty strings.')) } } } catch (f) { r.e(f) } finally { r.f() } } var s, u = $a(e.iconSets); try { for (u.s(); !(s = u.n()).done;) { var l = s.value; if (!Object(L.isNonEmptyString)(l)) throw new Error('WebSAE manifest at URL "'.concat(O, '" has invalid "iconSets" property. "iconSets" must be an array of non-empty strings.')) } } catch (f) { u.e(f) } finally { u.f() } } var ro = null, no = null; function ao() { return oo.apply(this, arguments) } function oo() { return (oo = Object(o.a)(a.a.mark(function e() { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (ro) { e.next = 12; break } return e.next = 3, Object(L.parseJSON)(Object(L.get)(O)); case 3: to(ro = e.sent), ro && "string" === typeof ro.saeServerDomain && (window.__TAK_SERVER_DOMAIN__ = ro.saeServerDomain), ro && "number" === typeof ro.saSendInterval && (window.__SA_SEND_INTERVAL__ = ro.saSendInterval), ro && "number" === typeof ro.pingInterval && (window.__PING_INTERVAL__ = ro.pingInterval), ro && "number" === typeof ro.saStaleDelay && (window.__SA_STALE_DELAY__ = ro.saStaleDelay), ro && ro.defaultMapLayer && ("string" === typeof ro.defaultMapLayer || Qa(ro.defaultMapLayer)) && (window.__DEFAULT_MAP_LAYER__ = ro.defaultMapLayer), ro && ro.baseLayers && Array.isArray(ro.baseLayers) && ro.baseLayers.every(function (e) { return Qa(e) }) && (window.__BASE_LAYERS__ = ro.baseLayers), window.__WEBSAE_MANIFEST__LOADED = !0; case 12: return e.abrupt("return", ro); case 13: case "end": return e.stop() } }, e) }))).apply(this, arguments) } function io() { return co.apply(this, arguments) } function co() { return (co = Object(o.a)(a.a.mark(function e() { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (e.prev = 0, no) { e.next = 6; break } return e.next = 4, Object(L.parseJSON)(Object(L.get)(S)); case 4: to(no = e.sent); case 6: return e.abrupt("return", no); case 9: return e.prev = 9, e.t0 = e.catch(0), wr.create().error('\n      Unable to load or parse plugin "websae-manifest.json" from url '.concat(S, "\n    ")), e.abrupt("return", { iconSets: [], plugins: [] }); case 13: case "end": return e.stop() } }, e, null, [[0, 9]]) }))).apply(this, arguments) } var so, uo = r(304), lo = r.n(uo), fo = r(239); function po(e, t) { var r = "undefined" !== typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (!r) { if (Array.isArray(e) || (r = function (e, t) { if (!e) return; if ("string" === typeof e) return mo(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); "Object" === r && e.constructor && (r = e.constructor.name); if ("Map" === r || "Set" === r) return Array.from(e); if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return mo(e, t) }(e)) || t && e && "number" === typeof e.length) { r && (e = r); var n = 0, a = function () { }; return { s: a, n: function () { return n >= e.length ? { done: !0 } : { done: !1, value: e[n++] } }, e: function (e) { throw e }, f: a } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var o, i = !0, c = !1; return { s: function () { r = r.call(e) }, n: function () { var e = r.next(); return i = e.done, e }, e: function (e) { c = !0, o = e }, f: function () { try { i || null == r.return || r.return() } finally { if (c) throw o } } } } function mo(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } function ho(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } !function (e) { e.FILES = "files", e.FILE_METADATA = "file-metadata", e.DATA_PACKAGES = "data-packages", e.EVENTS = "events", e.CHAT_MESSAGES = "chat-messages", e.ICONS = "icons", e.ICON_SETS = "icon-sets" }(so || (so = {})); var vo = function (e) { Object(k.a)(r, e); var t = ho(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).ICONSETS_URL = "".concat(p(), "iconsets"), e.store = sn(), e.iconsFetched = !1, e.customIconsLoaded = !1, e.iconsetDirectories = [], e.iconsets = [], e.fetchIconSets(), e.loadCustomIcons(), e } return Object(j.a)(r, [{ key: "loadCustomIcons", value: function () { var e = Object(o.a)(a.a.mark(function e() { var t, r, n, i, c; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, Object(fo.a)("wt-core"); case 2: return t = e.sent, r = t.transaction(["icon-sets", "icons"], "readwrite"), e.next = 6, t.getAll("icon-sets"); case 6: return n = e.sent, e.next = 9, t.getAll("icons"); case 9: return i = e.sent, e.next = 12, Promise.all(i.map(function () { var e = Object(o.a)(a.a.mark(function e(t) { var r; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return r = function (e) { return new Promise(function (t) { var r = new FileReader; r.onloadend = function () { return t(r.result) }, r.readAsDataURL(e) }) }, e.t0 = t.path, e.next = 4, r(t.blob); case 4: return e.t1 = e.sent, e.t2 = t.path.split("/")[1].split(".")[0], e.t3 = t.iconsetUid, e.t4 = t.groupName, e.t5 = t.type2525b, e.abrupt("return", { path: e.t0, url: e.t1, name: e.t2, iconsetUid: e.t3, groupName: e.t4, type2525b: e.t5 }); case 10: case "end": return e.stop() } }, e) })); return function (t) { return e.apply(this, arguments) } }())); case 12: c = e.sent, this.store.dispatch({ type: Gt.SET_CUSTOM_ICONS, payload: c }), this.store.dispatch({ type: Gt.SET_CUSTOM_ICONSETS, payload: n }), this.customIconsLoaded = !0, r.done; case 17: case "end": return e.stop() } }, e, this) })); return function () { return e.apply(this, arguments) } }() }, { key: "fetchIconSets", value: function () { var e = Object(o.a)(a.a.mark(function e() { var t, r; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.prev = 0, this.store.dispatch({ type: Gt.SET_ICONSET_LOADING, payload: !0 }), e.next = 4, ao(); case 4: t = e.sent, r = t.iconSets, this.iconsetDirectories = r, this.fetchIconSetDefinition(), e.next = 13; break; case 10: e.prev = 10, e.t0 = e.catch(0), this.store.dispatch({ type: Gt.SET_ICONSET_LOADING, payload: !1 }); case 13: case "end": return e.stop() } }, e, this, [[0, 10]]) })); return function () { return e.apply(this, arguments) } }() }, { key: "fetchIconSetDefinition", value: function () { var e = Object(o.a)(a.a.mark(function e() { var t, r, n, o, i = this; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: t = po(this.iconsetDirectories), e.prev = 1, t.s(); case 3: if ((r = t.n()).done) { e.next = 18; break } return n = r.value, o = "".concat(this.ICONSETS_URL, "/").concat(encodeURIComponent(n), "/iconset.xml"), e.prev = 6, e.delegateYield(a.a.mark(function e() { var t, r, c, s, u, l, f, d, p; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, Object(L.get)(o); case 2: if (t = e.sent, r = Object(L.fromXML)(t), c = r.iconset) { e.next = 6; break } return e.abrupt("return", "continue"); case 6: s = c[L.XML_ATTRIBUTE_KEY], u = s.defaultGroup, l = s.name, f = s.uid, d = s.version, p = [], c.icon.forEach(function (e) { var t = e[L.XML_ATTRIBUTE_KEY], r = t.name, n = t.groupName, a = t.type2525b; p.push({ name: r, type2525b: a, groupName: n }) }), i.iconsets.push({ path: n, name: l, uid: f, defaultGroup: u, version: d, icons: p }); case 10: case "end": return e.stop() } }, e) })(), "t0", 8); case 8: if ("continue" !== e.t0) { e.next = 11; break } return e.abrupt("continue", 16); case 11: e.next = 16; break; case 13: e.prev = 13, e.t1 = e.catch(6), Td("logger").error("Failed to load Icon Sets, ".concat(e.t1)); case 16: e.next = 3; break; case 18: e.next = 23; break; case 20: e.prev = 20, e.t2 = e.catch(1), t.e(e.t2); case 23: return e.prev = 23, t.f(), e.finish(23); case 26: this.store.dispatch({ type: Gt.SET_ICONSET, payload: Object(q.List)(this.iconsets) }), this.store.dispatch({ type: Gt.SET_ICONSET_LOADING, payload: !1 }), this.iconsFetched = !0, this.emit("loadcomplete"); case 30: case "end": return e.stop() } }, e, this, [[1, 20, 23, 26], [6, 13]]) })); return function () { return e.apply(this, arguments) } }() }, { key: "getIconsetFromId", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { var r, n = this; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (this.iconsFetched) { e.next = 3; break } return r = new Promise(function (e) { n.on("loadcomplete", function () { e(n.iconsets.find(function (e) { return e.uid === t })) }) }), e.abrupt("return", r); case 3: return e.abrupt("return", Promise.resolve(this.iconsets.find(function (e) { return e.uid === t }))); case 4: case "end": return e.stop() } }, e, this) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "addCustomIconSet", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { var r, n, o, i, c, s; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (null !== t.item && 0 !== t.length) { e.next = 2; break } return e.abrupt("return"); case 2: r = 0, n = Object.values(t); case 3: if (!(r < n.length)) { e.next = 23; break } return o = n[r], e.prev = 5, e.next = 8, this.processZipFile(o); case 8: return i = e.sent, e.next = 11, this.extractIconset(i); case 11: return c = e.sent, e.next = 14, this.saveIconSet(c); case 14: e.next = 20; break; case 16: e.prev = 16, e.t0 = e.catch(5), s = e.t0.message, Td("toast").error({ message: s }); case 20: r++, e.next = 3; break; case 23: case "end": return e.stop() } }, e, this, [[5, 16]]) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "extractIconset", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { var r, n, o, i, c, s, u, l; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, this.extractIconsetXML(t); case 2: return r = e.sent, n = r.iconset[L.XML_ATTRIBUTE_KEY].name, o = r.iconset[L.XML_ATTRIBUTE_KEY].uid, i = r.iconset[L.XML_ATTRIBUTE_KEY].version, c = r.iconset[L.XML_ATTRIBUTE_KEY].defaultGroup, s = r.iconset.icon, u = Object.keys(t.files).filter(function (e) { var r = t.file(e); return !!r && (!r.dir && ("__MACOSX" !== e.split("/")[0] && "iconset.xml" !== e)) }).map(function (e) { return t.file(e).async("blob").then(function (t) { var r = s.find(function (t) { return t[L.XML_ATTRIBUTE_KEY].name === e.split("/").pop() }); return { path: e, blob: t, iconsetUid: o, type2525b: r ? r[L.XML_ATTRIBUTE_KEY].type2525b : "a-u-G", groupName: r ? r[L.XML_ATTRIBUTE_KEY].groupName : n } }) }), e.next = 11, Promise.all(u); case 11: return l = e.sent, e.abrupt("return", { name: n, icons: l, uid: o, defaultGroup: c, version: i }); case 13: case "end": return e.stop() } }, e, this) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "saveIconSet", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { var r, n, o, i, c, s, u, l, f, d, p; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, Object(fo.a)("wt-core"); case 2: return r = e.sent, n = r.transaction(["icon-sets", "icons"], "readwrite"), o = t.name, i = t.icons.map(function (e) { return { path: e.path } }), c = t.uid, s = t.defaultGroup, u = t.version, e.next = 11, r.add("icon-sets", { name: o, icons: i, uid: c, defaultGroup: s, version: u }); case 11: l = po(t.icons), e.prev = 12, l.s(); case 14: if ((f = l.n()).done) { e.next = 20; break } return d = f.value, e.next = 18, r.add("icons", d); case 18: e.next = 14; break; case 20: e.next = 25; break; case 22: e.prev = 22, e.t0 = e.catch(12), l.e(e.t0); case 25: return e.prev = 25, l.f(), e.finish(25); case 28: n.done, p = t.icons.map(function (e) { return { path: e.path, url: URL.createObjectURL(e.blob), name: e.path.split("/")[1].split(".")[0], iconsetUid: e.iconsetUid, groupName: e.groupName, type2525b: e.type2525b } }), this.store.dispatch({ type: Gt.SET_CUSTOM_ICONS, payload: p }), this.store.dispatch({ type: Gt.SET_CUSTOM_ICONSETS, payload: [t] }); case 32: case "end": return e.stop() } }, e, this, [[12, 22, 25, 28]]) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "extractIconsetXML", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { var r, n; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (!t.file("iconset.xml")) { e.next = 8; break } return e.next = 3, t.file("iconset.xml").async("text"); case 3: return n = e.sent, r = Object(L.fromXML)(n), e.abrupt("return", r); case 8: throw new Error("No iconset.xml file"); case 9: case "end": return e.stop() } }, e) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "getCustomIcon", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (this.customIconsLoaded) { e.next = 3; break } return e.next = 3, this.loadCustomIcons(); case 3: return e.abrupt("return", this.store.getState().pointDropper.customIcons.get(t)); case 4: case "end": return e.stop() } }, e, this) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "deleteAllCustomIconsets", value: function () { var e = Object(o.a)(a.a.mark(function e() { var t, r, n, o; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: t = Array.from(this.store.getState().pointDropper.customIconsets.keys()), r = 0, n = t; case 2: if (!(r < n.length)) { e.next = 9; break } return o = n[r], e.next = 6, this.deleteCustomIconset(o); case 6: r++, e.next = 2; break; case 9: case "end": return e.stop() } }, e, this) })); return function () { return e.apply(this, arguments) } }() }, { key: "deleteCustomIconset", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { var r, n, o, i, c; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, Object(fo.a)("wt-core"); case 2: if (r = e.sent, n = r.transaction(["icon-sets", "icons"], "readwrite"), !this.store.getState().pointDropper.customIconsets.has(t)) { e.next = 26; break } return e.next = 7, r.delete("icon-sets", t); case 7: o = po(this.store.getState().pointDropper.customIconsets.get(t).icons), e.prev = 8, o.s(); case 10: if ((i = o.n()).done) { e.next = 17; break } return c = i.value, URL.revokeObjectURL(c.url), e.next = 15, r.delete("icons", c.path); case 15: e.next = 10; break; case 17: e.next = 22; break; case 19: e.prev = 19, e.t0 = e.catch(8), o.e(e.t0); case 22: return e.prev = 22, o.f(), e.finish(22); case 25: this.store.dispatch({ type: Gt.DELETE_CUSTOM_ICONSET, payload: t }); case 26: n.done; case 27: case "end": return e.stop() } }, e, this, [[8, 19, 22, 25]]) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "processZipFile", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { var r, n; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return r = new lo.a, e.next = 3, r.loadAsync(t, { base64: !1, createFolders: !0 }); case 3: return n = e.sent, e.abrupt("return", n); case 5: case "end": return e.stop() } }, e) })); return function (t) { return e.apply(this, arguments) } }() }]), r }(L.Service); vo.create = vo.factory(); var go = function (e) { var t = e.iconset, r = e.onSelectPoint, n = e.edit, a = Object(i.useContext)(Ba).isReadonly, o = Object(i.useState)(t.defaultGroup), s = Object(Xe.a)(o, 2), u = s[0], l = s[1], f = Object(i.useState)(!1), p = Object(Xe.a)(f, 2), m = p[0], h = p[1], v = new Set(t.icons.map(function (e) { return e.groupName ? e.groupName : t.defaultGroup })), g = function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "a-u-G", t = arguments.length > 1 ? arguments[1] : void 0, n = arguments.length > 2 ? arguments[2] : void 0; return function (a) { var o = Date.now(), i = new ct.CotEvent({ uid: Object(L.uuid)(), type: e, startTime: o, sendTime: o, staleTime: o + 1e10, detail: new ct.CotEventDetail({ contact: new ct.CotEventContact({ callsign: "".concat(n.slice(0, -4), " ").concat(Object(L.uuid)().slice(0, 4)) }), takv: new ct.CotEventTakv(E()), xml: { archive: Object(C.a)({}, L.XML_TEXT_KEY, ""), usericon: Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { customIconUid: t }) }, xmlDetail: null }) }); r(i) } }, b = Object(i.useCallback)(function () { return t.icons.filter(function (e) { return !e.groupName && u === t.defaultGroup || e.groupName === u }).map(function (e) { var t = Object(d.className)(Oo.Elements["palette-item"], Object(C.a)({}, Oo.Elements["palette-item-disabled"], a)); return c.a.createElement("div", { key: e.path, className: t, onClick: g(e.type2525b, e.path, e.name) }, c.a.createElement("img", { width: 32, height: 32, src: e.url })) }) }, [v, u, t]), y = Object(i.useCallback)(function () { return Array.from(v).map(function (e, t) { return c.a.createElement("option", { key: t, value: e }, e) }) }, [v, t]); return c.a.createElement(d.Card, { className: Object(d.className)(Oo.Elements.palette, Oo.Modifiers.custom, "".concat(Oo.Elements.palette, "--").concat(t.name)), collapsible: !0, defaultOpen: !0, title: t.name }, m ? c.a.createElement(d.Loader, null) : c.a.createElement(c.a.Fragment, null, Array.from(v).length > 1 && c.a.createElement(d.Select, { className: Oo.Elements["palette-select"], onChange: function (e) { return l(e.currentTarget.value) }, value: u }, y()), c.a.createElement("div", { className: Oo.Elements["palette-items"] }, b()), n && c.a.createElement(d.Button.Danger, { small: !0, style: { marginTop: "10px" }, onClick: function () { confirm("Are you sure you want to delete the custom iconset?") && (h(!0), vo.create().deleteCustomIconset(t.uid).then(function () { h(!1) }).catch(function () { h(!1) })) } }, c.a.createElement(d.Icon, { icon: "delete-outline" }), "Delete"))) }, bo = "data:image/svg+xml;base64,".concat(btoa('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 22"><defs/><defs><filter id="a" width="187.5%" height="170%" x="-43.8%" y="-25%" filterUnits="objectBoundingBox"><feOffset dy="2" in="SourceAlpha" result="shadowOffsetOuter1"/><feGaussianBlur in="shadowOffsetOuter1" result="shadowBlurOuter1" stdDeviation="2"/><feColorMatrix in="shadowBlurOuter1" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0"/></filter><path id="b" d="M10 0l6 6v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2h8"/></defs><g fill="none" fill-rule="evenodd"><path fill="#C4C4C4" fill-rule="nonzero" d="M10.232 4.144l5.713-1.137 7.079 9.538a2 2 0 01-.637 2.756L12.211 21.66a2 2 0 01-2.756-.636L.976 7.455a2 2 0 01.637-2.756L8.397.459l1.835 3.685z"/><g fill-rule="nonzero" transform="translate(4)"><use fill="#000" filter="url(#a)" xlink:href="#b"/><use fill="#FFF" xlink:href="#b"/></g><path fill="#C4C4C4" fill-rule="nonzero" d="M14.047 10.887a2.34 2.34 0 00-4.375-.625A1.873 1.873 0 009.875 14h4.063a1.562 1.562 0 001.562-1.563c0-.824-.64-1.493-1.453-1.55m-.11 2.488H9.875a1.25 1.25 0 01-.137-2.49l.334-.035.156-.297a1.709 1.709 0 011.522-.928 1.72 1.72 0 011.684 1.384l.094.47.478.034a.931.931 0 01-.068 1.862M10.5 11.812h.797v.938h.906v-.938H13l-1.25-1.25-1.25 1.25z"/><path fill="#D8D8D8" d="M14 0v5a1 1 0 001 1h5"/></g></svg>')), yo = Object(d.getClasses)("custom-icon-list", ["input", "non-ideal-image", "add-new-button", "edit-button", "actions"], ["dragging"]), Eo = Object(l.b)(function (e) { return { customIconsets: e.pointDropper.customIconsets } }, { loadMessages: ye })(function (e) { var t = e.customIconsets, r = e.onSelectPoint, n = Object(i.createRef)(), a = Object(i.useState)(!1), o = Object(Xe.a)(a, 2), s = o[0], u = o[1], l = Object(i.useState)(0), f = Object(Xe.a)(l, 2), p = f[0], m = f[1], h = Object(i.useState)(!1), v = Object(Xe.a)(h, 2), g = v[0], b = v[1], y = Object(i.useState)(!1), E = Object(Xe.a)(y, 2), O = E[0], S = E[1], w = function (e) { S(!0), vo.create().addCustomIconSet(e).then(function () { S(!1) }).catch(function () { S(!1) }) }, A = Object(L.safelyHandle)(function () { u(!0) }), T = Object(L.safelyHandle)(function (e) { m(p + 1); var t = e.dataTransfer.items && e.dataTransfer.items.length > 0; u(t) }), j = Object(L.safelyHandle)(function (e) { m(p - 1), p - 1 <= 0 && u(!1) }), k = Object(L.safelyHandle)(function (e) { u(!1), e.dataTransfer.files && e.dataTransfer.files.length > 0 && (w(e.dataTransfer.files), m(0)) }), R = Object(d.className)(yo.BASE, Object(C.a)({}, yo.Modifiers.dragging, !!s)), N = c.a.createElement(d.Button, { className: yo.Elements["add-new-button"], onClick: function () { n.current.click() } }, "Add Custom Icons"), _ = c.a.createElement(c.a.Fragment, null, O ? c.a.createElement(d.Card, null, c.a.createElement(d.Loader, null)) : c.a.createElement(d.NonIdealState, { title: "No custom icon sets", description: "Drag and drop or upload a custom icon set to get started.", action: N, icon: c.a.createElement("img", { className: yo.Elements["non-ideal-image"], src: bo }) })), I = 0 === t.size; return c.a.createElement(c.a.Fragment, null, I ? null : c.a.createElement("div", { className: yo.Elements.actions }, N, c.a.createElement(d.Button.Secondary, { className: yo.Elements["edit-button"], onClick: function () { return b(!g) } }, g ? "Done" : "Edit")), c.a.createElement("div", { className: R, onDragEnter: T, onDragLeave: j, onDragOver: A, onDrop: k }, I ? _ : c.a.createElement(c.a.Fragment, null, t.map(function (e) { return c.a.createElement(go, { edit: g, key: "custom-iconset-pallete-".concat(e.uid), iconset: e, onSelectPoint: r }) }).toList().toArray(), O && c.a.createElement(d.Card, null, c.a.createElement(d.Loader, null))), c.a.createElement("input", { className: yo.Elements.input, type: "file", multiple: !0, ref: n, onChange: function (e) { n.current && n.current.files && (w(n.current.files), e.target.value = "") } }))) }), Oo = Object(d.getClasses)("point-dropper-palette", ["palette", "palette-select", "palette-items", "palette-item", "palette-item-disabled", "content"], ["spot-map", "mil-2525", "custom"]), So = Object(l.b)(function (e) { var t = e.pointDropper; return { loadingIconSets: t.loadingIconsets, iconsets: t.iconsets } }, { loadMessages: ye })(function (e) { var t = e.loadMessages, r = e.iconsets, n = Td("map"), a = Ya.create(), o = ma.create(), s = Object(d.useResponsiveSize)(), u = s.mobile, l = (s.desktop, Object(i.useState)("default")), f = Object(Xe.a)(l, 2), p = f[0], m = f[1], h = function (e) { n.performInteraction(function (r, n, i, c) { document.getElementsByTagName("html")[0].style.cursor = "cell", a.instruct(Xa), i("click", function (r) { var i = function (e) { var t = Td("map").getMapDimension(), r = e.coordinate, n = e.pixel; if (t !== ci["3D"]) return [r[0], r[1]]; var a = o.getMap3DScene(), i = new oa.Cartesian2(n[0], n[1]), c = a.globe.ellipsoid, s = a.camera.pickEllipsoid(i, c); if (s) { var u = c.cartesianToCartographic(s); return [oa.Math.toDegrees(u.longitude), oa.Math.toDegrees(u.latitude)] } console.error("determineCoordinatesByDimension(): failed to pick globe when in 3D") }(r); if (i) { var c = e.withMutations(function (e) { e.set("lon", i[0]), e.set("lat", i[1]) }); t(c.toJS()) } u && Td("drawer").closeDrawer(), a.drop(), n(), document.getElementsByTagName("html")[0].style.cursor = "" }) }, function (e) { document.getElementsByTagName("html")[0].style.cursor = "", a.drop() }, function (e, t) { document.getElementsByTagName("html")[0].style.cursor = "", a.drop(), t() }) }, v = function () { return c.a.createElement(c.a.Fragment, null, c.a.createElement(qa, { onSelectPoint: h }), c.a.createElement(ii, { onSelectPoint: h }), r.map(function (e) { return c.a.createElement(Ka, { key: e.uid, iconSet: e, onSelectPoint: h }) })) }, g = Object(i.useMemo)(function () { switch (p) { case "default": return c.a.createElement(v, null); case "custom": return c.a.createElement(Eo, { onSelectPoint: h }); default: return c.a.createElement(v, null) } }, [p]); return c.a.createElement(d.DrawerLayout, null, c.a.createElement(d.DrawerHeader, { title: "Point Dropper" }, c.a.createElement(d.SegmentedControl, { options: [{ value: "default", label: "Default" }, { value: "custom", label: "Custom" }], onChange: function (e) { return m(e) } })), g) }); function wo(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var Ao = function () { var e = Co.create(), t = Object(i.useState)(""), r = Object(Xe.a)(t, 2), n = r[0], a = r[1], o = Object(i.useState)([]), s = Object(Xe.a)(o, 2), u = s[0], l = s[1], f = Object(i.useState)(!1), p = Object(Xe.a)(f, 2), m = p[0], h = p[1]; xa(e, "create", function (e) { var t = e.children, r = e.open, n = e.title; a(n), h(r), l(t) }, []), xa(e, "open", function (e) { h(e) }, []); return c.a.createElement(d.Dialog, { title: n, onCancel: function () { Co.create().close() }, isOpen: m }, u) }, Co = function (e) { Object(k.a)(r, e); var t = wo(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).component = Object(i.createElement)(Ao), e.element = document.createElement("div"), e._open = !1, Object(s.render)(e.component, e.element), e } return Object(j.a)(r, [{ key: "openWith", value: function (e, t) { var r = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2]; this._open = r, this.emit("create", { title: e, children: t, open: r }) } }, { key: "open", value: function () { this._open = !0, this.emit("open", this._open) } }, { key: "close", value: function () { this._open = !1, this.emit("open", this._open) } }, { key: "isOpen", value: function () { return this._open } }]), r }(L.Service); Co.create = Co.factory(); r(591); var To, jo, ko, Ro, No, Lo, _o = function (e, t) { var r = t.detail; if (r && r.xml) { var n = r.xml.fillColor; return n ? n[L.XML_ATTRIBUTE_KEY].value : e } return e }, Io = (To = {}, Object(C.a)(To, Lr.POLYGON, _o), Object(C.a)(To, Lr.BOX, _o), Object(C.a)(To, Lr.CIRCLE, function (e, t) { var r = t.detail; if (r && r.xml) { var n = r.xml.shape, a = parseInt("0x".concat(n.link.Style.PolyStyle.color[L.XML_TEXT_KEY]), 16); return n ? a : e } return e }), Object(C.a)(To, Lr.FREEHAND, function () { throw new Error("Freehand unimplemented") }), To), Mo = function (e) { var t = -1; return Object.values(Lr).includes(e.type) && (t = Io[e.type](t, e)), t }, xo = (r(592), r(593), Object(d.getClasses)("color-slider", ["slider-controls", "slider-control", "slider-preview"], [])), Do = function (e) { var t = e.rgba, r = e.onChange, n = e.disabled, a = void 0 !== n && n, o = Object(i.useState)(t[0]), s = Object(Xe.a)(o, 2), u = s[0], l = s[1], f = Object(i.useState)(t[1]), p = Object(Xe.a)(f, 2), m = p[0], h = p[1], v = Object(i.useState)(t[2]), g = Object(Xe.a)(v, 2), b = g[0], y = g[1]; c.a.useEffect(function () { l(t[0]), h(t[1]), y(t[2]) }, [l, h, y, t, r]); var E = function (e) { r(e) }; return c.a.createElement("div", { className: xo.BASE }, c.a.createElement("div", { className: xo.Elements["slider-controls"] }, c.a.createElement("div", { className: xo.Elements["slider-control"] }, c.a.createElement("span", null, "R ".concat(u)), c.a.createElement("input", { className: Object(d.prefix)("slider"), type: "range", min: 0, max: 255, value: u, onChange: function (e) { if (!a) { var t = Number(e.target.value); l(t), E([t, m, b, 1]) } } })), c.a.createElement("div", { className: xo.Elements["slider-control"] }, c.a.createElement("span", null, "G ".concat(m)), c.a.createElement("input", { className: Object(d.prefix)("slider"), type: "range", min: 0, max: 255, value: m, onChange: function (e) { if (!a) { var t = Number(e.target.value); h(t), E([u, t, b, 1]) } } })), c.a.createElement("div", { className: xo.Elements["slider-control"] }, c.a.createElement("span", null, "B ".concat(b)), c.a.createElement("input", { disabled: !0, className: Object(d.prefix)("slider"), type: "range", min: 0, max: 255, value: b, onChange: function (e) { if (!a) { var t = Number(e.target.value); y(t), E([u, m, t, 1]) } } }))), c.a.createElement("div", { style: { backgroundColor: "rgba(".concat(u, ", ").concat(m, ", ").concat(b, ", 1)") }, className: xo.Elements["slider-preview"] })) }; function Po(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } !function (e) { e.Driving = "Driving", e.Walking = "Walking", e.Flying = "Flying", e.Swimming = "Swimming", e.Watercraft = "Watercraft" }(jo || (jo = {})), function (e) { e.Primary = "Primary", e.Secondary = "Secondary" }(ko || (ko = {})), function (e) { e["Ascending Check Points"] = "Ascending Check Points", e["Descending Check Points"] = "Descending Check Points" }(Ro || (Ro = {})), function (e) { e.WAYPOINT = "b-m-p-w", e.CHECKPOINT = "b-m-p-c" }(No || (No = {})), function (e) { e.Infil = "Infil", e.Exfil = "Exfil" }(Lo || (Lo = {})); var Uo = { archive: Object(C.a)({}, L.XML_TEXT_KEY, ""), color: Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { value: -1 }), labels_on: Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { value: !0 }), link: [], link_attr: Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { color: -1, direction: Lo.Infil, planningmethod: Lo.Infil, method: jo.Driving, order: Ro["Ascending Check Points"], prefix: "CP", routetype: ko.Primary, stroke: 3, type: "Vehicle" }), remarks: Object(C.a)({}, L.XML_TEXT_KEY, ""), strokeColor: Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { value: -1 }), strokeWeight: Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { value: 3 }), __routeinfo: { __navcues: Object(C.a)({}, L.XML_TEXT_KEY, "") } }, Bo = function (e) { Object(k.a)(r, e); var t = Po(r); function r(e) { return Object(T.a)(this, r), t.call(this, e) } return Object(j.a)(r, [{ key: "getRouteMethod", value: function () { return this.link_attr[L.XML_ATTRIBUTE_KEY].method } }, { key: "setRouteMethod", value: function (e) { return this.link_attr[L.XML_ATTRIBUTE_KEY].method = e, this } }, { key: "getRouteDirection", value: function () { return this.link_attr[L.XML_ATTRIBUTE_KEY].direction } }, { key: "setRouteDirection", value: function (e) { return this.link_attr[L.XML_ATTRIBUTE_KEY].direction = e, this } }, { key: "getRouteType", value: function () { return this.link_attr[L.XML_ATTRIBUTE_KEY].routetype } }, { key: "setRouteType", value: function (e) { return this.link_attr[L.XML_ATTRIBUTE_KEY].routetype = e, this } }, { key: "getRouteOrder", value: function () { return this.link_attr[L.XML_ATTRIBUTE_KEY].order } }, { key: "setRouteOrder", value: function (e) { return this.link_attr[L.XML_ATTRIBUTE_KEY].order = e, this } }, { key: "getCheckpoints", value: function () { return this.link.map(function (e) { return e["#attr"] }) } }, { key: "getCheckpoint", value: function (e) { var t = this.link.find(function (t) { return t[L.XML_ATTRIBUTE_KEY].uid === e }); return t ? t[L.XML_ATTRIBUTE_KEY] : void 0 } }, { key: "removeCheckpoint", value: function (e) { var t = Object(q.List)(this.link).remove(this.link.findIndex(function (t) { return t[L.XML_ATTRIBUTE_KEY].uid === e })).toArray(); return this.set("link", t) } }, { key: "getColor", value: function () { return this.assertColor(), this.color[L.XML_ATTRIBUTE_KEY].value } }, { key: "assertColor", value: function () { [this.strokeColor[L.XML_ATTRIBUTE_KEY].value, this.color[L.XML_ATTRIBUTE_KEY].value, this.link_attr[L.XML_ATTRIBUTE_KEY].color].every(function (e, t, r) { return e === r[0] && null !== e }) || console.error("RouteXML.assertColor: the various color variables of the route are not equal") } }, { key: "setColor", value: function (e) { return this.strokeColor[L.XML_ATTRIBUTE_KEY].value = e, this.color[L.XML_ATTRIBUTE_KEY].value = e, this.link_attr[L.XML_ATTRIBUTE_KEY].color = e, this } }, { key: "getNavCueFor", value: function (e) { if (this.__routeinfo.__navcues.__navcue) { var t = this.__routeinfo.__navcues.__navcue.find(function (t) { return t[L.XML_ATTRIBUTE_KEY].id === e }); if (t) return t[L.XML_ATTRIBUTE_KEY] } } }]), r }(Object(q.Record)(Uo)), Fo = Object(d.getClasses)("cot-color", ["colors", "color-block", "color-block-disabled", "input-block", "input-block-error"], []), Vo = ["white", "yellow", "orange", "brown", "red", "purple", "blue", "cyan", "green", "gray", "black"], Ho = function (e) { var t = -1, r = e.detail; if (r && r.xml) { if (e.type === Ir.DEFAULT) return new Bo(r.xml).getColor(); var n = r.xml.color; if (!n) return t; t = n[L.XML_ATTRIBUTE_KEY].argb } return t }, Go = function (e, t) { if (e.type === Ir.DEFAULT && e.detail && e.detail.xml) { var r = new Bo(e.detail.xml), n = e.detail.set("xml", r.setColor(Object(L.rgbaToCot)(t)).toJS()); return e.set("detail", n) } return e.withMutations(function (r) { var n = e.detail; if (n && n.xml) { var a = n.xml; a.color = Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { argb: Object(L.rgbaToCot)(t) }); var o = n.set("xml", a); r.set("detail", o) } }) }, qo = /(^#[0-9A-F]{6}$)/i, Ko = function (e) { var t = e.cot, r = e.onChange, n = Ho(t), a = Object(i.useState)(Object(L.cotColorToRGBA)(n)), o = Object(Xe.a)(a, 2), s = o[0], u = o[1], l = ["r", "g", "b"].map(function (e, t) { return Object(L.byteToHex)(s[t]) }).join(""), f = Object(i.useState)(l), p = Object(Xe.a)(f, 2), m = p[0], h = p[1], v = Object(i.useState)(!1), g = Object(Xe.a)(v, 2), b = g[0], y = g[1], E = Object(i.useContext)(Ba).isReadonly; Object(i.useEffect)(function () { var e = Ho(t), r = ["r", "g", "b"].map(function (e, t) { return Object(L.byteToHex)(s[t]) }).join(""); h(r), u(Object(L.cotColorToRGBA)(e)) }, [t]); var O = function (e) { r(e) }, S = Object(L.debounce)(function (e) { u(e), h(["r", "g", "b"].map(function (t, r) { return Object(L.byteToHex)(e[r]) }).join("")), y(!1), O(Go(t, e)) }, 100), w = Object(d.className)(Fo.Elements["input-block"]); return b && (w = w.concat(" ".concat(Fo.Elements["input-block-error"]))), c.a.createElement("div", { className: Fo.BASE }, c.a.createElement("label", { className: Object(d.className)(Object(d.prefix)("label")) }, c.a.createElement("span", null, "Color")), c.a.createElement(c.a.Fragment, null, c.a.createElement("div", { className: Fo.Elements.colors }, Vo.map(function (e) { var r = { backgroundColor: e }; return c.a.createElement("div", { key: e, style: r, onClick: function () { return E ? null : function (e) { var r = Object(L.colorToRGBA)(e); u(r), h(["r", "g", "b"].map(function (e, t) { return Object(L.byteToHex)(r[t]) }).join("")), y(!1), O(Go(t, r)) }(e) }, className: Object(d.className)(Fo.Elements["color-block"], Object(C.a)({}, Fo.Elements["color-block-disabled"], E)) }) }), c.a.createElement("div", { className: "".concat(Fo.BASE, "__hex-icon") }, c.a.createElement(d.Icon, { icon: b ? "warning" : "pound" })), c.a.createElement("div", { className: w }, c.a.createElement(d.TextInput, { disabled: E, onChange: E ? function () { } : function (e) { var r = e.target.value, n = "#".concat(r); if (h(r), qo.test(n)) { var a = Object(L.hexToRgba)(n); y(!1), u(a), O(Go(t, a)) } else y(!0) }, value: m, placeholder: "hex color code" }))), c.a.createElement(d.Card, { title: "advanced", defaultOpen: !1, collapsible: !0 }, c.a.createElement(Do, { disabled: E, onChange: S, rgba: s })))) }; var zo = function e(t) { var r = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]; if (!t.startsWith("a-")) return Promise.resolve(""); var n = ja(t).toLowerCase(), a = new La.a.Symbol(n, { sidc: n, size: 20 }).toDataURL(), o = new Image; return new Promise(function (n) { t.length < 5 && n(""), o.onload = function () { n(a) }, o.src = a, o.onerror = function () { n(r ? e(t.slice(0, -2), !1) : "") } }) }, Yo = function (e) { var t = "".concat(p(), "resources"), r = "".concat(t, "/user/Team Member_White.svg"); if (!e.detail || !e.detail.getGroup()) return r; var n = e.detail.getGroup(); if (n) { var a = n.name, o = n.role, i = "h-e" === e.how ? "non-gps-" : "", c = ["Medic", "Team Lead", "Team Member", "HQ", "Forward Observer", "K9", "RTO", "Sniper"].includes(String(o)) ? String(o).toLocaleLowerCase().replace(" ", "-") : "team-member", s = Nt.getAll().map(function (e) { return e.name }).includes(a) ? a : "Blank"; return "".concat(t, "/user/").concat(encodeURIComponent("".concat(i).concat(c, "_").concat(s)), ".svg") } return r }; function Wo(e) { return Xo.apply(this, arguments) } function Xo() { return (Xo = Object(o.a)(a.a.mark(function e(t) { var r, n, o, i, c, s, u, l, f, m, h, v, g, b, y, E, O, S, w, A, C, T, j, k, R, N; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (r = ja(t.type).toLowerCase(), n = new La.a.Symbol(r, { sidc: r, size: 20, padding: 0 }).toDataURL(), o = t.detail) { e.next = 8; break } return e.next = 6, zo(t.type); case 6: return i = e.sent, e.abrupt("return", i); case 8: if (o.xml, null === (c = o.getIn(["xml", "usericon"]) || null)) { e.next = 48; break } if (!(s = c[L.XML_ATTRIBUTE_KEY]) || "object" !== typeof s || !Object(L.isString)(s.iconsetpath)) { e.next = 41; break } if (!(u = s.iconsetpath).includes("COT_MAPPING_2525B")) { e.next = 19; break } return e.next = 17, zo(t.type); case 17: return l = e.sent, e.abrupt("return", l); case 19: if (!u.includes("COT_MAPPING_SPOTMAP/b-m-p-s-m/")) { e.next = 27; break } if (f = o.getIn(["xml", "color"]) || null) { e.next = 23; break } return e.abrupt("return", ""); case 23: return m = f[L.XML_ATTRIBUTE_KEY].argb, h = Object(L.cotColorToRGBA)(m), v = "data:image/svg+xml;base64,".concat(btoa(Object(d.inlineSvg)("circle", { fill: "rgba( ".concat(h.join(), " )"), width: "24px", height: "24px" }))), e.abrupt("return", v); case 27: return g = String(u).split("/").slice(-3), b = Object(Xe.a)(g, 3), y = b[0], E = b[1], O = b[2], e.next = 30, Td("pointDropper").getIconsetFromId(y); case 30: if (S = e.sent) { e.next = 34; break } return console.warn("unknown iconset :", u), e.abrupt("return", zo(t.type)); case 34: if (w = S.icons.find(function (e) { return String(e.name).slice(0, -4) === String(O).slice(0, -4) })) { e.next = 38; break } return console.warn("unknown icon ".concat(O, " for iconsetpath ").concat(y)), e.abrupt("return", zo(t.type)); case 38: return A = S.path, O = w.name, e.abrupt("return", "".concat(p(), "iconsets/").concat(A, "/").concat(E, "/").concat(O)); case 41: if (!(C = o.getIn(["xml", "usericon"]) || null) || "object" !== typeof C || !Object(L.isString)(C[L.XML_ATTRIBUTE_KEY].customIconUid)) { e.next = 48; break } return e.next = 45, vo.create().getCustomIcon(C[L.XML_ATTRIBUTE_KEY].customIconUid); case 45: if (!(T = e.sent)) { e.next = 48; break } return e.abrupt("return", T.url); case 48: if (!o.getGroup()) { e.next = 51; break } return e.abrupt("return", Yo(t)); case 51: if (!Object.values(Lr).includes(t.type)) { e.next = 60; break } j = "white"; try { k = Object(L.cotColorToRGBA)(Mo(t)), j = "rgba(".concat(k.join(), ")") } catch (fA) { } e.t0 = t.type, e.next = e.t0 === Lr.POLYGON ? 57 : e.t0 === Lr.CIRCLE ? 58 : e.t0 === Lr.BOX ? 59 : 60; break; case 57: return e.abrupt("return", Object(d.toURL)(Object(d.inlineSvg)("shape-polygon-plus", { fill: j }))); case 58: return e.abrupt("return", Object(d.toURL)(Object(d.inlineSvg)("shape-circle-plus", { fill: j }))); case 59: return e.abrupt("return", Object(d.toURL)(Object(d.inlineSvg)("shape-rectangle-plus", { fill: j }))); case 60: if (!Object.values(Ir).includes(t.type)) { e.next = 64; break } R = "white"; try { N = Object(L.cotColorToRGBA)(Ho(t)), R = "rgba(".concat(N.join(), ")") } catch (fA) { } return e.abrupt("return", Object(d.toURL)(Object(d.inlineSvg)("map-marker-path", { fill: R }))); case 64: if (!Object.values(Dr).includes(t.type)) { e.next = 66; break } return e.abrupt("return", Ur[t.type]); case 66: return e.abrupt("return", n); case 67: case "end": return e.stop() } }, e) }))).apply(this, arguments) } var Jo = {}, Zo = {}; function Qo(e) { return $o.apply(this, arguments) } function $o() { return ($o = Object(o.a)(a.a.mark(function e(t) { var r; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (r = t.hashCode(), "undefined" === typeof Jo[r]) { e.next = 3; break } return e.abrupt("return", Promise.resolve(Jo[r])); case 3: return "undefined" === typeof Zo[r] && (Zo[r] = new Promise(function () { var e = Object(o.a)(a.a.mark(function e(n) { var o; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, Wo(t); case 2: return o = e.sent, Jo[r] = o, delete Zo[r], e.abrupt("return", n(o)); case 6: case "end": return e.stop() } }, e) })); return function (t) { return e.apply(this, arguments) } }())), e.abrupt("return", Zo[r]); case 5: case "end": return e.stop() } }, e) }))).apply(this, arguments) } var ei = Object(d.getClasses)("cot-explorer", ["content", "back-row", "list", "row", "row-title", "row-next", "row-item"], []), ti = function (e) { var t = e.cot, r = Object(i.useContext)(d.NavigationContext), n = r.getState(), a = n.affiliation, o = n.setType, s = n.onSelect, u = t.desc, l = Object(i.useState)(), f = Object(Xe.a)(l, 2), p = f[0], m = f[1], h = t.cot.substring(0, 2) + a + t.cot.substring(3); Object(i.useEffect)(function () { return zo(h).then(function (e) { m(e) }), function () { } }, [t, m, h]); var v = Object(i.useMemo)(function () { var e = Ra.get(t.cot.length + 2); if (!e) return !1; var r = new RegExp(t.cot); return e.filter(function (e) { return r.test(e.cot) }).count() > 0 }, [t]); return c.a.createElement("div", { className: ei.Elements.row }, c.a.createElement("div", { onClick: function () { return s(h) }, className: ei.Elements["row-item"] }, c.a.createElement("img", { src: p, alt: "" }), c.a.createElement("div", { className: ei.Elements["row-title"] }, u)), v && c.a.createElement("div", { onClick: function () { o("".concat(t.cot, "-.")), r.push(ri) }, className: ei.Elements["row-next"] }, c.a.createElement(d.Icon, { icon: "chevron-right" })), c.a.createElement("div", null)) }, ri = function () { var e = Object(i.useContext)(d.NavigationContext), t = e.getState(), r = t.affiliation, n = t.type, a = t.setType, o = Object(i.useMemo)(function () { if (!n) return []; var e = Ra.get(n.length); return void 0 !== e ? e.toList().toArray().filter(function (e) { return e.cot.match(n) }).sort(function (e, t) { return e.desc > t.desc ? 1 : -1 }) : [] }, [n, r]); return c.a.createElement("div", { className: ei.Elements.list }, c.a.createElement("div", { onClick: function () { a(n.slice(0, -3).concat(".")), e.pop() }, className: ei.Elements["back-row"] }, c.a.createElement(d.Icon, { icon: "arrow-left" })), c.a.createElement("div", { className: ei.Elements.content }, o.map(function (e) { return c.a.createElement(ti, { key: e.cot, cot: e }) }))) }, ni = function () { var e = Object(i.useContext)(d.NavigationContext), t = Object(i.useState)(), r = Object(Xe.a)(t, 2), n = r[0], a = r[1], o = Object(i.useState)(), s = Object(Xe.a)(o, 2), u = s[0], l = s[1]; Object(i.useEffect)(function () { return e.setState({ affiliation: n, setAffiliation: a, type: u, setType: l }), function () { } }, [l, u]); var f = function (t) { a(String(t).toLowerCase()), l("a-.-."), e.push(ri) }; return c.a.createElement("div", { className: ei.Elements.content }, Object.entries(fa).sort(function (e, t) { return Object(Xe.a)(e, 1)[0] > Object(Xe.a)(t, 1)[0] ? 1 : -1 }).map(function (e) { var t = Object(Xe.a)(e, 2), r = t[0], n = t[1]; return c.a.createElement("div", { key: n, onClick: function () { return f(n) }, className: ei.Elements.row }, c.a.createElement("div", { className: ei.Elements["row-item"] }, c.a.createElement("div", { className: ei.Elements["row-title"] }, r)), c.a.createElement("div", { onClick: function () { return f(n) }, className: ei.Elements["row-next"] }, c.a.createElement(d.Icon, { icon: "chevron-right" })), c.a.createElement("div", null)) })) }, ai = function (e) { var t = e.atomicType, r = e.onSelect; return c.a.createElement(d.NavigationController, { className: ei.BASE, root: ni, defaultState: { atomicType: t, onSelect: r } }) }, oi = function (e) { var t = new Date, r = String(t.getDate()).padStart(2, "0"), n = String(t.getHours()).padStart(2, "0"), a = String(t.getMinutes()).padStart(2, "0"), o = String(t.getSeconds()).padStart(2, "0"), i = String(e).charAt(2).toUpperCase(); return "".concat(i, ".").concat(r, ".").concat(n).concat(a).concat(o) }, ii = function (e) { var t = e.onSelectPoint, r = Object(i.useState)(da.Ground), n = Object(Xe.a)(r, 2), a = n[0], o = n[1], s = Object(i.useContext)(Ba).isReadonly, u = Object(i.useCallback)(function (e) { o(e.currentTarget.value) }, [o]), l = Object(i.useCallback)(function (e) { var r = Date.now(), n = new ct.CotEvent({ uid: Object(L.uuid)(), type: "".concat(e), startTime: r, sendTime: r, staleTime: r + 1e10, detail: new ct.CotEventDetail({ contact: new ct.CotEventContact({ callsign: oi(e) }), xml: { archive: Object(C.a)({}, L.XML_TEXT_KEY, ""), usericon: Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { iconsetpath: "COT_MAPPING_2525B/" }) }, takv: new ct.CotEventTakv(E()), xmlDetail: null }) }); t(n), Co.create().close() }, [t]); return c.a.createElement(d.Card, { className: Object(d.className)(Oo.Elements.palette, Oo.Modifiers["mil-2525"]), collapsible: !0, title: "CoT 2525" }, c.a.createElement(d.Select, { className: Oo.Elements["palette-select"], onChange: u, value: a }, Object.entries(da).map(function (e) { var t = Object(Xe.a)(e, 2), r = t[0], n = t[1]; return c.a.createElement("option", { key: n, value: n }, r) })), c.a.createElement("div", { className: Oo.Elements["palette-items"] }, Object.values(fa).filter(function (e) { return e === fa.Unknown || e === fa.Friendly || e === fa.Hostile || e === fa.Neutral }).map(function (e) { var t = "a-".concat(String(e).toLowerCase(), "-").concat(a), r = ja(t).toLowerCase(), n = new La.a.Symbol(r, { sidc: r }).toDataURL(), o = Object(d.className)(Oo.Elements["palette-item"], Object(C.a)({}, Oo.Elements["palette-item-disabled"], s)); return c.a.createElement("div", { key: t, className: o }, c.a.createElement("img", { onClick: function () { return s ? null : l(t) }, src: n, alt: "" })) })), c.a.createElement(d.Button, { style: { marginTop: "10px" }, disabled: s, onClick: function () { return s ? null : Co.create().openWith("Cot Cot Explorer", c.a.createElement(ai, { onSelect: l })) }, small: !0 }, "Advanced")) }; var ci, si = ["mgrs", "dd", "dms", "utm"].map(function (e) { return { value: e, label: e.toUpperCase() } }), ui = Object(d.getClasses)("coordinate-editor", ["dialog-body", "header", "content", "actions"], []), li = function (e) { var t = e.onClose, r = e.defaultCoordinate, n = e.onDone, a = e.allowPoints, o = void 0 !== a && a, s = e.title, u = Object(i.useState)(Object(L.createEmitter)()), l = Object(Xe.a)(u, 1)[0], f = Object(i.useState)("mgrs"), p = Object(Xe.a)(f, 2), m = p[0], h = p[1], v = Object(i.useState)(), g = Object(Xe.a)(v, 2), b = g[0], y = g[1], O = Object(i.useState)(!0), S = Object(Xe.a)(O, 2), w = S[0], A = S[1], T = Object(i.useState)(r), j = Object(Xe.a)(T, 2), k = j[0], R = j[1]; Object(i.useEffect)(function () { return function () { l.clear() } }, [l]); var N = Object(L.throttle)(function () { if (k && Object(L.isCoordinate)([k[1], k[0]])) { var e; switch (m) { case "mgrs": e = Object(L.toMGRSString)(k[0], k[1]); break; case "dd": e = "".concat(k[0], "\xb0, ").concat(k[1], "\xb0"); break; case "dms": e = Object(L.toDMSString)(k[0], k[1]); break; case "utm": e = Object(L.toUTMString)(k[0], k[1]) }"undefined" == typeof e && Td("toast").error({ message: "Unable to copy coordinates to clipboard..." }); var t = document.createElement("input"); t.value = e, document.body.appendChild(t), t.focus(), t.select(); var r = !1; try { r = document.execCommand("copy") } catch (n) { r = !1 } document.body.removeChild(t), r ? Td("toast").success({ message: "Coordinates copied to clipboard..." }) : Td("toast").error({ message: "Unable to copy coordinates to clipboard..." }) } else Td("toast").error({ message: "Unable to copy invalid coordinates" }) }, 500), _ = Object(i.useCallback)(function () { var e; w ? k && Object(L.isCoordinate)([k[1], k[0]]) ? (o && (e = b && "none" !== b ? "b-m-p-s-m" === b ? function (e) { var t = Date.now(), r = Object(L.rgbaToCot)(Object(L.colorToRGBA)("white")); return new ct.CotEvent({ uid: Object(L.uuid)(), type: "".concat(Nr.SPOT_MARKER), startTime: t, sendTime: t, staleTime: t + 1e10, lat: e[0], lon: e[1], detail: new ct.CotEventDetail({ contact: new ct.CotEventContact({ callsign: "".concat("white"[0].toUpperCase(), " ").concat(Object(L.uuid)().slice(0, 4)), endpoint: "" }), xml: { archive: Object(C.a)({}, L.XML_TEXT_KEY, ""), color: Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { argb: r }), usericon: Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { iconsetpath: "COT_MAPPING_SPOTMAP/b-m-p-s-m/".concat(r) }) }, takv: E(), xmlDetail: null }) }) }(k) : function (e, t) { var r = Date.now(); return new ct.CotEvent({ uid: Object(L.uuid)(), type: "".concat(t), startTime: r, sendTime: r, staleTime: r + 1e10, lat: e[0], lon: e[1], detail: new ct.CotEventDetail({ contact: new ct.CotEventContact({ callsign: oi(t) }), xml: { archive: Object(C.a)({}, L.XML_TEXT_KEY, ""), usericon: Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { iconsetpath: "COT_MAPPING_2525B/" }) }, takv: E(), xmlDetail: null }) }) }(k, b) : void 0) && window.WebSAE.cot.addEvents(e.toJS()), n({ mgrs: Object(L.toMGRS)(k[0], k[1]), mgrsString: Object(L.toMGRSString)(k[0], k[1]), utm: Object(L.toUTM)(k[0], k[1]), utmString: Object(L.toUTMString)(k[0], k[1]), dms: Object(L.toDMS)(k[0], k[1]), dmsString: Object(L.toDMSString)(k[0], k[1]), coordinate: k }), t()) : Td("toast").error({ message: "Invalid coordinates" }) : Td("toast").error({ message: "Invalid ".concat(m, " coordinates") }) }, [k, m, b]), I = Object(i.useMemo)(function () { switch (m) { case "mgrs": return c.a.createElement(ba, null); case "dd": return c.a.createElement(Sa, null); case "dms": return c.a.createElement(Aa, null); case "utm": return c.a.createElement(Ea, null) } }, [m]), M = { allowPoints: o, type: m, setCoordinate: R, coordinate: k, onClear: function () { l && l.emit("clear"), R(void 0) }, onCopy: N, setIsValid: A, selectedCotType: b, setSelectedCotType: y, emitter: l }; return c.a.createElement(d.Dialog, { className: ui.BASE, bodyClassName: ui.Elements["dialog-body"], usePortal: !0, title: s, showHeader: Object(L.isString)(s), hasBackdrop: !0, onCancel: t, closeOnClickAway: !0, isOpen: !0 }, c.a.createElement(va.Provider, { value: M }, c.a.createElement("div", { className: ui.Elements.header }, c.a.createElement(d.SegmentedControl, { onChange: function (e) { return h(e) }, options: si })), c.a.createElement("div", { className: ui.Elements.content }, I, c.a.createElement(Ma, null)), c.a.createElement("div", { className: ui.Elements.actions }, c.a.createElement(d.Button.Danger, { minimal: !0, onClick: t }, "Cancel"), c.a.createElement(d.Button, { disabled: !w, onClick: _ }, "Ok")))) }, fi = r(429); r(594); function di(e, t) { var r = "undefined" !== typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (!r) { if (Array.isArray(e) || (r = function (e, t) { if (!e) return; if ("string" === typeof e) return pi(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); "Object" === r && e.constructor && (r = e.constructor.name); if ("Map" === r || "Set" === r) return Array.from(e); if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return pi(e, t) }(e)) || t && e && "number" === typeof e.length) { r && (e = r); var n = 0, a = function () { }; return { s: a, n: function () { return n >= e.length ? { done: !0 } : { done: !1, value: e[n++] } }, e: function (e) { function t(t) { return e.apply(this, arguments) } return t.toString = function () { return e.toString() }, t }(function (e) { throw e }), f: a } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var o, i = !0, c = !1; return { s: function () { r = r.call(e) }, n: function () { var e = r.next(); return i = e.done, e }, e: function (e) { function t(t) { return e.apply(this, arguments) } return t.toString = function () { return e.toString() }, t }(function (e) { c = !0, o = e }), f: function () { try { i || null == r.return || r.return() } finally { if (c) throw o } } } } function pi(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } function mi(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } window.Cesium = oa, window.CESIUM_BASE_URL = "./cesium/", function (e) { e[e["2D"] = 0] = "2D", e[e["3D"] = 1] = "3D" }(ci || (ci = {})); var hi = function (e) { Object(k.a)(r, e); var t = mi(r); function r() { var e; Object(T.a)(this, r); for (var n = arguments.length, a = new Array(n), o = 0; o < n; o++)a[o] = arguments[o]; return (e = t.call.apply(t, [this].concat(a))).PROJECTION = r.PROJECTION, e.container = null, e.map = null, e.map3d = void 0, e.onMapContainerResize = Object(L.throttleFrame)(function () { e.map && e.map.updateSize() }), e.onUpdatePosition = Object(L.throttle)(function () { if (e.map) { var t = e.map.getView(); sn().dispatch(function (e, t) { if (!Object(L.isNumber)(t)) throw new Error("setPosition zoom must be a valid number."); if (2 !== e.length || !e.every(L.isNumber)) throw new Error("setPosition center must be a valid [lon, lat] tuple."); return { type: bt.SET_POSITION, payload: { center: e, zoom: t } } }(t.getCenter(), t.getZoom())) } }, 2500), e } return Object(j.a)(r, [{ key: "setMapContainer", value: function (e) { var t = this, r = new ResizeObserver(function (e) { var r, n = di(e); try { for (n.s(); !(r = n.n()).done;) { r.value; t.onMapContainerResize() } } catch (a) { n.e(a) } finally { n.f() } }); this.map && this.map.setTarget(void 0), this.container && r.unobserve(this.container), this.container = e; var n = sn().getState().map, a = n.center, o = n.zoom, i = new Jn.a({ url: "https://api.mapbox.com/v4/mapbox.satellite/{z}/{x}/{y}.png32?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NDg1bDA1cjYzM280NHJ5NzlvNDMifQ.d6e-nNyBDtmQCVwVNivz7A#3/0.00/0.00" }), c = new Xn.a({ source: i, visible: !0, zIndex: xr.MAP }); this.map = new Wn.a({ layers: [c], target: this.container, view: new Yn.a({ center: a, zoom: o, projection: this.PROJECTION, extent: [-180, -180, 180, 180], minZoom: 3, enableRotation: !1 }), controls: [] }), r.observe(this.container), this.map3d = new fi.a({ map: this.map }), this.map3d.setEnabled(1), this.map.once("postrender", function () { t.map && t.map.getView().on("change:center", t.onUpdatePosition), t.emit("ready", t.map, t.map3d) }) } }, { key: "onMapReady", value: function (e) { var t = this; this.map ? Object(L.queueTask)(function () { return e(t.map, t.map3d) }) : this.once("ready", e) } }, { key: "fitExtent", value: function (e) { if (!Object(L.validate)([ie], e)) throw new X("MapService.fitExtent", "extent", "OpenLayers Extent"); this.onMapReady(function (t) { t.getView().fit(e, { duration: 1e3 }) }) } }, { key: "zoomToPoint", value: function (e, t) { if (!Object(L.validate)([L.isCoordinate], e)) throw new X("MapService.zoomToPoint", 'parameter "point"', "LonLat"); if ("undefined" !== typeof t && !Object(L.validate)([ce], t)) throw new X("MapService.zoomToPoint", 'parameter "zoom', "zoom level"); this.onMapReady(function (r) { var n = r.getView(); "undefined" !== typeof t ? n.animate({ center: e, zoom: t }) : n.animate({ center: e }) }) } }, { key: "performInteraction", value: function (e, t, r) { this.onMapReady(function (n) { var a = !1, o = sn(), i = [], c = function () { a || (u(), t(n)) }, s = o.subscribe(function () { o.getState().map.isExclusive() || c() }), u = function () { a || (i.forEach(function (e) { var t = Object(Xe.a)(e, 2), r = t[0], a = t[1]; n.un(r, a), n.removeEventListener(r, a) }), i = [], a = !0, s(), gn.create().offCombination("esc", c), o.getState().map.isExclusive() && o.dispatch(Et(St.DEFAULT))) }; try { o.dispatch(Et(St.EXCLUSIVE)), gn.create().onceCombination("esc", c), e(n, u, function (e, t) { n.on(e, t), i.push([e, t]) }, function (e, t) { n.once(e, t), i.push([e, t]) }) } catch (l) { r(n, u, l) } }) } }, { key: "performSelection", value: function (e, t, r) { this.onMapReady(function () { var n, a = sn(), o = function () { void 0 !== n && ma.create().off("items-selected", n), a.dispatch(Et(St.DEFAULT)) }; try { a.dispatch(Et(St.SELECT)), gn.create().onceCombination("esc", function () { o(), t() }), e(function (e) { void 0 !== n && ma.create().off("items-selected", n), n = e, ma.create().on("items-selected", e) }, o) } catch (i) { r(o, i) } }) } }, { key: "performManualCoordinateEntry", value: function (e, t) { var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}; this.onMapReady(function (n) { var a = r.allowPointsEntry || !1, o = r.defaultType || "mgrs", c = r.defaultCoordinate, u = r.centerOnComplete, l = r.title, f = document.createElement("div"), d = Object(i.createElement)(li, { onDone: function (t) { var r = t.coordinate; Object(s.unmountComponentAtNode)(f), "function" === typeof e && e(t, n), u && n.getView().animate({ center: [r[1], r[0]] }) }, onClose: function () { Object(s.unmountComponentAtNode)(f), "function" === typeof t && t() }, defaultType: o, allowPoints: a, defaultCoordinate: c, title: l }); Object(s.render)(d, f) }) } }, { key: "isExclusive", value: function () { return sn().getState().map.mapMode === St.EXCLUSIVE } }, { key: "getMapMode", value: function () { return sn().getState().map.mapMode } }, { key: "enable3d", value: function () { this.map3d.setEnabled(!0), this.emit("dimension-change", ci["3D"]) } }, { key: "getMapDimension", value: function () { return this.map3d.getEnabled() ? ci["3D"] : ci["2D"] } }, { key: "disable3d", value: function () { this.map3d.setEnabled(!1), this.emit("dimension-change", ci["2D"]) } }, { key: "getCesiumScene", value: function () { return this.map3d.getCesiumScene() } }, { key: "getDataSourceCollection", value: function () { return this.map3d.getDataSources() } }]), r }(L.Service); function vi(e, t) { var r = "undefined" !== typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (!r) { if (Array.isArray(e) || (r = function (e, t) { if (!e) return; if ("string" === typeof e) return gi(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); "Object" === r && e.constructor && (r = e.constructor.name); if ("Map" === r || "Set" === r) return Array.from(e); if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return gi(e, t) }(e)) || t && e && "number" === typeof e.length) { r && (e = r); var n = 0, a = function () { }; return { s: a, n: function () { return n >= e.length ? { done: !0 } : { done: !1, value: e[n++] } }, e: function (e) { throw e }, f: a } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var o, i = !0, c = !1; return { s: function () { r = r.call(e) }, n: function () { var e = r.next(); return i = e.done, e }, e: function (e) { c = !0, o = e }, f: function () { try { i || null == r.return || r.return() } finally { if (c) throw o } } } } function gi(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } hi.PROJECTION = "EPSG:4326", hi.create = hi.factory(); var bi = function () { function e() { var t = this, r = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : Object(L.uuid)(); Object(T.a)(this, e), this.id = r, this.type = "generic", this.features = void 0, this.name = "", this.icon = "", this.properties = {}, this.vectorLayer = void 0, this.visibility = !0, this.opacity = 1, this.map = void 0, this.createMapItemTypeId(), e.mapItemVisibility || V(h.MAP_ITEM_VISIBILITY, function (t) { t || (e.mapItemVisibility = {}), e.mapItemVisibility = Object.assign({}, t) }), e.mapItemVisibility && void 0 !== e.mapItemVisibility[this.id] && (this.visibility = e.mapItemVisibility[this.id]), e.mapItemOpacity || V(h.MAP_ITEM_OPACITY, function (t) { t || (e.mapItemOpacity = {}), e.mapItemOpacity = Object.assign({}, t) }), e.mapItemOpacity && void 0 !== e.mapItemOpacity[this.id] && (this.opacity = e.mapItemOpacity[this.id]), hi.create().onMapReady(function (e) { t.map = e }), this.vectorLayer = new $n.a({ source: new ia.a({ features: [] }), visible: this.visibility, opacity: this.opacity }), this.getExtent = this.getExtent.bind(this), this.zoomToItem = this.zoomToItem.bind(this) } return Object(j.a)(e, [{ key: "setName", value: function (e) { this.name = e } }, { key: "getName", value: function () { return this.name } }, { key: "getIcon", value: function () { return this.icon } }, { key: "zoomToItem", value: function () { var e = this.getExtent(); e && ie(e) && this.map.getView().fit(e, { duration: 1e3, padding: [50, 50, 50, 50], maxZoom: 15 }) } }, { key: "getExtent", value: function () { var e = this.vectorLayer.getSource().getFeatures().filter(function (e) { return null !== e.getGeometry() }), t = e.pop(); if (t) { var r, n = t.getGeometry().getExtent(), a = vi(e); try { for (a.s(); !(r = a.n()).done;) { var o = r.value; if (o.getGeometry()) { var i = o.getGeometry().getExtent(); Object(aa.p)(n, i) } } } catch (c) { a.e(c) } finally { a.f() } return n } } }, { key: "setVisibility", value: function (t) { var r = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]; this.visibility = t, r && e.persistVisibility(this.id, t) } }, { key: "getFeatures", value: function () { return this.features } }, { key: "setFeatures", value: function (e) { var t = this; e.forEach(function (e) { return e.setProperties({ mapItemId: t.id }) }), this.features = e } }, { key: "getVisible", value: function () { return this.visibility } }, { key: "getVectorLayer", value: function () { return this.vectorLayer } }, { key: "onClick", value: function (e, t) { throw "MapItem.onClick not implemented." } }, { key: "setMap", value: function (e) { this.map = e } }, { key: "dispose", value: function () { } }, { key: "update", value: function () { throw "MapItem.update not implemented." } }, { key: "render", value: function () { throw "MapItem.render not implemented." } }, { key: "createMapItemTypeId", value: function () { this.constructor.prototype._mapItemTypeId || (this.constructor.prototype._mapItemTypeId = Object(L.uuid)()) } }, { key: "getMapItemTypeId", value: function () { return this.constructor.prototype._mapItemTypeId } }], [{ key: "persistVisibility", value: function (t, r) { e.mapItemVisibility || (e.mapItemVisibility = {}), e.mapItemVisibility[t] = r, F(h.MAP_ITEM_VISIBILITY, e.mapItemVisibility) } }, { key: "persistOpacity", value: function (t, r) { e.mapItemOpacity || (e.mapItemOpacity = {}), e.mapItemOpacity[t] = r, F(h.MAP_ITEM_OPACITY, e.mapItemOpacity) } }, { key: "getMapItemVisibility", value: function () { return this.mapItemVisibility } }]), e }(); bi.mapItemVisibility = void 0, bi.mapItemOpacity = void 0; var yi = bi, Ei = r(59), Oi = r(411), Si = r(67), wi = r(65), Ai = {}; function Ci(e) { if (e.detail) { var t = e.getIn(["detail", "track", "course"]); if (t) return t } } var Ti = function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [255, 255, 255, 1], r = 90 - e, n = 18 * Math.cos(r * (Math.PI / 180)) - 2, a = 18 * Math.sin(r * (Math.PI / 180)) + 2, o = Math.round(-r * Math.PI / 180 + 90 * Math.PI / 180); if (!Ai[o]) { var i = new Ei.c({ image: new Oi.a({ fill: new Si.a({ color: "rgba(".concat(t[0], ", ").concat(t[1], ",").concat(t[2], ", ").concat(t[3], ")") }), stroke: new wi.a({ color: "black", width: 1 }), displacement: [n, a], points: 3, radius: 4, angle: o }) }); Ai[o] = i } return Ai[o] }; function ji(e, t) { var r = "undefined" !== typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (!r) { if (Array.isArray(e) || (r = function (e, t) { if (!e) return; if ("string" === typeof e) return ki(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); "Object" === r && e.constructor && (r = e.constructor.name); if ("Map" === r || "Set" === r) return Array.from(e); if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return ki(e, t) }(e)) || t && e && "number" === typeof e.length) { r && (e = r); var n = 0, a = function () { }; return { s: a, n: function () { return n >= e.length ? { done: !0 } : { done: !1, value: e[n++] } }, e: function (e) { throw e }, f: a } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var o, i = !0, c = !1; return { s: function () { r = r.call(e) }, n: function () { var e = r.next(); return i = e.done, e }, e: function (e) { c = !0, o = e }, f: function () { try { i || null == r.return || r.return() } finally { if (c) throw o } } } } function ki(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } function Ri(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var Ni, Li = function (e) { Object(k.a)(r, e); var t = Ri(r); function r(e) { var n; return Object(T.a)(this, r), (n = t.call(this, e.uid)).cot = void 0, n.markerInfoService = Td("marker-info"), n.cot = e, n.type = "cot", n.vectorLayer.setProperties({ id: n.id }), n.name = Br(n.cot), Qo(n.cot).then(function (e) { n.icon = e }), n } return Object(j.a)(r, [{ key: "getCot", value: function () { return this.cot } }, { key: "setVectorLayer", value: function (e) { this.vectorLayer = e } }, { key: "addFeaturesToVectorSource", value: function () { this.features && this.getVectorSource().addFeatures(this.features) } }, { key: "getVectorSource", value: function () { return this.vectorLayer.getSource() } }, { key: "removeFeaturesFromVectorSource", value: function () { var e = this; if (this.features) { var t = this.getVectorSource(); this.features.forEach(function (r) { try { t.removeFeature(r) } catch (fA) { console.error({ error: fA, id: e.id, callsign: Br(e.cot) }) } }) } } }, { key: "setVisibility", value: function (e) { var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1], n = this.features; n ? e ? this.addFeaturesToVectorSource() : this.removeFeaturesFromVectorSource() : n || e && this.render(), Object(zn.a)(Object(N.a)(r.prototype), "setVisibility", this).call(this, e, t) } }, { key: "showInfo", value: function (e, t) { var r = e ? e.coordinate : [this.cot.lon, this.cot.lat]; this.markerInfoService.openMarkerInfo(r, { callsign: Br(this.cot), coordinates: Object(L.toMGRSString)(this.cot.lat, this.cot.lon), details: t }) } }, { key: "getExtent", value: function () { if (this.features) { var e, t = this.features[0].getGeometry().getExtent(), r = ji(this.features); try { for (r.s(); !(e = r.n()).done;) { var n = e.value; if (n.getGeometry()) { var a = n.getGeometry().getExtent(); Object(aa.p)(t, a) } } } catch (o) { r.e(o) } finally { r.f() } return t } } }, { key: "update", value: function (e) { var t = this; if (!this.cot.equals(e) && (this.cot = e, this.features)) { var r = this.features[0], n = r.getGeometry(); n && n.setCoordinates([this.cot.lon, this.cot.lat]), Qo(this.cot).then(function (e) { r.setProperties({ iconUrl: e, course: Ci(t.cot), callsign: Br(t.cot), userIconDetail: t.cot.detail ? t.cot.detail.getIn(["xml", "usericon"]) : null, rgbaColor: Object(L.cotColorToRGBA)(Ho(t.cot)) }) }) } } }, { key: "dispose", value: function () { this.removeFeaturesFromVectorSource(), this.features && this.features.forEach(function (e) { e.dispose() }), this.features = void 0 } }]), r }(yi); function _i(e) { return !!e && Object(L.isString)(e.name) && Object(L.isString)(e.displayName) && "function" === typeof e.mount && "function" === typeof e.unmount } function Ii(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } !function (e) { e[e.other = 0] = "other", e[e.communication = 1] = "communication", e[e.map = 2] = "map", e[e.utilities = 3] = "utilities", e[e["data-management"] = 4] = "data-management" }(Ni || (Ni = {})); var Mi = function (e) { Object(k.a)(r, e); var t = Ii(r); function r(e) { var n, a; if (Object(T.a)(this, r), (n = t.call(this)).category = void 0, n.icon = void 0, n.iconUrl = void 0, n.className = void 0, n.name = void 0, n.title = void 0, n.deviceTypes = void 0, n.onClick = void 0, n.notificationChannel = void 0, "string" !== typeof e.name || !e.name.length) throw new Error('Tool "options.name" must be a non-empty string.'); if ("string" !== typeof e.title || !e.title.length) throw new Error('Tool "options.title" must be a non-empty string.'); if (("string" !== typeof e.icon || !e.icon.length) && ("string" !== typeof e.iconUrl || !e.iconUrl.length)) throw new Error('Tool "options.icon" or option.iconUrl must be a non-empty string.'); if (n.name = e.name, n.title = e.title, n.icon = e.icon, n.iconUrl = e.iconUrl, n.deviceTypes = e.deviceTypes ? e.deviceTypes : "all", n.category = e.category, Object.values(Ni).includes(e.category) || (n.category = "other"), n.className = e.className, (a = e) && Object(L.isString)(a.name) && Object(L.isString)(a.title) && Object(L.isString)(a.category) && (Object(L.isString)(a.icon) || Object(L.isString)(a.iconUrl)) && "function" === typeof a.onClick) n.onClick = e.onClick.bind(Object(K.a)(n)); else { if (!function (e) { return !!e && Object(L.isString)(e.name) && Object(L.isString)(e.title) && Object(L.isString)(e.category) && (Object(L.isString)(e.icon) || Object(L.isString)(e.iconUrl)) && Object(L.isString)(e.drawer) }(e)) throw new X("Tool", "constructor options", "IToolOptions or IToolDrawerOptions"); var o = e.drawer; if (!o.length) throw new Error('Tool "options.drawer" must be a non-empty string when specified.'); n.onClick = function () { Cd.getService("drawer").hasDrawer(o) && window.WebSAE.drawer.setActiveDrawer(o) } } return n } return Object(j.a)(r, [{ key: "setNotificationChannel", value: function (e) { this.notificationChannel = e } }, { key: "getNotificationChannel", value: function () { return this.notificationChannel } }, { key: "forceRender", value: function () { this.emit("change") } }]), r }(L.EventEmitter), xi = function () { function e(t) { if (Object(T.a)(this, e), this.name = void 0, this.displayName = void 0, this.orientation = "side", this.bottomDrawerActionIcons = void 0, this.mount = void 0, this.unmount = void 0, !Object(L.validate)([_i], t)) throw new X("Drawer", "constructor options", "IDrawerOptions"); if (!t.name.length) throw new Error('Drawer "options.name" must be a non-empty string.'); if (!t.displayName.length) throw new Error('Drawer "options.displayName" must be a non-empty string.'); this.name = t.name, this.displayName = t.displayName, this.mount = t.mount, this.unmount = t.unmount, this.bottomDrawerActionIcons = t.bottomDrawerActionIcons ? t.bottomDrawerActionIcons : [], t.orientation && (this.orientation = t.orientation) } return Object(j.a)(e, [{ key: "open", value: function (e, t) { window.WebSAE.drawer.setActiveDrawer(this.name, e, !0, t) } }]), e }(), Di = (r(595), Object(d.getClasses)("point-dropper-drawer", [], [])), Pi = function () { return c.a.createElement(d.NavigationController, { className: Di.BASE, root: So }) }, Ui = (r(596), r(597), r(598), Object(d.getClasses)("toast", ["message", "actions", "button"], ["warn", "error", "success", "info"])), Bi = function (e) { var t, r, n = e.message, a = e.actions, o = e.onDismiss, i = e.intent, s = Object(d.className)(Ui.BASE, (t = {}, Object(C.a)(t, Ui.Modifiers.info, "info" === i), Object(C.a)(t, Ui.Modifiers.warn, "warning" === i), Object(C.a)(t, Ui.Modifiers.error, "error" === i), Object(C.a)(t, Ui.Modifiers.success, "success" === i), t)); return a && (r = a.map(function (e, t) { var r = e.text, n = e.onClick; return c.a.createElement(d.Button, { key: t, onClick: function () { return n(o) }, className: Ui.Elements.button, minimal: !0 }, r) })), c.a.createElement("div", { className: s }, c.a.createElement("span", { className: Ui.Elements.message }, n), c.a.createElement("div", { className: Ui.Elements.actions }, r)) }, Fi = function (e, t, r) { var n = document.createElement("div"); n.classList.add(Object(d.prefix)("toast-container")), n.classList.add(Object(d.prefix)("toast-container__show")); var a = function () { e && (n.classList.add(Object(d.prefix)("toast-container__hide")), n.classList.remove(Object(d.prefix)("toast-container__show")), window.setTimeout(function () { e.removeChild(n) }, 300), r()) }, o = c.a.createElement(Bi, Object(P.a)({}, t, { onDismiss: a }), null); return e && (e.appendChild(n), u.a.render(o, n)), a }; function Vi(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var Hi = { text: "Dismiss", onClick: function (e) { return e() } }, Gi = function (e) { Object(k.a)(r, e); var t = Vi(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).takMapContainer = null, e.toasts = {}, hi.create().onMapReady(function () { e.takMapContainer = document.getElementById("wt-tak-map") }), e } return Object(j.a)(r, [{ key: "info", value: function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this.takMapContainer; this.enqueueToast(Object.assign(e, { intent: "info" }), t) } }, { key: "success", value: function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this.takMapContainer; this.enqueueToast(Object.assign(e, { intent: "success" }), t) } }, { key: "warn", value: function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this.takMapContainer; this.enqueueToast(Object.assign(e, { intent: "warning" }), t) } }, { key: "error", value: function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this.takMapContainer; this.enqueueToast(Object.assign(e, { intent: "error" }), t) } }, { key: "enqueueToast", value: function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this.takMapContainer; if (t) if (e.id || (e.id = Object(L.uuid)(5)), !e.duration || isNaN(e.duration) ? e.duration = 2.5 : e.duration <= 2.5 ? e.duration = 2.5 : e.duration > 8 && (e.duration = 8), t.id || (t.id = Object(L.uuid)(5)), this.toasts[t.id]) this.toasts[t.id].addToast(e); else { var r = new qi(t); r.on("dispose", this.onDispose.bind(this)), this.toasts[t.id] = r, r.addToast(e) } } }, { key: "onDispose", value: function (e) { var t = this.toasts[e]; t && (t.off("dispose", this.onDispose), delete this.toasts[e]) } }]), r }(L.Service); Gi.create = Gi.factory(), Gi.DEFAULT_TOAST_DURATION = 2.5; var qi = function (e) { Object(k.a)(r, e); var t = Vi(r); function r(e) { var n; return Object(T.a)(this, r), (n = t.call(this)).container = e, n.toasts = [], n.currentToast = void 0, e.addEventListener, n } return Object(j.a)(r, [{ key: "addToast", value: function (e) { this.toasts.push(e), this.render() } }, { key: "isContainerOnPage", value: function () { var e = this.container.id; return !!document.getElementById(e) } }, { key: "render", value: function () { var e = Object(o.a)(a.a.mark(function e() { var t = this; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (this.isContainerOnPage()) { e.next = 3; break } return this.emit("dispose"), e.abrupt("return"); case 3: if (!(this.toasts.length && !this.currentToast)) { e.next = 10; break } return this.currentToast = this.toasts.shift(), e.next = 8, new Promise(function (e) { if (t.currentToast) { var r = null, n = Fi(t.container, t.currentToast, function () { r && (clearTimeout(r), e()) }), a = t.currentToast.duration; a = 1e3 * (a || 2.5), r = window.setTimeout(function () { n(), e() }, a) } }); case 8: this.currentToast = void 0, this.render(); case 10: case "end": return e.stop() } }, e, this) })); return function () { return e.apply(this, arguments) } }() }]), r }(L.Service), Ki = Object(d.getClasses)("cot-coordinate", ["wrapper", "actions", "input", "coordinate-label", "label-wrapper"], [""]), zi = function (e) { var t = e.cot, r = e.onChange, n = e.canChange, a = void 0 === n || n, o = Td("map"), s = Object(i.useState)(L.CoordinateTypes.Degrees), u = Object(Xe.a)(s, 2), l = u[0], f = u[1], p = Object(d.className)(Object(d.prefix)("label"), Object(d.prefix)("label"), Ki.BASE), m = Object(i.useContext)(Ba).isReadonly, h = Object(i.useCallback)(function () { o.performManualCoordinateEntry(function (e) { var n = e.coordinate; r && r(t.set("lon", n[1]).set("lat", n[0])) }, function () { }, { defaultCoordinate: [t.lat, t.lon], centerOnComplete: !0, title: "Enter Coordinate" }) }, [t, r]), v = Object(i.useCallback)(function (e) { e.preventDefault(), o.performInteraction(function (e, n, a, o) { document.getElementsByTagName("html")[0].style.cursor = "cell", a("click", function (e) { var a = e.coordinate; r && r(t.set("lon", a[0]).set("lat", a[1])), n(), document.getElementsByTagName("html")[0].style.cursor = "" }) }, function () { document.getElementsByTagName("html")[0].style.cursor = "" }, function () { document.getElementsByTagName("html")[0].style.cursor = "" }) }, [t, r]), g = Object(i.useCallback)(function () { try { var e = ma.create(); e.hasItem(t.uid) && e.getItem(t.uid).zoomToItem() } catch (fA) { o.zoomToPoint([t.lon, t.lat], 10) } }, [t]), b = Object(i.useMemo)(function () { switch (l) { case L.CoordinateTypes.Degrees: return "".concat(Number(t.lat).toFixed(5), ",  ").concat(Number(t.lon).toFixed(5)); case L.CoordinateTypes.MGRS: return Object(L.toMGRSString)(t.lat, t.lon); case L.CoordinateTypes.DMS: return Object(L.toDMSString)(t.lat, t.lon); case L.CoordinateTypes.DM: return Object(L.toDMString)(t.lat, t.lon); case L.CoordinateTypes.UTM: return Object(L.toUTMString)(t.lat, t.lon); default: Object(L.toDMString)(t.lat, t.lon) } }, [t, l, f]), y = Object(i.useMemo)(function () { return Object.entries(L.CoordinateTypes).map(function (e) { var t = Object(Xe.a)(e, 2), r = t[0], n = t[1], a = n === l, o = Ki.Elements["coordinate-label"]; return a && (o += "--active"), c.a.createElement("small", { key: r, className: o, onClick: function () { return f(n) } }, r) }) }, [t, l, f]), E = b; return c.a.createElement("label", { className: p }, c.a.createElement("span", null, "Coordinate", c.a.createElement("div", { className: Ki.Elements.actions }, c.a.createElement(d.CopyClipboard, { value: E, onCopySuccess: function () { Gi.create().info({ message: "Copied Coordinate value to clipboard" }), E = l == L.CoordinateTypes.DMS ? E.replace('"', '\\"') : E.replaceAll('"', '\\"') } }), c.a.createElement(d.Icon, { onClick: g, icon: "magnify-plus" }), a && !m && c.a.createElement(c.a.Fragment, null, c.a.createElement(d.Icon, { onClick: h, icon: "playlist-edit" }), c.a.createElement(d.Icon, { onClick: v, icon: "cursor-move" })))), b, c.a.createElement("div", { className: Ki.Elements["label-wrapper"] }, y)) }, Yi = (r(599), Object(d.getClasses)("cot-callsign", ["wrapper", "image", "input"], [])), Wi = function (e) { var t = e.cot, r = e.showImage, n = e.onChange, a = e.imageRenderer, o = !1, s = Object(i.useState)(), u = Object(Xe.a)(s, 2), l = u[0], f = u[1], p = Object(d.className)(Object(d.prefix)("label"), Object(d.prefix)("label"), Yi.BASE), m = Object(i.useState)(""), h = Object(Xe.a)(m, 2), v = h[0], g = h[1], b = Object(i.useContext)(Ba).isReadonly; Object(i.useEffect)(function () { o = !0, Qo(t).then(function (e) { o && f(e) }); var e = t.detail; if (e) { var r = e.getContact(); r && g(r.callsign) } return function () { o = !1 } }, [t, r, g]); var y = Object(i.useCallback)(function (e) { var r = e.target.value; g(r); var n = t.detail; if (!n) return null; var a = n.setCallsign(r), o = t.set("detail", a); E(o) }, [t, n, g]), E = Object(i.useCallback)(Object(L.debounce)(n, 500), [t, n]); return c.a.createElement("label", { className: p }, c.a.createElement("span", null, "Callsign"), c.a.createElement("div", { className: Yi.Elements.wrapper }, !a && l && r && c.a.createElement("img", { className: Yi.Elements.image, src: l }), "function" === typeof a && a(), c.a.createElement(d.TextInput, { disabled: b, className: Yi.Elements.input, onChange: b ? function () { } : y, value: v }))) }, Xi = Object(d.getClasses)("cot-remakr", [], []), Ji = Object(d.className)(Object(d.prefix)("label"), Object(d.prefix)("label"), Xi.BASE), Zi = function (e) { var t = e.cot, r = e.onChange, n = Object(i.useState)(""), a = Object(Xe.a)(n, 2), o = a[0], s = a[1], u = Object(i.useContext)(Ba).isReadonly; Object(i.useEffect)(function () { var e = t.detail; return e && s(e.getRemarks()), function () { } }, [t, s]); var l = Object(i.useCallback)(function (e) { var r = e.target.value; s(r); var n = t.detail; if (!n) return null; var a = n.setRemarks(r), o = t.set("detail", a); f(o) }, [t, r, s]), f = Object(i.useCallback)(Object(L.debounce)(r, 500), [t, r]); return c.a.createElement("label", { className: Ji }, c.a.createElement("span", null, "Remarks"), c.a.createElement(d.TextInput, { disabled: u, multi: !0, onChange: u ? function () { } : l, value: o })) }, Qi = Object(d.className)(Object(d.prefix)("label"), Object(d.prefix)("label")), $i = function (e) { var t = e.cot, r = e.onChange, n = Object(i.useContext)(Ba).isReadonly, a = t.type.startsWith("a-"), o = function (e) { r(t.set("type", e)), Co.create().isOpen() && Co.create().close() }, s = Object(i.useMemo)(function () { var e = ""; return t.type.length >= 7 && (e = "".concat(ka(t.type.slice(0, -2)), " > ")), "".concat(e).concat(ka(t.type)) }, [t]); return a ? c.a.createElement("label", { className: Qi }, c.a.createElement("span", null, "Type"), c.a.createElement(d.TextInput, { disabled: n, readOnly: !0, onMouseDown: n ? function () { } : function () { Co.create().openWith("Cot Cot Explorer", c.a.createElement(ai, { onSelect: o })) }, value: s })) : null }, ec = r(233), tc = r(744), rc = r(745), nc = function (e) { var t = Object(tc.a)(e.startTime / 1e3); return Object(rc.a)(t, { addSuffix: !1, includeSeconds: !0 }) }, ac = function (e) { var t = e.cot, r = Object(d.className)(Object(d.prefix)("label"), Object(d.prefix)("label")), n = Object(i.useState)(nc(t)), a = Object(Xe.a)(n, 2), o = a[0], s = a[1]; return Object(i.useEffect)(function () { var e = !0, r = setInterval(function () { e && s(nc(t)) }, 5e3); return function () { e = !1, clearInterval(r) } }, [t, s]), c.a.createElement("label", { className: r }, c.a.createElement("span", null, "Last Reported"), c.a.createElement("div", { title: Object(ec.a)(t.startTime, "MMMM Do yyyy, h:mm:ss a") }, o)) }; function oc(e) { var t = e.takv; if (t) return "".concat(t.platform, " - v").concat(t.version); var r = e.xml; if (!r || !r.takv || "object" !== typeof r.takv || Array.isArray(r.takv)) return null; var n = r.takv[L.XML_ATTRIBUTE_KEY]; if ("object" !== typeof n) return null; var a = n.platform, o = n.version; return Object(L.isString)(a) && Object(L.isString)(o) ? "".concat(a, " - v").concat(o) : null } r(600); var ic = r(746); var cc = function (e) { var t = e.onClick, r = e.text, n = Object(i.useState)(), a = Object(Xe.a)(n, 2), o = a[0], s = a[1]; Object(i.useEffect)(function () { return function () { return clearTimeout(o) } }); return c.a.createElement(d.Button, { disabled: void 0 !== o, small: !0, onClick: function () { var e = window.setTimeout(function () { s(void 0) }, 5e3); s(e), t() } }, r) }, sc = Object(d.getClasses)("share-cot-view", ["body", "backdrop", "content", "header", "collapse-button", "list-item", "list-item-title", "broadcast-button"], []), uc = function () { return null }, lc = function (e, t) { return e.name.toLowerCase().includes(t) }, fc = Object(l.b)(function (e) { return { contacts: e.chat.getContacts().filter(function (e) { return "All Chat Rooms" !== e.address.identifier && Td("contacts").getAddressStatus(e.address) !== ze.OFFLINE }) } })(function (e) { var t = e.isOpen, r = e.onClose, n = e.contacts, s = e.cot, u = Object(i.useRef)(null), l = function (e) { return Object(i.useCallback)(function (t) { e && e.current && e.current.setFilterTerm(t.currentTarget.value) }, [e]) }(u), f = Td("socket"), p = Object(i.useCallback)(function () { var e = Object(o.a)(a.a.mark(function e(t) { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, f.sendMessage(s.toJS(), [t.address.identifier], "uid"); case 2: case "end": return e.stop() } }, e) })); return function (t) { return e.apply(this, arguments) } }(), [s]), m = function (e) { return c.a.createElement("div", { className: sc.Elements["list-item"], title: e.name }, c.a.createElement("span", { className: sc.Elements["list-item-title"] }, e.name), c.a.createElement(cc, { onClick: function () { return p(e) }, text: "send" })) }, h = Object(i.useCallback)(Object(o.a)(a.a.mark(function e() { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, f.sendMessage(s.toJS()); case 2: r && r(); case 3: case "end": return e.stop() } }, e) })), [s, r]), v = Object(i.useMemo)(function () { return { mountOnEnter: !0, unmountOnExit: !0, timeout: { enter: 30, exit: 500 }, in: t } }, [t]); return c.a.createElement("div", { className: sc.BASE }, c.a.createElement(ic.a, Object.assign({}, v, { timeout: { enter: 80, exit: 200 } }), function (e) { var t = "".concat(sc.Elements.backdrop, "--").concat(e); return c.a.createElement("div", { onClick: r, className: Object(d.className)(sc.Elements.backdrop, t) }) }), c.a.createElement(ic.a, v, function (e) { var t = "".concat(sc.Elements.body, "--").concat(e); return c.a.createElement("div", { className: Object(d.className)(sc.Elements.body, t) }, c.a.createElement(d.DrawerLayout, { contentClassName: sc.Elements.content }, c.a.createElement(d.DrawerHeader, { title: "Share Marker", rightRenderer: function () { return c.a.createElement(d.Icon, { className: sc.Elements["collapse-button"], onClick: r, icon: "chevron-down" }) }, onSearch: l }, c.a.createElement(d.Button, { className: sc.Elements["broadcast-button"], onClick: h }, "Broadcast")), c.a.createElement(d.List, { title: "", ref: u, rowRenderer: m, headerRenderer: uc, items: n, filter: lc }))) })) }), dc = function (e, t) { if (confirm("Are you Sure")) { var r = Td("drawer").getActiveDrawer(); if (sn().dispatch(Ee(e.toJS())), Td("menu").closeMenu(), r && t) { var n = Td("drawer").getCtx(); oe(n) && n.uid === e.uid && Td("drawer").closeDrawer() } } }; function pc(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var mc = function (e) { Object(k.a)(r, e); var t = pc(r); function r(e, n) { var a, o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}; return Object(T.a)(this, r), (a = t.call(this)).channel = void 0, a.handlers = void 0, a.channelDefaults = { duration: 5e3, type: b.DEFAULT }, a.notificationService = null, a.channel = e, a.handlers = n, a.channelDefaults = Object.assign(a.channelDefaults, o), a } return Object(j.a)(r, [{ key: "notify", value: function (e) { if (!this.notificationService) throw new Error("NotificationChannel.notify: attempting to emit a notification without a global notification service. \n        Please register the notification channel."); var t = Object.assign({ persistent: !1, dismissed: !1 }, this.channelDefaults, e, { id: Object(L.uuid)(), channel: this.channel }); return this.notificationService.emitNotification(t), this.emit("change", this.getNotifications()), t.id } }, { key: "getOnClickHandler", value: function () { return this.handlers.onClick } }, { key: "getHandlerByKey", value: function (e) { return this.handlers[e] } }, { key: "getChannel", value: function () { return this.channel } }, { key: "setHandler", value: function (e, t) { this.handlers[e] = t } }, { key: "setNotificationService", value: function (e) { this.notificationService = e, this.emit("change", this.getNotifications()) } }, { key: "getNotifications", value: function () { if (!this.notificationService) throw new Error("Notification channel is not registered"); return this.notificationService.getNotificationsByChannel(this.channel) } }, { key: "getNotification", value: function (e) { if (!this.notificationService) throw new Error("Notification channel is not registered"); this.notificationService.getNotification(e) } }, { key: "removeNotification", value: function (e) { if (!this.notificationService) throw new Error("Notification channel is not registered"); this.notificationService.removeNotification(e), this.emit("change", this.getNotifications()) } }, { key: "removeAll", value: function () { var e = this; this.getNotifications().forEach(function (t) { e.notificationService && e.notificationService.removeNotification(t.id) }), this.emit("change", this.getNotifications()) } }, { key: "dismissNotification", value: function (e) { if (!this.notificationService) throw new Error("Notification channel is not registered"); this.notificationService.dismissNotification(e), this.emit("change", this.getNotifications()) } }]), r }(L.EventEmitter); function hc(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var vc = function (e) { Object(k.a)(r, e); var t = hc(r); function r() { var e; Object(T.a)(this, r); for (var n = arguments.length, a = new Array(n), o = 0; o < n; o++)a[o] = arguments[o]; return (e = t.call.apply(t, [this].concat(a))).notificationChannels = {}, e.store = sn(), e } return Object(j.a)(r, [{ key: "emitNotification", value: function (e) { var t; this.store.dispatch((t = e, { type: mt.ADD_NOTIFICATION, payload: new gt(t) })) } }, { key: "registerNotificationChannel", value: function (e) { this.notificationChannels[e.getChannel()] = e, e.setNotificationService(this), this.emit("channel-registered", e) } }, { key: "getChannel", value: function (e) { return this.notificationChannels[e] } }, { key: "getNotification", value: function (e) { return this.store.getState().notifications.find(function (t) { return t.id === e }) } }, { key: "getNotificationsByChannel", value: function (e) { return this.store.getState().notifications.filter(function (t) { return t.channel === e }).toArray() } }, { key: "dismissNotification", value: function (e) { var t; this.store.dispatch((t = e, { type: mt.DISMISS_NOTIFICATION, payload: t })) } }, { key: "removeNotification", value: function (e) { var t = this.getNotification(e); if (!t) throw new Error("Unable to find notification with the ID: ".concat(e)); this.store.dispatch(function (e) { return { type: mt.REMOVE_NOTIFICATION, payload: e } }(t)) } }]), r }(L.Service); vc.create = vc.factory(); var gc = vc; function bc(e) { arguments.length > 1 && void 0 !== arguments[1] && arguments[1]; var t = Math.floor(Math.log(e) / Math.log(1e3)); return "".concat((e / Math.pow(1e3, t)).toFixed(2), " ").concat(["B", "KB", "MB", "GB", "TB", "PB", "EB", "ZB", "YB"][t]) } var yc = r(75), Ec = r(114), Oc = r(91); function Sc(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var wc = function (e) { Object(k.a)(r, e); var t = Sc(r); function r(e) { return Object(T.a)(this, r), t.call(this, e) } return Object(j.a)(r, [{ key: "onClick", value: function (e) { Uc.create().onQuickPicMapItemClicked(this.cot), this.showInfo(e) } }, { key: "render", value: function () { var e = Object(o.a)(a.a.mark(function e() { var t, r, n, o, i; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return t = this.cot.detail, e.next = 3, Qo(this.cot); case 3: if (r = e.sent, t) { e.next = 6; break } return e.abrupt("return"); case 6: n = new Zn.a(new yc.a([this.cot.lon, this.cot.lat])), o = t.getContact(), i = o && Object(L.isString)(o.callsign) ? "".concat(o.callsign, " Alert") : "", this.vectorLayer.setStyle(function (e, t) { var n = t >= .01; return new Ei.c({ image: new Ec.a({ opacity: 1, src: r }), text: new Oc.a({ offsetY: 20, fill: new Si.a({ color: "#fff" }), stroke: new wi.a({ color: "#313131", width: 5 }), text: n ? "" : i }) }) }), n.setProperties({ cotUid: this.cot.uid }), n.setId(this.cot.uid), this.setFeatures([n]), this.getVectorSource().addFeatures([n]), this.vectorLayer.setZIndex(xr.MARKER); case 15: case "end": return e.stop() } }, e, this) })); return function () { return e.apply(this, arguments) } }() }]), r }(Li); function Ac(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var Cc = function (e) { Object(k.a)(r, e); var t = Ac(r); function r() { return Object(T.a)(this, r), t.apply(this, arguments) } return Object(j.a)(r, [{ key: "getName", value: function () { return this.props.drawer.name } }]), r }(i.Component); function Tc(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var jc = function (e) { Object(k.a)(r, e); var t = Tc(r); function r() { var e; Object(T.a)(this, r); for (var n = arguments.length, a = new Array(n), o = 0; o < n; o++)a[o] = arguments[o]; return (e = t.call.apply(t, [this].concat(a))).containerRef = Object(i.createRef)(), e.isAttached = !1, e } return Object(j.a)(r, [{ key: "componentDidMount", value: function () { this.attach(this.props.drawer) } }, { key: "componentDidUpdate", value: function (e) { this.detach(e.drawer), this.attach(this.props.drawer) } }, { key: "shouldComponentUpdate", value: function (e) { return this.props.drawer !== e.drawer } }, { key: "componentWillUnmount", value: function () { this.detach(this.props.drawer) } }, { key: "render", value: function () { return c.a.createElement("div", { ref: this.containerRef }) } }, { key: "attach", value: function (e) { var t = this.containerRef.current; t && !this.isAttached && (e.mount(t), this.isAttached = !0) } }, { key: "detach", value: function (e) { var t = this.containerRef.current; if (t && this.isAttached) try { e.unmount(t) } finally { if (t) for (; t.hasChildNodes();)t.removeChild(t.firstChild); this.isAttached = !1 } } }]), r }(Cc); function kc(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var Rc = function (e) { Object(k.a)(r, e); var t = kc(r); function r() { var e; Object(T.a)(this, r); for (var n = arguments.length, a = new Array(n), o = 0; o < n; o++)a[o] = arguments[o]; return (e = t.call.apply(t, [this].concat(a))).hasCheckedReturn = !1, e.hasValidReturn = !0, e } return Object(j.a)(r, [{ key: "render", value: function () { var e = this.props.drawer.mount(); return this.hasCheckedReturn || (this.hasCheckedReturn = !0, this.hasValidReturn = Object(i.isValidElement)(e), this.hasValidReturn || console.warn("ReactDrawer element ".concat(this.getName(), " mount returned an"), "invalid ReactElement, renders will now return null to", "prevent a crash.")), this.hasValidReturn ? e : null } }]), r }(Cc), Nc = function (e) { return !!e.mount.length }; function Lc(e) { return { getComponent: function () { return Nc(e) ? Object(i.createElement)(jc, { drawer: e }) : Object(i.createElement)(Rc, { drawer: e }) }, getDisplayName: function () { return e.displayName }, getName: function () { return e.name }, getOrientation: function () { return e.orientation }, getActionIcons: function () { return e.bottomDrawerActionIcons } } } r(601); var _c = Object(d.getClasses)("bottom-drawer", ["header", "collapse", "non-ideal"], ["mobile-landscape-or-tablet", "mobile-portrait-and-below", "open", "closed"]), Ic = function () { var e, t = Dc.create(), r = Object(i.useState)(null), n = Object(Xe.a)(r, 2), a = n[0], o = n[1], s = Object(i.useState)(), u = Object(Xe.a)(s, 2), l = (u[0], u[1]), f = Object(i.useState)(), p = Object(Xe.a)(f, 2), m = (p[0], p[1]); xa(t, "bottom-drawer-change", function (e, r, n) { var a = t.getDrawer(e); o(a), l(r), b(n), m(e) }, []); var h = Object(i.useState)(t.isOpen("bottom")), v = Object(Xe.a)(h, 2), g = v[0], b = v[1]; xa(t, "open-bottom-drawer", function (e) { b(e) }, []); var y = Object(d.useResponsiveSize)(), E = y.tablet, O = y.mobileLandscape, S = y.mobilePortrait, w = (y.desktop, Object(d.className)(_c.BASE, (e = {}, Object(C.a)(e, _c.Modifiers["mobile-landscape-or-tablet"], E || O), Object(C.a)(e, _c.Modifiers["mobile-portrait-and-below"], S), Object(C.a)(e, _c.Modifiers.open, g), Object(C.a)(e, _c.Modifiers.closed, !g), e))); return c.a.createElement("div", { className: w }, g && c.a.createElement("div", { className: _c.Elements.header }, c.a.createElement("div", null, a ? a.getDisplayName() : null), c.a.createElement("div", null, a ? a.getActionIcons().map(function (e) { return c.a.createElement(d.Icon, e) }) : null, c.a.createElement(d.Icon, { onClick: function () { g ? t.closeDrawer("bottom") : t.openDrawer("bottom") }, icon: "chevron-down", color: "white" }))), c.a.createElement(d.Collapse, { isOpen: t.isOpen("bottom") }, c.a.createElement("div", { className: _c.Elements.collapse }, a ? a.getComponent() : c.a.createElement("div", { className: _c.Elements["non-ideal"] }, c.a.createElement(d.NonIdealState, { icon: "alert", title: "No Content", description: "There is currently no active content in this drawer" }))))) }, Mc = r(112); function xc(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var Dc = function (e) { Object(k.a)(r, e); var t = xc(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).drawers = [], e.history = Object(q.List)(), e.tempHistoryEntry = void 0, e.sideDrawerOpen = !1, e.bottomDrawerOpen = !1, e.activeSideDrawer = "", e.activeBottomDrawer = "", e.sideDrawerCtx = void 0, e.btmDrawerCtx = void 0, e.map = void 0, e.control = void 0, e.container = document.createElement("div"), e.attached = !1, e.dropActiveDrawer = function () { "bottom" === (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "side") && (e.activeBottomDrawer = "", e.btmDrawerCtx = void 0, e.closeBottomDrawer(), e.emit("bottom-drawer-change", e.activeBottomDrawer, e.btmDrawerCtx, e.bottomDrawerOpen)), e.activeSideDrawer = "", e.sideDrawerCtx = void 0, e.sideDrawerOpen = !1, e.emit("drawer-change", e.activeSideDrawer, e.sideDrawerCtx, e.sideDrawerOpen) }, e.closeSideDrawer = function (t) { e.sideDrawerOpen = !1, e.emit("drawer-change", e.activeSideDrawer, e.sideDrawerCtx, e.sideDrawerOpen), t && t.drop && e.dropActiveDrawer("side") }, e.getCtx = function () { switch (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "side") { case "side": return e.sideDrawerCtx; case "bottom": return e.btmDrawerCtx; default: return e.sideDrawerCtx } }, e.setCtx = function (t) { var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "side"; switch (e.sideDrawerCtx = t, r) { case "side": e.sideDrawerCtx = t; case "bottom": e.btmDrawerCtx = t; default: e.sideDrawerCtx = t } }, e.getHistory = function () { return e.history }, Td("map").onMapReady(function () { e.attachBottomDrawer() }), e } return Object(j.a)(r, [{ key: "attachBottomDrawer", value: function () { var e = this; window.WebSAE.map.onMapReady(function (t) { e.map = t; var r = c.a.createElement(l.a, { store: sn() }, c.a.createElement(Ic, null, e.activeBottomDrawer)); u.a.render(r, e.container), e.control = new Mc.a({ element: e.container, target: "map-control-container" }), e.map.addControl(e.control), e.attached = !0 }) } }, { key: "detachDrawer", value: function () { this.map && this.control && (this.attached = !1, this.map.removeControl(this.control)) } }, { key: "isAttached", value: function () { return this.attached } }, { key: "hasDrawer", value: function (e) { return this.drawers.some(function (t) { return t.getName() === e }) } }, { key: "registerDrawer", value: function (e) { if (!(e instanceof xi)) throw new Error("DrawerService.registerDrawer Argument must be instanceof Drawer."); var t = Lc(e); if (this.hasDrawer(e.name)) throw new Error('DrawerService.registerDrawer Cannot reregister existing drawer "'.concat(t.getName(), '".')); this.drawers.push(t) } }, { key: "unregisterDrawer", value: function (e) { if (!(e instanceof xi)) throw new Error("DrawerService.unregisterDrawer Argument must be instanceof Drawer."); if (!this.hasDrawer(e.name)) throw new Error('DrawerService.registerDrawer Cannot unregister unknown drawer "'.concat(e.name, '".')); this.drawers = this.drawers.filter(function (t) { return t.getName() !== e.name }) } }, { key: "getDrawers", value: function () { return Object(D.a)(this.drawers) } }, { key: "getDrawer", value: function (e) { var t = this.drawers.find(function (t) { return t.getName() === e }); if (!t) throw new Error('DrawerService.getDrawer Cannot retrieve unknown drawer "'.concat(e, '".')); return t } }, { key: "getActiveDrawer", value: function () { return "bottom" === (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "side") ? this.activeBottomDrawer && this.hasDrawer(this.activeBottomDrawer) ? this.getDrawer(this.activeBottomDrawer) : null : this.activeSideDrawer && this.hasDrawer(this.activeSideDrawer) ? this.getDrawer(this.activeSideDrawer) : null } }, { key: "setActiveDrawer", value: function (e, t) { var r = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2], n = !(arguments.length > 3 && void 0 !== arguments[3]) || arguments[3]; if (!this.hasDrawer(e)) throw new Error('DrawerService.setActiveDrawer Cannot set active unknown drawer "'.concat(e, '".')); switch (this.getDrawer(e).getOrientation()) { case "bottom": this.activeBottomDrawer = e, this.btmDrawerCtx = t, this.bottomDrawerOpen = r, this.emit("bottom-drawer-change", this.activeBottomDrawer, this.btmDrawerCtx, this.bottomDrawerOpen); break; case "side": this.activeSideDrawer = e, this.sideDrawerCtx = t, this.sideDrawerOpen = r, n && this.addToHistory({ name: e, ctx: t }), this.emit("drawer-change", this.activeSideDrawer, this.sideDrawerCtx, this.sideDrawerOpen) } } }, { key: "isOpen", value: function () { switch (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "side") { case "side": return this.isSideDrawerOpen(); case "bottom": return this.isBottomDrawerOpen(); default: return this.isOpen() } } }, { key: "isSideDrawerOpen", value: function () { return !!this.sideDrawerOpen } }, { key: "isBottomDrawerOpen", value: function () { return !!this.bottomDrawerOpen } }, { key: "openDrawer", value: function () { switch (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "side") { case "bottom": this.openBottomDrawer(); break; case "side": default: this.openSideDrawer() } } }, { key: "openSideDrawer", value: function () { if (!this.activeSideDrawer) throw new Error("DrawerService.openDrawer cannot open the drawer when there is no valid activeDrawer."); this.sideDrawerOpen = !0, this.emit("drawer-change", this.activeSideDrawer, this.sideDrawerCtx, !0) } }, { key: "openBottomDrawer", value: function () { this.bottomDrawerOpen = !0, this.emit("open-bottom-drawer", this.bottomDrawerOpen) } }, { key: "closeDrawer", value: function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "side", t = arguments.length > 1 ? arguments[1] : void 0; switch (e) { case "side": this.closeSideDrawer(t); break; case "bottom": this.closeBottomDrawer(t); break; default: this.closeSideDrawer(t) } } }, { key: "closeBottomDrawer", value: function (e) { this.bottomDrawerOpen = !1, this.emit("open-bottom-drawer", this.bottomDrawerOpen), e && e.drop && this.dropActiveDrawer("bottom") } }, { key: "addToHistory", value: function (e) { var t = this; this.history.count() >= 5 && (this.history = this.history.pop()), this.history = this.history.filter(function (e) { return e.name !== t.activeSideDrawer }), this.history = this.history.unshift(e) } }]), r }(L.Service); function Pc(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } Dc.create = Dc.factory(), Dc.MAX_SIMILAR_ENTRIES = 2, Dc.MAX_RECENT_ENTRIES = 5; var Uc = function (e) { Object(k.a)(r, e); var t = Pc(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).dataPackageService = _s.create(), e.mapRenderingService = ma.create(), e.store = void 0, e.drawerService = Dc.create(), e.store = sn(), e.registerQuickPicPackageHandler(), e.registerAttachmentCotPackageHandler(), e.registerCotRenderer(), e } return Object(j.a)(r, [{ key: "registerAttachmentCotPackageHandler", value: function () { this.dataPackageService.registerPackageHandler(function (e) { return 1 === e.cotsEvents.length && e.attachments.length >= 1 && e.cotsEvents.some(function (e) { return !r.isQuickPicType(e.type) }) }, !0, function (e) { return { contentTitle: "CoT with attachment Received", contentText: "CoT from ".concat(e.sender, " recieved"), details: { cotUid: e.uid } } }) } }, { key: "registerQuickPicPackageHandler", value: function () { this.dataPackageService.registerPackageHandler(function (e) { return 1 === e.cotsEvents.length && e.cotsEvents.some(function (e) { return r.isQuickPicType(e.type) }) }, !0, function (e) { return { contentTitle: "Quick Pic Received", contentText: "Quick Pic from ".concat(e.sender, " recieved"), details: { cotUid: e.uid }, actions: [{ handlerKey: "zoomToQuicKPic", buttonText: "Zoom to Quick Pic" }] } }) } }, { key: "registerCotRenderer", value: function () { xl.create().registerMarkerRenderer(Nr.QUICK_PIC, wc) } }, { key: "onZoomToQuickPic", value: function (e) { this.store.getState().dataPackages.packages.has(e) && this.mapRenderingService.getItem(this.store.getState().dataPackages.packages.get(e).cotsEvents.get(0).uid).zoomToItem() } }, { key: "onQuickPicMapItemClicked", value: function (e) { var t = this, r = [{ icon: Object(d.toURL)(Object(d.inlineSvg)("format-list-bulleted", { fill: "black" })), onClick: function () { t.drawerService.setActiveDrawer("cot-with-attachment-details", e), Td("menu").closeMenu() } }, { icon: Object(d.toURL)(Object(d.inlineSvg)("delete", { fill: "#FF5C54" })), onClick: function () { t.deleteQuickPic(e) } }]; Td("menu").openMenu([e.lon, e.lat], r) } }, { key: "deleteQuickPic", value: function (e) { if (confirm("Are you sure you want to remove the Quick Pic? It will be permanently deleted.")) { Td("menu").closeMenu(), this.drawerService.closeDrawer(); var t = ""; this.dataPackageService.cotsWithAttachments.has(e.uid) && (t = this.dataPackageService.cotsWithAttachments.get(e.uid)[0].dataPackageUid), this.store.getState().dataPackages.packages.has(t) && 1 === this.store.getState().dataPackages.packages.get(t).cotsEvents.size && r.isQuickPicType(this.store.getState().dataPackages.packages.get(t).cotsEvents.get(0).type) ? (this.store.dispatch(Ee(e)), this.mapRenderingService.removeItem(e.uid), this.dataPackageService.cotsWithAttachments = this.dataPackageService.cotsWithAttachments.remove(e.uid), this.dataPackageService.deleteDataPackage(t)) : (this.store.dispatch(Ee(e)), this.mapRenderingService.removeItem(e.uid)) } } }], [{ key: "isQuickPicType", value: function (e) { return e === Nr.QUICK_PIC } }]), r }(L.Service); function Bc(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } Uc.create = Uc.factory(); var Fc = function (e) { Object(k.a)(r, e); var t = Bc(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).dataPackageNotificationChannel = void 0, e.alternateDataPackageNotificationChannel = void 0, e.dataPackageNotificationChannel = new mc("data-package-notification-channel", e.handlers(), e.notifcationDefaults()), e.alternateDataPackageNotificationChannel = new mc("alternate-data-package-notification-channel", e.handlers(), e.notifcationDefaults()), gc.create().registerNotificationChannel(e.dataPackageNotificationChannel), gc.create().registerNotificationChannel(e.alternateDataPackageNotificationChannel), e } return Object(j.a)(r, [{ key: "handlers", value: function () { return { onClick: function (e, t) { }, viewDataPackage: function (e, t) { _s.create().onViewDataPackage(e.cotUid) }, zoomToQuicKPic: function (e, t) { Uc.create().onZoomToQuickPic(e.cotUid) } } } }, { key: "getDataPackageNotificationChannel", value: function () { return this.dataPackageNotificationChannel } }, { key: "notifcationDefaults", value: function () { return { duration: 7e3, type: b.DEFAULT, headerTitle: "Data Package", headerIcon: Object(d.toURL)(Object(d.inlineSvg)("dropbox", {}, { viewBox: "0 0 24 24" })) } } }, { key: "getNotificationsForPackage", value: function (e) { return this.dataPackageNotificationChannel.getNotifications().filter(function (t) { return t.details && t.details.get("cotUid") === e }) } }, { key: "removeAll", value: function (e) { var t = this; this.getNotificationsForPackage(e).forEach(function (e) { t.dataPackageNotificationChannel.removeNotification(e.id) }) } }, { key: "dataPackageReceived", value: function (e, t) { this.dataPackageNotificationChannel.notify({ contentTitle: "Data package Received", contentText: "Data package from ".concat(e, " recieved"), details: { cotUid: t }, actions: [{ handlerKey: "viewDataPackage", buttonText: "View Data Package" }], persistent: !0 }) } }, { key: "notify", value: function (e) { this.alternateDataPackageNotificationChannel.notify(e) } }, { key: "dataPackageTooLarge", value: function (e, t) { this.alternateDataPackageNotificationChannel.notify({ type: b.ERROR, contentTitle: "Data package Rejected", contentText: "Data package is ".concat(bc(e), ". WebSAE will not process data packages larger than 15 MB"), details: { sha256Hash: t }, hyperlink: { buttonText: "Download Data Package", href: "".concat(Pr.create().getSyncUrl(), "/content?hash=").concat(t) } }) } }]), r }(L.Service); Fc.create = Fc.factory(); var Vc = r(256), Hc = (r(602), r(342)), Gc = r.n(Hc), qc = Object(d.getClasses)("kml-popup", ["header", "title", "close-icon", "content", "parameter"], ["mobile"]), Kc = function (e) { var t = e.onClose, r = e.featureProps, n = Object(d.useResponsiveSize)().mobile, a = r.name, o = r.description, i = Object(Oe.a)(r, ["name", "description"]), s = Object(d.className)(qc.BASE, Object(C.a)({}, qc.Modifiers.mobile, !!n)); return c.a.createElement("div", { className: s }, c.a.createElement("div", { className: qc.Elements.header }, c.a.createElement("h6", { className: qc.Elements.title }, a), c.a.createElement(d.Icon, { className: qc.Elements["close-icon"], icon: "close", onClick: t })), c.a.createElement("div", { className: qc.Elements.content }, c.a.createElement("div", { dangerouslySetInnerHTML: { __html: Gc.a.sanitize(o) } }), Object.entries(i).map(function (e, t) { var r = Object(Xe.a)(e, 2), n = r[0], a = r[1]; return c.a.createElement("div", { className: qc.Elements.parameter, key: t }, c.a.createElement("div", null, c.a.createElement("strong", null, n)), c.a.createElement("div", { dangerouslySetInnerHTML: { __html: Gc.a.sanitize(a) } })) }))) }; function zc(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var Yc = function (e) { Object(k.a)(r, e); var t = zc(r); function r() { var e; Object(T.a)(this, r), (e = t.call(this)).kmlPopoverControl = void 0, e.map = null; var n = document.createElement("div"); return n.style.position = "absolute", n.style.right = "0.5em", n.style.top = "3.3em", n.classList.add(Object(d.prefix)("kml-popup-control")), e.kmlPopoverControl = new Mc.a({ element: n }), hi.create().onMapReady(function (t) { e.map = t }), e } return Object(j.a)(r, [{ key: "showPopOver", value: function (e) { if (this.map) { var t = this.extractProperties(e)[0]; Object(s.render)(Object(i.createElement)(Kc, { onClose: this.closePopOver.bind(this), featureProps: Object(P.a)({}, t, { name: t.name, description: t.description }) }), this.kmlPopoverControl.element), this.map.addControl(this.kmlPopoverControl) } } }, { key: "closePopOver", value: function () { this.map && this.map.removeControl(this.kmlPopoverControl) } }, { key: "extractProperties", value: function (e) { return e.map(function (e) { var t = e.getProperties(), r = t.name, n = t.description, a = Object(Oe.a)(t, ["name", "description"]), o = { name: r, description: n }; delete a.styleUrl, delete a.geometry, delete a.visibility, delete a.mapItemId; return Object.keys(a).forEach(function (e) { var t; o[(t = e, t.replace(/([A-Z])/g, function (e) { return " ".concat(e) }).replace(/^./, function (e) { return e.toUpperCase() }).trim())] = a[e] }), o }) } }]), r }(L.Service); Yc.create = Yc.factory(); var Wc, Xc = Yc; function Jc(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } !function (e) { e.PENDING = "pending", e.ACTIVE = "active", e.ERROR = "error" }(Wc || (Wc = {})); var Zc = function (e) { Object(k.a)(r, e); var t = Jc(r); function r(e) { var n; return Object(T.a)(this, r), (n = t.call(this, e.uid)).file = void 0, n.emitter = Object(L.createEmitter)(), n.renderState = void 0, n.on = n.emitter.on, n.once = n.emitter.once, n.off = n.emitter.off, n.file = e, n.renderState = Wc.ACTIVE, n.getFile = n.getFile.bind(Object(K.a)(n)), n.getRenderState = n.getRenderState.bind(Object(K.a)(n)), n } return Object(j.a)(r, [{ key: "getFile", value: function () { return this.file } }, { key: "getRenderState", value: function () { return this.renderState } }, { key: "setRenderState", value: function (e) { this.renderState = e, this.emitter.emit("change", { renderState: e }), this.emitter.emit("change:render-state", e) } }, { key: "zoomToItem", value: function () { var e = this; this.file.data ? Object(zn.a)(Object(N.a)(r.prototype), "zoomToItem", this).call(this) : this.loadFile().then(Object(o.a)(a.a.mark(function t() { return a.a.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, e.render(); case 2: e.setVisibility(!0), Object(zn.a)(Object(N.a)(r.prototype), "zoomToItem", e).call(e); case 4: case "end": return t.stop() } }, t) }))) } }, { key: "dispose", value: function () { this.features = void 0, this.vectorLayer.getSource().clear(), this.emitter.clear() } }, { key: "setVisibility", value: function (e) { var t = this, n = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]; e ? this.getVisible() || this.file.data ? !this.getVisible() && this.file.data && this.vectorLayer.setVisible(!0) : this.loadFile().then(function (e) { e && t.vectorLayer.setVisible(!0) }) : e || this.getVisible() && this.vectorLayer.setVisible(!1), this.emitter.emit("change", { visibility: e }), this.emitter.emit("change:visibility", e), Object(zn.a)(Object(N.a)(r.prototype), "setVisibility", this).call(this, e, n) } }, { key: "loadFile", value: function () { var e = Object(o.a)(a.a.mark(function e() { var t; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return this.setRenderState(Wc.PENDING), e.next = 3, Rs.create().loadFile(this.file.uid); case 3: if (!(t = e.sent)) { e.next = 8; break } return this.file = t, this.setRenderState(Wc.ACTIVE), e.abrupt("return", t); case 8: case "end": return e.stop() } }, e, this) })); return function () { return e.apply(this, arguments) } }() }]), r }(yi), Qc = r(104); function $c(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var es, ts = Xc.create(), rs = function (e) { Object(k.a)(r, e); var t = $c(r); function r(e) { var n; return Object(T.a)(this, r), (n = t.call(this, e)).name = e.name, n.icon = Object(d.toURL)(Object(d.inlineSvg)("google-earth")), n } return Object(j.a)(r, [{ key: "onClick", value: function (e, t) { 0 !== t.length && ts.showPopOver(t) } }, { key: "render", value: function () { var e = Object(o.a)(a.a.mark(function e() { var t, r, n, o; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (this.file.data) { e.next = 2; break } return e.abrupt("return"); case 2: return this.setRenderState(Wc.PENDING), this.vectorLayer.getSource().clear(), t = new Blob([this.file.data]), e.t0 = new Vc.a({ extractStyles: !0, showPointNames: !0 }), e.next = 8, t.text(); case 8: e.t1 = e.sent, r = e.t0.readFeatures.call(e.t0, e.t1), n = new Qc.a(r), o = new ia.a({ features: n }), this.vectorLayer.setSource(o), this.vectorLayer.setZIndex(xr.KML), this.vectorLayer.setProperties({ name: this.getFile().name, uid: this.getFile().uid }), this.setRenderState(Wc.ACTIVE), this.setFeatures(r); case 17: case "end": return e.stop() } }, e, this) })); return function () { return e.apply(this, arguments) } }() }]), r }(Zc), ns = r(163), as = r(231); function os(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } !function (e) { e[e.RESOURCE = 1] = "RESOURCE", e[e.KML = 2] = "KML", e[e.OTHER = 3] = "OTHER" }(es || (es = {})); var is = ["http://", "https://", "data:image/"], cs = [".jpg", ".jpeg", ".png", ".gif"], ss = function (e) { return is.some(function (t) { return 0 === e.indexOf(t) }) }, us = function (e) { Object(k.a)(r, e); var t = os(r); function r(e) { Object(T.a)(this, r); var n = Object(P.a)({}, e); return n.id || (n.id = "FileDescriptor-".concat(Object(L.uuid)(5))), n.name || (n.name = "UnknownFile-".concat(Object(L.uuid)(5))), t.call(this, n) } return r }(Object(q.Record)({ id: "", name: "", type: es.OTHER })), ls = function () { function e(t, r) { Object(T.a)(this, e), this.groundLayers = [], this.splicedKML = null, this.parser = new DOMParser, this.serializer = new XMLSerializer, this.originalKML = void 0, this.resources = void 0, this.splicedIdentifier = void 0, this.originalKML = t.trim(), this.resources = r, this.splicedIdentifier = e.splicedDocumentId, e.splicedDocumentId += 1 } return Object(j.a)(e, [{ key: "extractOverlays", value: function () { for (var t = this, r = this.parser.parseFromString(this.originalKML, "application/xml"), n = r.querySelectorAll("GroundOverlay"), a = 0; a < n.length; a += 1) { var o = n[a], i = o.getElementsByTagName("gx:LatLonQuad"), c = o.getElementsByTagName("LatLonBox") || o.getElementsByTagName("LatLonAltBox"), s = void 0; if (i && i.length > 0) { var u = i[0].querySelector("coordinates"); if (!u) continue; s = e.getExtentFromQuad(String(u.textContent).trim()) } else { if (!(c && c.length > 0)) continue; var l = c[0]; if (!l) continue; s = e.getExtentFromLatLonBox(l) } var f = o.querySelector("Icon href"); if (!f) return; var d = String(f.textContent).trim(), p = d.indexOf("./") ? d : d.slice(2); if (!ss(p) && this.resources.has(p)) { var m = this.resources.get(p), h = p && p.split(".").slice(-1) || ["jpeg"], v = Object(Xe.a)(h, 1)[0], g = new as.a({ imageExtent: s, url: "data:image/".concat(v, ";base64,").concat(m), projection: hi.PROJECTION }), b = new ns.a({ source: g, className: "kml-image-layer-".concat(Object(L.uuid)(5)) }); b.setProperties({ zIndex: xr.IMAGE }), this.groundLayers.push(b), o.parentNode && o.parentNode.removeChild(o) } } this.splicedKML = this.serializer.serializeToString(r.documentElement), r.querySelectorAll("Icon href").forEach(function (e) { var r = String(e.textContent).trim(), n = r.indexOf("./") ? r : r.slice(2); if (!ss(n)) { var a = n && n.split(".").slice(-1) || ["jpeg"], o = Object(Xe.a)(a, 1)[0], i = t.resources.get(n), c = "data:image/".concat(o, ";base64,").concat(i), s = new RegExp(n, "g"); t.splicedKML = t.splicedKML.replace(s, c) } }) } }, { key: "getEmulatedLayers", value: function () { return null === this.splicedKML && this.extractOverlays(), Object(D.a)(this.groundLayers) } }, { key: "getSplicedKML", value: function () { return null === this.splicedKML && this.extractOverlays(), this.splicedKML } }, { key: "getAllFeatures", value: function () { null === this.splicedKML && this.extractOverlays(); var e = this.parser.parseFromString(this.splicedKML, "application/xml"); return e.documentElement.children.length ? new Vc.a({ showPointNames: !1 }).readFeatures(e) : Object(D.a)(this.groundLayers) } }, { key: "getAllLayers", value: function () { null === this.splicedKML && this.extractOverlays(); var e = this.parser.parseFromString(this.splicedKML, "application/xml"); if (!e.documentElement.children.length) return Object(D.a)(this.groundLayers); var t = new Vc.a({ showPointNames: !1 }).readFeatures(e), r = new Qc.a(t), n = new ia.a({ features: r }); n.setProperties({ projection: "ESPG:4326" }); var a = new $n.a({ source: n, zIndex: xr.KML, declutter: !0 }); return [].concat(Object(D.a)(this.groundLayers), [a]) } }], [{ key: "getExtentFromQuad", value: function (e) { var t = e.split(" ").map(function (e) { return e.split(",") }), r = [0, 0, 0, 0]; return r[0] = parseFloat(t[0][0]), r[1] = parseFloat(t[0][1]), r[2] = parseFloat(t[2][0]), r[3] = parseFloat(t[2][1]), r } }, { key: "getExtentFromLatLonBox", value: function (e) { var t = e.getElementsByTagName("north")[0].textContent || "0", r = e.getElementsByTagName("south")[0].textContent || "0", n = e.getElementsByTagName("east")[0].textContent || "0", a = e.getElementsByTagName("west")[0].textContent || "0"; return [parseFloat(a), parseFloat(r), parseFloat(n), parseFloat(t)] } }]), e }(); ls.splicedDocumentId = 0; var fs = function () { function e(t) { Object(T.a)(this, e), this.fileData = void 0, this.fileTree = Object(q.Map)({}), this.layerMap = Object(q.Map)({}), this.resourceMap = Object(q.Map)({}), this.jsZip = new lo.a, this.zipPromise = null, this.fileData = t } return Object(j.a)(e, [{ key: "getLayers", value: function () { var e = Object(o.a)(a.a.mark(function e() { var t = this; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, this.buildFileTree(); case 2: return e.abrupt("return", this.fileTree.filter(function (e) { return e.type === es.KML }).map(function (e) { var r = e.id; return t.resourceMap.get(r) }).map(function (e, r) { var n = new ls(e || "", t.fileTree.filter(function (e) { return e.type === es.RESOURCE }).map(function (e) { return String(t.resourceMap.get(e.id)) })).getAllLayers(); return n || (n = []), n }).toArray()); case 3: case "end": return e.stop() } }, e, this) })); return function () { return e.apply(this, arguments) } }() }, { key: "getFeatures", value: function () { var e = Object(o.a)(a.a.mark(function e() { var t = this; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, this.buildFileTree(); case 2: return e.abrupt("return", this.fileTree.filter(function (e) { return e.type === es.KML }).map(function (e) { var r = e.id; return t.resourceMap.get(r) }).map(function (e, r) { var n = new ls(e || "", t.fileTree.filter(function (e) { return e.type === es.RESOURCE }).map(function (e) { return String(t.resourceMap.get(e.id)) })).getAllFeatures(); return n || (n = []), n }).toArray()); case 3: case "end": return e.stop() } }, e, this) })); return function () { return e.apply(this, arguments) } }() }, { key: "buildFileTree", value: function () { var t = Object(o.a)(a.a.mark(function t() { var r, n, o = this; return a.a.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (null === this.zipPromise) { t.next = 2; break } return t.abrupt("return", this.zipPromise); case 2: return t.next = 4, this.jsZip.loadAsync(this.fileData, { base64: !1, createFolders: !0 }); case 4: return r = t.sent, n = Object.keys(r.files).filter(function (e) { var t = r.file(e); if (!t) return !1; if (t.dir) return !1; var n = t.name.split("/"); return !(n.length > 1) || !n[n.length - 1].startsWith(".") }).map(function (t) { var n = e.getFileTypeForResource(t), a = n === es.KML ? "text" : "base64"; return r.file(t).async(a).then(function (e) { var r = new us({ name: t, type: n }); if (o.fileTree = o.fileTree.set(t, r), n === es.KML) { var a = new $n.a; a.setProperties({ id: r.id, title: t }), o.layerMap = o.layerMap.set(r.id, a), o.resourceMap = o.resourceMap.set(r.id, e) } else n === es.RESOURCE && (o.resourceMap = o.resourceMap.set(r.id, e)) }) }), t.abrupt("return", Promise.all(n)); case 7: case "end": return t.stop() } }, t, this) })); return function () { return t.apply(this, arguments) } }() }], [{ key: "getFileTypeForResource", value: function (e) { return e.endsWith(".kml") ? es.KML : (t = e, cs.some(function (e) { return t.endsWith(e) || t.endsWith(e.toLowerCase()) }) ? es.RESOURCE : es.OTHER); var t } }]), e }(); function ds(e, t) { var r = "undefined" !== typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (!r) { if (Array.isArray(e) || (r = function (e, t) { if (!e) return; if ("string" === typeof e) return ps(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); "Object" === r && e.constructor && (r = e.constructor.name); if ("Map" === r || "Set" === r) return Array.from(e); if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return ps(e, t) }(e)) || t && e && "number" === typeof e.length) { r && (e = r); var n = 0, a = function () { }; return { s: a, n: function () { return n >= e.length ? { done: !0 } : { done: !1, value: e[n++] } }, e: function (e) { throw e }, f: a } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var o, i = !0, c = !1; return { s: function () { r = r.call(e) }, n: function () { var e = r.next(); return i = e.done, e }, e: function (e) { c = !0, o = e }, f: function () { try { i || null == r.return || r.return() } finally { if (c) throw o } } } } function ps(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } function ms(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var hs = function (e) { Object(k.a)(r, e); var t = ms(r); function r(e) { var n; return Object(T.a)(this, r), (n = t.call(this, e)).name = e.name, n.icon = Object(d.toURL)(Object(d.inlineSvg)("google-earth")), n.vectorLayer = new $n.a({ declutter: !0, source: new ia.a, zIndex: xr.KML }), n } return Object(j.a)(r, [{ key: "getExtent", value: function () { var e, t = this.vectorLayer.getLayersArray(), r = ds(t); try { for (r.s(); !(e = r.n()).done;) { var n = e.value, a = n.getSource(); if (a.getExtent && void 0 !== a.getExtent() && ie(a.getExtent())) return a.getExtent(); if (n instanceof ns.a && ie(a.getImageExtent())) return a.getImageExtent() } } catch (f) { r.e(f) } finally { r.f() } var o = []; t.getLayers().forEach(function (e) { var t = e.getSource().getFeatures(); o.push.apply(o, Object(D.a)(t)) }); var i = o.pop(); if (i && i.getGeometry()) { for (var c = i.getGeometry().getExtent(), s = 0, u = o; s < u.length; s++) { var l = u[s].getGeometry().getExtent(); Object(aa.p)(c, l) } return c } } }, { key: "onClick", value: function (e, t) { 0 !== t.length && Xc.create().showPopOver(t) } }, { key: "render", value: function () { var e = Object(o.a)(a.a.mark(function e() { var t, r, n; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (this.file.data) { e.next = 2; break } return e.abrupt("return"); case 2: return e.prev = 2, t = new fs(this.file.data), this.setRenderState(Wc.PENDING), e.next = 7, t.getFeatures(); case 7: r = e.sent, n = [], r.forEach(function (e) { var t = Object(Xe.a)(e, 2), r = (t[0], t[1]); n.push.apply(n, Object(D.a)(r)) }), this.vectorLayer.getSource().addFeatures(n), this.setFeatures(n), this.setRenderState(Wc.ACTIVE), e.next = 18; break; case 15: e.prev = 15, e.t0 = e.catch(2), this.setRenderState(Wc.ERROR); case 18: case "end": return e.stop() } }, e, this, [[2, 15]]) })); return function () { return e.apply(this, arguments) } }() }]), r }(Zc), vs = r(29), gs = r(414), bs = r(315), ys = r(258); function Es(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var Os = function (e) { Object(k.a)(r, e); var t = Es(r); function r(e) { var n; return Object(T.a)(this, r), (n = t.call(this, e)).imageExtent = void 0, n.name = e.name, n.icon = Object(d.toURL)(Object(d.inlineSvg)("google-earth")), n.vectorLayer = new ns.a({ zIndex: xr.GENERIC, visible: n.visibility }), n.getExtent = n.getExtent.bind(Object(K.a)(n)), n.zoomToItem = n.zoomToItem.bind(Object(K.a)(n)), n } return Object(j.a)(r, [{ key: "loadItems", value: function () { var e = Object(o.a)(a.a.mark(function e() { var t, r, n, o, i, c, s, u, l, f, d, m, h, v; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (this.file.data) { e.next = 2; break } return e.abrupt("return"); case 2: return e.next = 4, Object(ys.loadTiff)(this.file.data); case 4: if (t = e.sent, r = t.geoKeys, n = t.data, o = t.imageSize, i = t.boundingBox, c = o.width, s = o.height, (u = document.createElement("canvas")).width = c, u.height = s, l = u.getContext("2d"), (f = new ImageData(c, s)).data.set(n), l.putImageData(f, 0, 0), d = r.ProjectedCSTypeGeoKey || r.GeographicTypeGeoKey, m = "EPSG:".concat(d), bs.a.defs(m)) { e.next = 24; break } return e.next = 22, Object(ys.getWkt)(d, p()); case 22: (h = e.sent) ? (bs.a.defs(m, h), Object(gs.a)(bs.a)) : m = "EPSG:".concat(this.map.getView().getProjection().getCode()); case 24: v = new as.a({ imageExtent: i, url: u.toDataURL(), imageSize: [c, s], projection: m }), this.vectorLayer.setSource(v), this.vectorLayer.setOpacity(this.opacity), this.imageExtent = vs.t(i, m, this.map.getView().getProjection().getCode()); case 28: case "end": return e.stop() } }, e, this) })); return function () { return e.apply(this, arguments) } }() }, { key: "getExtent", value: function () { if (this.imageExtent) return this.imageExtent; throw 'Unable to get extent for Geotif "'.concat(this.file.name, '"') } }, { key: "onClick", value: function (e, t) { } }, { key: "setOpacity", value: function (e) { this.opacity = e, this.vectorLayer.setOpacity(Number(e)), yi.persistOpacity(this.id, e) } }, { key: "getOpacity", value: function () { return this.opacity } }, { key: "getIcon", value: function () { try { return this.vectorLayer.getSource().getUrl() } catch (fA) { return this.icon } } }, { key: "render", value: function () { var e = Object(o.a)(a.a.mark(function e() { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (this.file.data) { e.next = 2; break } return e.abrupt("return"); case 2: return e.prev = 2, this.setRenderState(Wc.PENDING), e.next = 6, this.loadItems(); case 6: this.setRenderState(Wc.ACTIVE), e.next = 12; break; case 9: e.prev = 9, e.t0 = e.catch(2), this.setRenderState(Wc.ERROR); case 12: case "end": return e.stop() } }, e, this, [[2, 9]]) })); return function () { return e.apply(this, arguments) } }() }]), r }(Zc); function Ss(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } Os.loadTiff = ys.loadTiff, Os.getWkt = ys.getWkt; var ws = function (e) { Object(k.a)(r, e); var t = Ss(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).map = null, e.renderingService = void 0, e.mapService = void 0, e.renderingService = ma.create(), e.mapService = hi.create(), hi.create().on("ready", function (t) { e.map = t, e.emit("ready") }), e } return Object(j.a)(r, [{ key: "renderFile", value: function (e) { switch (String(e.name.split(".").pop())) { case As.KML: return this.renderKML(e); case As.KMZ: return this.renderKMZ(e); case As.ZIP: break; case As.TIFF: case As.TIF: return this.renderTiff(e); default: throw Error("Unable to render ".concat(e.name)) } } }, { key: "unrenderFile", value: function (e) { var t = hi.create().getDataSourceCollection().getByName(e).length; if (!this.isFileRendered(e) || this.mapService.getMapDimension() === ci["3D"] && !t) throw Error("FileImportRenderingService.unrenderFile Unable to removed un-rendered file"); this.renderingService.removeItem(e), this.map.render() } }, { key: "isFileRendered", value: function (e) { return this.renderingService.hasItem(e) } }, { key: "renderKML", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { var r, n, o, i; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (r = this.mapService.getCesiumScene(), n = this.mapService.getDataSourceCollection(), this.renderingService.addItem(new rs(t)), !t.data) { e.next = 17; break } return o = new Blob([new Uint8Array(t.data)]), e.prev = 5, e.next = 8, oa.KmlDataSource.load(o, { camera: r.camera, canvas: r.canvas }); case 8: i = e.sent, n.getByName(t.uid).length || (i.name = t.uid, n.add(i), r.requestRender()), e.next = 15; break; case 12: throw e.prev = 12, e.t0 = e.catch(5), e.t0; case 15: e.next = 18; break; case 17: console.log("worker failed to load the data..."); case 18: this.emit("change", { visible: !0, fileUid: t.uid, rendered: !0 }), this.emit("change:rendered", { visible: !0, fileUid: t.uid, rendered: !0 }); case 20: case "end": return e.stop() } }, e, this, [[5, 12]]) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "renderKMZ", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: this.renderingService.addItem(new hs(t)), this.emit("change", { visible: !0, fileUid: t.uid, rendered: !0 }), this.emit("change:rendered", { visible: !0, fileUid: t.uid, rendered: !0 }); case 3: case "end": return e.stop() } }, e, this) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "renderTiff", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { var r; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: r = new Os(t), this.renderingService.addItem(r), this.emit("change", { visible: !0, fileUid: t.uid, rendered: !0 }), this.emit("change:rendered", { visible: !0, fileUid: t.uid, rendered: !0 }); case 4: case "end": return e.stop() } }, e, this) })); return function (t) { return e.apply(this, arguments) } }() }]), r }(L.Service); ws.create = ws.factory(); var As, Cs = r(259); function Ts(e, t) { var r = "undefined" !== typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (!r) { if (Array.isArray(e) || (r = function (e, t) { if (!e) return; if ("string" === typeof e) return js(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); "Object" === r && e.constructor && (r = e.constructor.name); if ("Map" === r || "Set" === r) return Array.from(e); if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return js(e, t) }(e)) || t && e && "number" === typeof e.length) { r && (e = r); var n = 0, a = function () { }; return { s: a, n: function () { return n >= e.length ? { done: !0 } : { done: !1, value: e[n++] } }, e: function (e) { throw e }, f: a } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var o, i = !0, c = !1; return { s: function () { r = r.call(e) }, n: function () { var e = r.next(); return i = e.done, e }, e: function (e) { c = !0, o = e }, f: function () { try { i || null == r.return || r.return() } finally { if (c) throw o } } } } function js(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } function ks(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } !function (e) { e.KML = "kml", e.KMZ = "kmz", e.ZIP = "zip", e.TIF = "tif", e.TIFF = "tiff" }(As || (As = {})); var Rs = function (e) { Object(k.a)(r, e); var t = ks(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).mapService = hi.create(), e.files = {}, e.renderer = ws.create(), e.renderer.once("ready", Object(o.a)(a.a.mark(function t() { return a.a.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, e.renderItems(); case 2: e.mapService.on("dimension-change", function () { var t = Object(o.a)(a.a.mark(function t(r) { return a.a.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, e.renderItems(); case 2: case "end": return t.stop() } }, t) })); return function (e) { return t.apply(this, arguments) } }()); case 3: case "end": return t.stop() } }, t) }))), e.addFile = e.addFile.bind(Object(K.a)(e)), e.removeFile = e.removeFile.bind(Object(K.a)(e)), e } return Object(j.a)(r, [{ key: "renderItems", value: function () { var e = Object(o.a)(a.a.mark(function e() { var t, r, n, o, i; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return t = Object.entries(yi.getMapItemVisibility() || {}).reduce(function (e, t) { var r = Object(Xe.a)(t, 2), n = r[0]; return r[1] && e.push(n), e }, new Array), e.next = 3, Object(Cs.getAllFiles)(t); case 3: for (r = e.sent, n = 0, o = Object.values(r); n < o.length; n++)i = o[n], this.files[i.uid] = i, this.emit("change"), this.renderer.renderFile(i); case 5: case "end": return e.stop() } }, e, this) })); return function () { return e.apply(this, arguments) } }() }, { key: "addFile", value: function () { var e = Object(o.a)(a.a.mark(function e(t, n) { var o, i; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (t instanceof File) { e.next = 2; break } throw new Error("FileImportService.addFile: file must be an instance of File Object"); case 2: if (r.isMappableFile(t.name)) { e.next = 4; break } throw new Error('FileImportService.addFile: unable to import unsupported file "'.concat(t.name, '"')); case 4: if (!(t.size >= 15e6)) { e.next = 6; break } throw new Error('FileImportService.addFile: file "'.concat(t.name, '" exceeds max file import size of ').concat(bc(15e6))); case 6: return e.next = 8, Object(L.readBlobArrayBuffer)(t); case 8: return o = e.sent, i = { uid: n || Object(L.uuid)(), name: t.name, size: t.size, mime: t.type, data: o }, e.next = 12, Object(Cs.addFile)(i); case 12: return this.files[i.uid] = i, this.renderer.renderFile(i), this.emit("change"), e.abrupt("return", i.uid); case 16: case "end": return e.stop() } }, e, this) })); return function (t, r) { return e.apply(this, arguments) } }() }, { key: "getFiles", value: function () { return Object.values(this.files) } }, { key: "hasFile", value: function (e) { return !!this.files[e] } }, { key: "removeFile", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { var r, n, i, c, s = this; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (r = function () { var e = Object(o.a)(a.a.mark(function e(t) { var r, n; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (!s.hasFile(t)) { e.next = 3; break } return e.next = 3, Object(Cs.removeFile)(t); case 3: r = hi.create().getDataSourceCollection(), n = r.getByName(t), (s.renderer.isFileRendered(t) || n.length) && s.renderer.unrenderFile(t), n.length && n.forEach(function (e) { return r.remove(e) }), delete s.files[t], s.emit("change"); case 9: case "end": return e.stop() } }, e) })); return function (t) { return e.apply(this, arguments) } }(), t instanceof Array) { n = Ts(t); try { for (n.s(); !(i = n.n()).done;)c = i.value, r(c) } catch (u) { n.e(u) } finally { n.f() } } else r(t); case 2: case "end": return e.stop() } }, e) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "loadFile", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.abrupt("return", Object(Cs.getFile)(t)); case 1: case "end": return e.stop() } }, e) })); return function (t) { return e.apply(this, arguments) } }() }], [{ key: "isMappableFile", value: function (e) { var t = String(e.split(".").pop()); return Object.values(As).includes(t) } }, { key: "getFileImportType", value: function (e) { return String(e.split(".").pop()) } }]), r }(L.Service); Rs.create = Rs.factory(); var Ns = r(200); function Ls(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var _s = function (e) { Object(k.a)(r, e); var t = Ls(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).socketService = Sn.create(), e.dataPackageNotificationService = Fc.create(), e.mapRenderingService = ma.create(), e.store = void 0, e.worker = void 0, e.drawerService = Dc.create(), e.serviceLoaded = !1, e.cotsWithAttachments = Object(q.Map)(), e.dataPackageHandlers = {}, e.init(), e.store = sn(), e.subscribeToDataPackageCotMessages(), e.getDataPackages = e.getDataPackages.bind(Object(K.a)(e)), e.getDataPackage = e.getDataPackage.bind(Object(K.a)(e)), e.deleteDataPackage = e.deleteDataPackage.bind(Object(K.a)(e)), e.onDataPackageLoaded = e.onDataPackageLoaded.bind(Object(K.a)(e)), e.unzipFile = e.unzipFile.bind(Object(K.a)(e)), e } return Object(j.a)(r, [{ key: "onDataPackageLoaded", value: function (e) { var t = this; this.serviceLoaded ? Object(L.queueTask)(function () { return e(t.store.getState().dataPackages.packages.toIndexedSeq().toArray()) }) : this.once("data-packages-loaded", e) } }, { key: "unzipFile", value: function () { var e = Object(o.a)(a.a.mark(function e(t, r) { var n; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, Object(Ns.unzipFile)(t, r); case 2: return n = e.sent, e.abrupt("return", n); case 4: case "end": return e.stop() } }, e) })); return function (t, r) { return e.apply(this, arguments) } }() }, { key: "getDataPackage", value: function (e) { if (this.store.getState().dataPackages.packages.has(e)) return this.store.getState().dataPackages.packages.get(e) } }, { key: "getDataPackages", value: function () { return this.store.getState().dataPackages.packages.toList().toArray() } }, { key: "init", value: function () { var e = Object(o.a)(a.a.mark(function e() { var t = this; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, Object(Ns.getAllDataPackages)(); case 2: e.sent.forEach(function (e) { t.updateState(t.createDataPackageProps(e)) }), this.emit("data-packages-loaded", this.store.getState().dataPackages.packages.toIndexedSeq().toArray()), this.serviceLoaded = !0; case 6: case "end": return e.stop() } }, e, this) })); return function () { return e.apply(this, arguments) } }() }, { key: "subscribeToDataPackageCotMessages", value: function () { var e = Object(o.a)(a.a.mark(function e() { var t = this; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: this.socketService.on("message", function () { var e = Object(o.a)(a.a.mark(function e(n) { var o; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (!r.isDataPackageType(n.type.toString())) { e.next = 11; break } return e.prev = 1, e.next = 4, Object(Ns.processNewDataPackage)(n, Pr.create().getSyncUrl()); case 4: o = e.sent, t.handleNewPackage(o), e.next = 11; break; case 8: e.prev = 8, e.t0 = e.catch(1), e.t0.sizeInBytes && t.dataPackageNotificationService.dataPackageTooLarge(e.t0.sizeInBytes, e.t0.sha256Hash); case 11: case "end": return e.stop() } }, e, null, [[1, 8]]) })); return function (t) { return e.apply(this, arguments) } }()); case 1: case "end": return e.stop() } }, e, this) })); return function () { return e.apply(this, arguments) } }() }, { key: "registerPackageHandler", value: function (e, t, r) { var n = this, a = Object(L.uuid)(); return this.dataPackageHandlers[a] = { filter: e, enabled: t, notification: r }, function () { return delete n.dataPackageHandlers[a] } } }, { key: "handleNewPackage", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { var r, n, o; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return r = void 0, n = !1, Object.entries(this.dataPackageHandlers).forEach(function (e) { e[1].filter(t) && (n = e[1].enabled, r = e[1].notification(t)) }), r ? this.dataPackageNotificationService.notify(r) : this.dataPackageNotificationService.dataPackageReceived(t.sender, t.uid), o = this.createDataPackageProps(Object(P.a)({}, t, { enabled: n })), e.next = 7, this.updateDataPackage(o); case 7: this.updateState(o), this.store.getState().dataPackages.packages.has(t.uid) && this.emit("data-package-received", this.store.getState().dataPackages.packages.get(t.uid)); case 9: case "end": return e.stop() } }, e, this) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "updateState", value: function (e) { this.store.dispatch(function (e) { return { payload: e, type: er.ADD_PACKAGES } }(e)), e.enabled ? this.handleEnabledDataPackage(e) : e.enabled || this.handleDisabledDataPackage(e) } }, { key: "createDataPackageProps", value: function (e) { return Object(P.a)({}, e, { cotsEvents: Object(q.List)(e.cotsEvents.map(function (e) { return new ct.CotEvent(Object(P.a)({}, e, { detail: e.detail ? Object(L.safeConstruct)(ct.CotEventDetail, e.detail) : null })) })) }) } }, { key: "handleEnabledDataPackage", value: function (e) { var t = this; e.cotsEvents.forEach(function (r) { t.store.getState().events.hasEventByUid(r.uid) ? t.processExistingDataPackageCot(r, e) : t.processNewDataPackageCot(r, e) }), 0 === e.cotsEvents.size && 0 !== e.attachments.length && this.processDataPackageWithoutMapItems(e) } }, { key: "processNewDataPackageCot", value: function (e, t) { this.store.dispatch(ye(e)), this.trackCotsWithAttachments(e, t) } }, { key: "processExistingDataPackageCot", value: function (e, t) { var r = this.store.getState().events.getEventByUid(e.uid); this.trackCotsWithAttachments(r, t) } }, { key: "trackCotsWithAttachments", value: function (e, t) { this.cotsWithAttachments = this.cotsWithAttachments.set(e.uid, t.attachments.filter(function (t) { return t.uid === e.uid }).map(function (e) { return { uid: e.uid, dataPackageUid: t.uid, blob: e.blob, fileType: e.fileType, fileName: e.fileName, filePath: e.filePath, fileSizeInBytes: e.fileSizeInBytes } })), this.emit("data-package-attachment-cot-added", e, t) } }, { key: "processDataPackageWithoutMapItems", value: function (e) { var t = this; e.attachments.forEach(function (e, r) { t.addFileToMap(e) }) } }, { key: "addFileToMap", value: function (e) { if (!Rs.create().hasFile(e.uid) || !ws.create().isFileRendered(e.uid)) { var t = new File([e.blob], e.fileName ? e.fileName : "New attachment", { type: e.fileType }); if (Rs.isMappableFile(t.name)) Rs.create().addFile(t, e.uid); else { var r = "".concat(Object.keys(As).toString().replaceAll(",", ", ")); Gi.create().warn({ message: "Only ".concat(r, " files are supported in WebSAE") }) } } } }, { key: "handleDisabledDataPackage", value: function (e) { var t = this; e.cotsEvents.forEach(function (e) { t.removeCotFromMap(e.uid) }), e.attachments.forEach(function (e, r) { t.removeFileFromMap(e) }) } }, { key: "removeCotFromMap", value: function (e) { if (sn().getState().events.hasEventByUid(e)) { var t = this.store.getState().events.getEventByUid(e); this.store.dispatch(Ee(t)), this.mapRenderingService.hasItem(t.uid) && this.mapRenderingService.removeItem(t.uid) } } }, { key: "removeFileFromMap", value: function (e) { Rs.create().hasFile(e.uid) && ws.create().isFileRendered(e.uid) && Rs.create().removeFile(e.uid) } }, { key: "toggleDataPackageEnabled", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { var r, n; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (!(r = this.getDataPackage(t))) { e.next = 7; break } return e.next = 4, Object(Ns.toggleDataPackageEnabled)(r.toJS()); case 4: n = e.sent, this.updateState(this.createDataPackageProps(n)), this.store.getState().dataPackages.packages.has(n.uid) && this.emit("data-package-updated", this.store.getState().dataPackages.packages.get(n.uid)); case 7: case "end": return e.stop() } }, e, this) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "updateDataPackage", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { var r, n; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return r = Object(P.a)({}, t, { cotsEvents: t.cotsEvents.toJS() }), e.next = 3, Object(Ns.updateDataPackage)(r); case 3: n = e.sent, this.updateState(this.createDataPackageProps(n)), this.store.getState().dataPackages.packages.has(n.uid) && this.emit("data-package-updated", this.store.getState().dataPackages.packages.get(n.uid)); case 6: case "end": return e.stop() } }, e, this) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "deleteAllDataPackages", value: function () { var e = Object(o.a)(a.a.mark(function e() { var t, r = this; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return (t = this.store.getState().dataPackages.packages.keySeq().toArray()).forEach(function (e) { r.removeFilesAndCots(e) }), this.store.dispatch({ payload: null, type: er.DELETE_ALL_PACKAGES }), e.next = 5, Object(Ns.deleteDataPackage)(t); case 5: case "end": return e.stop() } }, e, this) })); return function () { return e.apply(this, arguments) } }() }, { key: "deleteDataPackage", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, Object(Ns.deleteDataPackage)(t); case 2: this.removeFilesAndCots(t), this.dataPackageNotificationService.removeAll(t), this.store.dispatch(cr(t)); case 5: case "end": return e.stop() } }, e, this) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "removeFilesAndCots", value: function (e) { var t = this, r = this.store.getState().dataPackages.packages.get(e); r && (r.attachments.forEach(function (e) { t.removeFileFromMap(e) }), r.cotsEvents.forEach(function (e) { t.removeCotFromMap(e.uid) })) } }, { key: "getDataPackagesInfo", value: function () { var e = this.store.getState().dataPackages.packages, t = 0; return e.forEach(function (e) { t += e.size }), { numberOfDataPackages: e.size, totalSizeOfDataPackages: t } } }, { key: "onViewDataPackage", value: function (e) { this.toggleDataPackageEnabled(e), this.drawerService.setActiveDrawer("data-packages"), this.dataPackageNotificationService.removeAll(e) } }], [{ key: "isDataPackageType", value: function (e) { return "b-f-t-r" === e } }]), r }(L.Service); _s.create = _s.factory(); r(606); var Is = Object(d.getClasses)("data-package-category-photos", ["images", "card-image", "card-image-load-container", "card-body", "card-header", "loader", "card-title", "card-subtitle", "actions"], []), Ms = function (e) { var t = e.attachment, r = Object(i.useState)(!0), n = Object(Xe.a)(r, 2), a = n[0], o = n[1], s = URL.createObjectURL(t.blob); return c.a.createElement("div", { className: Is.Elements["card-image"] }, a && c.a.createElement("div", { className: Is.Elements["card-image-load-container"] }, " ", c.a.createElement(d.Loader, { className: Is.Elements.loader }), " "), c.a.createElement("img", { onError: function () { return o(!1) }, onLoad: function () { return o(!1) }, src: s, alt: "" }), c.a.createElement("div", { className: Is.Elements["card-body"] }, c.a.createElement("div", { className: Is.Elements["card-header"] }, c.a.createElement("div", { className: Is.Elements["card-title"] }, t.fileName), c.a.createElement("div", null, c.a.createElement("div", { className: Is.Elements.actions }, c.a.createElement("a", { target: "_blank", download: t.fileName, href: s }, c.a.createElement(d.Button, { small: !0, minimal: !0 }, "Download"))))))) }, xs = function (e) { e.feedName; var t = e.images, r = c.a.createElement(d.NonIdealState, { icon: "image-mutiple", description: "No images in the data package" }), n = c.a.createElement("div", { className: Is.Elements.images }, t.map(function (e, t) { return c.a.createElement(Ms, { key: t, attachment: e }) })); return c.a.createElement("div", { className: Is.BASE }, 0 === t.length ? r : n) }, Ds = (r(607), Object(d.getClasses)("data-package-category-files", ["files", "file", "info", "loading-icon", "title", "subtitle", "actions"], [])), Ps = function (e) { var t = e.file, r = Object(i.useState)(Rs.create().hasFile(t.uid) && ws.create().isFileRendered(t.uid)), n = Object(Xe.a)(r, 2), s = n[0], u = n[1], l = Object(i.useState)(!1), f = Object(Xe.a)(l, 2), p = f[0], m = f[1], h = URL.createObjectURL(t.blob), v = Object(i.useMemo)(function () { if (t.fileName) return Rs.isMappableFile(t.fileName) }, [t]), g = function () { var e = Object(o.a)(a.a.mark(function e() { var r; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (s) { e.next = 14; break } return e.prev = 1, m(!0), _s.create().addFileToMap(t), u(!0), e.abrupt("return"); case 8: e.prev = 8, e.t0 = e.catch(1), Td("toast").error({ message: "Unable to add file to map" }); case 11: return e.prev = 11, m(!1), e.finish(11); case 14: try { (r = ma.create()).hasItem(t.uid) && r.getItem(t.uid).zoomToItem() } catch (fA) { Td("toast").error({ message: "Unable to zoom to file" }) } case 15: case "end": return e.stop() } }, e, null, [[1, 8, 11, 14]]) })); return function () { return e.apply(this, arguments) } }(), b = s ? "Zoom to File" : "Add To Map"; return c.a.createElement("div", { className: Ds.Elements.file }, c.a.createElement("div", { className: Ds.Elements.title }, t.fileName || "[Untitled File]", c.a.createElement("div", { className: Ds.Elements.subtitle }, bc(t.fileSizeInBytes))), c.a.createElement("div", { className: Ds.Elements.actions }, c.a.createElement("a", { href: h, download: t.fileName }, c.a.createElement(d.Button, { small: !0, minimal: !0 }, "Download")), v && c.a.createElement(d.Button, { disabled: p, onClick: g, small: !0 }, p ? c.a.createElement(d.Icon, { className: Ds.Elements["loading-icon"], icon: "loading" }) : b))) }, Us = function (e) { e.feedName; var t = e.files, r = c.a.createElement(d.NonIdealState, { icon: "folder-multiple", description: "No files in the data package" }), n = c.a.createElement("div", { className: Ds.Elements.files }, t.map(function (e, t) { return c.a.createElement(Ps, { key: t, file: e }) })); return c.a.createElement("div", { className: Ds.BASE }, 0 === t.length ? r : n) }, Bs = Object(d.getClasses)("cot-detail-drawer", ["header", "section-card", "footer"], []), Fs = Object(l.b)(void 0, { loadMessages: ye })(function (e) { var t = e.loadMessages, r = Object(i.useState)(Td("drawer").getCtx()), n = Object(Xe.a)(r, 2), s = n[0], u = n[1], l = Object(i.useState)(!1), f = Object(Xe.a)(l, 2), p = f[0], m = f[1], h = Object(i.useContext)(Ba).isReadonly; xa(Td("drawer"), "drawer-change", function (e, t) { u(t) }, [s, u]), Object(i.useEffect)(function () { if (s) { var e = function (e) { return function (e, t) { return !(e.uid !== t.uid) }(e, s) }, t = function (t) { var r = new ct.CotEvent(Object(P.a)({}, t, { detail: t.detail ? Object(L.safeConstruct)(ct.CotEventDetail, t.detail) : null })); e(r) && function (e) { u(e) }(r) }; return Td("socket").on("message", t), function () { return Td("socket").off("message", t) } } }, [s, u]); var v = function (e) { if (oe(e)) { var r = Date.now(), n = e.set("startTime", r).set("sendTime", r).set("staleTime", r + 1e10); u(n), t(n.toJS()) } }, g = Object(i.useCallback)(Object(o.a)(a.a.mark(function e() { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, Sn.create().sendMessage(s.toJS()); case 2: case "end": return e.stop() } }, e) })), [s]); if (!s || !oe(s)) return null; var b = _s.create().cotsWithAttachments.get(s.uid), y = Uc.isQuickPicType(s.type); return c.a.createElement(c.a.Fragment, null, c.a.createElement(d.DrawerLayout, null, c.a.createElement(d.DrawerHeader, { onCollapse: function () { return Td("drawer").closeDrawer() }, className: Object(d.className)(Bs.Elements.header), title: "Cot Details" }), c.a.createElement(d.Card, { className: Bs.Elements["section-card"] }, c.a.createElement(Wi, { onChange: v, showImage: !0, cot: s }), c.a.createElement(zi, { onChange: v, cot: s, canChange: !y }), c.a.createElement(ac, { cot: s })), c.a.createElement(d.Card, { title: " ", className: Bs.Elements["section-card"] }, c.a.createElement($i, { onChange: v, cot: s }), c.a.createElement(Zi, { onChange: v, cot: s })), b && c.a.createElement(d.Card, { title: "" }, c.a.createElement("label", { className: "wt-label" }, c.a.createElement("span", null, "Attachments"), b.map(function (e) { return "jpg" === e.fileType ? c.a.createElement(Ms, { key: e.uid, attachment: e }) : c.a.createElement(Ps, { key: e.uid, file: e }) }))), c.a.createElement(d.Card, { title: " ", className: Bs.Elements["section-card"] }, c.a.createElement("label", { className: "wt-label" }, c.a.createElement("span", null, "SAE Version"), oc(s.detail))), !h && c.a.createElement(d.DrawerFooter, { className: Object(d.className)(Bs.Elements.footer) }, !y && c.a.createElement(cc, { text: "broadcast", onClick: g }), !y && c.a.createElement(d.Button.Primary, { onClick: function () { return m(!0) } }, "Send"), c.a.createElement(d.Button.Danger, { onClick: function () { y ? Uc.create().deleteQuickPic(s) : dc(s, El) } }, "Remove"))), c.a.createElement(fc, { cot: s, onClose: function () { return m(!1) }, isOpen: p })) }), Vs = function (e) { return c.a.createElement(d.NavigationController, { className: Bs.BASE, root: Fs }) }, Hs = (r(608), Object(d.getClasses)("spot-map-detail-drawer", ["header", "section-card", "footer"], [])), Gs = Object(l.b)(void 0, { loadMessages: ye })(function (e) { var t = e.loadMessages, r = Object(i.useState)(Td("drawer").getCtx()), n = Object(Xe.a)(r, 2), s = n[0], u = n[1], l = Object(i.useState)(!1), f = Object(Xe.a)(l, 2), p = f[0], m = f[1], h = Object(i.useContext)(Ba).isReadonly; xa(Td("drawer"), "drawer-change", function (e, t) { u(t) }, [s, u]), Object(i.useEffect)(function () { if (s) { var e = function (e) { return function (e, t) { return !(e.uid !== t.uid) }(e, s) }, t = function (t) { var r = new ct.CotEvent(Object(P.a)({}, t, { detail: t.detail ? Object(L.safeConstruct)(ct.CotEventDetail, t.detail) : null })); e(r) && function (e) { u(e) }(r) }; return Td("socket").on("message", t), function () { return Td("socket").off("message", t) } } }, [s, u]); var v = Object(i.useCallback)(Object(L.debounce)(function (e) { if (oe(e)) { var r = Date.now(), n = e.set("startTime", r).set("sendTime", r).set("staleTime", r + 1e10); u(n), t(n.toJS()) } }, 100), [s]), g = Object(i.useCallback)(Object(o.a)(a.a.mark(function e() { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, Sn.create().sendMessage(s.toJS()); case 2: case "end": return e.stop() } }, e) })), [s]); if (!s || !oe(s)) return null; var b = Ho(s); return c.a.createElement(c.a.Fragment, null, c.a.createElement(d.DrawerLayout, null, c.a.createElement(d.DrawerHeader, { className: Object(d.className)(Hs.Elements.header), title: "Spot Marker Details" }), c.a.createElement(d.Card, { title: " ", className: Hs.Elements["section-card"] }, c.a.createElement(Wi, { imageRenderer: function () { return function (e) { var t = Object(L.cotColorToRGBA)(e); return c.a.createElement(d.Icon, { style: { fill: "rgba(".concat(t.join(","), ")"), stroke: "white" }, icon: "circle" }) }(b) }, onChange: v, cot: s }), c.a.createElement(zi, { onChange: v, cot: s }), c.a.createElement(ac, { cot: s })), !h && c.a.createElement(d.Card, { title: " ", className: Hs.Elements["section-card"] }, c.a.createElement(Ko, { onChange: v, cot: s })), c.a.createElement(d.Card, { title: " ", className: Hs.Elements["section-card"] }, c.a.createElement(Zi, { onChange: v, cot: s })), c.a.createElement(d.Card, { title: " ", className: Hs.Elements["section-card"] }, c.a.createElement("label", { className: "wt-label" }, c.a.createElement("span", null, "SAE Version"), oc(s.detail))), !h && c.a.createElement(d.DrawerFooter, { className: Object(d.className)(Hs.Elements.footer) }, c.a.createElement(cc, { text: "broadcast", onClick: g }), c.a.createElement(d.Button.Primary, { onClick: function () { return m(!0) } }, "Send"), c.a.createElement(d.Button.Danger, { onClick: function () { return dc(s, yl) } }, "Remove"))), c.a.createElement(fc, { cot: s, onClose: function () { return m(!1) }, isOpen: p })) }), qs = function () { return c.a.createElement(d.NavigationController, { className: Hs.BASE, root: Gs }) }, Ks = function (e, t) { Td("menu").closeMenu(); var r = function () { document.getElementsByTagName("html")[0].style.cursor = "" }; Td("map").performInteraction(function (r, n, a, o) { document.getElementsByTagName("html")[0].style.cursor = "cell", a("click", function (r) { var a = r.coordinate, o = e.set("lon", a[0]).set("lat", a[1]); sn().dispatch(ye(o.toJS())), t && t(o), n(), document.getElementsByTagName("html")[0].style.cursor = "" }) }, r, r) }, zs = r(136), Ys = function (e) { var t = e.getCot(), r = e.getVectorLayer(), n = t.detail; if (n && n.xml) { var a = t.lat, o = t.lon, i = Ho(t), c = Object(L.cotColorToRGBA)(i), s = new Zn.a(new yc.a([o, a])); s.setProperties({ callsign: Br(t), cotUid: t.uid, rgbaColor: c }), s.setId(t.uid), s.setStyle(function (e, t) { var r = e.getProperties().callsign, n = e.getProperties().rgbaColor, a = t >= .01; return new Ei.c({ image: new zs.a({ radius: 7, fill: new Si.a({ color: "rgba( ".concat(n.join(), " )") }), stroke: new wi.a({ color: "#fff", width: 2 }) }), text: new Oc.a({ text: a ? "" : "".concat(r), offsetY: 20, fill: new Si.a({ color: "#fff" }), stroke: new wi.a({ color: "#313131", width: 5 }) }) }) }), e.setFeatures([s]), e.getVectorSource().addFeatures([s]), r.setZIndex(xr.MARKER) } }; function Ws(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var Xs = function (e) { Object(k.a)(r, e); var t = Ws(r); function r(e) { var n; return Object(T.a)(this, r), (n = t.call(this, e)).onClick = function (e, t) { Al(n.cot), n.showInfo(e) }, n } return Object(j.a)(r, [{ key: "render", value: function () { Ys(this) } }]), r }(Li); function Js(e, t) { var r = "undefined" !== typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (!r) { if (Array.isArray(e) || (r = function (e, t) { if (!e) return; if ("string" === typeof e) return Zs(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); "Object" === r && e.constructor && (r = e.constructor.name); if ("Map" === r || "Set" === r) return Array.from(e); if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return Zs(e, t) }(e)) || t && e && "number" === typeof e.length) { r && (e = r); var n = 0, a = function () { }; return { s: a, n: function () { return n >= e.length ? { done: !0 } : { done: !1, value: e[n++] } }, e: function (e) { throw e }, f: a } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var o, i = !0, c = !1; return { s: function () { r = r.call(e) }, n: function () { var e = r.next(); return i = e.done, e }, e: function (e) { c = !0, o = e }, f: function () { try { i || null == r.return || r.return() } finally { if (c) throw o } } } } function Zs(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } function Qs(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var $s = function (e) { Object(k.a)(r, e); var t = Qs(r); function r(e) { return Object(T.a)(this, r), t.call(this, Object(P.a)({}, e)) } return Object(j.a)(r, [{ key: "label", value: function () { return function e(t) { var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null, n = t, a = n.title, o = n.nodeChildren, i = r ? "".concat(r, "_").concat(a) : a; if (t = t.update("id", function () { return i }), !o.length) return t; var c = []; return o.forEach(function (t) { c.push(e(t, i)) }), t = t.update("nodeChildren", function () { return c }) }(this) } }, { key: "leafs", value: function () { var e = [], t = Object(D.a)(this.nodeChildren); if (!t.length) return [this]; var r, n = Js(t); try { for (n.s(); !(r = n.n()).done;) { var a = r.value; a.nodeChildren.length ? t.push.apply(t, Object(D.a)(a.nodeChildren)) : e.push(a) } } catch (o) { n.e(o) } finally { n.f() } return e } }], [{ key: "flatten", value: function (e) { return function e(t, r) { var n = r, a = n.id, o = n.nodeChildren; return !o.length && a ? t = t.set(a, r) : (a && !t.has(a) && (t = t.set(a, r)), o.forEach(function (r) { t = e(t, r) }), t) }(Object(q.Map)(), e) } }]), r }(Object(q.Record)({ id: "0", title: "Overlays", nodeChildren: [], icon: "", actions: [], registryKey: "falseKey", props: {}, mapItemId: "", disableToggle: !1 })), eu = function (e) { Td("overlays").registerNode(e); var t = Ua.create(), r = function () { t.getUserRoles().includes(Ca.ROLE_READONLY) && delete e.onDelete, Td("overlays").overwriteNode(e) }; r(), t.on("role-change", r) }, tu = function (e) { return ru("name", e) }, ru = function (e, t) { var r = t.detail; if (r) { var n = r.xml; if (n && n.mission) { var a = n.mission[L.XML_ATTRIBUTE_KEY]; return a ? a[e] : void 0 } } }, nu = function (e) { var t = e.detail; if (t) { var r = t.xml; if (r && r.mission) { var n = r.mission.MissionChanges; if (n) { var a = n.MissionChange, o = {}, i = function (e, t, r) { try { return e[L.XML_TEXT_KEY] } catch (fA) { return r } }, c = a.contentResource; return c && (o.contentResource = { altitude: i(c.altitude, 0, 0), creatorUid: i(c.creatorUid, 0, ""), filename: i(c.filename, 0, ""), hash: i(c.hash, 0, ""), keywords: i(c.keywords, 0, []), latitude: i(c.latitude, 0, 0), longitude: i(c.longitude, 0, 0), mimeType: i(c.mimeType, 0, ""), name: i(c.name, 0, ""), size: i(c.size, 0, 0), submissionTime: i(c.submissionTime, 0, ""), example: i(c.example, 0, ""), submitter: i(c.submitter, 0, ""), tool: i(c.tool, 0, ""), uid: i(c.uid, 0, "") }), o.contentUid = i(a.contentUid, 0, ""), o.creatorUid = i(a.creatorUid, 0, ""), o.missionName = i(a.missionName, 0, ""), o.serverTime = i(a.serverTime, 0, ""), o.timestamp = i(a.timestamp, 0, ""), o.type = i(a.type, 0, hr.REMOVE_CONTENT), a.details && (o.details = Object.entries(a.details[L.XML_ATTRIBUTE_KEY]).reduce(function (e, t) { var r = Object(Xe.a)(t, 2), n = r[0], a = r[1]; return e[n] = a, e }, {})), o } } } }; function au(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var ou = new RegExp(Object.values(mr).join("|")), iu = function (e) { Object(k.a)(r, e); var t = au(r); function r() { var e; Object(T.a)(this, r), (e = t.call(this)).channel = void 0, e.drawer = void 0, e.activeMission = void 0; var n = { onClick: e.handleClick.bind(Object(K.a)(e)), "accept-invite": e.handleInviteAccept.bind(Object(K.a)(e)), "decline-invite": e.handleInviteDecline.bind(Object(K.a)(e)) }; return e.channel = new mc("data-sync-notification-channel", n, { headerIcon: Object(d.toURL)(Object(d.inlineSvg)("sync", {}, { viewBox: "0 0 24 24" })), headerTitle: "Data Sync" }), Td("notification").registerNotificationChannel(e.channel), Td("socket").on("message", function (t) { if (ou.test(t.type)) { var r = new ct.CotEvent(Object(P.a)({}, t, { detail: t.detail ? Object(L.safeConstruct)(ct.CotEventDetail, t.detail) : null })); e.onSocketNotification.call(Object(K.a)(e), r) } }), e } return Object(j.a)(r, [{ key: "getChannel", value: function () { return this.channel } }, { key: "setDrawer", value: function (e) { this.drawer = e } }, { key: "getNotifications", value: function (e) { return this.channel.getNotifications().filter(function (t) { return t.details ? t.details.get("mission") === e : [] }) } }, { key: "getNotificationCount", value: function (e) { return this.getNotifications(e).length } }, { key: "setActiveMissionDrawer", value: function (e) { var t = this, r = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]; this.activeMission = e, e && r && this.channel.getNotifications().filter(function (t) { return t.details && t.details.get("mission") === e }).forEach(function (e) { return t.channel.removeNotification(e.id) }) } }, { key: "getActiveMissionDrawer", value: function () { return this.activeMission } }, { key: "removeAll", value: function (e) { var t = this; e ? this.getNotifications(e).forEach(function (e) { t.channel.removeNotification(e.id) }) : this.channel.removeAll() } }, { key: "onSocketNotification", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { var r, n, o, i, c; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (r = tu(t), n = ru("tool", t), sn().dispatch(Ee(t)), r && this.drawer && "public" === n) { e.next = 5; break } return e.abrupt("return"); case 5: o = this.activeMission === r && Td("drawer").isOpen(), i = this.drawer.name === Td("drawer").activeSideDrawer && Td("drawer").isOpen(), e.t0 = t.type, e.next = e.t0 === mr.MISSION_CREATE ? 10 : e.t0 === mr.MISSION_DELETED ? 18 : e.t0 === mr.MISSION_INVITE ? 20 : e.t0 === mr.CONTENT_CHANGE ? 22 : e.t0 === mr.METADATA_CHANGE ? 29 : e.t0 === mr.KEYWORD_CHANGE ? 31 : 33; break; case 10: e.prev = 10, this.channel.notify({ type: b.SUCCESS, headerText: r, contentTitle: "Feed Created", contentText: "A new feed was created: ".concat(r), dismissed: i, details: { type: mr.MISSION_CREATE, mission: r } }), e.next = 17; break; case 14: return e.prev = 14, e.t1 = e.catch(10), e.abrupt("break", 34); case 17: return e.abrupt("break", 34); case 18: return this.channel.notify({ type: b.SUCCESS, headerText: r, contentTitle: "Mission Deleted", contentText: "An existing mission was deleted: ".concat(r), dismissed: i, details: { type: mr.MISSION_DELETED, mission: r } }), e.abrupt("break", 34); case 20: return this.channel.notify({ headerText: r, contentTitle: "Feed Invite", contentText: "You were invited you to the feed ".concat(r), details: { missionName: r }, duration: 7e3, actions: [{ handlerKey: "accept-invite", buttonText: "Accept" }, { handlerKey: "decline-invite", buttonText: "decline" }] }), e.abrupt("break", 34); case 22: if (!(c = nu(t))) { e.next = 28; break } if ((c.contentResource ? c.contentResource.creatorUid : "") !== Ne()) { e.next = 27; break } return e.abrupt("break", 34); case 27: c.creatorUid === Ne() || o || this.channel.notify({ headerText: r, contentTitle: "Content Change", contentText: "Content was updated on ".concat(r), details: { type: mr.CONTENT_CHANGE, mission: r }, persistent: !0 }); case 28: return e.abrupt("break", 34); case 29: return sn().getState().dataSync.subscriptions.includes(r) && this.channel.notify({ headerText: r, contentTitle: "Meta Data Change", contentText: "Meta  data updated on ".concat(r), details: { type: mr.METADATA_CHANGE, mission: r } }), e.abrupt("break", 34); case 31: return console.log("feed keywords changed for feed ", r), e.abrupt("break", 34); case 33: console.log("unhandled feed notification", t.toJS()); case 34: case "end": return e.stop() } }, e, this, [[10, 14]]) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "contentRemovalNotification", value: function (e, t) { this.channel.notify({ headerText: e, contentTitle: "Content Removal", contentText: t, details: { type: mr.CONTENT_CHANGE, mission: e }, persistent: !0 }) } }, { key: "handleClick", value: function (e, t) { var r = e.type; e.mission; switch (r) { case mr.METADATA_CHANGE: case mr.MISSION_CREATE: case mr.CONTENT_CHANGE: this.drawer && this.drawer.open(), t(); break; default: return } } }, { key: "handleInviteAccept", value: function (e, t) { } }, { key: "handleInviteDecline", value: function (e, t) { } }]), r }(L.Service); iu.create = iu.factory(); var cu = iu; function su(e, t) { var r = "undefined" !== typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (!r) { if (Array.isArray(e) || (r = function (e, t) { if (!e) return; if ("string" === typeof e) return uu(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); "Object" === r && e.constructor && (r = e.constructor.name); if ("Map" === r || "Set" === r) return Array.from(e); if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return uu(e, t) }(e)) || t && e && "number" === typeof e.length) { r && (e = r); var n = 0, a = function () { }; return { s: a, n: function () { return n >= e.length ? { done: !0 } : { done: !1, value: e[n++] } }, e: function (e) { throw e }, f: a } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var o, i = !0, c = !1; return { s: function () { r = r.call(e) }, n: function () { var e = r.next(); return i = e.done, e }, e: function (e) { c = !0, o = e }, f: function () { try { i || null == r.return || r.return() } finally { if (c) throw o } } } } function uu(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } function lu(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var fu = function (e) { Object(k.a)(r, e); var t = lu(r); function r() { var e, n; return Object(T.a)(this, r), (n = t.call(this)).fileImportService = Rs.create(), n.socketDispatchTable = (e = {}, Object(C.a)(e, mr.MISSION_CREATE, { eventName: "mission-changed", dispatch: function (e) { sn().dispatch(Zr()) } }), Object(C.a)(e, mr.MISSION_DELETED, { eventName: "mission-changed", dispatch: function (e) { Ou.create().handleMissionDeleted(e.detail.xml.mission["#attr"].name) } }), e), Sn.create().on("connect", function () { n.syncRemovals() }), Td("socket").on("message", function (e) { if (e.type in n.socketDispatchTable) { var t = n.socketDispatchTable[e.type], r = t.eventName; (0, t.dispatch)(e), n.emit(r) } else e.type === mr.CONTENT_CHANGE ? (n.handleRemoval(e), n.emit("mission-content-changed", e.detail.xml.mission["#attr"].name)) : (e.type, mr.LOG_CHANGE) }), n } return Object(j.a)(r, [{ key: "handleRemoval", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { var r, n; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: r = new ct.CotEvent(Object(P.a)({}, t, { detail: t.detail ? Object(L.safeConstruct)(ct.CotEventDetail, t.detail) : null })), (n = nu(r)) && n.type === hr.REMOVE_CONTENT && this.remove(n); case 3: case "end": return e.stop() } }, e, this) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "remove", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { var r, n, i, c, s, u, l, f, d; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: r = sn().getState().dataSync.missions.get(t.missionName), i = "contentResource" in t, c = (n = "contentUid" in t) && sn().getState().events.hasEventByUid(t.contentUid), s = i && r && r.mission.contents.find(function (e) { return e.data.hash === t.contentResource.hash }), u = c, l = s, f = i && Object(L.isImage)(t.contentResource.name), d = function () { var e = Object(o.a)(a.a.mark(function e() { var r, n, o, i, c; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return r = sn().getState().dataSync.getTokenBy(t.missionName), e.next = 3, Jr.create().getMissionContacts(t.missionName, r); case 3: n = e.sent, o = n.find(function (e) { return e.uid === t.creatorUid }), i = u ? t.details.callsign : t.contentResource.filename, c = "".concat(i, " was removed from ").concat(t.missionName, " by ").concat(o && o.callsign || "User"), cu.create().contentRemovalNotification(t.missionName, c); case 8: case "end": return e.stop() } }, e) })); return function () { return e.apply(this, arguments) } }(), u ? (sn().dispatch(Ee(sn().getState().events.getEventByUid(t.contentUid))), d()) : l ? (this.fileImportService.removeFile(t.contentResource.hash), d()) : f || n && !sn().getState().events.hasEventByUid(t.contentUid) || i && !this.fileImportService.hasFile(t.contentResource.name) || !f || console.error("DataSyncSocketService.handleRemovals: unknown removal requested ->", t); case 10: case "end": return e.stop() } }, e, this) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "syncRemovals", value: function () { var e = Object(o.a)(a.a.mark(function e() { var t, r, n, o, i, c = this; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: t = Ou.create().getSubscriptions(), r = su(t), e.prev = 2, r.s(); case 4: if ((n = r.n()).done) { e.next = 16; break } return o = n.value, i = sn().getState().dataSync.getTokenBy(o), e.prev = 7, e.delegateYield(a.a.mark(function e() { var t, r, n; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, Jr.create().getMissionChanges(o, i); case 2: t = e.sent, r = {}, t.forEach(function (e) { e.contentUid in r || (r[e.contentUid] = e) }), n = Object.values(r), n.filter(function (e) { return e.type === hr.REMOVE_CONTENT }).forEach(function (e) { return c.remove(e) }); case 8: case "end": return e.stop() } }, e) })(), "t0", 9); case 9: e.next = 14; break; case 11: e.prev = 11, e.t1 = e.catch(7), wr.create().error(e.t1); case 14: e.next = 4; break; case 16: e.next = 21; break; case 18: e.prev = 18, e.t2 = e.catch(2), r.e(e.t2); case 21: return e.prev = 21, r.f(), e.finish(21); case 24: case "end": return e.stop() } }, e, null, [[2, 18, 21, 24], [7, 11]]) })); return function () { return e.apply(this, arguments) } }() }]), r }(L.Service); fu.create = fu.factory(); var du = fu, pu = /\s/g, mu = function (e, t) { var r = Pr.create().getSyncUrl(), n = "".concat(r, "/upload"), a = new FormData; return a.append("assetfile", e, e.name.replace(pu, "_")), fetch("".concat(n, "?creatorUid=").concat(encodeURIComponent(t)), { body: a, method: "POST", mode: "no-cors" }) }, hu = function () { var e = Object(o.a)(a.a.mark(function e() { var t, r, n, o; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.prev = 0, t = "".concat(Pr.create().getApiURl(), "/groups/all"), e.next = 4, fetch(t); case 4: return r = e.sent, e.next = 7, r.json(); case 7: return n = e.sent, o = n.data, e.abrupt("return", o.map(function (e) { return e.name })); case 12: return e.prev = 12, e.t0 = e.catch(0), e.abrupt("return", ["__ANON__"]); case 15: case "end": return e.stop() } }, e, null, [[0, 12]]) })); return function () { return e.apply(this, arguments) } }(); function vu(e, t) { var r = "undefined" !== typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (!r) { if (Array.isArray(e) || (r = function (e, t) { if (!e) return; if ("string" === typeof e) return gu(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); "Object" === r && e.constructor && (r = e.constructor.name); if ("Map" === r || "Set" === r) return Array.from(e); if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return gu(e, t) }(e)) || t && e && "number" === typeof e.length) { r && (e = r); var n = 0, a = function () { }; return { s: a, n: function () { return n >= e.length ? { done: !0 } : { done: !1, value: e[n++] } }, e: function (e) { throw e }, f: a } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var o, i = !0, c = !1; return { s: function () { r = r.call(e) }, n: function () { var e = r.next(); return i = e.done, e }, e: function (e) { c = !0, o = e }, f: function () { try { i || null == r.return || r.return() } finally { if (c) throw o } } } } function gu(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } function bu(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var yu = function (e) { Object(k.a)(r, e); var t = bu(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).missionApiService = Jr.create(), e.dataSyncSocketService = du.create(), e.saeServerGroups = [], e.fetchSaeServerGroups(), e.reEstablishSubscriptions(), sn().dispatch(Zr()), e.dataSyncSocketService.on("mission-content-changed", function () { var t = Object(o.a)(a.a.mark(function t(r) { var n; return a.a.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, e.missionApiService.getMission({ name: r }, sn().getState().dataSync.getTokenBy(r)); case 2: n = t.sent, e.updateMissionDetails(n); case 4: case "end": return t.stop() } }, t) })); return function (e) { return t.apply(this, arguments) } }()), e } return Object(j.a)(r, [{ key: "fetchSaeServerGroups", value: function () { var e = Object(o.a)(a.a.mark(function e() { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, hu(); case 2: this.saeServerGroups = e.sent; case 3: case "end": return e.stop() } }, e, this) })); return function () { return e.apply(this, arguments) } }() }, { key: "unsubscribeFrom", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, this.missionApiService.deleteMissionSubscription(t, Ne(), sn().getState().dataSync.getTokenBy(t)); case 2: case "end": return e.stop() } }, e, this) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "updateMissionDetails", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { var r, n, o, i, c, s, u, l; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return r = sn().getState().dataSync.missions.get(t.name), n = sn().getState().dataSync.getTokenBy(t.name), e.next = 4, this.missionApiService.getMissionSubscriptions(t.name, n); case 4: return c = e.sent, e.next = 7, this.getUserRoleForMission(t.name); case 7: if (o = e.sent, !(r && r.loaded && r.author)) { e.next = 12; break } i = r.author, e.next = 15; break; case 12: return e.next = 14, this.getAuthorCallsignFor(t.name); case 14: i = e.sent; case 15: return e.next = 17, this.missionApiService.getMissionChanges(t.name, n); case 17: return s = e.sent, e.next = 20, this.missionApiService.getLatestMissionCotEvents(t.name, n); case 20: return u = e.sent, e.next = 23, this.missionApiService.getMissionContacts(t.name, n); case 23: l = e.sent, sn().dispatch((a = { loaded: !0, mission: t, userRole: o, author: i, subscribers: c, missionChanges: s, missionCots: u, missionContacts: l }, { type: Xr.SET_MISSION_DETAILS, payload: a })); case 25: case "end": return e.stop() }var a }, e, this) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "unsubscribe", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { var r; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.prev = 0, e.next = 3, this.missionApiService.getMission({ name: t }, sn().getState().dataSync.getTokenBy(t)); case 3: return r = e.sent, e.next = 6, this.unsubscribeFrom(t); case 6: this.unPopulateMap(r.name), sn().dispatch(en(t)), this.updateMissionDetails(r), this.emit("mission-subscription-changed"), e.next = 15; break; case 12: e.prev = 12, e.t0 = e.catch(0), Td("toast").error({ message: "Unable to unsubscribe to the mission", actions: [{ text: "Dismiss", onClick: function (e) { return e() } }] }); case 15: case "end": return e.stop() } }, e, this, [[0, 12]]) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "subscribe", value: function () { var e = Object(o.a)(a.a.mark(function e(t, r) { var n; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (e.prev = 0, !r) { e.next = 5; break } e.t0 = r, e.next = 8; break; case 5: return e.next = 7, this.missionApiService.getMission({ name: t }, sn().getState().dataSync.getTokenBy(t)); case 7: e.t0 = e.sent; case 8: return n = e.t0, e.next = 11, this.subscribeTo(t); case 11: if (n.creatorUid !== Ne()) { e.next = 14; break } return e.next = 14, this.missionApiService.setMissionRole(n.name, Ne(), dr.MISSION_OWNER, sn().getState().dataSync.getTokenBy(n.name)); case 14: this.populateMap(n.name), sn().dispatch($r(t)), this.updateMissionDetails(n), this.emit("mission-subscription-changed"), e.next = 23; break; case 20: e.prev = 20, e.t1 = e.catch(0), Td("toast").error({ message: "Unable to subscribe to the mission", actions: [{ text: "Dismiss", onClick: function (e) { return e() } }] }); case 23: case "end": return e.stop() } }, e, this, [[0, 20]]) })); return function (t, r) { return e.apply(this, arguments) } }() }, { key: "reEstablishSubscriptions", value: function () { var e = Object(o.a)(a.a.mark(function e() { var t, r, n; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: t = vu(sn().getState().dataSync.subscriptions.toArray()), e.prev = 1, t.s(); case 3: if ((r = t.n()).done) { e.next = 15; break } return n = r.value, e.prev = 5, e.next = 8, this.subscribeTo(n); case 8: e.next = 13; break; case 10: e.prev = 10, e.t0 = e.catch(5), Td("toast").error({ message: "Unable to resubscribe to ".concat(n), actions: [{ text: "Dismiss", onClick: function (e) { return e() } }] }); case 13: e.next = 3; break; case 15: e.next = 20; break; case 17: e.prev = 17, e.t1 = e.catch(1), t.e(e.t1); case 20: return e.prev = 20, t.f(), e.finish(20); case 23: case "end": return e.stop() } }, e, this, [[1, 17, 20, 23], [5, 10]]) })); return function () { return e.apply(this, arguments) } }() }, { key: "subscribeTo", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { var r; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, this.missionApiService.createMissionSubscription(t, Ne(), sn().getState().dataSync.getTokenBy(t)); case 2: r = e.sent, r.data, "GONE" === r.status && Td("toast").error({ message: "Unable to subscribe to the mission ".concat(t, ", it is already deleted"), actions: [{ text: "Dismiss", onClick: function (e) { return e() } }] }); case 6: case "end": return e.stop() } }, e, this) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "getUserRoleForMission", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { var r, n, o; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, this.missionApiService.getMissionRoleFromToken(t, sn().getState().dataSync.getTokenBy(t)); case 2: return e.sent, e.next = 5, this.missionApiService.getMissionSubscriptionRoles(t, sn().getState().dataSync.getTokenBy(t)); case 5: return r = e.sent, n = { permissions: [], type: dr.MISSION_SUBSCRIBER }, r && (o = Array.from(r).find(function (e) { var t = e.clientUid; return Ne() === t })) && (n = o.role), e.abrupt("return", n); case 9: case "end": return e.stop() } }, e, this) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "handleMissionMapActions", value: function () { var e = Object(o.a)(a.a.mark(function e(t, r, n) { var o, i, c = this; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (o = sn().getState().dataSync.missions.get(t)) { e.next = 3; break } return e.abrupt("return"); case 3: i = o.missionCots, sn().dispatch(r(i)), o.mission.contents.filter(function (e) { var t = e.data; return Object(L.isKML)(t.name) || Object(L.isKML)(t.filename) || Object(L.isKMZ)(t.filename) || Object(L.isKMZ)(t.name) }).forEach(function (e) { n.call(c, e.data) }); case 6: case "end": return e.stop() } }, e) })); return function (t, r, n) { return e.apply(this, arguments) } }() }, { key: "populateMap", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: this.handleMissionMapActions(t, ye, this.addFeedFileToMap); case 1: case "end": return e.stop() } }, e, this) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "unPopulateMap", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { var r; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return this.handleMissionMapActions(t, Ee, this.removeFeedFileFromMap), e.next = 3, Jr.create().getMission({ name: t }); case 3: (r = e.sent).feeds && r.feeds.forEach(function (e, t) { var r = sn().getState().events.getEvents().filter(function (t) { return t.getIn(["detail", "xml", "source", L.XML_ATTRIBUTE_KEY, "uid"]) === e.dataFeedUid }); sn().dispatch(Ee(r.toJS())) }); case 5: case "end": return e.stop() } }, e, this) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "removeFeedFileFromMap", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { var r; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if ((r = Rs.create()).hasFile(t.hash)) { e.next = 3; break } return e.abrupt("return"); case 3: return e.next = 5, r.removeFile(t.hash); case 5: case "end": return e.stop() } }, e) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "getAuthorCallsignFor", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { var r, n, o; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (!(r = sn().getState().dataSync.missions.get(t))) { e.next = 13; break } if (0 !== r.missionContacts.length) { e.next = 8; break } return e.next = 5, this.missionApiService.getMissionContacts(t, sn().getState().dataSync.getTokenBy(t)); case 5: n = e.sent, e.next = 9; break; case 8: n = r.missionContacts; case 9: if (!n) { e.next = 13; break } if (!(o = n.find(function (e) { return e.uid === r.mission.creatorUid }))) { e.next = 13; break } return e.abrupt("return", o.callsign); case 13: return e.abrupt("return", "User"); case 14: case "end": return e.stop() } }, e, this) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "getSaeServerGroups", value: function () { return this.saeServerGroups } }, { key: "addCotToMissionSocket", value: function () { var e = Object(o.a)(a.a.mark(function e(t, r) { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.prev = 0, e.next = 3, Sn.create().sendMessage(r.toJS(), [t], "mission"); case 3: e.next = 8; break; case 5: e.prev = 5, e.t0 = e.catch(0), Td("toast").error({ message: "Unable to add cot to the mission", actions: [{ text: "Dismiss", onClick: function (e) { return e() } }] }); case 8: case "end": return e.stop() } }, e, null, [[0, 5]]) })); return function (t, r) { return e.apply(this, arguments) } }() }, { key: "addFileToMission", value: function () { var e = Object(o.a)(a.a.mark(function e(t, r) { var n, o, i; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, mu(r, Ne()); case 2: return n = e.sent, e.next = 5, n.json(); case 5: o = e.sent, i = o.Hash, this.missionApiService.addMissionContent(t, [i], [], sn().getState().dataSync.getTokenBy(t)); case 8: case "end": return e.stop() } }, e, this) })); return function (t, r) { return e.apply(this, arguments) } }() }, { key: "setCurrentMission", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { var r, n; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (r = sn().getState().dataSync.missions.get(t), sn().getState().dataSync.getTokenBy(t), e.prev = 2, r && r.loaded) { e.next = 9; break } return e.next = 6, Jr.create().getMission({ name: t }, sn().getState().dataSync.getTokenBy(t)); case 6: return n = e.sent, e.next = 9, this.updateMissionDetails(n); case 9: e.next = 14; break; case 11: e.prev = 11, e.t0 = e.catch(2), Td("toast").error({ message: "Unable to get the mission", actions: [{ text: "Dismiss", onClick: function (e) { return e() } }] }); case 14: case "end": return e.stop() } }, e, this, [[2, 11]]) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "requestToken", value: function () { var e = Object(o.a)(a.a.mark(function e(t, r) { var n; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, this.missionApiService.getReadOnlyAccessToken(t, r); case 2: return n = e.sent, sn().dispatch(Qr(t, n)), e.abrupt("return", n); case 5: case "end": return e.stop() } }, e, this) })); return function (t, r) { return e.apply(this, arguments) } }() }, { key: "addFeedFileToMap", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { var r, n, o, i, c; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (!(r = Rs.create()).hasFile(t.hash)) { e.next = 3; break } return e.abrupt("return"); case 3: return n = "".concat(Pr.create().getSyncUrl(), "/content?hash=").concat(t.hash), e.next = 6, fetch(n); case 6: return o = e.sent, e.next = 9, o.blob(); case 9: return i = e.sent, c = new File([i], t.name, { type: t.mimeType }), e.next = 13, r.addFile(c, t.hash); case 13: case "end": return e.stop() } }, e) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "createMission", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { var r, n; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.prev = 0, e.next = 3, this.missionApiService.createMission(t); case 3: if (!(r = e.sent)) { e.next = 14; break } if ((n = new Or(r)).token && sn().dispatch(Qr(n.name, n.token)), n.creatorUid !== Ne()) { e.next = 10; break } return e.next = 10, this.missionApiService.setMissionRole(n.name, Ne(), dr.MISSION_OWNER, sn().getState().dataSync.getTokenBy(n.name)); case 10: return this.populateMap(n.name), sn().dispatch($r(n.name)), this.updateMissionDetails(n), e.abrupt("return", n); case 14: e.next = 19; break; case 16: e.prev = 16, e.t0 = e.catch(0), Td("toast").error({ message: "Unable to create the mission", actions: [{ text: "Dismiss", onClick: function (e) { return e() } }] }); case 19: case "end": return e.stop() } }, e, this, [[0, 16]]) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "toggleSubscription", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (!sn().getState().dataSync.subscriptions.has(t)) { e.next = 5; break } return e.next = 3, this.unsubscribe(t); case 3: e.next = 7; break; case 5: return e.next = 7, this.subscribe(t); case 7: case "end": return e.stop() } }, e, this) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "getSubscriptions", value: function () { return sn().getState().dataSync.subscriptions.toArray() } }, { key: "userHasMissionPermission", value: function (e, t) { if (!this.getSubscriptions().includes(e)) return !1; var r = sn().getState().dataSync.missions.get(e); if (!r) return !1; var n = r.userRole; return !!n && ((n.type !== dr.MISSION_READONLY_SUBSCRIBER || t === pr.MISSION_READ) && n.permissions.includes(t)) } }, { key: "userHasMissionRole", value: function (e, t) { var r = sn().getState().dataSync.missions.get(e); return !!r && r.userRole.type === t } }, { key: "deleteMission", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.prev = 0, e.next = 3, this.missionApiService.deleteMission(t, !0, void 0, sn().getState().dataSync.getTokenBy(t)); case 3: this.handleMissionDeleted(t), e.next = 9; break; case 6: e.prev = 6, e.t0 = e.catch(0), Td("toast").error({ message: "Unable to delete the mission", actions: [{ text: "Dismiss", onClick: function (e) { return e() } }] }); case 9: case "end": return e.stop() } }, e, this, [[0, 6]]) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "handleMissionDeleted", value: function (e) { this.unPopulateMap(e), sn().dispatch(en(e)), sn().dispatch(function (e) { return { type: Xr.REMOVE_MISSION_DETAILS, payload: e } }(e)), sn().dispatch(function (e) { return { type: Xr.REMOVE_MISSION_ROLE_FROM_MAP, payload: e } }(e)), sn().dispatch(function (e) { return { type: Xr.REMOVE_MISSION_TOKEN_FROM_MAP, payload: e } }(e)) } }]), r }(L.Service); yu.create = yu.factory(); var Eu, Ou = yu; function Su(e, t) { var r = "undefined" !== typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (!r) { if (Array.isArray(e) || (r = function (e, t) { if (!e) return; if ("string" === typeof e) return wu(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); "Object" === r && e.constructor && (r = e.constructor.name); if ("Map" === r || "Set" === r) return Array.from(e); if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return wu(e, t) }(e)) || t && e && "number" === typeof e.length) { r && (e = r); var n = 0, a = function () { }; return { s: a, n: function () { return n >= e.length ? { done: !0 } : { done: !1, value: e[n++] } }, e: function (e) { throw e }, f: a } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var o, i = !0, c = !1; return { s: function () { r = r.call(e) }, n: function () { var e = r.next(); return i = e.done, e }, e: function (e) { c = !0, o = e }, f: function () { try { i || null == r.return || r.return() } finally { if (c) throw o } } } } function wu(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } !function (e) { e.SELF = "Just for me", e.MISSIONS = "Missions" }(Eu || (Eu = {})); var Au = function (e) { var t = e.cot, r = Object(i.useState)([]), n = Object(Xe.a)(r, 2), a = n[0], o = n[1], s = Object(i.useState)(Eu.SELF), u = Object(Xe.a)(s, 2), l = u[0], f = u[1], p = Object(i.useState)(Object(q.Map)()), m = Object(Xe.a)(p, 2), h = m[0], v = m[1], g = Object(i.useCallback)(function () { l === Eu.SELF ? 0 !== a.length ? ma.create().removeItem(t.uid) : sn().dispatch(Ee(t.toJS())) : 1 === a.length ? Ou.create().userHasMissionPermission(a[0].name, pr.MISSION_WRITE) ? Jr.create().removeMissionContent(a[0].name, "", t.uid) : Td("toast").error({ message: "Failed to remove ".concat(Br(t), " from mission. You don't have permission to do that.") }) : h.size > 0 && h.forEach(function (e) { Ou.create().userHasMissionPermission(a[0].name, pr.MISSION_WRITE) ? Jr.create().removeMissionContent(e.name, "", t.uid) : Td("toast").error({ message: "Failed to remove ".concat(Br(t), " from mission. You'd dont have permission to do that.") }) }); var e = Td("drawer").getActiveDrawer(); if (Td("dialog").close(), e) { var r = Td("drawer").getCtx(); Object(ct.isCotEvent)(r) && r.uid === t.uid && Td("drawer").closeDrawer() } }, [l, t, h, a]); Object(i.useEffect)(function () { var e, r = [], n = Su(Ou.create().getSubscriptions()); try { for (n.s(); !(e = n.n()).done;) { var a = e.value, i = sn().getState().dataSync.missions.get(a); i && i.mission.uids.some(function (e) { return e.data === t.uid }) && r.push(i.mission) } } catch (c) { n.e(c) } finally { n.f() } o(r) }, [t]); var b = Object(i.useMemo)(function () { var e = "You'll be deleting this just for yourself."; return l === Eu.SELF ? 0 === a.length ? e : "".concat(e, " You can add it back from the mission at any time.") : l === Eu.MISSIONS ? 1 === a.length ? "Remove ".concat(Br(t), " from ").concat(a[0].name, " for everyone.") : a.length > 1 ? "Select the missions you'd like to remove this cot from." : "This cot does not belong to any missions." : null }, [l, a]); return c.a.createElement("div", { style: { margin: "0 auto", width: "300px", height: "300px", display: "flex", flexDirection: "column", justifyContent: "space-between" } }, 0 !== a.length && c.a.createElement(d.SegmentedControl, { defaultValue: Eu.SELF, options: [{ value: Eu.SELF, label: Eu.SELF }, { value: Eu.MISSIONS, label: Eu.MISSIONS }], onChange: function (e) { f(e) } }), c.a.createElement("div", { style: { width: "100%", padding: "0.5em 0" } }, b, l !== Eu.SELF && a.length > 1 && c.a.createElement("div", { style: { display: "flex", height: "150px", borderRadius: "5px", backgroundColor: "#313131", flexDirection: "column", margin: "0.5em", padding: "0.25em", overflowY: "scroll", colorScheme: "dark" } }, a.map(function (e, t) { return c.a.createElement(d.Checkbox, { key: t, checked: h.has(e.name), label: e.name, onChange: function (t) { var r = t.target.checked ? h.set(e.name, e) : h.remove(e.name); v(r) } }) }))), c.a.createElement("div", { style: { display: "flex", alignItems: "center", justifyContent: "end", padding: "1em 0 0 0" } }, c.a.createElement(d.Button.Danger, { style: { width: "100%" }, onClick: g }, "Delete"))) }, Cu = function (e) { return { icon: Object(d.toURL)(Object(d.inlineSvg)("delete", { fill: "#FF5C54" })), onClick: function () { var t = Br(e); Td("menu").closeMenu(), Co.create().openWith("Delete ".concat(t, "?"), c.a.createElement(Au, { cot: e })) } } }, Tu = function () { function e(t) { Object(T.a)(this, e), this.displayName = void 0, this.registryKey = void 0, this.description = void 0, this.drawer = void 0, this.displayName = t.displayName, this.registryKey = t.registryKey, this.description = t.description, this.drawer = Lc(new xi({ displayName: t.displayName, name: t.registryKey, mount: t.mount, unmount: t.unmount })) } return Object(j.a)(e, [{ key: "getComponent", value: function () { return this.drawer.getComponent() } }]), e }(); function ju(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var ku, Ru = { icon: "settings", displayName: "Preference Collection", registryKey: "preference-collection", items: Object(q.List)() }, Nu = function (e) { Object(k.a)(r, e); var t = ju(r); function r(e) { var n; if (Object(T.a)(this, r), n = t.call(this, { icon: e.icon, displayName: e.displayName, registryKey: e.registryKey, items: Object(q.List)(e.items) }), e.items.some(function (e) { return e instanceof Tu }) && e.items.length > 1) throw new Error("Preference Collection with a CustomPreference must only include one item."); return n } return r }(Object(q.Record)(Ru)), Lu = { displayName: "record", registryKey: "registryKey" }; function _u(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } !function (e) { e.TOGGLE = "TOGGLE", e.TEXT_INPUT = "TEXT_INPUT", e.SELECT = "SELECT", e.LINK = "LINK", e.BUTTON = "BUTTON" }(ku || (ku = {})); var Iu = Object(P.a)({}, Lu, { controlType: ku.TOGGLE, description: "", value: !0, effect: function (e) { } }), Mu = function (e) { Object(k.a)(r, e); var t = _u(r); function r(e) { return Object(T.a)(this, r), t.call(this, e) } return r }(Object(q.Record)(Iu)); function xu(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var Du = Object(P.a)({}, Lu, { controlType: ku.TEXT_INPUT, description: "", value: "", effect: function (e) { } }), Pu = function (e) { Object(k.a)(r, e); var t = xu(r); function r(e) { return Object(T.a)(this, r), t.call(this, e) } return r }(Object(q.Record)(Du)); function Uu(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var Bu = Object(P.a)({}, Lu, { controlType: ku.SELECT, description: "", value: "", effect: function (e) { }, options: [] }), Fu = Object(P.a)({}, Lu, { controlType: ku.SELECT, description: "", value: 0, effect: function (e) { }, options: [] }), Vu = Object(q.Record)(Bu), Hu = Object(q.Record)(Fu), Gu = function (e) { Object(k.a)(r, e); var t = Uu(r); function r(e) { return Object(T.a)(this, r), t.call(this, e) } return r }(Vu), qu = function (e) { Object(k.a)(r, e); var t = Uu(r); function r(e) { return Object(T.a)(this, r), t.call(this, e) } return r }(Hu); function Ku(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var zu = Object(P.a)({}, Lu, { description: "", controlType: ku.LINK, value: new URL("https://www.example.com"), effect: function (e) { } }), Yu = function (e) { Object(k.a)(r, e); var t = Ku(r); function r(e) { return Object(T.a)(this, r), t.call(this, e) } return r }(Object(q.Record)(zu)); function Wu(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var Xu = Object(P.a)({}, Lu, { controlType: ku.BUTTON, value: void 0, description: "", effect: function (e) { } }), Ju = function (e) { Object(k.a)(r, e); var t = Wu(r); function r(e) { return Object(T.a)(this, r), t.call(this, e) } return r }(Object(q.Record)(Xu)), Zu = function (e) { return e instanceof Mu }, Qu = function (e) { return e instanceof Pu }, $u = function (e) { return e instanceof Gu }, el = function (e) { return e instanceof qu }, tl = function (e) { return e instanceof Yu }, rl = function (e) { return e instanceof Ju }, nl = function (e) { return e instanceof Tu }, al = function (e) { return Zu(e) || Qu(e) || function (e) { return $u(e) || el(e) }(e) || tl(e) || rl(e) || nl(e) }, ol = function (e) { return e instanceof Nu }, il = function (e, t, r) { if (al(e)) return t(e); if (ol(e)) return r(e); throw new Error("Unrecognized Preference for: ".concat(e.displayName)) }; function cl(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var sl = function (e) { Object(k.a)(r, e); var t = cl(r); function r() { var e; Object(T.a)(this, r); for (var n = arguments.length, a = new Array(n), o = 0; o < n; o++)a[o] = arguments[o]; return (e = t.call.apply(t, [this].concat(a))).localPreferenceMap = Object(q.Map)(), e.localRootLookup = Object(q.List)(), e } return Object(j.a)(r, [{ key: "registerPreference", value: function (e) { var t = this; e instanceof Array ? e.forEach(function (e) { return t.register(e) }) : this.register(e) } }, { key: "register", value: function (e) { var t = this, r = il(e, function (e) { return t.newItemHandler(e) }, function (e) { return t.newCollectionHandler(e) }); this.emit("register", r) } }, { key: "newItemHandler", value: function (e) { return this.addToLocalPreferences(e), this.addToLocalRootLookup(e), e } }, { key: "addToLocalPreferences", value: function (e) { var t = e.registryKey; if (this.localPreferenceMap.has(t)) throw new Error('PreferenceService.addToLocalPreferences: Cannot add duplicate Preference with name "'.concat(t, '".')); this.localPreferenceMap = this.localPreferenceMap.set(t, e) } }, { key: "addToLocalRootLookup", value: function (e) { var t = e.registryKey; if (this.localRootLookup.some(function (e) { return e === t })) throw new Error('PreferenceService.addToLocalRootLookup: Cannot add duplicate Preference with name "'.concat(t, '".')); this.localRootLookup = this.localRootLookup.push(t) } }, { key: "newCollectionHandler", value: function (e) { var t = this.parseCollection(e); return this.addToLocalPreferences(t), this.addToLocalRootLookup(t), t } }, { key: "parseCollection", value: function (e) { var t = this; return e.withMutations(function (e) { e.set("items", e.items.map(function (e) { return il(e, function (e) { return t.addToLocalPreferences(e), e }, function (e) { return t.parseCollection(e) }) })) }) } }, { key: "getRoots", value: function () { var e = this; return this.localRootLookup.map(function (t) { var r = e.localPreferenceMap.get(t); if (!r) throw new Error('PreferenceService.getRoots: Preference with the name "'.concat(t, '" does not exist.')); return r }) } }, { key: "setPreference", value: function (e, t) { if (!this.localPreferenceMap.has(e)) throw new Error("PreferenceService.setPreference: ".concat(e, " does not exist. Item cannot be set.")); this.localPreferenceMap = this.localPreferenceMap.set(e, t), this.emit("change-".concat(t.registryKey), t) } }, { key: "getPreference", value: function (e) { return this.localPreferenceMap.get(e) } }]), r }(L.Service); sl.create = sl.factory(); r(609); var ul = Object(d.getClasses)("preference-description", [], []), ll = function (e) { var t = e.description; return t ? c.a.createElement("div", { className: ul.BASE }, t) : null }, fl = (r(610), Object(d.getClasses)("clear-content", ["header", "clear-all", "list", "list-item", "item-title", "item-description", "item-actions", "loading-icon"], [])), dl = function (e) { var t = e.displayName, r = e.description, n = e.handler, s = e.confirmationText, u = Object(i.useState)(!1), l = Object(Xe.a)(u, 2), f = l[0], p = l[1], m = function () { var e = Object(o.a)(a.a.mark(function e() { var t; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (t = function () { var e = Object(o.a)(a.a.mark(function e() { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.prev = 0, p(!0), e.next = 4, new Promise(function (e) { return setTimeout(e, 1e3) }); case 4: return e.next = 6, n(); case 6: e.next = 10; break; case 8: e.prev = 8, e.t0 = e.catch(0); case 10: return e.prev = 10, p(!1), e.finish(10); case 13: case "end": return e.stop() } }, e, null, [[0, 8, 10, 13]]) })); return function () { return e.apply(this, arguments) } }(), !s) { e.next = 7; break } if (!confirm(s)) { e.next = 5; break } return e.next = 5, t(); case 5: e.next = 9; break; case 7: return e.next = 9, t(); case 9: case "end": return e.stop() } }, e) })); return function () { return e.apply(this, arguments) } }(); return c.a.createElement("li", { className: fl.Elements["list-item"] }, c.a.createElement("div", { className: fl.Elements.header }, c.a.createElement("div", { className: fl.Elements["item-title"] }, t), c.a.createElement("div", { className: fl.Elements["item-actions"] }, f ? c.a.createElement(d.Icon, { className: fl.Elements["loading-icon"], color: "white", icon: "loading" }) : c.a.createElement(d.Icon, { onClick: m, color: "#FF5C54", icon: "delete-outline" }))), c.a.createElement("div", { className: fl.Elements["item-description"] }, c.a.createElement(ll, { description: "string" === typeof r ? r : r() }))) }, pl = function () { var e = vl.create(), t = Object(i.useState)(!1), r = Object(Xe.a)(t, 2), n = r[0], s = r[1], u = Object(i.useState)(e.getHandlers()), l = Object(Xe.a)(u, 2), f = l[0], p = l[1]; xa(e, "changed:handlers", function () { p(e.getHandlers()) }, [p]); var m = function () { var t = Object(o.a)(a.a.mark(function t() { return a.a.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (t.prev = 0, !confirm("Are you sure you want to clear all data.")) { t.next = 7; break } return s(!0), t.next = 5, new Promise(function (e) { return setTimeout(e, 1e3) }); case 5: return t.next = 7, e.clearAll(); case 7: t.next = 11; break; case 9: t.prev = 9, t.t0 = t.catch(0); case 11: return t.prev = 11, s(!1), t.finish(11); case 14: case "end": return t.stop() } }, t, null, [[0, 9, 11, 14]]) })); return function () { return t.apply(this, arguments) } }(), h = Object(i.useCallback)(Object(o.a)(a.a.mark(function e() { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: case "end": return e.stop() } }, e) })), []), v = Object(i.useMemo)(function () { return f.sort(function (e, t) { return Object(L.alphaSort)(e.displayName, t.displayName) }).map(function (e) { return c.a.createElement(dl, Object.assign({ key: e.registryKey }, e)) }) }, [f, h]); return c.a.createElement(d.DrawerLayout, { contentClassName: fl.BASE }, c.a.createElement(d.NavigationDrawerHeader, { title: "Clear Content" }), c.a.createElement(d.Button.Danger, { large: !0, disabled: n, className: fl.Elements["clear-all"], onClick: m }, n ? c.a.createElement(d.Icon, { className: fl.Elements["loading-icon"], color: "white", icon: "loading" }) : "Clear All Content"), c.a.createElement("ul", { className: fl.Elements.list }, v)) }; function ml(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var hl = function (e) { Object(k.a)(r, e); var t = ml(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).handlers = { "cot-storage": { displayName: "CotCoT Storage", registryKey: "cot-storage", handler: function () { var e = Object(o.a)(a.a.mark(function e() { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: window.WebSAE.cot.removeEvents(window.WebSAE.cot.getEvents().toArray()); case 1: case "end": return e.stop() } }, e) })); return function () { return e.apply(this, arguments) } }(), confirmationText: "Are you sure you want to delete all local CoT Data", description: " CoT Permanently delete all CoT data. This is usually all the data associated with the items on the Map." } }, sl.create().registerPreference(new Nu({ displayName: "Clear Content", registryKey: "clear-content-collection", icon: "delete-outline", items: [new Tu({ displayName: "Clear Content Preference", registryKey: "clear-content-item", mount: function () { return Object(i.createElement)(pl) }, unmount: function () { } })] })), e } return Object(j.a)(r, [{ key: "onStorageClear", value: function (e) { var t = this; return this.handlers[e.registryKey] = e, this.on("clear-all", e.handler), this.emit("changed:handlers", this.handlers), function () { t.off("clear-all", e.handler), delete t.handlers[e.registryKey], t.emit("changed:handlers", t.handlers) } } }, { key: "clearAll", value: function () { var e = Object(o.a)(a.a.mark(function e() { var t; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return t = this.getHandlers().map(function (e) { return (0, e.handler)() }), e.abrupt("return", Promise.all(t)); case 2: case "end": return e.stop() } }, e, this) })); return function () { return e.apply(this, arguments) } }() }, { key: "getHandlers", value: function () { return Object.values(this.handlers) } }]), r }(L.Service); hl.create = hl.factory(); var vl = hl, gl = !1, bl = "point-dropper", yl = "spot-map-details", El = "cot-details", Ol = "point-dropper", Sl = new xi({ displayName: "Spot Map Details", name: yl, mount: function () { return c.a.createElement(qs, null) }, unmount: function () { } }), wl = new xi({ displayName: "Cot Details", name: El, mount: function () { return c.a.createElement(Vs, null) }, unmount: function () { } }), Al = function (e) { var t = Td("drawer").getActiveDrawer(), r = t && t.getName() === Sl.name && Td("drawer").isOpen(); r && Sl.open(e); var n = { icon: Object(d.toURL)(Object(d.inlineSvg)("format-list-bulleted", { fill: "black" })), onClick: function () { Sl.open(e), Td("menu").closeMenu() } }, a = { icon: Object(d.toURL)(Object(d.inlineSvg)("cursor-move", { fill: "black" })), onClick: function () { return Ks(e, function (e) { Td("menu").openMenu([e.lon, e.lat], o), r && Sl.open(e) }) } }, o = Ua.create().getUserRoles().includes(Ca.ROLE_READONLY) ? [n] : [n, Cu(e), a]; Td("menu").openMenu([e.lon, e.lat], o) }, Cl = function (e) { var t = Td("drawer").getActiveDrawer(); t && t.getName() === wl.name && Td("drawer").isOpen() && wl.open(e); var r = { icon: Object(d.toURL)(Object(d.inlineSvg)("format-list-bulleted", { fill: "black" })), onClick: function () { wl.open(e), Td("menu").closeMenu() } }, n = { icon: Object(d.toURL)(Object(d.inlineSvg)("cursor-move", { fill: "black" })), onClick: function () { return Ks(e, function (e) { Td("menu").openMenu([e.lon, e.lat], a) }) } }, a = Ua.create().getUserRoles().includes(Ca.ROLE_READONLY) ? [r] : [r, Cu(e), n]; Td("menu").openMenu([e.lon, e.lat], a) }, Tl = function () { var e = "marker-key-".concat(Object(L.uuid)(5)), t = ma.create(), r = function (e) { var r = e.type.match("^a-"), n = e.type === Nr.SPOT_MARKER, a = t.hasItem(e.uid); return (r || n) && a && !Fr(e) }, n = sn().getState().events.getEvents().filter(r), a = function (r) { var n = r.filter(function (e) { return e.type === Nr.SPOT_MARKER }).map(function (r) { var n = t.getItem(r.uid); return new $s({ registryKey: e, icon: function () { return n.getIcon() }, title: n.getName(), mapItemId: r.uid, nodeChildren: [] }) }).toArray(), a = r.filter(function (e) { return e.type.match("^a-") }).groupBy(function (e) { e.type; var t = Object.entries({ "^a-f-": "Friendly", "^a-h-": "Hostile", "^a-u-": "Unknown", "^a-n-": "Neutral", "^a-s-": "Suspect", "^a-p-": "Pending", "^a-a-": "Assumed Friendly", "^a-j-": "Joker", "^a-k-": "Faker", "^a-o-": "None Specified", "^a-x-": "Other", "^a-m-": "Exercise Assumed Friendly", "^a-g-": "Exercise Pending", "^a-w-": "Exercise Unknown", "^a-d-": "Exercise Friendly", "^a-l-": "Exercise Neutral" }).find(function (t) { var r = Object(Xe.a)(t, 2), n = r[0]; r[1]; return e.type.match(n) }); return t ? t[1] : "Other" }).map(function (r, n) { return new $s({ registryKey: e, title: n, icon: function () { var e = Object.entries(fa).find(function (e) { return e[0] === n }); e || (e = ["Unknown", fa.Unknown]); var t = ja("a-".concat(e[1], "-G")).toLowerCase(); return new La.a.Symbol(t, { sidc: t, size: 20 }).toDataURL() }, nodeChildren: r.map(function (r) { var n = t.getItem(r.uid); return new $s({ registryKey: e, title: n.getName(), icon: function () { return n.getIcon() }, mapItemId: n.id, nodeChildren: [] }) }).toList().toArray() }) }).toList().toArray(); return new $s({ registryKey: e, icon: Object(d.toURL)('<svg width="32" height="32" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="nonzero" stroke="#000" stroke-width=".96"><path d="M1 4h14v9.692H1z" fill="#80E0FF"/><path d="M20.26 5.26c0-4.347 7.48-4.347 7.48 0 4.347 0 4.347 7.48 0 7.48 0 4.347-7.48 4.347-7.48 0-4.347 0-4.347-7.48 0-7.48z" fill="#FFFF80"/><path d="M8 17l7 7-7 7-7-7z" fill="#FF8080"/><path d="M18 18h12v12H18z" fill="#AFA"/></g></svg>'), title: "Markers", nodeChildren: [new $s({ registryKey: e, title: "Spot Map", icon: "circle", nodeChildren: n }), new $s({ registryKey: e, title: "Mil 2525", icon: Object(d.toURL)('<svg width="32" height="32" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="nonzero" stroke="#000" stroke-width=".96"><path d="M1 4h14v9.692H1z" fill="#80E0FF"/><path d="M20.26 5.26c0-4.347 7.48-4.347 7.48 0 4.347 0 4.347 7.48 0 7.48 0 4.347-7.48 4.347-7.48 0-4.347 0-4.347-7.48 0-7.48z" fill="#FFFF80"/><path d="M8 17l7 7-7 7-7-7z" fill="#FF8080"/><path d="M18 18h12v12H18z" fill="#AFA"/></g></svg>'), nodeChildren: a })].filter(function (e) { return e.nodeChildren.length }) }) }, o = { id: e, tree: function () { return a(n) }, onItemClick: function (e) { var r = e.mapItemId; if (r && t.hasItem(r)) { var n = t.getItem(r); n.zoomToItem(), n.onClick(void 0, []) } }, onDelete: function (e) { var r = e.filter(function (e) { return t.hasItem(e.id) && e instanceof Li }).map(function (e) { return e.getCot() }); return sn().dispatch(Ee(r)), !0 } }; sn().subscribe(function () { var t = sn().getState().events.getEvents().filter(r); n.equals(t) || (Td("overlays").updateNode(e, function () { return a(t) }), n = t) }), eu(o) }; var jl = {}, kl = {}, Rl = {}, Nl = { fill: new Si.a({ color: "#fff" }), stroke: new wi.a({ color: "#313131", width: 5 }) }, Ll = function (e, t) { var r = 1; if (e.get("features") && (r = e.get("features").length), !(r > 1)) { var n, a, o = e.get("features"), i = (n = o ? e.get("features")[0] : e).getProperties().course, c = n.getProperties().userIconDetail; i && (a = Ti(i)); var s = t >= .01, u = function (e) { return e && "object" === typeof e && Object(L.isString)(e[L.XML_ATTRIBUTE_KEY].customIconUid) ? function (e, t) { var r = e.getProperties().iconUrl; if (!r) throw "CustomIconStyle: no iconUrl provided on the feature"; var n = e.getProperties().course, a = n && n <= 225 && n <= 315, o = e.getProperties().callsign; if (!kl[r]) { var i = document.createElement("canvas"), c = new Image; c.onload = function () { i.width = 40, i.height = 32, i.getContext("2d").drawImage(c, 0, 0, 40, 32) }, c.src = r, kl[r] = i } return new Ei.c({ text: new Oc.a(Object(P.a)({}, Nl, { offsetY: a ? 25 : 20, text: t >= .01 ? "" : o })), image: new Ec.a({ imgSize: [40, 32], scale: .8, img: kl[r] }) }) }(n, t) : function (e, t) { var r; r = e.getProperties().iconUrl ? e.getProperties().iconUrl : new La.a.Symbol({ sidc: ja("a-u-g") }).toDataURL(); var n = e.getProperties().course, a = n && n <= 225 && n <= 315, o = e.getProperties().callsign; if (!jl[r]) { var i = new Ec.a({ imgSize: [40, 32], scale: .8, src: r }); jl[r] = i } return new Ei.c({ text: new Oc.a(Object(P.a)({}, Nl, { offsetY: a ? 25 : 20, text: t >= .01 ? "" : o })), image: jl[r] }) }(n, t) }(c); return a && !s ? [u, a] : u } return function (e, t) { var r = 1; e.get("features") && (r = e.get("features").length); if (!Rl[r]) { var n = new Ei.c({ image: new zs.a({ radius: function (e) { var t = 8 + e / 20 * 16; return t > 16 ? 16 : t < 8 ? 8 : t }(r), fill: new Si.a({ color: "gray" }), stroke: new wi.a({ color: "white" }) }), text: new Oc.a({ text: r.toString(), fill: new Si.a({ color: "#fff" }), stroke: new wi.a({ color: "rgba(0, 0, 0, 0.6)", width: 3 }) }) }); Rl[r] = n } return Rl[r] }(e) }; function _l(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var Il = function (e) { Object(k.a)(r, e); var t = _l(r); function r(e) { return Object(T.a)(this, r), t.call(this, e) } return Object(j.a)(r, [{ key: "onClick", value: function (e, t) { Cl(this.cot), this.showInfo(e) } }, { key: "render", value: function () { var e = this; try { var t = this.cot, r = t.detail; if (!r) return; var n = new Zn.a(new yc.a([t.lon, t.lat])); Qo(this.cot).then(function (e) { n.setProperties({ cotUid: t.uid, iconUrl: e, callsign: Br(t), course: Ci(t), userIconDetail: r.getIn(["xml", "usericon"]) || null }), n.setId(t.uid) }).then(function () { e.vectorLayer.setStyle(Ll), e.vectorLayer.setZIndex(xr.MARKER), e.setFeatures([n]), e.getVisible() && e.addFeaturesToVectorSource() }) } catch (fA) { wr.create().error("DefaultCotMapItem.render() : unable to render the default item ".concat(fA)) } } }, { key: "update", value: function (e) { var t = this; if (this.cot.equals(e)) this.cot = e; else if (this.cot = e, this.features) { var r = this.features[0]; Qo(this.cot).then(function (e) { r.setProperties({ iconUrl: e, course: Ci(t.cot), callsign: Br(t.cot), userIconDetail: t.cot.detail ? t.cot.detail.getIn(["xml", "usericon"]) : null, rgbaColor: Object(L.cotColorToRGBA)(Ho(t.cot)), iconColor: t.getIconColor() }); var n = r.getGeometry(); n && n.setCoordinates([t.cot.lon, t.cot.lat]) }) } } }, { key: "getIconColor", value: function () { } }, { key: "getVectorSource", value: function () { return this.vectorLayer.getSource().get("clusterSource") ? this.vectorLayer.getSource().getSource() : this.vectorLayer.getSource() } }, { key: "createMapItemTypeId", value: function () { this.constructor.prototype._mapItemTypeId || (this.constructor.prototype._mapItemTypeId = "default-cot-map-item") } }, { key: "getMapItemTypeId", value: function () { return this.constructor.prototype._mapItemTypeId } }]), r }(Li); function Ml(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var xl = function (e) { Object(k.a)(r, e); var t = Ml(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).hasRendered = !1, e.map = null, e.previousEvents = void 0, e.mapItemsRenderers = {}, e.mapNonRenderList = new Set, e.store = void 0, e.cotAPI = Dl(), e.onCotEventChange = function (t, r, n, a) { var o = ma.create(); r.forEach(function (e) { o.hasItem(e.uid) && o.removeItem(e.uid) }), t.filter(function (t) { var r = e.hasMarkerRenderer(t.type), n = t.type.startsWith("a-"), a = t.type.startsWith("b-"), o = t.uid === Ne(); return (r || n || a) && !o }).forEach(function (t) { if (e.hasMarkerRenderer(t.type)) { var r = new (0, e.mapItemsRenderers[t.type])(t); o.addCotItem(r) } else !t.type.startsWith("a-") && !Object.values(Dr).includes(t.type) || e.mapNonRenderList.has(t.type) || o.addCotItem(new Il(t)) }), n.forEach(function (e) { if (o.hasItem(e.uid)) { var t = o.getItem(e.uid); t && t.getVisible() && t.update(e) } }), e.hasRendered = !0 }, e.store = sn(), e.previousEvents = e.store.getState().events, e.cotAPI.onCotEventChange(e.onCotEventChange), hi.create().onMapReady(function (t) { e.map = t }), e } return Object(j.a)(r, [{ key: "hasMarkerRenderer", value: function (e) { return "function" === typeof this.mapItemsRenderers[e] } }, { key: "unregisterMarkerRenderer", value: function (e) { delete this.mapItemsRenderers[e] } }, { key: "registerMarkerRenderer", value: function (e, t) { if (this.hasMarkerRenderer(e)) throw new Error("MapService.registerMarkerRenderer cannot register more than one renderer for  cot type ".concat(e, ".")); this.mapItemsRenderers[e] = t } }, { key: "registerNonRender", value: function (e) { this.mapNonRenderList.add(e) } }, { key: "getCotRenderer", value: function (e) { return this.mapItemsRenderers[e] } }]), r }(L.Service); function Dl() { var e = sn(), t = Object(L.createEmitter)(), r = e.getState().events; return na("events", function (e) { var n = e, a = Object(q.List)(), o = Object(q.List)(), i = Object(q.List)(); r.events.forEach(function (t) { e.hasEventByUid(t.uid) || (o = o.push(t)) }), n.events.forEach(function (e) { r.hasEventByUid(e.uid) ? r.getEventByUid(e.uid).equals(e) || (i = i.push(e)) : a = a.push(e) }), t.emit("change", a, o, i, e.events), r = e }), { models: { CotMapItem: Li, TAKV: E() }, services: { ingest: Pn.create(), socket: Sn.create(), cotRender: xl.create(), saeServer: Pr.create() }, utilities: { getWebsaeRootUrl: p }, getEvents: function (t) { var r = e.getState().events.getEvents(); return t ? r.filter(function (e) { return qn(t, e) }) : r }, addEvents: function (t) { e.dispatch(ye(t)) }, removeEvents: function (t) { e.dispatch(Ee(t)) }, onCotEventChange: function (e) { return t.on("change", e), function () { t.off("change", e) } } } } xl.create = xl.factory(); var Pl = r(314); function Ul(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var Bl = function (e) { Object(k.a)(r, e); var t = Ul(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).cotAPI = Dl(), e.store = sn(), e.loaded = !1, e.cotAPI.onCotEventChange(e.handleCotEventsChange.bind(Object(K.a)(e))), e.loadExistingEvents(), e } return Object(j.a)(r, [{ key: "isLoaded", value: function () { return this.loaded } }, { key: "handleCotEventsChange", value: function (e, t, r, n) { var a = []; e.concat(r).forEach(function (e) { e.detail && e.detail.xml && e.detail.xml.archive && a.push(e) }), this.storeEvents(a), this.removeEvents(t.toArray()) } }, { key: "storeEvents", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { var r; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return r = t.map(function (e) { return e.toJS() }), e.next = 3, Object(Pl.saveEvents)(r); case 3: case "end": return e.stop() } }, e) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "removeEvents", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { var r; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return r = t.map(function (e) { return e.uid }), e.next = 3, Object(Pl.deleteEvents)(r); case 3: case "end": return e.stop() } }, e) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "loadExistingEvents", value: function () { var e = Object(o.a)(a.a.mark(function e() { var t, r; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, Object(Pl.getAllEvents)(); case 2: t = e.sent, this.store.dispatch(ye(t)), r = this.store.getState().events.getEvents().toSet().toList(), this.loaded = !0, this.emit("load", r); case 7: case "end": return e.stop() } }, e, this) })); return function () { return e.apply(this, arguments) } }() }]), r }(L.Service); function Fl(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } Bl.create = Bl.factory(); var Vl = function (e) { Object(k.a)(r, e); var t = Fl(r); function r() { var e; Object(T.a)(this, r); for (var n = arguments.length, a = new Array(n), o = 0; o < n; o++)a[o] = arguments[o]; return (e = t.call.apply(t, [this].concat(a))).store = sn(), e.tools = [], e } return Object(j.a)(r, [{ key: "hasTool", value: function (e) { return this.tools.some(function (t) { return t.name === e }) } }, { key: "registerTool", value: function (e) { if ("string" !== typeof e.name || !e.name.length) throw "ToolService.registerTool Tool name must be a non-empty string. "; if (this.hasTool(e.name)) throw new Error('ToolService.registerTool Cannot reregister existing tool "'.concat(e.name, '".')); var t; this.tools.push(e), this.store.dispatch((t = e.name, { type: Ut.REGISTER_TOOL, payload: t })) } }, { key: "getTools", value: function () { return Object(D.a)(this.tools) } }, { key: "getTool", value: function (e) { var t = this.tools.find(function (t) { return t.name === e }); if (!t) throw new Error('ToolService.getTool Cannot retrieve unknown tool "'.concat(e, '".')); return t } }, { key: "forceRender", value: function () { this.emit("change") } }]), r }(L.Service); function Hl(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } Vl.create = Vl.factory(); var Gl = function (e) { Object(k.a)(r, e); var t = Hl(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).registeredPlugins = [], e.scriptLoadCache = {}, e.manifestPlugins = void 0, e.getPluginManifest(), e } return Object(j.a)(r, [{ key: "getPluginManifest", value: function () { var e = Object(o.a)(a.a.mark(function e() { var t, r, n, o, i; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, ao(); case 2: if (e.t0 = e.sent, t = [e.t0], O === S) { e.next = 10; break } return e.t1 = t, e.next = 8, io(); case 8: e.t2 = e.sent, e.t1.push.call(e.t1, e.t2); case 10: for (r = [], n = 0, o = t; n < o.length; n++)i = o[n], r = r.concat(i.plugins); this.manifestPlugins = r; case 13: case "end": return e.stop() } }, e, this) })); return function () { return e.apply(this, arguments) } }() }, { key: "onPluginLoad", value: function (e, t) { var r = this, n = function n(a) { a === e && (r.off("pluginLoad", n), t(e)) }; return this.on("pluginLoad", n), function () { r.off("pluginLoad", n) } } }, { key: "loadScript", value: function (e, t, r) { var n, a, o = this; if (!Object(L.isNonEmptyString)(e)) throw new X("PluginService.loadScript", 'param "scriptName"', "non-empty string"); if (!Object(L.isFunction)(t)) throw new X("PluginService.loadScript", 'param "onComplete"', "function"); if (!Object(L.isFunction)(r)) throw new X("PluginService.loadScript", 'param "onError"', "function"); var i = function () { o.off("scriptLoad", n), o.off("scriptError", a) }; if (n = function (r) { r === e && (i(), t()) }, a = function (t, n) { t === e && (i(), r(n)) }, this.on("scriptLoad", n), this.on("scriptError", a), !this.scriptLoadCache[e]) { var c = document.createElement("script"); c.type = "text/javascript", this.scriptLoadCache[e] = Object(L.get)(e).then(function (t) { var r = "WebSAEPlugin-ErrorHook-".concat(Object(L.uuid)(6)); window[r] = function (t) { o.emit("scriptError", e, t), delete window[r] }; try { c.text = "try { eval(".concat(JSON.stringify(t), "); } catch (e) { window['").concat(r, "'](e); }"), document.body.appendChild(c), delete window[r], o.emit("scriptLoad", e) } catch (n) { o.emit("scriptError", e, n) } }).catch(function (t) { o.emit("scriptError", e, t) }) } } }, { key: "hasPlugin", value: function (e) { return this.registeredPlugins.some(function (t) { return t.name === e }) } }, { key: "getPlugin", value: function (e) { if (!this.hasPlugin(e)) throw new Error("PluginService.getPlugin cannot retrieve unknown plugin ".concat(e, ".")); return this.registeredPlugins.find(function (t) { return t.name === e }) } }, { key: "registerPlugin", value: function (e) { if (this.hasPlugin(e.name)) throw new Error("PluginService.registerPlugin cannot register duplicate plugin ".concat(e.name, ", plugin already registered with version ").concat(e.version, ".")); var t = Dc.create(), r = Vl.create(), n = []; try { e.getDrawers().forEach(function (e) { t.registerDrawer(e), n.push(e) }), e.getTools().forEach(function (e) { r.registerTool(e) }) } catch (a) { try { n.forEach(function (e) { t.unregisterDrawer(e) }) } finally { throw a } } this.registeredPlugins.push(e) } }, { key: "getLoadedPlugins", value: function () { return this.manifestPlugins } }]), r }(L.Service); Gl.create = Gl.factory(); r(612), r(613), r(614), r(615); function ql(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var Kl = function (e) { Object(k.a)(r, e); var t = ql(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).store = void 0, e.watchId = -1, e.shouldTrack = void 0, e.previousShouldTrack = void 0, e.unsubscribe = void 0, e.toastService = Td("toast"), e.onStoreChange = function () { var t = e.store.getState().user; e.previousShouldTrack = e.shouldTrack, e.shouldTrack = t.shouldTrack, !1 === e.shouldTrack && !0 === e.previousShouldTrack && e.stopLocationTracking(), !0 === e.shouldTrack && !1 === e.previousShouldTrack && e.startLocationTracking() }, e.store = sn(), e.shouldTrack = e.store.getState().user.shouldTrack, e.previousShouldTrack = e.shouldTrack, e.unsubscribe = e.store.subscribe(e.onStoreChange), !0 === e.shouldTrack ? e.startLocationTracking() : !1 === e.shouldTrack ? e.stopLocationTracking() : void 0 === e.shouldTrack && confirm("WebSAE would like to use your current location. Press OK to allow WebSAE to automatically report your location.") ? (e.setShouldTrackLocation(!0), e.startLocationTracking()) : (e.stopLocationTracking(), e.setShouldTrackLocation(!1)), e } return Object(j.a)(r, [{ key: "updateLocation", value: function (e) { this.store.dispatch({ payload: e, type: Rt.SET_LOCATION }) } }, { key: "startLocationTracking", value: function () { var e = this; this.toastService.info({ message: "Auto location updates turned on" }), this.watchId = navigator.geolocation.watchPosition(function (t) { var r = t.coords, n = r.latitude, a = r.longitude; e.updateLocation({ lat: n, lon: a }) }, function (t) { e.toastService.error({ message: "Unable to auto update your location, turning auto location updates off" }), e.setShouldTrackLocation(!1) }) } }, { key: "setShouldTrackLocation", value: function (e) { this.store.dispatch(function (e) { return { payload: e, type: Rt.SET_TRACK_LOCATION } }(e)) } }, { key: "stopLocationTracking", value: function () { navigator.geolocation.clearWatch(this.watchId), this.toastService.info({ message: "Auto location updates turned off" }) } }]), r }(L.Service); Kl.create = Kl.factory(); var zl, Yl = Kl, Wl = function (e) { var t = e.callsign, r = e.location, n = e.role, a = e.team; return !!(r && Dt({ callsign: t, role: n, team: a }) && Object(L.isCoordinate)([r.lon, r.lat])) }, Xl = Nt.getAll().map(function (e) { return c.a.createElement("option", { key: e.name, value: e.name }, e.name) }), Jl = It.map(function (e) { return c.a.createElement("option", { key: e, value: e }, e) }), Zl = Object(d.getClasses)("user-information-form", ["actions", "gps"], ["selecting"]), Ql = Object(l.b)(function (e) { var t = e.user; return { callsign: t.callsign, location: t.location, role: t.role, team: t.team.name } }, { setInformation: _t })(function (e) { var t = e.callsign, r = e.location, n = e.role, a = e.team, o = e.setInformation, s = e.onLocationStart, u = e.onLocationEnd, l = e.onInfoChange, f = Td("map"), p = Yl.create(), m = Ya.create(), h = Object(i.useState)(t), v = Object(Xe.a)(h, 2), g = v[0], b = v[1], y = Object(i.useState)(a), E = Object(Xe.a)(y, 2), O = E[0], S = E[1], w = Object(i.useState)(n), A = Object(Xe.a)(w, 2), T = A[0], j = A[1], k = Object(i.useState)(p.shouldTrack), R = Object(Xe.a)(k, 2), N = R[0], _ = R[1], I = Object(i.useState)({ lat: r.lat, lon: r.lon }), M = Object(Xe.a)(I, 2), x = M[0], D = M[1], P = Object(i.useState)({ lat: r.lat, lon: r.lon }), U = Object(Xe.a)(P, 2), B = U[0], F = U[1]; Object(i.useEffect)(function () { "" === g && b(Object(L.getRandomCallsign)()) }, []), Object(i.useEffect)(function () { J({ callsign: g, location: x, role: T, team: O }) }, [x]); var V = Object(i.useCallback)(function () { !1 !== N && void 0 !== N || !confirm("Do you want WebSAE to automatically update your location?") ? navigator.geolocation.getCurrentPosition(function (e) { var t = e.coords, r = t.latitude, n = t.longitude; D({ lat: r, lon: n }), F({ lat: r, lon: n }), Td("toast").info({ message: "User location field updated", duration: 4 }) }, function (e) { F(x), D({ lat: r.lat, lon: r.lon }), Td("toast").error({ message: "Unable to determine your location. Make sure WebSAE has permission to access location data." }) }) : (p.setShouldTrackLocation(!0), _(p.shouldTrack)) }, [r, F, D]), H = Object(i.useState)(!1), G = Object(Xe.a)(H, 2), q = G[0], K = G[1], z = { callsign: g, location: x, role: T, team: O }, Y = Object(i.useCallback)(Object(L.safelyHandle)(function (e) { e.currentTarget.blur(); var t = Object(L.throttle)(function (e) { var t = e.coordinate; F({ lat: t[1], lon: t[0] }) }, 50), n = function (e) { K(!1), u && u() }; f.performInteraction(function (e, r, a, o) { K(!0), m.instruct({ title: "Click on the map to manually set your location." }, { title: "Click on 'save' to report your location." }), a("pointermove", t), a("click", function (e) { var t = e.coordinate, a = { lat: t[1], lon: t[0] }; D(a), F(a), J({ callsign: g, location: a, role: T, team: O }), n(), m.next(), r() }) }, function (e) { F(r), m.drop(), n() }, function (e, t) { n(), m.drop(), t() }), s && s() }), [f, K, s, u, z]), W = Object(i.useCallback)(function () { o(z) }, [z, o]), X = Object(d.className)(Zl.BASE, Object(C.a)({}, Zl.Modifiers.selecting, q)), J = function (e) { "function" === typeof l && l(e) }; return Object(i.useEffect)(function () { var e = { lat: r.lat, lon: r.lon }; D(e), F(e) }, [r, D, F]), c.a.createElement("div", { className: X }, c.a.createElement("label", { className: Object(d.className)("wt-label", "wt-label--inline") }, c.a.createElement("span", null, "Callsign"), c.a.createElement(d.TextInput, { disabled: q, onChange: function (e) { var t = e.currentTarget.value; b(t), J({ callsign: t, location: x, role: T, team: O }) }, placeholder: "Enter a callsign...", value: g })), c.a.createElement("label", { className: Object(d.className)("wt-label", "wt-label--inline") }, c.a.createElement("span", null, "Team"), c.a.createElement(d.Select, { disabled: q, value: O, onChange: function (e) { var t = e.currentTarget.value; S(t), J({ callsign: g, location: x, role: T, team: t }) } }, Xl)), c.a.createElement("label", { className: Object(d.className)("wt-label", "wt-label--inline") }, c.a.createElement("span", null, "Role"), c.a.createElement(d.Select, { disabled: q, value: T, onChange: function (e) { var r = e.currentTarget.value; j(r), J({ callsign: t, location: x, role: r, team: O }) } }, Jl)), c.a.createElement("label", { className: Object(d.className)("wt-label", "wt-label--inline") }, c.a.createElement("span", null, "Location"), c.a.createElement(d.TextInput, { disabled: q || N, onClick: Y, readOnly: !0, value: B ? Object(L.toMGRSString)(B.lat, B.lon) : "" }), !N && c.a.createElement(d.Icon, { className: Zl.Elements.gps, onClick: Object(L.safelyHandle)(V), icon: "gps_fixed" })), !("function" === typeof l) && c.a.createElement("div", { className: Zl.Elements.actions }, c.a.createElement(d.Button, { large: !0, disabled: q || !Wl(z), onClick: W }, "Save"))) }), $l = Object(d.getClasses)("user-drawer-form", ["footer"], []), ef = Object(l.b)(function (e) { var t = e.user; return { userInfo: { callsign: t.callsign, location: t.location, role: t.role, team: t.team.name, shouldTrack: t.shouldTrack } } }, { setInformation: _t })(function (e) { var t = e.setInformation, r = e.userInfo, n = Object(i.useContext)(d.NavigationContext), a = Object(i.useState)(r), o = Object(Xe.a)(a, 2), s = o[0], u = o[1], l = Object(i.createRef)(), f = Td("toast"), p = Ya.create(), m = Object(i.useCallback)(function () { t(s), f.success({ message: "User information updated", actions: [Hi] }, l.current), p.drop() }, [t, l]); return c.a.createElement(d.DrawerLayout, { ref: l }, c.a.createElement(d.NavigationDrawerHeader, { title: "Edit User Information" }), c.a.createElement(Ql, { onInfoChange: function (e) { return u(e) } }), c.a.createElement(d.DrawerFooter, { className: Object(d.className)($l.Elements.footer) }, c.a.createElement(d.Button, { onClick: m }, "Save"), c.a.createElement(d.Button.Danger, { onClick: function () { p.drop(), n.pop() } }, "Cancel"))) }), tf = function (e) { var t = e.className, r = E().version, n = Pr.create(), a = n.getSaeServerDomain(), o = Object(i.useState)(n.getSAEServerVersion()), s = Object(Xe.a)(o, 2), u = s[0], l = s[1]; return xa(n, "version", function (e) { l(e) }, [l]), c.a.createElement(d.Card, { className: t }, c.a.createElement("label", { className: Object(d.className)(Object(d.prefix)("label")) }, c.a.createElement("span", null, "WebSAE Version"), r), c.a.createElement("label", { className: Object(d.className)(Object(d.prefix)("label")) }, c.a.createElement("span", null, "Build SHA"), "51667b0b"), c.a.createElement("label", { className: Object(d.className)(Object(d.prefix)("label")) }, c.a.createElement("span", null, "Server URL"), a), c.a.createElement("label", { className: Object(d.className)(Object(d.prefix)("label")) }, c.a.createElement("span", null, "SAEServer Version"), u || "Unknown")) }, rf = function (e) { var t = e.className, r = Sn.create(), n = Object(i.useState)(r.isConnected()), s = Object(Xe.a)(n, 2), u = s[0], l = s[1]; return xa(r, "connect", function () { l(r.isConnected()) }, [l]), xa(r, "error", function () { l(r.isConnected()) }, [l]), xa(r, "disconnect", function () { l(r.isConnected()) }, [l]), u ? null : c.a.createElement(d.Card, { className: t, title: "Socket Connection Manager" }, c.a.createElement(d.Button, { onClick: Object(L.safelyHandle)(Object(o.a)(a.a.mark(function e() { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, r.reconnect(); case 2: return e.abrupt("return", e.sent); case 3: case "end": return e.stop() } }, e) }))) }, "Reconnect")) }, nf = (r(616), zl = {}, Object(C.a)(zl, Ca.ROLE_ANONYMOUS, "Anonymous"), Object(C.a)(zl, Ca.ROLE_READONLY, "Read Only"), Object(C.a)(zl, Ca.ROLE_ADMIN, "Administrator"), zl), af = function () { var e = Object(o.a)(a.a.mark(function e() { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (!confirm("Are you sure you want to log out?")) { e.next = 10; break } return e.prev = 1, e.next = 4, fetch("".concat("".concat(self.location.origin, "/"), "logout")); case 4: window.location.reload(), e.next = 10; break; case 7: e.prev = 7, e.t0 = e.catch(1), Td("toast").error({ message: "Unable to log out of the application." }); case 10: case "end": return e.stop() } }, e, null, [[1, 7]]) })); return function () { return e.apply(this, arguments) } }(), of = function (e) { var t = e.className, r = Ua.create(), n = Object(i.useState)(r.getUserRoles()), a = Object(Xe.a)(n, 2), o = a[0], s = a[1], u = Object(d.getClasses)("user-role-card", [], []); return xa(r, "role-change", function (e) { s(e) }, [s]), o.length ? c.a.createElement(d.Card, { className: "".concat(t, " ").concat(Object(d.className)(u.BASE)) }, c.a.createElement("div", null, c.a.createElement("label", { className: Object(d.className)(Object(d.prefix)("label")) }, c.a.createElement("span", null, "User Roles"), o.map(function (e, t) { return c.a.createElement("div", { key: t }, nf[e]) }))), c.a.createElement("div", null, c.a.createElement(d.Button, { onClick: af }, "Log Out"))) : null }, cf = Object(d.getClasses)("user-information-content", ["header", "location", "card", "logout-button"], []), sf = Object(l.b)(function (e) { var t = e.user; return { callsign: t.callsign, location: t.location, role: t.role, team: t.team.name, shouldTrack: t.shouldTrack } }, { setInformation: _t })(function (e) { var t = e.callsign, r = e.location, n = e.role, a = e.team, o = e.setInformation, s = e.shouldTrack, u = Td("map"), l = Object(i.useContext)(d.NavigationContext), f = Object(i.createRef)(), p = Td("toast"), m = Yl.create(), h = Object(i.useCallback)(function () { navigator.geolocation.getCurrentPosition(function (e) { var r = e.coords, i = r.latitude, c = r.longitude; o({ callsign: t, location: { lat: i, lon: c }, role: n, team: a }), p.info({ message: "User location changed", duration: 4 }) }, function (e) { p.error({ message: "Unable to determine your location. Make sure WebSAE has permission to access location data." }) }) }, [o]), v = Object(i.useCallback)(function () { var e = Ya.create(); u.performInteraction(function (r, i, c, s) { document.getElementsByTagName("html")[0].style.cursor = "cell", e.instruct({ title: "Click on the map to manually set and report your location." }), c("click", function (r) { var c = r.coordinate, s = { hae: 0, lat: c[1], lon: c[0] }; o({ callsign: t, location: s, role: n, team: a }), p.info({ message: "User location changed", duration: 4 }), i(), e.drop(), document.getElementsByTagName("html")[0].style.cursor = "" }) }, function () { document.getElementsByTagName("html")[0].style.cursor = "", e.drop() }, function () { document.getElementsByTagName("html")[0].style.cursor = "", e.drop() }) }, [o]); return c.a.createElement(d.DrawerLayout, { ref: f, className: Object(d.className)(cf.BASE) }, c.a.createElement(d.DrawerHeader, { className: cf.Elements.header, rightRenderer: function (e) { return c.a.createElement(c.a.Fragment, null, c.a.createElement(d.Button, { small: !0, minimal: !0, onClick: function () { return l.push(ef) } }, "Edit"), e) }, title: "User Information Tools" }), c.a.createElement(d.Card, { className: Object(d.className)(cf.Elements.card), title: " " }, c.a.createElement("label", { style: { marginTop: 0 }, className: Object(d.className)(Object(d.prefix)("label"), Object(d.prefix)("label--inline")) }, c.a.createElement("span", null, "Callsign"), t), c.a.createElement("label", { className: Object(d.className)(Object(d.prefix)("label"), Object(d.prefix)("label--inline")) }, c.a.createElement("span", null, "Team"), a), c.a.createElement("label", { className: Object(d.className)(Object(d.prefix)("label"), Object(d.prefix)("label--inline")) }, c.a.createElement("span", null, "Role"), n), c.a.createElement("label", { className: Object(d.className)(Object(d.prefix)("label"), Object(d.prefix)("label--inline")) }, c.a.createElement("span", null, "Location"), c.a.createElement("div", { className: Object(d.className)(cf.Elements.location) }, c.a.createElement("div", { onClick: s ? function () { return null } : v }, Object(L.toMGRSString)(r.lat, r.lon)), !s && c.a.createElement(c.a.Fragment, null, c.a.createElement(d.Icon, { onClick: Object(L.safelyHandle)(h), icon: "gps_fixed" }), c.a.createElement(d.Icon, { onClick: v, icon: "cursor-move" })))), c.a.createElement("label", { className: Object(d.className)(Object(d.prefix)("label"), Object(d.prefix)("label--inline")) }, c.a.createElement("span", null, "Track Location"), c.a.createElement(d.Switch, { inline: !0, checked: s, onChange: function () { m.setShouldTrackLocation(!s) } }))), c.a.createElement(of, { className: Object(d.className)(cf.Elements.card) }), c.a.createElement(tf, { className: Object(d.className)(cf.Elements.card) }), c.a.createElement(rf, { className: Object(d.className)(cf.Elements.card) })) }), uf = Object(d.getClasses)("user-drawer", [], []), lf = function () { return c.a.createElement(d.NavigationController, { className: uf.BASE, root: sf }) }, ff = (r(617), Object(d.getClasses)("user-detail-drawer", ["header", "section-card", "footer"], [])), df = function () { var e = Object(d.className)(Object(d.prefix)("label")), t = Object(i.useState)(Td("drawer").getCtx()), r = Object(Xe.a)(t, 2), n = r[0], a = r[1]; xa(Td("drawer"), "drawer-change", function (e, t) { a(t) }, [a]), Object(i.useEffect)(function () { if (n) { var e = function (e) { return function (e, t) { return !(e.uid !== t.uid) }(e, n) }, t = function (t) { var r = new ct.CotEvent(Object(P.a)({}, t, { detail: t.detail ? Object(L.safeConstruct)(ct.CotEventDetail, t.detail) : null })); e(r) && function (e) { a(e) }(r) }; return Td("socket").on("message", t), function () { return Td("socket").off("message", t) } } }, [n, a]); var o = Object(i.useMemo)(function () { if (!n || !n.detail) return "--"; var e = n.detail.getContact(); return e ? e.callsign : "--" }, [n, a]), s = Object(i.useMemo)(function () { var e = ["--", "--"]; if (!n || !n.detail) return e; var t = n.detail.getGroup(); return t ? [t.role, t.name] : e }, [n, a]), u = Object(Xe.a)(s, 2), l = u[0], f = u[1]; return n && n.detail ? c.a.createElement(d.DrawerLayout, null, c.a.createElement(d.DrawerHeader, { className: Object(d.className)(ff.Elements.header), title: "User Details" }), c.a.createElement(d.Card, { className: ff.Elements["section-card"] }, c.a.createElement("label", { className: e }, c.a.createElement("span", null, "Callsign"), o), c.a.createElement("label", { className: e }, c.a.createElement("span", null, "Team"), f), c.a.createElement("label", { className: e }, c.a.createElement("span", null, "Role"), l), c.a.createElement(zi, { canChange: !1, cot: n }), c.a.createElement(ac, { cot: n })), c.a.createElement(d.Card, { className: ff.Elements["section-card"] }, c.a.createElement("label", { className: Object(d.prefix)("label") }, c.a.createElement("span", null, "SAE Version"), n.detail ? oc(n.detail) : "--")), c.a.createElement(d.DrawerFooter, { className: Object(d.className)(ff.Elements.footer) })) : null }, pf = function () { return c.a.createElement(d.NavigationController, { className: ff.BASE, root: df }) }; function mf(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var hf = function (e) { Object(k.a)(r, e); var t = mf(r); function r() { var e; Object(T.a)(this, r); for (var n = arguments.length, a = new Array(n), o = 0; o < n; o++)a[o] = arguments[o]; return (e = t.call.apply(t, [this].concat(a))).emitter = Object(L.createEmitter)(), e.on = e.emitter.on, e.once = e.emitter.on, e.off = e.emitter.off, e.emit = e.emitter.emit, e.iconCache = {}, e } return Object(j.a)(r, [{ key: "update", value: function (e) { if (this.cot.lat !== e.lat || this.cot.lon !== e.lon) { this.emit("move"); var t = Td("menu").getMenu(); (t ? t.id : void 0) === e.uid && (bf(e), this.showInfo({ coordinate: [e.lon, e.lat] })), this.cot = e; var r = this.getVectorSource().getFeatureById(this.cot.uid); r.setProperties({ cotUid: this.cot.uid, iconUrl: this.getIcon(), course: Ci(this.cot), callsign: Br(this.cot) }); var n = r.getGeometry(); n && n.setCoordinates([this.cot.lon, this.cot.lat]) } } }, { key: "onClick", value: function (e, t) { Fr(this.cot) ? (bf(this.cot), this.showInfo(e)) : Object(zn.a)(Object(N.a)(r.prototype), "onClick", this).call(this, e, t) } }, { key: "dispose", value: function () { this.emitter.clear(), Object(zn.a)(Object(N.a)(r.prototype), "dispose", this).call(this) } }, { key: "getIcon", value: function () { return Yo(this.cot) } }, { key: "render", value: function () { var e = this, t = new Zn.a(new yc.a([this.cot.lon, this.cot.lat])); t.setId(this.cot.uid), t.setProperties({ cotUid: this.cot.uid, iconUrl: this.getIcon(), course: Ci(this.cot), callsign: Br(this.cot) }), this.vectorLayer.setStyle(function (t, r) { return e.userStyle(t, r) }), this.getVectorSource().addFeatures([t]), this.setFeatures([t]), this.vectorLayer.setZIndex(xr.GENERIC) } }, { key: "userStyle", value: function (e, t) { var r = e.getProperties().iconUrl, n = e.getProperties().course, a = e.getProperties().callsign, o = Ti(n), i = t >= .01, c = n && n <= 225 && n <= 315; if (!this.iconCache[r]) { var s = new Ec.a({ imgSize: [40, 40], scale: .8, src: r }); this.iconCache[r] = s } var u = new Ei.c({ text: new Oc.a({ offsetY: c ? 25 : 20, offsetX: -5, fill: new Si.a({ color: "#fff" }), stroke: new wi.a({ color: "#313131", width: 5 }), text: i ? "" : a }), image: this.iconCache[r] }); return !i && o ? [u, o] : u } }]), r }(Li), vf = new xi({ displayName: "User Information", name: "user", mount: function () { return c.a.createElement(lf, null) }, unmount: function () { } }), gf = new xi({ displayName: "User Details", name: "user-details", mount: function () { return c.a.createElement(pf, null) }, unmount: function () { } }), bf = function (e) { var t = Td("contacts"), r = Td("drawer"), n = Td("menu"), a = sn().getState().map.lockedTo === e.uid, o = [{ icon: Object(d.toURL)(Object(d.inlineSvg)("format-list-bulleted", { fill: "black" })), onClick: function () { gf.open(e), n.closeMenu() } }, { icon: Object(d.toURL)(Object(d.inlineSvg)("chat-bubble", { fill: "black" })), onClick: function () { var a = $e(e); if (a && t.hasContactForAddress(a.address)) { var o = t.getContactByAddress(a.address); r.setActiveDrawer("contacts", { address: o.address }, !0, !1) } n.closeMenu() } }, { icon: Object(d.toURL)(Object(d.inlineSvg)("lock", { fill: a ? "#3AB132" : "black" })), onClick: function () { sn().dispatch(Ot(a ? void 0 : e.uid)), n.closeMenu() } }]; n.openMenu([e.lon, e.lat], o, e.uid) }, yf = function () { var e = "team-key-".concat(Object(L.uuid)(5)), t = sn().getState().events.getEvents(), r = function (t) { var r = t.filter(Fr), n = r.groupBy(function (e) { if (e.detail && e.detail.getGroup()) return e.detail.getGroup().role }).filter(function (e, t) { return "Team Member" !== t }).toMap(), a = r.groupBy(function (e) { if (e.detail) return e.detail.getGroup().name }).toMap(), o = function (t) { return t.map(function (t, r) { var n = ma.create(); return new $s({ registryKey: e, icon: function () { var e = r, t = ""; return It.includes(e) ? (e = e.split(" ").join("-").toLowerCase(), t = "resources/user/".concat(e, "_White.svg")) : (e = e.charAt(0).toUpperCase() + e.slice(1), t = "resources/user/team-member_".concat(e, ".svg")), "".concat(p()).concat(t) }, title: r, nodeChildren: t.filter(function (e) { return n.hasItem(e.uid) }).map(function (t) { var r = n.getItem(t.uid); return new $s({ registryKey: e, icon: function () { return r.getIcon() }, title: r.getName(), nodeChildren: [], mapItemId: r.id }) }).filter(function (e) { return void 0 !== e }).toList().toArray() }) }).toList().toArray() }; return new $s({ registryKey: e, icon: function () { var e = "resources/user/".concat(encodeURIComponent("team-member_White"), ".svg"); return "".concat(p()).concat(e) }, title: "Team", nodeChildren: [].concat(Object(D.a)(o(n)), Object(D.a)(o(a))) }) }, n = { id: e, tree: function () { return r(t) }, onItemClick: function (e) { var t = e.mapItemId, r = ma.create(); if (t && r.hasItem(t)) { var n = r.getItem(t); n instanceof Cf ? console.log("OwnUserMapItem cannot open a menu from overlays. This is a known bug that will be fixed in the future.") : (bf(n.getCot()), n.showInfo()) } } }; Td("overlays").registerNode(n); sn().subscribe(function () { var n = sn().getState().events.getEvents(); t.equals(n) || (Td("overlays").updateNode(e, function () { return r(n) }), t = n) }) }, Ef = function () { var e = sn().getState().events.getEvents().filter(Fr), t = function () { var t = sn().getState().events.getEvents().filter(Fr); if (!e.equals(t)) { var r = t.filter(function (e) { return function (e) { return 3 * (e.staleTime - e.startTime) / 2 + e.sendTime - Math.round(Date.now()) <= 0 }(e) }).toList().toArray(); r.length > 0 && sn().dispatch(Ee(r)), e = t } }; t(); var r = setInterval(t, 1e4); return function () { return clearInterval(r) } }, Of = !1; function Sf(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var wf = '<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"  width="24" height="24" viewBox="0 0 24 24" stoke="#0775a9" fill="#01AEFF">\n   <path  d="M12,2L4.5,20.29L5.21,21L12,18L18.79,21L19.5,20.29L12,2Z" />\n</svg>', Af = function () { var e = Object(o.a)(a.a.mark(function e() { var t, r; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (Cf.USER_ICON_ELEMENT) { e.next = 4; break } return t = "data:image/svg+xml;base64,".concat(btoa(wf)), r = new Image, e.abrupt("return", new Promise(function (e) { r.onload = function () { document.body.appendChild(r), Cf.USER_ICON_ELEMENT = r, e(r), document.body.removeChild(r) }, r.src = t })); case 4: return e.abrupt("return", Cf.USER_ICON_ELEMENT); case 5: case "end": return e.stop() } }, e) })); return function () { return e.apply(this, arguments) } }(), Cf = function (e) { Object(k.a)(r, e); var t = Sf(r); function r(e) { var n; return Object(T.a)(this, r), (n = t.call(this)).userState = void 0, n.iconFill = new Si.a({ color: "#fff" }), n.iconStroke = new wi.a({ color: "#313131", width: 5 }), n.emitter = Object(L.createEmitter)(), n.on = n.emitter.on, n.once = n.emitter.on, n.off = n.emitter.off, n.emit = n.emitter.emit, n.id = e.clientSeed, n.userState = e, n.icon = Object(d.toURL)(wf), n.name = e.callsign, n } return Object(j.a)(r, [{ key: "onClick", value: function () { vf.open() } }, { key: "update", value: function (e) { var t = this; if (this.id = e.clientSeed, this.userState = e, this.name = e.callsign, setTimeout(function () { t.emit("move") }, 100), this.features) { var r = this.features[0].getGeometry(); r && r.setCoordinates(this.userState.location.toLonLat()) } } }, { key: "render", value: function () { var e = this; if (r.USER_ICON_ELEMENT) { var t = new Zn.a(new yc.a(this.userState.location.toLonLat())); t.setProperties({ name: "Own Location" }); var n = r.USER_ICON_ELEMENT; t.setId(this.userState.clientSeed), this.vectorLayer.setStyle(function (t, r) { return new Ei.c({ image: new Ec.a({ opacity: 1, img: n, imgSize: [n.naturalWidth, n.naturalHeight], scale: 1.4 }), text: new Oc.a({ text: r >= .01 ? "" : e.userState.callsign, offsetY: 20, fill: e.iconFill, stroke: e.iconStroke }) }) }), this.vectorLayer.setZIndex(xr.USER), this.vectorLayer.getSource().addFeature(t), this.setFeatures([t]) } } }, { key: "dispose", value: function () { this.emitter.clear(), Object(zn.a)(Object(N.a)(r.prototype), "dispose", this).call(this) } }]), r }(yi); Cf.USER_ICON_ELEMENT = void 0; var Tf = function (e) { Object(k.a)(r, e); var t = Sf(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).store = void 0, e.previousPosition = void 0, e.previousCallsign = void 0, e.onStoreChange = function () { var t = e.store.getState().user.location.toLonLat(), r = e.store.getState().user.callsign; e.previousCallsign === r && Object(L.shallowCompare)(t, e.previousPosition) || (e.previousPosition = t, e.previousCallsign = r, e.render()) }, e.store = sn(), e.previousPosition = e.store.getState().user.location.toLonLat(), e.previousCallsign = e.store.getState().user.callsign, hi.create().onMapReady(function () { var t = Object(o.a)(a.a.mark(function t(r) { return a.a.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: e.store.subscribe(e.onStoreChange), e.render(); case 2: case "end": return t.stop() } }, t) })); return function (e) { return t.apply(this, arguments) } }()), e } return Object(j.a)(r, [{ key: "render", value: function () { var e = Object(o.a)(a.a.mark(function e() { var t, r; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return t = this.store.getState().user, e.next = 3, Af(); case 3: (r = ma.create()).hasItem(t.clientSeed) ? r.getItem(t.clientSeed).update(t) : r.addItem(new Cf(t)); case 5: case "end": return e.stop() } }, e, this) })); return function () { return e.apply(this, arguments) } }() }]), r }(L.Service); function jf(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } Tf.create = Tf.factory(); var kf = function (e) { Object(k.a)(r, e); var t = jf(r); function r() { var e; Object(T.a)(this, r); for (var n = arguments.length, a = new Array(n), o = 0; o < n; o++)a[o] = arguments[o]; return (e = t.call.apply(t, [this].concat(a))).registerMap = Object(q.Map)(), e.topLevel = Object(q.List)(), e.deepMap = Object(q.Map)(), e.flatMap = Object(q.Map)(), e } return Object(j.a)(r, [{ key: "processNode", value: function (e, t) { this.deepMap = this.deepMap.set(e, t), this.flatMap = this.flatMap.set(e, $s.flatten(t)) } }, { key: "handleNode", value: function (e) { var t = e.id, r = (0, e.tree)(); return r = (r = r.label()).set("id", t), this.registerMap = this.registerMap.set(t, e), this.processNode(t, r), r } }, { key: "registerNode", value: function (e) { var t = e.id, r = e.tree; if (this.hasNode(t)) throw new Error("OverlayService.registernode: cannot register a key more than once for key - ".concat(t)); if (!(r() instanceof $s)) throw new Error("OverlayService.registernode: renderer does not return an instance of OverlayTreeNode"); var n = this.handleNode(e); this.topLevel = this.topLevel.push(n) } }, { key: "overwriteNode", value: function (e) { e.id; if (!((0, e.tree)() instanceof $s)) throw new Error("OverlayService.registernode: renderer does not return an instance of OverlayTreeNode"); this.handleNode(e) } }, { key: "updateNode", value: function (e, t) { if (!this.hasNode(e)) throw new Error("OverlayService.updateNode doesn't exist for key: ".concat(e)); var r = t(); r = (r = r.label()).set("id", e), this.topLevel = this.topLevel.set(this.topLevel.findIndex(function (t) { return t.id === e }), r), this.processNode(e, r), this.emit("change:add") } }, { key: "forceUpdateTree", value: function () { this.emit("forceupdate") } }, { key: "hasNode", value: function (e) { return this.registerMap.has(e) } }, { key: "getTopLevel", value: function () { return this.topLevel.toJS() } }, { key: "getNodeChildren", value: function (e) { var t = this.flatMap.findKey(function (t, r, n) { return t.has(e) }), r = this.flatMap.getIn([t, e]); return r ? r.toJS().nodeChildren : [] } }, { key: "getRegistryFunctions", value: function (e) { var t = this.registerMap.get(e); return t ? { onDelete: t.onDelete, onItemClick: t.onItemClick, onExport: t.onExport } : t } }, { key: "getDelete", value: function (e) { var t = this.registerMap.get(e); if (t) return t.onDelete } }]), r }(L.Service); function Rf(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } kf.create = kf.factory(); var Nf = Object(L.memoize)(function (e) { return { callsign: e.callsign, clientSeed: e.clientSeed, role: e.role, team: e.team.name } }), Lf = function () { return new Proxy({}, { set: function (e, t, r) { return e[t] ? e[t].push(Object(C.a)({}, L.XML_ATTRIBUTE_KEY, r)) : e[t] = [Object(C.a)({}, L.XML_ATTRIBUTE_KEY, r)], !0 }, deleteProperty: function () { return wr.create().info("unable to delete properties from xmlDetails for SA message"), !0 } }) }, _f = function (e) { Object(k.a)(r, e); var t = Rf(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).previousUserState = void 0, e.previousIdentity = void 0, e.saInterval = null, e.pingInterval = null, e.socketService = Sn.create(), e.store = void 0, e.unsubscribe = void 0, e.saDetailInterceptors = new Map, e.onStoreChange = Object(o.a)(a.a.mark(function t() { var r, n, o, i; return a.a.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (r = e.store.getState(), n = r.user, !Object(L.shallowCompare)(e.previousUserState, n)) { t.next = 3; break } return t.abrupt("return"); case 3: return o = Nf(n), i = !Object(L.shallowCompare)(e.previousIdentity, o), e.previousUserState = n, Object(L.validate)([Dt], o) && i && (e.previousIdentity = o, e.emit("identity-change", o)), t.next = 9, e.sendSA(); case 9: case "end": return t.stop() } }, t) })), e.sendSA = Object(o.a)(a.a.mark(function t() { var n, o; return a.a.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (e.socketService.isConnected()) { t.next = 2; break } return t.abrupt("return"); case 2: if ("" !== e.previousUserState.callsign) { t.next = 4; break } return t.abrupt("return"); case 4: return n = Lf(), e.saDetailInterceptors.forEach(function (e) { e(n) }), o = new ct.CotEvent({ type: Rr.GROUND_TROOP_INFANTRY, staleTime: Date.now() + r.SA_STALE_DELAY() + r.SA_SEND_INTERVAL(), startTime: Date.now(), sendTime: Date.now(), how: e.previousUserState.shouldTrack ? "m-g" : "h-e", uid: e.previousUserState.clientSeed, hae: e.previousUserState.location.hae || 999999, ce: 999999, le: 999999, lat: e.previousUserState.location.lat || 0, lon: e.previousUserState.location.lon || 0, detail: new ct.CotEventDetail({ group: e.previousUserState.team ? new ct.CotEventGroup({ name: e.previousUserState.team.name, role: e.previousUserState.role }) : null, contact: new ct.CotEventContact({ callsign: e.previousUserState.callsign, endpoint: "*:-1:stcp" }), takv: E(), xmlDetail: null, xml: n }) }), t.next = 9, e.socketService.sendMessage(o.toJS()); case 9: case "end": return t.stop() } }, t) })), e.ping = Object(o.a)(a.a.mark(function t() { var n; return a.a.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (e.socketService.isConnected()) { t.next = 2; break } return t.abrupt("return"); case 2: return n = new ct.CotEvent({ uid: "takPing", type: "t-x-c-t", how: "h-g-i-g-o", staleTime: Date.now() + r.SA_STALE_DELAY(), startTime: Date.now(), sendTime: Date.now(), ce: 999999, le: 999999, hae: 0, lat: 0, lon: 0 }), t.next = 5, e.socketService.sendMessage(n.toJS()); case 5: case "end": return t.stop() } }, t) })), e.store = sn(), e.previousUserState = e.store.getState().user, e.previousIdentity = Nf(e.previousUserState), e.unsubscribe = e.store.subscribe(e.onStoreChange), e.registerCustomSADetailInterceptor = e.registerCustomSADetailInterceptor.bind(Object(K.a)(e)), e.attachIntervals(), e.initSocket(), e } return Object(j.a)(r, [{ key: "initSocket", value: function () { var e = Object(o.a)(a.a.mark(function e() { var t, r = this; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (t = function () { var e = Object(o.a)(a.a.mark(function e() { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return r.attachIntervals(), e.next = 3, r.sendSA(); case 3: case "end": return e.stop() } }, e) })); return function () { return e.apply(this, arguments) } }(), this.socketService.on("connect", t), this.socketService.on("disconnect", function () { r.detachIntervals() }), !this.socketService.isConnected()) { e.next = 7; break } t(), e.next = 9; break; case 7: return e.next = 9, this.socketService.reconnect(); case 9: case "end": return e.stop() } }, e, this) })); return function () { return e.apply(this, arguments) } }() }, { key: "getIdentity", value: function () { return this.previousUserState } }, { key: "attachIntervals", value: function () { this.detachIntervals(), this.saInterval = setInterval(this.sendSA, r.SA_SEND_INTERVAL()), this.pingInterval = setInterval(this.ping, r.PING_INTERVAL()) } }, { key: "detachIntervals", value: function () { this.saInterval && (clearInterval(this.saInterval), this.saInterval = null), this.pingInterval && (clearInterval(this.pingInterval), this.pingInterval = null) } }, { key: "registerCustomSADetailInterceptor", value: function (e) { var t = this, r = Object(L.uuid)(); return this.saDetailInterceptors.set(r, e), function () { return t.saDetailInterceptors.delete(r) } } }]), r }(L.Service); _f.create = _f.factory(), _f.SA_SEND_INTERVAL = function () { return window.__SA_SEND_INTERVAL__ && "number" === typeof window.__SA_SEND_INTERVAL__ ? window.__SA_SEND_INTERVAL__ : 6e4 }, _f.SA_STALE_DELAY = function () { return window.__SA_STALE_DELAY__ && "number" === typeof window.__SA_STALE_DELAY__ ? window.__SA_STALE_DELAY__ : 18e4 }, _f.PING_INTERVAL = function () { return window.__PING_INTERVAL__ && "number" === typeof window.__PING_INTERVAL__ ? window.__PING_INTERVAL__ : 3e4 }; var If = r(190), Mf = (r(618), r(213)), xf = Object(d.getClasses)("radial-menu", ["menu-item", "menu-item-path"], []), Df = function () { function e(t, r, n) { var a = this; Object(T.a)(this, e), this.RADIUS = Math.min(e.WIDTH, e.HEIGHT) / 3, this.THICKNESS = 60, this.ANIMATION_DURATION = void 0 === window.orientation ? 100 : 0, this.ICON_SIZE = 24, this.id = void 0, this.menu = void 0, this.arc = void 0, this.menuItems = void 0, this.svg = void 0, this.menuSegments = void 0, this.id = n || Object(L.uuid)(), this.menuItems = r, this.menu = Mf.c().value(this.menuItems.length).padAngle(.04), this.arc = Mf.a().innerRadius(this.RADIUS).outerRadius(this.RADIUS - this.THICKNESS), this.svg = Mf.d(t).append("svg").attr("class", xf.BASE).attr("width", e.WIDTH).attr("height", e.HEIGHT); var o = this.svg.append("g").attr("transform", "translate(".concat(e.WIDTH / 2, ", ").concat(e.HEIGHT / 2, ")")).style("z-index", xr.OVERLAY); this.menuSegments = o.selectAll(xf.Elements["menu-item"]).data(this.menu(this.menuItems)).enter().append("g").attr("class", xf.Elements["menu-item"]), this.menuSegments.append("path").attr("class", xf.Elements["menu-item-path"]).transition().duration(this.ANIMATION_DURATION).attrTween("d", function (e) { var t = Mf.b(0, a.RADIUS), r = Mf.b(0, a.arc.outerRadius()(void 0)); return function (n) { var o = t(n), i = r(n); return a.arc.innerRadius(o).outerRadius(i)(e) } }); var i = this.menuSegments.nodes(); this.menuSegments.each(function (e, t) { var r = e.data, n = r.icon, o = r.onClick, c = Mf.d(i[t]); c.on("click touchstart", function () { o() }), c.append("image").attr("xlink:href", n).attr("width", a.ICON_SIZE).attr("height", a.ICON_SIZE).attr("x", function (e) { return a.calcMidPoint(e).x - a.ICON_SIZE / 2 }).attr("y", function (e) { return a.calcMidPoint(e).y - a.ICON_SIZE / 2 }).attr("cursor", "pointer").style("z-index", xr.OVERLAY).style("opacity", 0).transition().delay(a.ANIMATION_DURATION / 4).style("opacity", 1) }) } return Object(j.a)(e, [{ key: "calcMidPoint", value: function (e) { var t = e.startAngle + (e.endAngle - e.startAngle) / 2, r = this.RADIUS - this.THICKNESS / 2; return { x: r * Math.sin(t), y: -r * Math.cos(t) } } }]), e }(); Df.WIDTH = 280, Df.HEIGHT = 280; r(619); var Pf = r(168), Uf = Object(d.getClasses)("marker-info", ["detail", "detail-label", "extra-details", "dropdown-trigger", "dropdown-icon"], []), Bf = function (e) { var t = e.label, r = e.value; return r ? c.a.createElement("label", { className: Object(d.className)(Object(d.prefix)("label"), Object(d.prefix)("label--inline"), Uf.Elements.detail) }, c.a.createElement("span", { className: Uf.Elements["detail-label"] }, t, ":"), c.a.createElement("div", { style: { textOverflow: "ellipses" } }, r)) : null }, Ff = function (e) { var t = e.details, r = Object(i.useState)(!1), n = Object(Xe.a)(r, 2), a = n[0], o = n[1], s = Object.entries(t).map(function (e, t) { var r = Object(Xe.a)(e, 2), n = r[0], a = r[1]; return c.a.createElement(Bf, { key: t, label: n, value: a }) }); return s.length > 0 ? c.a.createElement("div", { className: Uf.Elements["extra-details"] }, c.a.createElement("div", { className: Uf.Elements["dropdown-trigger"], onClick: function () { o(!a) } }, "details", c.a.createElement(d.Icon, { className: Uf.Elements["dropdown-icon"], icon: a ? "chevron-up" : "chevron-down" })), c.a.createElement(d.Collapse, { isOpen: a }, s)) : null }, Vf = function (e) { var t = e.callsign, r = e.coordinates, n = e.details, a = Object(Pf.useSpring)({ config: Pf.config.stiff, from: { opacity: 0, transform: "scale(0)" }, to: { opacity: 1, transform: "scale(1)" } }); return c.a.createElement(Pf.animated.div, { style: a, className: Uf.BASE }, c.a.createElement(Bf, { label: "Callsign", value: t }), c.a.createElement(Bf, { label: "Coordinates", value: r }), n && c.a.createElement(Ff, { details: n })) }; function Hf(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var Gf = function (e) { Object(k.a)(r, e); var t = Hf(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).map = null, e.container = void 0, e.component = void 0, e.overlay = void 0, e.container = document.createElement("div"), e.container.style.pointerEvents = "none", e.container.style.position = "absolute", e.overlay = new If.a({ element: e.container, autoPan: !0, offset: [-Df.WIDTH / 2, Df.HEIGHT / 2 - 25], autoPanAnimation: { duration: 250 } }), hi.create().onMapReady(function (t) { e.map = t, e.map.addOverlay(e.overlay) }), e } return Object(j.a)(r, [{ key: "openMarkerInfo", value: function (e, t) { this.overlay.getPosition() && this.closeMarkerInfo(), this.component = c.a.createElement(Vf, Object(P.a)({}, t)), Object(s.render)(this.component, this.container); var r = Object(Xe.a)(e, 2), n = r[0], a = r[1]; this.overlay.setPosition([n, a]) } }, { key: "closeMarkerInfo", value: function () { this.overlay.setPosition(void 0), this.component && Object(s.unmountComponentAtNode)(this.container), this.component = void 0 } }, { key: "clickedInside", value: function (e) { return this.container.contains(e) } }]), r }(L.Service); Gf.create = Gf.factory(); var qf = Gf; function Kf(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var zf = function (e) { Object(k.a)(r, e); var t = Kf(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).map = null, e.menuOverlay = void 0, e.menu = void 0, e.element = void 0, e.onMouseListener = function (t) { var r; if (t instanceof MouseEvent) r = t.target ? [t] : []; else { r = []; for (var n = 0; n < t.targetTouches.length; n++) { var a = t.targetTouches.item(n); a && r.push(a) } } !r.some(function (t) { return !(window.Touch && t instanceof window.Touch || t instanceof PointerEvent) || (e.element.contains(t.target) || qf.create().clickedInside(t.target)) }) && e.menuOverlay.getPosition() && e.closeMenu() }, e.element = document.createElement("div"), e.element.style.pointerEvents = "none", e.element.style.position = "absolute", e.menuOverlay = new If.a({ element: e.element, autoPan: !0, offset: [-Df.WIDTH / 2, -Df.HEIGHT / 2], autoPanAnimation: { duration: 250 } }), hi.create().onMapReady(function (t) { e.map = t, e.map.addOverlay(e.menuOverlay) }), document.addEventListener("pointerdown", e.onMouseListener), document.addEventListener("mousedown", e.onMouseListener), document.addEventListener("touchstart", e.onMouseListener), e } return Object(j.a)(r, [{ key: "openMenu", value: function (e, t) { var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : Object(L.uuid)(); return this.menuOverlay.getPosition() && this.closeMenu(), this.menu = new Df(this.element, t, r), this.menuOverlay.setPosition(e), this.menu.id } }, { key: "updatePosition", value: function (e) { this.menu && this.menuOverlay.setPosition(e) } }, { key: "isOpened", value: function () { return void 0 !== this.menuOverlay.getPosition() } }, { key: "closeMenu", value: function () { for (this.menuOverlay.setPosition(void 0); this.element.firstChild;)this.element.removeChild(this.element.firstChild); this.menu = void 0, qf.create().closeMarkerInfo() } }, { key: "getMenu", value: function () { return this.menu } }, { key: "getContainer", value: function () { return this.element } }]), r }(L.Service); zf.create = zf.factory(); var Yf = zf, Wf = r(413), Xf = r(431); function Jf(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var Zf = function (e) { Object(k.a)(r, e); var t = Jf(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).map = null, e.currentBaseLayer = "", e.localLayers = {}, e.customLayersOrder = [], e.customLayersOpacity = {}, e.customLayersVisibility = {}, V(h.LAYER, function (t) { t && t.currentBaseLayer && (e.currentBaseLayer = t.currentBaseLayer), t && t.localLayers && (e.localLayers = t.localLayers), t && t.customLayersOrder && (e.customLayersOrder = t.customLayersOrder), t && t.customLayersOpacity && (e.customLayersOpacity = t.customLayersOpacity), t && t.customLayersVisibility && (e.customLayersVisibility = t.customLayersVisibility) }), hi.create().onMapReady(function () { var t = Object(o.a)(a.a.mark(function t(r) { return a.a.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: e.map = r, e.initLayers(); case 2: case "end": return t.stop() } }, t) })); return function (e) { return t.apply(this, arguments) } }()), hi.create().on("dimension-change", function (t) { t === ci["3D"] && Object.values(e.localLayers).forEach(function (t) { "WMTS" !== t.type && "WMS" !== t.type || !0 !== e.customLayersVisibility[t.name] || e.setCustomLayerVisibility(t.name, !1) }) }), e } return Object(j.a)(r, [{ key: "initLayers", value: function () { var e = this; if (this.map) { var t = function () { var e = window.__BASE_LAYERS__; window.__DEFAULT_MAP_LAYER__ && Qa(window.__DEFAULT_MAP_LAYER__) && e.push(window.__DEFAULT_MAP_LAYER__); var t, r = [], n = Ja(e); try { for (n.s(); !(t = n.n()).done;) { var a = t.value, o = new Xn.a({ visible: !1, source: new Jn.a({ cacheSize: 1024, url: a.url }) }); o.setProperties(Object(P.a)({}, a)), r.push(o) } } catch (s) { n.e(s) } finally { n.f() } var i = new Qn.b({ layers: r }); i.setProperties({ name: "baselayers" }); var c = new Qn.b({ layers: [] }); return c.setProperties({ name: "customLayers" }), [i, c] }(); this.map.addLayer(t[0]), this.map.addLayer(t[1]); var n = this.getBaseLayers(); if (0 !== n.length) { var a = n.findIndex(function (e) { return e.getProperties().name === r.DEFAULT_MAP_LAYER() }); this.map.getLayers().removeAt(0), this.hasBaseLayer(this.currentBaseLayer) ? this.setCurrentLayer(this.currentBaseLayer) : -1 !== a ? (n[a].setVisible(!0), this.setCurrentLayer(n[a].getProperties().name)) : (n[0].setVisible(!0), this.setCurrentLayer(n[0].getProperties().name)), Object.values(this.localLayers).forEach(function (t) { return e.addCustomLayer(t, void 0, !1) }), this.emit("ready", { baseLayers: this.getBaseLayers(), customLayers: this.getCustomLayers() }) } } } }, { key: "hasBaseLayer", value: function (e) { return this.getBaseLayers().some(function (t) { var r = t.getProperties(); return r && r.name === e }) } }, { key: "getBaseLayers", value: function () { return this.getLayersInGroup("baselayers") } }, { key: "getBaseLayer", value: function (e) { if (!this.hasBaseLayer(e)) throw new Error("LayerService.getBaseLayer cannot get unknown map layer ".concat(name, ".")); return this.getBaseLayers().find(function (t) { return t.getProperties().name === e }) } }, { key: "getCurrentLayer", value: function () { return this.currentBaseLayer } }, { key: "setCurrentLayer", value: function (e) { if (!this.hasBaseLayer(e)) throw new Error("LayerService.setMapLayer cannot set unknown map layer ".concat(e, ".")); this.getBaseLayers().forEach(function (t) { var r = t.getProperties(); r && r.name === e ? t.setVisible(!0) : t.setVisible(!1) }), this.currentBaseLayer = e, this.updateStorage(), this.emit("change", this.currentBaseLayer) } }, { key: "hasCustomLayer", value: function (e) { return this.getCustomLayers().some(function (t) { var r = t.getProperties(); return r && r.name === e }) } }, { key: "addCustomLayer", value: function (e, t) { var r = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2]; if (!this.hasCustomLayer(e.name) && this.map) { var n = new Xn.a({ visible: !!this.customLayersVisibility[e.name], source: t || this.getCustomLayerSource(e) }); n.setProperties(Object(P.a)({}, e)); var a = this.map.getLayers().getArray().find(function (e) { var t = e.getProperties().name; return e instanceof Qn.b && "customLayers" === t }); a && a.getLayers().push(n), e.name in this.customLayersOpacity && n.setProperties({ opacity: this.customLayersOpacity[e.name] }), this.customLayersOrder.includes(e.name) || this.customLayersOrder.unshift(e.name), r && (this.localLayers[e.name] = e, this.updateStorage()), this.emit("new-layer", n), this.reIndexCustomLayers() } } }, { key: "removeCustomLayer", value: function (e) { if (!this.hasCustomLayer(e)) throw Error("LayerService.removeCustomLayer cannot remove unknow layer ".concat(e)); if (this.map) { var t = this.map.getLayers().getArray().find(function (e) { var t = e.getProperties().name; return e instanceof Qn.b && "customLayers" === t }); if (t) { var r = t.getLayers(), n = r.getArray().findIndex(function (t) { return t.getProperties().name === e }); if (n > -1) { if (r.getArray().splice(n, 1), t.setLayers(r), this.map.render(), delete this.localLayers[e], delete this.customLayersOpacity[e], delete this.customLayersVisibility[e], this.customLayersOrder.includes(e)) { var a = this.customLayersOrder.indexOf(e); this.customLayersOrder.splice(a, 1) } this.reIndexCustomLayers(), this.updateStorage() } } } } }, { key: "getCustomLayers", value: function () { var e = this; return this.getLayersInGroup("customLayers").sort(function (t, r) { return e.customLayersOrder.indexOf(t.getProperties().name) > e.customLayersOrder.indexOf(r.getProperties().name) ? 1 : -1 }) } }, { key: "getCustomLayer", value: function (e) { if (this.hasCustomLayer(e)) return this.getCustomLayers().find(function (t) { return t.getProperties().name === e }) } }, { key: "getCustomLayerSource", value: function (e) { switch (e.type) { case "XYZ": return new Jn.a({ cacheSize: 1024, url: e.url }); case "WMS": return new Wf.a({ crossOrigin: "anonymous", url: e.url, params: Object(P.a)({}, e.params, { VERSION: "1.1.1" }) }); case "WMTS": var t = Object(Xf.b)(e.options.capabilities, Object.assign({}, Object(P.a)({}, e.options.config, { projection: "EPSG:4326" }))); if (!t) { var r = "LayerService.getCustomLayerSource: Options from the WMTS capabilities options are null - bad source"; throw Td("logger").error(r), r } return new Xf.a(Object(P.a)({}, t, { crossOrigin: "anonymous" })); default: throw "LayerService.getCustomLayerSource invalid custom layer type" } } }, { key: "getLayersInGroup", value: function (e) { return this.map ? this.map.getLayers().getArray().filter(function (t) { var r = t.getProperties().name; return t instanceof Qn.b && r === e }).reduce(function (e, t) { return [].concat(Object(D.a)(e), Object(D.a)(t.getLayers().getArray())) }, []) : [] } }, { key: "setCustomLayerVisibility", value: function (e, t) { var r = this.getCustomLayer(e); r && (r.setVisible(t), this.customLayersVisibility[e] = t, this.updateStorage()) } }, { key: "setCustomLayerOpacity", value: function (e, t) { var r = this.getCustomLayer(e); r && (r.setProperties({ opacity: t }), this.customLayersOpacity[e] = t, this.updateStorage()) } }, { key: "setCustomLayerType", value: function (e, t) { var r = this.getCustomLayer(e); r && (this.localLayers[e].layerType = t, r.setProperties({ layerType: t }), this.updateStorage()) } }, { key: "setCustomLayerTitle", value: function (e, t) { var r = this.getCustomLayer(e); r && (this.localLayers[e].title = t, r.setProperties({ title: t }), this.updateStorage()) } }, { key: "setCustomLayerUrl", value: function (e, t) { var r = this.getCustomLayer(e); r && (this.localLayers[e].url = t, r.setProperties({ url: t }), this.updateStorage()) } }, { key: "moveCustomLayerUp", value: function (e) { if (!this.hasCustomLayer(e)) throw 'LayerService.increaseCustomLayerIndex cannot move up unknown layer "'.concat(e, '" '); var t = this.customLayersOrder.indexOf(e); if (-1 === t) this.customLayersOrder.push(e); else { if (0 === t) return; var r = this.customLayersOrder[t - 1]; this.customLayersOrder[t - 1] = e, this.customLayersOrder[t] = r, this.updateStorage() } this.reIndexCustomLayers() } }, { key: "moveCustomLayerDown", value: function (e) { if (!this.hasCustomLayer(e)) throw 'LayerService.increaseCustomLayerIndex cannot move down unknown layer "'.concat(e, '" '); var t = this.customLayersOrder.indexOf(e); if (-1 === t) this.customLayersOrder.push(e); else { if (t === this.customLayersOrder.length - 1) return; var r = this.customLayersOrder[t + 1]; this.customLayersOrder[t + 1] = e, this.customLayersOrder[t] = r, this.updateStorage() } this.reIndexCustomLayers() } }, { key: "setCustomLayerPosition", value: function (e, t) { if (!this.hasCustomLayer(e)) throw 'LayerService.setCustomLayerPosition cannot set position of unknown layer "'.concat(e, '" '); this.customLayersOrder.indexOf(e) > -1 ? (this.customLayersOrder = this.customLayersOrder.filter(function (t) { return t !== e }), this.customLayersOrder.splice(t, 0, e)) : this.customLayersOrder.splice(t, 0, e), this.updateStorage(), this.reIndexCustomLayers() } }, { key: "updateStorage", value: function () { F(h.LAYER, { currentBaseLayer: this.currentBaseLayer, localLayers: this.localLayers, customLayersOrder: this.customLayersOrder, customLayersOpacity: this.customLayersOpacity, customLayersVisibility: this.customLayersVisibility }) } }, { key: "reIndexCustomLayers", value: function () { var e = this, t = this.getCustomLayers(); this.customLayersOrder.forEach(function (r, n) { var a = t.find(function (e) { return e.getProperties().name === r }); a && a.setProperties({ zIndex: xr.MAP_LAYERS + Math.abs(e.customLayersOrder.length - n) }) }), this.emit("layer-ordered", this.customLayersOrder) } }]), r }(L.Service); Zf.create = Zf.factory(), Zf.DEFAULT_MAP_LAYER = function () { return window.__DEFAULT_MAP_LAYER__ && "string" === typeof window.__DEFAULT_MAP_LAYER__ ? window.__DEFAULT_MAP_LAYER__ : window.__DEFAULT_MAP_LAYER__ && Qa(window.__DEFAULT_MAP_LAYER__) ? window.__DEFAULT_MAP_LAYER__.name : "ESRIWorldTopo" }; var Qf, $f, ed, td = Zf; function rd(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } !function (e) { e[e.GEOFENCE_BREACHED = 0] = "GEOFENCE_BREACHED", e[e.RING_THE_BELL = 1] = "RING_THE_BELL", e[e.TROOPS_IN_CONTACT = 2] = "TROOPS_IN_CONTACT", e[e.NINE_ONE_ONE = 3] = "NINE_ONE_ONE", e[e.CANCEL = 4] = "CANCEL" }(Qf || (Qf = {})), function (e) { e.GEOFENCE_BREACHED = "Geo-fence Breached", e.RING_THE_BELL = "Ring The Bell", e.TROOPS_IN_CONTACT = "Troops In Contact", e.NINE_ONE_ONE = "911 Alert", e.CANCEL = "Cancel" }($f || ($f = {})), function (e) { e.GEOFENCE_BREACHED = "b-a-g", e.RING_THE_BELL = "b-a-o-pan", e.TROOPS_IN_CONTACT = "b-a-o-opn", e.NINE_ONE_ONE = "b-a-o-tbl", e.CANCEL = "b-a-o-can" }(ed || (ed = {})); var nd = function (e) { Object(k.a)(r, e); var t = rd(r); function r(e) { return Object(T.a)(this, r), t.call(this, e) } return Object(j.a)(r, [{ key: "onClick", value: function (e) { id.create().onAlertMapItemClicked(this.cot), this.showInfo(e) } }, { key: "render", value: function () { var e = this, t = this.cot.detail; if (t) { var r = new Zn.a(new yc.a([this.cot.lon, this.cot.lat])); r.setProperties({ cotUid: this.cot.uid }), r.setId(this.cot.uid); var n = t.getContact(), a = n && Object(L.isString)(n.callsign) ? "".concat(n.callsign, " Alert") : ""; this.vectorLayer.setStyle(function (t, r) { var n = r >= .01; return new Ei.c({ image: new Ec.a({ opacity: 1, src: Ur[e.cot.type] }), text: new Oc.a({ offsetY: 20, fill: new Si.a({ color: "#fff" }), stroke: new wi.a({ color: "#313131", width: 5 }), text: n ? "" : a }) }) }), this.setFeatures([r]), this.getVectorSource().addFeatures([r]), this.vectorLayer.setZIndex(xr.ALERT) } } }]), r }(Li), ad = function (e) { switch (e.type) { case ed.NINE_ONE_ONE: return $f.NINE_ONE_ONE; case ed.GEOFENCE_BREACHED: return $f.GEOFENCE_BREACHED; case ed.RING_THE_BELL: return $f.RING_THE_BELL; case ed.TROOPS_IN_CONTACT: return $f.TROOPS_IN_CONTACT; default: return "Unknown Alert Type" } }; function od(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var id = function (e) { Object(k.a)(r, e); var t = od(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).socketService = Sn.create(), e.cotRenderService = xl.create(), e.drawerService = Dc.create(), e.toastService = Gi.create(), e.mapRenderingService = ma.create(), e.overlaysService = kf.create(), e.cotStorageService = Bl.create(), e.unsubscribe = void 0, e.store = void 0, e.alertsState = void 0, e.alertCot = null, e.removeAlertCot = null, e.registryKey = "alert-key-".concat(Object(L.uuid)(5)), e.alertNotificationChannel = void 0, e.alertNotificationsMap = Object(q.Map)(), e.alertRemovedNotificationsMap = Object(q.Map)(), e.removeAlertNotification = function (t) { if (e.alertNotificationsMap.has(t)) { var r = e.alertNotificationsMap.get(t); e.alertNotificationChannel.removeNotification(r), e.removeAlertNotifcationFromMap(t) } }, e.onStoreChange = function () { var t = e.store.getState().alerts; e.alertsState = t, e.overlaysService.updateNode(e.registryKey, function () { return e.getAlertsNodes() }), e.alertsState.alertTrigger && e.alertsState.alertSafetyTrigger && !e.alertsState.activeAlert && (e.createAlertCot(), e.sendAlert()), e.alertsState.alertTrigger && e.alertsState.alertSafetyTrigger || !e.alertsState.activeAlert || (!e.removeAlertCot || e.removeAlertCot && e.alertsState.uid !== e.removeAlertCot.uid) && (e.createRemoveAlertCot(), e.sendAlertRemoval(), e.resetAlertState()) }, e.store = sn(), e.handleAlertRemovalMessage = e.handleAlertRemovalMessage.bind(Object(K.a)(e)), e.handleAlertMessage = e.handleAlertMessage.bind(Object(K.a)(e)), e.subscribeToAlertCotMessages(), e.subscribeToAlertRemovals(), e.registerAlertCotRenderer(), e.unsubscribe = e.store.subscribe(e.onStoreChange), e.alertsState = e.store.getState().alerts, e.overlaysService.registerNode(e.alertsOverlaysItem()), e.alertNotificationChannel = new mc("alert-notification-channel", { onClick: function (e, t) { r.create().onNotificationClick(e) }, onViewAlert: function (e, t) { r.create().onViewAlert(e), r.create().removeAlertNotification(e.cotUid) } }, { duration: 0, type: b.WARNING, headerTitle: "Alert", headerIcon: Object(d.toURL)(Object(d.inlineSvg)("alert", {}, { viewBox: "0 0 24 24" })) }), gc.create().registerNotificationChannel(e.alertNotificationChannel), e } return Object(j.a)(r, [{ key: "onViewAlert", value: function (e) { if (this.mapRenderingService.hasItem(e.cotUid)) { var t = this.mapRenderingService.getItem(e.cotUid), r = this.store.getState().events.getEventByUid(e.cotUid); t.zoomToItem(), this.onAlertMapItemClicked(r) } } }, { key: "onNotificationClick", value: function (e) { this.alertNotificationsMap.has(e.cotUid) && this.removeAlertNotifcationFromMap(e.cotUid), this.alertRemovedNotificationsMap.has(e.cotUid) && this.removeAlertRemovedNotifcationFromMap(e.cotUid) } }, { key: "alertsOverlaysItem", value: function () { var e = this; return { id: this.registryKey, tree: function () { return e.getAlertsNodes() }, onItemClick: function (t) { var r = t.mapItemId; if (r && e.mapRenderingService.hasItem(r)) { var n = e.mapRenderingService.getItem(r); try { n.zoomToItem() } catch (fA) { e.toastService.error({ message: "Unable to zoom to map item" }) } } }, onDelete: function () { return e.toastService.error({ message: "Unable to delete Alerts" }), !0 } } } }, { key: "getAlertsNodes", value: function () { return new $s({ registryKey: this.registryKey, icon: Ur[ed.NINE_ONE_ONE], title: "Alerts", nodeChildren: this.getAlertsNodesChildren(), disableToggle: !0 }) } }, { key: "nineOneOneNode", value: function () { return new $s({ registryKey: this.registryKey, title: "911 Alert", icon: Ur[ed.NINE_ONE_ONE], nodeChildren: this.getNodesForAlertType(ed.NINE_ONE_ONE), disableToggle: !0 }) } }, { key: "ringTheBellNode", value: function () { return new $s({ registryKey: this.registryKey, title: "Ring the Bell", icon: Ur[ed.RING_THE_BELL], nodeChildren: this.getNodesForAlertType(ed.RING_THE_BELL), disableToggle: !0 }) } }, { key: "troopsInContactNode", value: function () { return new $s({ registryKey: this.registryKey, title: "Troops in Contact", icon: Ur[ed.TROOPS_IN_CONTACT], nodeChildren: this.getNodesForAlertType(ed.TROOPS_IN_CONTACT), disableToggle: !0 }) } }, { key: "geofenceBreachedNode", value: function () { return new $s({ registryKey: this.registryKey, title: "Geofence Breached", icon: Ur[ed.GEOFENCE_BREACHED], nodeChildren: this.getNodesForAlertType(ed.GEOFENCE_BREACHED), disableToggle: !0 }) } }, { key: "getAlertsNodesChildren", value: function () { return [this.nineOneOneNode(), this.ringTheBellNode(), this.troopsInContactNode(), this.geofenceBreachedNode()].filter(function (e) { return e.nodeChildren.length }) } }, { key: "getNodesForAlertType", value: function (e) { var t = this; return this.store.getState().events.getEvents().filter(function (r) { return r.type === e && t.mapRenderingService.hasItem(r.uid) }).map(function (e) { var r = t.mapRenderingService.getItem(e.uid); return new $s({ registryKey: t.registryKey, icon: function () { return r.getIcon() }, title: r.getName(), mapItemId: e.uid, nodeChildren: [], disableToggle: !0 }) }).toArray() } }, { key: "registerAlertCotRenderer", value: function () { var e = this; new Array(ed.NINE_ONE_ONE, ed.GEOFENCE_BREACHED, ed.RING_THE_BELL, ed.TROOPS_IN_CONTACT).forEach(function (t) { e.cotRenderService.registerMarkerRenderer(t, nd) }) } }, { key: "setAlertType", value: function (e) { this.store.dispatch(function (e) { return { payload: e, type: Qt.SET_ALERT_TYPE } }(e)) } }, { key: "setAlertTrigger", value: function (e) { this.store.dispatch(nr(e)) } }, { key: "setAlertSafetyTrigger", value: function (e) { this.store.dispatch(ar(e)) } }, { key: "sendAlertRemoval", value: function () { var e = Object(o.a)(a.a.mark(function e() { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, this.socketService.sendMessage(this.removeAlertCot.toJS()); case 2: this.handleAlertRemovalMessage(this.removeAlertCot); case 3: case "end": return e.stop() } }, e, this) })); return function () { return e.apply(this, arguments) } }() }, { key: "resetAlertState", value: function () { this.store.dispatch(rr(!1)), this.store.dispatch(tr("")), this.store.dispatch(nr(!1)), this.store.dispatch(ar(!1)) } }, { key: "createRemoveAlertCot", value: function () { this.removeAlertCot = function (e) { var t = Date.now(); return new ct.CotEvent({ uid: e, type: ed.CANCEL, staleTime: t + 1e10, lat: Td("identity").getIdentity().location.lat, lon: Td("identity").getIdentity().location.lon, detail: new ct.CotEventDetail({ contact: new ct.CotEventContact({ callsign: Td("identity").getIdentity().callsign, endpoint: "*:-1:stcp" }), takv: new ct.CotEventTakv(E()), xml: { emergency: Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { cancel: !0, content: Td("identity").getIdentity().callsign }) }, xmlDetail: null }) }) }(this.alertsState.uid) } }, { key: "sendAlert", value: function () { var e = Object(o.a)(a.a.mark(function e() { var t = this; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, this.socketService.sendMessage(this.alertCot.toJS()); case 2: this.store.dispatch(rr(!0)), this.store.dispatch(tr(this.alertCot.toJS().uid)), this.store.dispatch(ye(this.alertCot.toJS())), this.toastService.warn({ message: "Alert Transmitted", duration: 2 }), this.overlaysService.updateNode(this.registryKey, function () { return t.getAlertsNodes() }), this.handleAlertMessage(this.alertCot); case 8: case "end": return e.stop() } }, e, this) })); return function () { return e.apply(this, arguments) } }() }, { key: "createAlertCot", value: function () { this.alertCot = function (e) { var t = Date.now(), r = Object(L.uuid)(); return new ct.CotEvent({ uid: r, type: ed[e], staleTime: t + 1e10, lat: Td("identity").getIdentity().location.lat, lon: Td("identity").getIdentity().location.lon, detail: new ct.CotEventDetail({ contact: new ct.CotEventContact({ callsign: Td("identity").getIdentity().callsign, endpoint: "*:-1:stcp" }), takv: new ct.CotEventTakv(E()), xml: { emergency: Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { type: $f[e], content: Td("identity").getIdentity().callsign }) }, xmlDetail: null }) }) }(this.alertsState.alertType) } }, { key: "subscribeToAlertRemovals", value: function () { var e = this; this.socketService.on("message", function (t) { if (r.isAlertRemovalType(t)) { var n = new ct.CotEvent(Object(P.a)({}, t, { detail: t.detail ? Object(L.safeConstruct)(ct.CotEventDetail, t.detail) : null })); e.handleAlertRemovalMessage(n) } }) } }, { key: "removeAlertRemovedNotification", value: function (e) { var t = this, r = this.alertRemovedNotificationsMap.get(e); setTimeout(function (r) { t.alertRemovedNotificationsMap.has(e) && (t.alertNotificationChannel.removeNotification(r), t.removeAlertRemovedNotifcationFromMap(e)) }, 7e3, r) } }, { key: "handleAlertRemovalMessage", value: function (e) { var t = sn().getState().events.hasEventByUid(e.uid); if (t) if (this.store.dispatch(Ee(e)), this.mapRenderingService.hasItem(e.uid) && this.mapRenderingService.removeItem(e.uid), this.removeAlertCot && this.removeAlertCot.uid === e.uid) this.toastService.warn({ message: "Alert Removed" }); else { this.removeAlertNotification(e.uid); var r = this.alertNotificationChannel.notify({ contentTitle: "Alert Removed", contentText: Br(e) ? "Alert from ".concat(Br(e), " removed") : "Alert removed", details: { cotUid: e.uid } }); this.addAlertRemovedNotificationToMap(e.uid, r), this.removeAlertRemovedNotification(e.uid) } !t && this.mapRenderingService.hasItem(e.uid) && this.mapRenderingService.removeItem(e.uid) } }, { key: "subscribeToAlertCotMessages", value: function () { var e = this; this.socketService.on("message", function (t) { if (r.isAlertType(t)) { var n = new ct.CotEvent(Object(P.a)({}, t, { detail: t.detail ? Object(L.safeConstruct)(ct.CotEventDetail, t.detail) : null })); e.handleAlertMessage(n) } }) } }, { key: "handleAlertMessage", value: function (e) { if (!sn().getState().events.hasEventByUid(e.uid)) { var t = this.alertNotificationChannel.notify({ contentTitle: ad(e), contentText: "Alert received from ".concat(Br(e)), details: { cotUid: e.uid }, actions: [{ handlerKey: "onViewAlert", buttonText: "View Alert" }] }); this.addAlertNotificationToMap(e.uid, t), this.mapRenderingService.addCotItem(new nd(e)) } } }, { key: "addAlertNotificationToMap", value: function (e, t) { this.alertNotificationsMap = this.alertNotificationsMap.set(e, t) } }, { key: "addAlertRemovedNotificationToMap", value: function (e, t) { this.alertRemovedNotificationsMap = this.alertRemovedNotificationsMap.set(e, t) } }, { key: "removeAlertNotifcationFromMap", value: function (e) { this.alertNotificationsMap = this.alertNotificationsMap.remove(e) } }, { key: "removeAlertRemovedNotifcationFromMap", value: function (e) { this.alertRemovedNotificationsMap = this.alertRemovedNotificationsMap.remove(e) } }, { key: "onAlertMapItemClicked", value: function (e) { var t = this, r = [{ icon: Object(d.toURL)(Object(d.inlineSvg)("format-list-bulleted", { fill: "black" })), onClick: function () { t.drawerService.setActiveDrawer("alertsDetails", e), Td("menu").closeMenu() } }]; Td("menu").openMenu([e.lon, e.lat], r) } }], [{ key: "isAlertType", value: function (e) { return [ed.NINE_ONE_ONE, ed.GEOFENCE_BREACHED, ed.RING_THE_BELL, ed.TROOPS_IN_CONTACT].includes(e.type) } }, { key: "isAlertRemovalType", value: function (e) { return e.type === ed.CANCEL } }]), r }(L.Service); function cd(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } id.create = id.factory(); var sd = function (e) { Object(k.a)(r, e); var t = cd(r); function r() { var e; Object(T.a)(this, r); for (var n = arguments.length, a = new Array(n), o = 0; o < n; o++)a[o] = arguments[o]; return (e = t.call.apply(t, [this].concat(a))).mapWidgets = Object(q.Map)(), e.categories = Object(q.Map)(), e } return Object(j.a)(r, [{ key: "registerWidget", value: function (e, t) { var r = this; Array.isArray(e) ? e.forEach(function (e) { return r.register(e, t) }) : this.register(e, t) } }, { key: "has", value: function (e) { return this.mapWidgets.has(e) } }, { key: "get", value: function (e) { var t = this.mapWidgets.get(e); if (!t) throw new Error("WidgetService.get: cannot get widget: ".concat(e)); return t } }, { key: "register", value: function (e, t) { var r = e.registryKey; if (this.has(r)) throw new Error('MapWidgetService.registerMapWidget: Cannot add duplicate Map Widget with name "'.concat(r, '".')); this.mapWidgets = this.mapWidgets.set(r, e), this.populateCategory(r, t) } }, { key: "populateCategory", value: function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "Core", r = this.categories.get(t), n = r || []; if (n.includes(e)) throw new Error('MapWidgetService.populateCategory: Cannot add duplicate Map Widget with name "'.concat(e, '".')); this.categories = this.categories.set(t, [].concat(Object(D.a)(n), [e])) } }, { key: "getCategories", value: function () { return this.categories.keySeq().toArray() } }, { key: "getWidgetsByCategory", value: function (e) { var t = this, r = this.categories.get(e); if (!r) throw new Error('MapWidgetService.getWidgetsByCategory: Cannot get category with name: "'.concat(r, '".')); return r.map(function (e) { return t.get(e) }) } }]), r }(L.Service); sd.create = sd.factory(); var ud = r(194), ld = (r(620), r(416)), fd = r.n(ld), dd = Object(d.getClasses)("widget-grid", ["widget-grid-layout", "widget", "widget-drag-handle", "widget-window"], ["unlocked"]), pd = function (e) { Object(ud.a)(e); var t = Td("widget"), r = Td("widgetGrid"), n = Object(i.useState)(r.getLock()), a = Object(Xe.a)(n, 2), o = a[0], s = a[1], u = Object(i.useState)(r.getLayout()), l = Object(Xe.a)(u, 2), f = l[0], p = l[1], m = Object(i.useState)(1200), h = Object(Xe.a)(m, 2), v = h[0], g = h[1], b = Object(i.useState)(!1), y = Object(Xe.a)(b, 2), E = y[0], O = y[1], S = Object(d.useResponsiveSize)(), w = S.desktop, A = S.desktopLarge; Object(i.useEffect)(function () { O(!w && !A) }, [w, A]), Object(i.useEffect)(function () { Td("map").onMapReady(function (e) { g(e.getViewport().getBoundingClientRect().width), e.on("change:size", function (e) { g(e.target.getViewport().getBoundingClientRect().width) }) }) }, []), xa(r, "lock", function (e) { var t = f.map(function (t) { return Object(P.a)({}, t, { isDraggable: !e, isResizable: !e }) }); r.setLayout(t), s(e) }, [f]), xa(r, "change", function (e) { p(e) }, []); var C = Object(i.useCallback)(function (e) { r.setLayout(e) }, [f]); return E ? null : c.a.createElement(fd.a, { draggableHandle: ".".concat(dd.Elements["widget-drag-handle"]), compactType: null, className: dd.Elements["widget-grid-layout"], onLayoutChange: C, layout: f, cols: 12, rowHeight: 30, width: v }, f.map(function (e) { var n = Td("widget").get(e.i).name; return c.a.createElement("div", { className: dd.Elements.widget, key: e.i }, !o && c.a.createElement("div", { className: dd.Elements["widget-drag-handle"] }, c.a.createElement("span", { title: n, style: { padding: "0 0.5em", overflow: "hidden", whiteSpace: "nowrap", textOverflow: "ellipsis" } }, n), c.a.createElement(d.Icon, { color: "white", icon: "close", onClick: function () { var t; t = e.i, r.removeWidget(t) } })), c.a.createElement("div", { className: Object(d.className)(dd.Elements["widget-window"], o ? "" : dd.Modifiers.unlocked) }, t.get(e.i).element)) })) }; function md(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var hd = sn(), vd = function (e) { Object(k.a)(r, e); var t = md(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).locked = !0, e.widgetService = Td("widget"), e.layout = Object(q.Map)(), e.rehydrateFromStorage(), Td("map").onMapReady(function (t) { var r = e.spawnGrid(); t.addControl(r) }), e } return Object(j.a)(r, [{ key: "spawnGrid", value: function () { var e = document.createElement("div"); return e.classList.add(dd.BASE), Object(s.render)(c.a.createElement(l.a, { store: hd }, c.a.createElement(pd, null)), e), new Mc.a({ element: e, target: "map-control-container" }) } }, { key: "populateLocalLayout", value: function (e) { var t = this; e.forEach(function (e) { t.layout = t.layout.set(e.i, e) }), this.emit("change", this.getLayout()) } }, { key: "rehydrateFromStorage", value: function () { var e = this, t = localStorage.getItem(h.WIDGET_GRID), r = (null === t ? { layout: [] } : JSON.parse(t)).layout.map(function (t) { return t.isDraggable = !e.locked, t.isResizable = !e.locked, t }); this.populateLocalLayout(r) } }, { key: "updateStorage", value: function () { var e = { layout: arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.getLayout() }; localStorage.setItem(h.WIDGET_GRID, JSON.stringify(e)) } }, { key: "setLock", value: function (e) { this.locked = e, this.emit("lock", this.locked) } }, { key: "getLock", value: function () { return this.locked } }, { key: "addWidget", value: function (e) { var t = this.widgetService.get(e), r = { w: t.w, h: t.h, x: 0, y: 1, maxW: t.maxW, maxH: t.maxH, i: t.registryKey, isDraggable: !this.locked, isResizable: !this.locked }; this.layout = this.layout.set(e, r), this.emit("change", this.getLayout()), this.updateStorage() } }, { key: "removeWidget", value: function (e) { this.layout = this.layout.delete(e), this.emit("change", this.getLayout()), this.updateStorage() } }, { key: "removeAll", value: function () { this.layout = Object(q.Map)(), this.emit("change", this.getLayout()), this.updateStorage() } }, { key: "setLayout", value: function (e) { this.populateLocalLayout(e), this.updateStorage() } }, { key: "getLayout", value: function () { return this.layout.toIndexedSeq().toArray() } }, { key: "layoutHas", value: function (e) { return this.layout.has(e) } }]), r }(L.Service); function gd(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } vd.create = vd.factory(); var bd = function (e) { Object(k.a)(r, e); var t = gd(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).mapService = hi.create(), e.map3d = null, e.localLayers = {}, e.customLayersOrder = [], e.customLayersVisibility = {}, e.primitives = {}, V(h.LAYER_3D, function (t) { t && t.localLayers && (e.localLayers = t.localLayers), t && t.customLayersOrder && (e.customLayersOrder = t.customLayersOrder), t && t.customLayersVisibility && (e.customLayersVisibility = t.customLayersVisibility) }), hi.create().onMapReady(function () { var t = Object(o.a)(a.a.mark(function t(r, n) { return a.a.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: e.map3d = n, e.initLayers(); case 2: case "end": return t.stop() } }, t) })); return function (e, r) { return t.apply(this, arguments) } }()), e } return Object(j.a)(r, [{ key: "initLayers", value: function () { var e = this; Object.values(this.localLayers).forEach(function (t) { "3D TILESET" === t.type && e.addCustom3DLayer(t) }), this.emit("ready", { layers3D: this.getCustom3DLayers() }) } }, { key: "addCustom3DLayer", value: function (e) { var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]; this.map3d && (this.customLayersVisibility[e.name] && this.add3DlayerToMap(e), this.localLayers[e.name] = e, t && this.updateStorage(), this.emit("new-3d-layer", e)) } }, { key: "add3DlayerToMap", value: function (e) { var t = this.mapService.getCesiumScene(), r = new oa.Cesium3DTileset({ url: e.url, show: !0 }); this.primitives[e.name] = r, t.primitives.add(r) } }, { key: "getVisibility", value: function (e) { return this.customLayersVisibility[e] } }, { key: "setCustomLayerVisilility", value: function (e, t) { var r = this.getCustom3DLayer(e); if (r) { this.customLayersVisibility[e] = t; var n, a = this.mapService.getCesiumScene(); if (t) (n = this.primitives[e]) ? a.primitives.add(n) : this.add3DlayerToMap(r); else this.remove3DLayerFromMap(e); this.updateStorage() } } }, { key: "remove3DLayerFromMap", value: function (e) { this.mapService.getCesiumScene().primitives.remove(this.primitives[e]), delete this.primitives[e] } }, { key: "setCustomLayerTitle", value: function (e, t) { this.getCustom3DLayer(e) && (this.localLayers[e].title = t, this.updateStorage()) } }, { key: "getCustom3DLayer", value: function (e) { if (this.hasCustomLayer(e)) return this.localLayers[e] } }, { key: "hasCustomLayer", value: function (e) { return !!this.localLayers[e] } }, { key: "removeCustomLayer", value: function (e) { this.map3d && (this.remove3DLayerFromMap(e), delete this.localLayers[e], delete this.customLayersVisibility[e], this.emit("change", e), this.updateStorage()) } }, { key: "getCustom3DLayers", value: function () { var e = this; return Object.values(this.localLayers).sort(function (t, r) { return e.customLayersOrder.indexOf(t.name) > e.customLayersOrder.indexOf(r.name) ? 1 : -1 }) } }, { key: "moveCustomLayerUp", value: function (e) { var t = this.primitives[e], r = this.customLayersOrder.indexOf(e); if (-1 === r) this.customLayersOrder.push(e); else { if (0 === r) return; var n = this.customLayersOrder[r - 1]; this.customLayersOrder[r - 1] = e, this.customLayersOrder[r] = n, this.mapService.getCesiumScene().primitives.raise(t), this.emit("layer-ordered", this.customLayersOrder), this.updateStorage() } } }, { key: "moveCustomLayerDown", value: function (e) { var t = this.primitives[e], r = this.customLayersOrder.indexOf(e); if (-1 === r) this.customLayersOrder.push(e); else { if (r === this.customLayersOrder.length - 1) return; var n = this.customLayersOrder[r + 1]; this.customLayersOrder[r + 1] = e, this.customLayersOrder[r] = n, this.mapService.getCesiumScene().primitives.lower(t), this.emit("layer-ordered", this.customLayersOrder), this.updateStorage() } } }, { key: "setCustomLayerPosition", value: function (e, t) { var r = t - this.customLayersOrder.indexOf(e); if (r < 0) for (var n = 0; n < Math.abs(r); n++)this.moveCustomLayerUp(e); if (r > 0) for (var a = 0; a < Math.abs(r); a++)this.moveCustomLayerDown(e); this.emit("layer-ordered", this.customLayersOrder), this.updateStorage() } }, { key: "updateStorage", value: function () { F(h.LAYER_3D, { localLayers: this.localLayers, customLayersOrder: this.customLayersOrder, customLayersVisibility: this.customLayersVisibility }) } }]), r }(L.Service); bd.create = bd.factory(); var yd = bd; function Ed(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var Od = function (e) { Object(k.a)(r, e); var t = Ed(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).socketService = Sn.create(), e.socketNotificationChannel = void 0, e.activeDisconnectNotification = void 0, e.socketNotificationChannel = new mc("socket-notification-channel", { onClick: function (e, t) { }, socketReconnect: function () { Sn.create().reconnect() } }, { type: b.ERROR, headerTitle: "Socket Connection Status", headerIcon: Object(d.toURL)(Object(d.inlineSvg)("help-circle", {}, { viewBox: "0 0 24 24" })) }), gc.create().registerNotificationChannel(e.socketNotificationChannel), e.socketService.on("ready", function () { e.init() }), e } return Object(j.a)(r, [{ key: "init", value: function () { this.socketService.on("disconnect", this.handleSocketDisconnect.bind(this)), this.socketService.on("connect", this.handleSocketConnect.bind(this)) } }, { key: "handleSocketDisconnect", value: function () { this.activeDisconnectNotification && gc.create().getNotification(this.activeDisconnectNotification) || (this.activeDisconnectNotification = this.socketNotificationChannel.notify({ duration: 0, contentTitle: "Socket Disconnected", contentText: "You are currently disconnected from the SAE Server. Attempting to reconnect... If this message persists, try manually reconnecting.", details: {}, actions: [{ handlerKey: "socketReconnect", buttonText: "Reconnect" }] })) } }, { key: "handleSocketConnect", value: function () { this.socketNotificationChannel.removeAll(), this.activeDisconnectNotification = void 0, this.socketNotificationChannel.notify({ type: b.SUCCESS, contentTitle: "Socket Connected", contentText: "You are currently connected to the SAE Server.", details: {} }) } }]), r }(L.Service); function Sd(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } Od.create = Od.factory(); var wd = function (e) { Object(k.a)(r, e); var t = Sd(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).copViewBaseURL = function () { return Pr.create().getCopViewUrl() }, e.missions = [], e.getHierarchy(), e } return Object(j.a)(r, [{ key: "getHierarchy", value: function () { var e = Object(o.a)(a.a.mark(function e() { var t, r, n; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, fetch(Object(L.generateRequestUrl)("".concat(this.copViewBaseURL(), "hierarchy")), { mode: "no-cors" }); case 2: return t = e.sent, e.next = 5, t.json(); case 5: return r = e.sent, n = r.data, e.abrupt("return", n); case 8: case "end": return e.stop() } }, e, this) })); return function () { return e.apply(this, arguments) } }() }, { key: "getAllCopMissions", value: function () { var e = Object(o.a)(a.a.mark(function e() { var t, r, n; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, fetch(Object(L.generateRequestUrl)("".concat(this.copViewBaseURL())), { mode: "no-cors" }); case 2: return t = e.sent, e.next = 5, t.json(); case 5: return r = e.sent, n = r.data, this.missions = n, e.abrupt("return", n); case 9: case "end": return e.stop() } }, e, this) })); return function () { return e.apply(this, arguments) } }() }, { key: "filterMissions", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { var r, n, o = arguments; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (!(o.length > 1 && void 0 !== o[1] && o[1])) { e.next = 7; break } return e.next = 4, this.getAllCopMissions(); case 4: e.t0 = e.sent, e.next = 8; break; case 7: e.t0 = this.missions; case 8: return r = e.t0, n = r.filter(function (e) { return e.path.startsWith(t) }), e.abrupt("return", n); case 11: case "end": return e.stop() } }, e, this) })); return function (t) { return e.apply(this, arguments) } }() }]), r }(L.Service); wd.create = wd.factory(); var Ad = wd, Cd = function () { function e() { Object(T.a)(this, e) } return Object(j.a)(e, null, [{ key: "initializeServices", value: function () { var e; this.activeServices || (this.activeServices = (e = { contacts: jn.create(), cotStorage: Bl.create(), cotRender: xl.create(), drawer: Dc.create(), error: ln.create(), hotkey: gn.create(), identity: _f.create(), ingest: Pn.create(), map: hi.create(), messaging: Rn.create(), overlays: kf.create(), plugin: Gl.create(), socket: Sn.create(), socketNotificationService: Od.create(), tool: Vl.create(), pointDropper: vo.create(), preferences: sl.create(), menu: Yf.create() }, Object(C.a)(e, "marker-info", qf.create()), Object(C.a)(e, "layer", td.create()), Object(C.a)(e, "layer-3D", yd.create()), Object(C.a)(e, "toast", Gi.create()), Object(C.a)(e, "logger", wr.create()), Object(C.a)(e, "notification", gc.create()), Object(C.a)(e, "alerts", id.create()), Object(C.a)(e, "dataPackages", _s.create()), Object(C.a)(e, "widget", sd.create()), Object(C.a)(e, "widgetGrid", vd.create()), Object(C.a)(e, "missionAPIService", Jr.create()), Object(C.a)(e, "dataSyncService", Ou.create()), Object(C.a)(e, "dialog", Co.create()), Object(C.a)(e, "copViewAPIService", Ad.create()), e)); this.passiveServices || (this.passiveServices = [_n.create(), vo.create(), Tf.create()]) } }, { key: "getService", value: function (e) { if (this.initializeServices(), !this.activeServices[e]) throw new Error('ServiceContainer.getService cannot retrieve unknown Service "'.concat(e, '".')); return this.activeServices[e] } }]), e }(); function Td(e) { return Cd.getService(e) } function jd(e, t, r, n, a, o, i) { var c, s = Date.now(); return { lat: t.lat, lon: t.lon, hae: t.hae, ce: t.ce, le: t.le, startTime: r, staleTime: s + 1e10, sendTime: s, how: "h-g-i-g-o", type: "b-t-f", uid: "GeoChat.".concat(n, ".").concat(i, ".").concat(Object(L.uuid)()), detail: { xml: { __chat: (c = {}, Object(C.a)(c, L.XML_ATTRIBUTE_KEY, { senderCallsign: a, chatroom: i, id: n }), Object(C.a)(c, "chatgrp", Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { id: o, uid1: o, uid0: n })), c), remarks: Rd(e, r, n, o) } } } } function kd(e, t, r, n, a, o) { var i, c = Date.now(); return { lat: t.lat, lon: t.lon, hae: t.hae, ce: t.ce, le: t.le, startTime: r, staleTime: c + 1e10, sendTime: c, how: "h-g-i-g-o", type: "b-t-f", uid: "GeoChat.".concat(n, ".").concat(Object(L.uuid)()), detail: { xml: { __chat: (i = {}, Object(C.a)(i, L.XML_ATTRIBUTE_KEY, { chatroom: o, senderCallsign: a, parent: "RootContactGroup", groupOwner: !1, id: o }), Object(C.a)(i, "chatgrp", Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { id: o, uid0: n, uid1: o })), i), remarks: Rd(e, r, n, o) } } } } function Rd(e, t, r, n) { var a; return a = {}, Object(C.a)(a, L.XML_TEXT_KEY, e || ""), Object(C.a)(a, L.XML_ATTRIBUTE_KEY, { time: "".concat(new Date(t).toISOString().split(".")[0], "Z"), source: r, to: n }), a } Cd.activeServices = null, Cd.passiveServices = null; r(631), r(632), r(633); function Nd(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var Ld = function (e) { Object(k.a)(r, e); var t = Nd(r); function r() { var e; Object(T.a)(this, r), (e = t.call(this)).channel = void 0, e.drawer = void 0, e.activeConversation = void 0; var n = { onClick: e.onNotificationClicked.bind(Object(K.a)(e)) }; return e.channel = new mc("chat-notifcation-channel", n, { headerIcon: Object(d.toURL)(Object(d.inlineSvg)("chat-bubble", {}, { viewBox: "0 0 24 24" })), headerTitle: "New Chat Message" }), Td("notification").registerNotificationChannel(e.channel), e } return Object(j.a)(r, [{ key: "getChannel", value: function () { return this.channel } }, { key: "setDrawer", value: function (e) { this.drawer = e } }, { key: "setActiveConversation", value: function (e) { var t = this, r = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]; (this.activeConversation = e, e && r && this.channel) && this.channel.getNotifications().filter(function (t) { return t.details && t.details.get("addressIdentifier") === e }).forEach(function (e) { t.channel.removeNotification(e.id) }) } }, { key: "getActiveConversation", value: function () { return this.activeConversation } }, { key: "onNotificationClicked", value: function (e, t) { this.drawer && (this.drawer.open({ addressIdentifier: e.addressIdentifier }), t()) } }]), r }(L.Service); Ld.create = Ld.factory(); var _d = Ld, Id = Object(d.getClasses)("contacts-list-item", ["title", "notification-count", "status", "chat", "chat-icon", "muted-icon"], []); function Md(e, t) { return function (e, t) { return t.filter(function (t) { return t.details && t.details.get("addressIdentifier") === e.address.identifier }) }(e, t).length } var xd = function (e) { var t = e.contact, r = e.onClickContact, n = Td("contacts"), a = Td("messaging"), o = _d.create().getChannel(), s = Object(i.useState)(Md(t, o.getNotifications())), u = Object(Xe.a)(s, 2), f = u[0], p = u[1], m = Object(l.c)(function (e) { return e.events.hasEventByUid(t.address.identifier) ? e.events.getEventByUid(t.address.identifier) : null }), h = Object(l.c)(function (e) { return e.chat.mutedConversations.includes(t.address.identifier) }); xa(o, "change", function (e) { p(Md(t, e)) }, [p, t, r]); var v = Object(i.useCallback)(function () { "function" === typeof r && r(t) }, [r, t]), g = Object(L.safelyHandle)(function () { if (m) { if (ma.create().hasItem(m.uid)) try { var e = ma.create().getItem(m.uid); e.zoomToItem(), e.onClick({ coordinate: [m.lon, m.lat] }, []) } catch (fA) { Td("toast").error({ message: "Unable to zoom to contact ".concat(t.name) }) } } else v() }); return xa(n, "status-change", function () { return p(Md(t, o.getNotifications())) }, [t, o]), c.a.createElement("div", { className: Id.BASE, title: t.name, onClick: v }, c.a.createElement("img", { className: Id.Elements.status, alt: "Contact status icon", src: a.getAddressIconURL(t.address) }), c.a.createElement("span", { className: Id.Elements.title }, t.name, h && c.a.createElement(d.Icon, { className: Id.Elements["muted-icon"], icon: "bell-off" })), c.a.createElement("div", { className: Id.Elements.chat }, f > 0 ? c.a.createElement("div", { className: Id.Elements["notification-count"] }, f) : null, null !== m && c.a.createElement(d.Icon, { onClick: Object(L.safelyHandle)(g), className: Id.Elements["chat-icon"], svgPath: "M19,19H5V5H19M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M16.5,16.25C16.5,14.75 13.5,14 12,14C10.5,14 7.5,14.75 7.5,16.25V17H16.5M12,12.25A2.25,2.25 0 0,0 14.25,10A2.25,2.25 0 0,0 12,7.75A2.25,2.25 0 0,0 9.75,10A2.25,2.25 0 0,0 12,12.25Z" }), c.a.createElement(d.Icon, { onClick: Object(L.safelyHandle)(v), className: Id.Elements["chat-icon"], icon: "forum-outlined" }))) }, Dd = Object(d.getClasses)("contacts-list", ["header", "contact", "title", "status", "chat"], []), Pd = function () { return null }, Ud = function (e, t) { return e.name.toLowerCase().includes(t) }, Bd = function (e) { var t = e.contacts, r = e.filterTerm, n = e.onClickContact, a = Td("contacts"), o = Object(i.useState)(!1), s = Object(Xe.a)(o, 2), u = s[0], l = s[1], f = Object(i.useState)(0), p = Object(Xe.a)(f, 2), m = p[0], h = p[1], v = Object(i.useRef)(null), g = Object(i.useMemo)(function () { var e = function (e, t) { Date.now(); return e.sort(function (e, r) { var n = e.address.isIndividual, a = r.address.isIndividual; if (n && a) { var o = t(e) === ze.OFFLINE, i = t(r) === ze.OFFLINE; if (o && i) return 0; if (i) return -1; if (o) return 1 } else { if (n) return 1; if (a) return -1 } return Object(L.alphaSort)(e.name, r.name) }) }(t, function (e) { return a.getAddressStatus(e.address) }); return u ? e : e.filter(function (e) { return !e.address.isIndividual || a.getAddressStatus(e.address) !== ze.OFFLINE }) }, [t, a, u, m]), b = Object(i.useMemo)(function () { return function (e) { return c.a.createElement(xd, { onClickContact: n, contact: e }) } }, [a, n, t]); return xa(a, "status-change", function () { return h(Math.random()) }, [h]), Object(i.useEffect)(function () { v.current && "string" === typeof r && v.current.setFilterTerm(r) }, [v, r]), c.a.createElement("div", { className: Dd.BASE }, c.a.createElement("div", { className: Dd.Elements.header }, c.a.createElement(d.Checkbox, { label: "Show Offline", onChange: function () { return l(!u) }, checked: u, id: "contacts-show-offline" })), c.a.createElement(d.List, { ref: v, items: g, headerRenderer: Pd, rowRenderer: b, title: "Contacts", filter: Ud })) }; Bd.defaultProps = { filterTerm: "" }; var Fd = Bd, Vd = (r(634), r(635), Object(d.getClasses)("message", ["header", "timestamp", "from", "body"], ["sender"])), Hd = function (e) { var t = e.body, r = e.timestamp, n = e.from, a = e.isSender, o = Object(d.className)(Vd.BASE, Object(C.a)({}, Vd.Modifiers.sender, a)); return c.a.createElement("div", { className: o }, c.a.createElement("div", { className: Vd.Elements.header }, c.a.createElement("span", { className: Vd.Elements.timestamp }, "(", Object(ec.a)(r, "HH:mm:ss"), ")\xa0"), c.a.createElement("span", { className: Vd.Elements.from }, n)), c.a.createElement("div", { className: Vd.Elements.body }, t)) }; Hd.defaultProps = { isSender: !1 }; var Gd = Hd; var qd = Object(d.getClasses)("conversation", ["notification-icon", "message-list", "message-form"], []), Kd = Object(l.b)(function (e, t) { var r = e.chat, n = t.address; return { contact: r.getContact(Me(n)), getAddressName: function (e) { if (r.hasContact(e)) { var t = r.getContact(e).name; return t || "[User]" } var n = r.getContacts().find(function (t) { return t.hasAddress(e) }); return n ? n.address.identifier : "[User]" }, isMuted: r.mutedConversations.includes(n.identifier) } }, { onSubmit: function (e) { return { type: Be.SEND_MESSAGE, payload: new Pe(e) } }, muteConversation: function (e) { return { type: Be.MUTE_CONVERSATION, payload: e } }, unMuteConversation: function (e) { return { type: Be.UNMUTE_CONVERSATION, payload: e } } })(function (e) { var t = e.contact, r = t.address, n = t.messages, a = t.name, o = e.getAddressName, s = e.onSubmit, u = e.isMuted, l = e.muteConversation, f = e.unMuteConversation, p = Object(i.useRef)(null), m = Object(i.useRef)(null), h = Object(i.useState)(""), v = Object(Xe.a)(h, 2), g = v[0], b = v[1], y = Object(i.useContext)(Ba).isReadonly; Object(i.useEffect)(function () { return _d.create().setActiveConversation(r.identifier), function () { _d.create().setActiveConversation(void 0) } }, []), Object(i.useEffect)(function () { m.current && (m.current.scrollTop = m.current.scrollHeight) }, [n]); var E = Object(i.useCallback)(Object(L.safelyHandle)(function () { y || ("function" === typeof s && g.length && s(new Pe({ address: r, body: g, location: [0, 0] })), p.current && (p.current.value = ""), b("")) }), [p, g, r, s, y]), O = Object(i.useCallback)(function (e) { b(e.currentTarget.value) }, [b]), S = Object(i.useCallback)(function (e) { "Enter" === e.key && p.current && p.current.value.length && E(e) }, [E, p]); return function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : []; Object(i.useEffect)(function () { e.current && e.current.focus() }, t) }(p, [r]), c.a.createElement(d.DrawerLayout, { contentClassName: qd.BASE }, c.a.createElement(d.NavigationDrawerHeader, { rightRenderer: function (e) { return c.a.createElement(i.Fragment, null, c.a.createElement(d.Icon, { icon: u ? "bell-off" : "bell", className: qd.Elements["notification-icon"], onClick: function () { return u ? f(r.identifier) : l(r.identifier) } }), e) }, title: a }), c.a.createElement("div", { ref: m, className: qd.Elements["message-list"] }, n.sortBy(function (e) { return e.timestamp }).map(function (e, t) { return c.a.createElement(Gd, { key: "".concat(e.timestamp, "-").concat(t), body: e.body, from: e.isClientMessage ? "You" : o(e.from), isSender: e.isClientMessage, timestamp: e.timestamp }) })), c.a.createElement("form", { className: qd.Elements["message-form"], onSubmit: E }, c.a.createElement(d.TextInput, { multi: !0, rows: 4, disabled: y, inputRef: p, onChange: O, onKeyDown: S }), c.a.createElement(d.Button, { type: "submit", small: !0, minimal: !0, disabled: !g.length }, "Send"))) }), zd = Object(d.getClasses)("chat-drawer", ["content", "notification-clear"], []); function Yd(e, t) { var r = e.find(function (e) { return e.address.identifier === t }); if (r) return r.address } var Wd = Object(l.b)(function (e) { return { contacts: e.chat.getContacts() } })(function (e) { var t = e.contacts, r = Object(i.useContext)(d.NavigationContext), n = Object(i.useState)(""), a = Object(Xe.a)(n, 2), o = a[0], s = a[1], u = Object(i.useCallback)(function (e) { s(e.currentTarget.value) }, [s]), l = Object(i.useCallback)(function (e) { return r.push(function () { return c.a.createElement(Kd, { address: e.address }) }) }, [r.push]), f = function (e) { do { r.pop() } while (!r.isRoot); r.push(function () { return c.a.createElement(Kd, { address: e }) }), Td("drawer").setCtx(null) }; Object(i.useEffect)(function () { var e = Td("drawer").getCtx(), r = e ? Yd(t, e.addressIdentifier) : void 0; e && je(r) && f(r) }), xa(Td("drawer"), "drawer-change", function (e, r, n) { var a = r ? Yd(t, r.addressIdentifier) : void 0; n && r && je(a) && f(a) }, [r, t]); var p = function () { var e = _d.create().getChannel(); e && e.removeAll() }; return c.a.createElement(d.DrawerLayout, { className: zd.BASE, contentClassName: zd.Elements.content }, c.a.createElement(d.NavigationDrawerHeader, { title: "Contacts", placeholder: "search contacts...", onSearch: u, rightRenderer: function (e) { return c.a.createElement(i.Fragment, null, c.a.createElement(d.Icon, { icon: "notification-clear-all", className: zd.Elements["notification-clear"], onClick: p }), e) } }), c.a.createElement(Fd, { contacts: t, filterTerm: o, onClickContact: l })) }), Xd = function () { return c.a.createElement(d.NavigationController, { className: zd.BASE, defaultState: { onCollapse: Td("drawer").closeDrawer }, root: Wd }) }; var Jd = Object(d.toURL)(Object(d.inlineSvg)("circle-check", { fill: "#149929" })), Zd = Object(d.toURL)(Object(d.inlineSvg)("away", { fill: "#F2B12A" })), Qd = Object(d.toURL)(Object(d.inlineSvg)("circle-cross", { fill: "#7A7A7A" })), $d = Object(d.toURL)(Object(d.inlineSvg)("group")), ep = Object(d.toURL)(Object(d.inlineSvg)("group")); function tp() { var e = function () { var e = Td("drawer"), t = Td("tool"), r = new xi({ displayName: "Contacts", name: "contacts", mount: function () { return React.createElement(Xd, null) }, unmount: function () { } }), n = new Mi({ title: "Contacts", icon: "contacts", name: "contacts", onClick: function () { var e = _d.create(), t = e.getChannel(), n = e.getActiveConversation(); n && t.getNotifications().forEach(function (e) { e.details && e.details.get("addressIdentifier") === n && t.removeNotification(e.id) }), r.open() }, category: "communication" }); return e.registerDrawer(r), t.registerTool(n), { tool: n, drawer: r } }(), t = e.tool, r = e.drawer, n = Td("contacts"), a = Td("messaging"), o = Td("socket"); a.registerAddressHandler(v.UID, np, function (e) { switch (n.getAddressStatus(e)) { case ze.ONLINE: return Jd; case ze.AWAY: return Zd; case Qd: default: return Qd } }), a.registerAddressHandler(v.CHATROOM, np, function () { return $d }), a.registerAddressHandler(v.GROUP, rp, function () { return ep }), n.loadContacts(Je.map(function (e) { return new qe({ name: e, address: Me({ isIndividual: !1, identifier: e, type: v.CHATROOM }) }) })); var i = _d.create(); i.setDrawer(r); var c = i.getChannel(); t.setNotificationChannel(c), o.on("message", function (e) { if ("b-t-f" === e.type) { var t = Qe(e); if (t) { a.receiveMessages([t]); var o = n.getContacts().find(function (e) { return t.address.isIndividual ? e.hasAddress(t.from) : e.hasAddress(t.address) }); if (o) { var s = o.address.identifier !== i.getActiveConversation() || !Td("drawer").isOpen(), u = sn().getState().chat.mutedConversations.includes(o.address.identifier), l = r.name === Td("drawer").activeSideDrawer && Td("drawer").isOpen(); s && c.notify({ contentTitle: o.name, contentText: t.body, type: b.DEFAULT, duration: 5e3, persistent: !0, dismissed: u || l, details: { addressIdentifier: o.address.identifier } }) } } } }) } function rp(e, t) { t() } function np(e, t) { var r = Td("contacts"), n = Td("identity"), i = Td("socket"), c = function () { var c = Object(o.a)(a.a.mark(function o() { var c, s, u, l, f; return a.a.wrap(function (a) { for (; ;)switch (a.prev = a.next) { case 0: if (c = n.getIdentity(), s = c.location, u = c.callsign, l = c.clientSeed, f = r.getContactByAddress(e.address), e.address.type !== v.CHATROOM) { a.next = 7; break } return a.next = 5, i.sendMessage(kd(e.body, s, e.timestamp, l, u, e.address.identifier), []); case 5: a.next = 9; break; case 7: return a.next = 9, i.sendMessage(jd(e.body, s, e.timestamp, l, u, f.address.identifier, f.name), [f.name]); case 9: t(); case 10: case "end": return a.stop() } }, o) })); return function () { return c.apply(this, arguments) } }(); i.isConnected() ? c() : i.once("connect", c) } r(636); var ap, op = function (e) { var t = e.onSelectShape, r = [{ name: "Polygon", icon: "shape-polygon-plus", type: Lr.POLYGON }, { name: "Box", icon: "shape-rectangle-plus", type: Lr.BOX }, { name: "Circle", icon: "shape-circle-plus", type: Lr.CIRCLE }], n = function (e) { return function (r) { var n = Date.now(), a = new ct.CotEvent({ uid: Object(L.uuid)(), type: e.type, startTime: n, sendTime: n, staleTime: n + 72e9 }); t(a) } }, a = Object(i.useContext)(Ba).isReadonly; return c.a.createElement("div", { className: sm.Elements["shapes-group"] }, c.a.createElement("div", { className: sm.Elements["group-items"] }, r.map(function (e, t) { return c.a.createElement("div", { key: t, className: Object(d.className)(sm.Elements["group-item"], Object(C.a)({}, sm.Elements["group-item-disabled"], a)), onClick: a ? function () { } : n(e) }, c.a.createElement(d.Icon, { className: sm.Elements["group-item-icon"], icon: e.icon, color: "white" }), c.a.createElement("div", { className: sm.Elements["group-item-text"] }, e.name)) }))) }, ip = r(434), cp = r(90), sp = r(435); !function (e) { e[e.BLEED = 0] = "BLEED", e[e.LAZY = 1] = "LAZY", e[e.TURF = 2] = "TURF", e[e.OL_LAZY = 3] = "OL_LAZY" }(ap || (ap = {})); var up = r(283), lp = r(128); function fp(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var dp, pp = { link: Object(q.List)(), archive: Object(C.a)({}, L.XML_TEXT_KEY, ""), strokeColor: Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { value: -16777216 }), fillColor: Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { value: 1342177280 }), strokeWeight: Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { value: 2 }), height: Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { value: 1 }) }, mp = function (e) { Object(k.a)(r, e); var t = fp(r); function r(e) { if (Object(T.a)(this, r), !Array.isArray(e)) throw new Error("new PolygonXML(): expected coordinates to be an array but got ".concat(e)); var n = []; e.forEach(function (e, t) { var r = Object(Xe.a)(e, 2), a = r[0], o = r[1]; if (!Object(L.isLatitude)(o) || !Object(L.isLongitude)(a)) throw new Error("new PolygonXML(): latitude or longitude was invalid. got: lon: ".concat(a, ", lat: ").concat(o)); n[t] = Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { point: "".concat(o, ",").concat(a) }) }); var a = Object(q.List)(n); return t.call(this, { link: a }) } return Object(j.a)(r, [{ key: "getColor", value: function () { return this.fillColor[L.XML_ATTRIBUTE_KEY].value } }, { key: "getStrokeWeight", value: function () { return this.strokeWeight[L.XML_ATTRIBUTE_KEY].value } }]), r }(Object(q.Record)(pp)); function hp(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var vp, gp = Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { major: 0, minor: 0, angle: 360 }), bp = { archive: Object(C.a)({}, L.XML_TEXT_KEY, ""), shape: { ellipse: gp, link: (dp = {}, Object(C.a)(dp, L.XML_ATTRIBUTE_KEY, { type: "b-xKmlStyle", uid: "", relation: "p-c" }), Object(C.a)(dp, "Style", { LineStyle: { color: Object(C.a)({}, L.XML_TEXT_KEY, "ff000000"), width: Object(C.a)({}, L.XML_TEXT_KEY, "2.0") }, PolyStyle: { color: Object(C.a)({}, L.XML_TEXT_KEY, "50000000") } }), dp) }, fillColor: Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { value: 1342177280 }), strokeColor: Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { value: -16777216 }), strokeWeight: Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { value: "2.0" }) }, yp = function (e) { Object(k.a)(r, e); var t = hp(r); function r(e, n) { var a; return Object(T.a)(this, r), (a = t.call(this, {})).shape.ellipse[L.XML_ATTRIBUTE_KEY].major = e, a.shape.ellipse[L.XML_ATTRIBUTE_KEY].minor = e, a.shape.link[L.XML_ATTRIBUTE_KEY].uid = "".concat(n, ".Style"), a } return r }(Object(q.Record)(bp)), Ep = r(103), Op = r(175), Sp = r(98); function wp(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } !function (e) { e.DRAWSTART = "drawstart", e.DRAWEND = "drawend", e.DRAWABORT = "drawabort", e.DRAWUNDO = "drawundo" }(vp || (vp = {})); var Ap = function (e) { Object(k.a)(r, e); var t = wp(r); function r(e, n) { var a; return Object(T.a)(this, r), (a = t.call(this, e)).feature = void 0, a.feature = n, a } return r }(Sp.a); function Cp() { var e = Object(Ei.b)(); return function (t) { return "function" === typeof t ? t : e[t.getGeometry().getType()] } } function Tp(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var jp = function (e) { Object(k.a)(r, e); var t = Tp(r); function r() { var e, n, a; return Object(T.a)(this, r), (a = t.call(this)).clickCount_ = void 0, a.coordinates_ = void 0, a.overlay_ = void 0, a.sketchFeature_ = void 0, a.sketchPoints_ = void 0, a.instructionService = void 0, a.d2m_ = function (e) { var t = 20037508.34 * e[0] / 180, r = Math.log(Math.tan((90 + e[1]) * Math.PI / 360)) / (Math.PI / 180); return [t, r = 20037508.34 * r / 180] }, a.m2d_ = function (e) { return [180 * e[0] / 20037508.34, 360 * Math.atan(Math.exp(e[1] * Math.PI / 20037508.34)) / Math.PI - 90] }, a.handleDownEvent = function (e) { return !0 }, a.handleUpEvent = function (e) { switch (a.clickCount_) { case 0: a.startDrawing_(e); break; case 1: a.addToDrawing_(e); break; case 2: a.finishDrawing_(e); break; default: throw new Error("BoxInteraction.handleUpEvent. Click count is out of bounds") }return e.stopPropagation(), !0 }, a.startDrawing_ = function (e) { if (a.updateCoordinate_(a.clickCount_, e.coordinate), a.clickCount_++, a.sketchPoints_.push(new Zn.a(new yc.a(e.coordinate))), a.updateSketchFeatures_(), !a.sketchFeature_) throw new Error("BoxInteraction.startDrawing_(): no sketch feature"); a.dispatchEvent(new Ap(vp.DRAWSTART, a.sketchFeature_)), a.instructionService.next() }, a.addToDrawing_ = function (e) { a.updateCoordinate_(a.clickCount_, e.coordinate), a.clickCount_++, a.sketchPoints_.push(new Zn.a(new yc.a(e.coordinate))), a.updateSketchFeatures_(), a.instructionService.next() }, a.finishDrawing_ = function (e) { var t = a.calculatePosition_(e.coordinate); if (t) { a.updateCoordinate_(3, t); var r = [].concat(Object(D.a)(a.coordinates_), [a.coordinates_[0]]); a.sketchFeature_ = new Zn.a(new cp.b([r])), a.updateSketchFeatures_() } if (!a.sketchFeature_) throw new Error("BoxInteraction.finishDrawing_(): no sketch feature"); a.dispatchEvent(new Ap(vp.DRAWEND, a.sketchFeature_)) }, a.handleMoveEvent = function (t) { if (2 === a.clickCount_) { var n = a.calculatePosition_(t.coordinate); if (n) { a.updateCoordinate_(3, n); var o = [].concat(Object(D.a)(a.coordinates_), [a.coordinates_[0]]); a.sketchFeature_ = new Zn.a(new cp.b([o])), a.updateSketchFeatures_() } } Object(zn.a)((e = Object(K.a)(a), Object(N.a)(r.prototype)), "handleMoveEvent", e).call(e, t) }, a.updateCoordinate_ = function (e, t) { a.coordinates_[e] = t }, a.updateSketchFeatures_ = function () { var e = []; a.sketchFeature_ && e.push(a.sketchFeature_), a.sketchPoints_ && 0 != a.sketchPoints_.length && e.push.apply(e, Object(D.a)(a.sketchPoints_)); var t = a.overlay_.getSource(); t.clear(!0), t.addFeatures(e) }, a.calculatePosition_ = function (e) { var t = a.coordinates_[0], r = a.d2m_(t), n = a.coordinates_[1], o = a.d2m_(n), i = a.d2m_(e), c = a.d2m_(e); if (r[0] === o[0]) i = [c[0], o[1]]; else if (r[1] === o[1]) i = [o[0], c[1]]; else { var s = -1 / ((o[1] - r[1]) / (o[0] - r[0])); Math.abs(s) < 1 ? i[1] = s * (c[0] - o[0]) + o[1] : i[0] = o[0] + (i[1] - o[1]) / s } var u = [o[0] - r[0], o[1] - r[1]], l = [i[0] - u[0], i[1] - u[1]], f = a.m2d_(i), d = a.m2d_(l); return a.updateCoordinate_(2, [f[0], f[1]]), a.updateCoordinate_(3, [d[0], d[1]]), d }, a.abortDrawing_ = function () { a.overlay_.getSource().clear(!0) }, a.setMap = function (e) { Object(zn.a)((n = Object(K.a)(a), Object(N.a)(r.prototype)), "setMap", n).call(n, e), a.updateState_() }, a.updateState_ = function () { var e = a.getMap(), t = a.getActive(); return e && t || a.abortDrawing_(), t && a.overlay_.setMap(e), !0 }, a.clickCount_ = 0, a.coordinates_ = [[0, 0], [0, 0], [0, 0], [0, 0]], a.instructionService = Ya.create(), a.sketchFeature_ = new Zn.a(new cp.b([])), a.sketchPoints_ = [], a.overlay_ = new $n.a({ source: new ia.a({ useSpatialIndex: !1 }), style: Cp(), updateWhileInteracting: !0 }), a.addChangeListener(Op.a.ACTIVE, a.updateState_), a } return r }(Ep.b), kp = r(26); function Rp(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var Np = function (e) { Object(k.a)(r, e); var t = Rp(r); function r(e) { var n; return Object(T.a)(this, r), (n = t.call(this, e)).instructionService = Ya.create(), n } return Object(j.a)(r, [{ key: "handleUpEvent", value: function (e) { return this.instructionService.next(), Object(zn.a)(Object(N.a)(r.prototype), "handleUpEvent", this).call(this, e) } }]), r }(up.a); function Lp(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var _p, Ip, Mp = function (e) { Object(k.a)(r, e); var t = Lp(r); function r(e) { var n, a; return Object(T.a)(this, r), (a = t.call(this, e)).instructionCount = 0, a.handleUpEvent = function (e) { return a.instructionCount += 1, Object(zn.a)((n = Object(K.a)(a), Object(N.a)(r.prototype)), "handleUpEvent", n).call(n, e) }, a.on(vp.DRAWUNDO, a.handleUndo), a.on(vp.DRAWEND, a.handleEnd), a } return Object(j.a)(r, [{ key: "handleUndo", value: function () { this.instructionCount -= 1, this.removeLastPoint(), this.instructionCount < 2 && this.instructionService.previous() } }, { key: "handleEnd", value: function () { this.finishDrawing() } }]), r }(Np), xp = r(80), Dp = { shape: function () { return new Mp({ type: kp.a.POLYGON, stopClick: !0, freehandCondition: xp.g }) }, mutate: function (e, t) { return e.withMutations(function (e) { var r = t.feature.getGeometry().getCoordinates()[0], n = Hp(t.feature, r, ap.TURF), a = Object(Xe.a)(n, 2), o = a[0], i = a[1], c = new ct.CotEventDetail({ contact: new ct.CotEventContact({ callsign: "Polygon-".concat(Object(L.uuid)(4)), endpoint: "" }), xml: new mp(r).toJS(), xmlDetail: null, takv: E() }); e.set("detail", c), e.set("lat", i), e.set("lon", o) }) } }, Pp = { shape: function () { return new jp }, mutate: function (e, t) { return e.withMutations(function (e) { var r = t.feature.getGeometry().getCoordinates()[0], n = function (e) { var t = Object(Xe.a)(e[0], 2), r = t[0], n = t[1], a = Object(Xe.a)(e[1], 2); return [(r + a[0]) / 2, (n + a[1]) / 2] }([r[0], r[2]]), a = Object(Xe.a)(n, 2), o = a[0], i = a[1], c = new ct.CotEventDetail({ contact: new ct.CotEventContact({ callsign: "Box-".concat(Object(L.uuid)(4)), endpoint: "" }), xml: new mp(r).toJS(), xmlDetail: null, takv: E() }); e.set("detail", c), e.set("lat", i), e.set("lon", o) }) } }, Up = { shape: function () { return new Np({ type: kp.a.CIRCLE, stopClick: !0 }) }, mutate: function (e, t, r) { return e.withMutations(function (e) { if (!r) throw new Error("handleCircle.mutate(), map was not provided and is required."); var n = t.feature.getGeometry(), a = n.getCenter(), o = n.getRadius(); o = function (e, t, r) { var n = [e[0], e[1] + t], a = r.getView().getProjection(), o = Object(vs.s)(e, a, "EPSG:4326"), i = Object(vs.s)(n, a, "EPSG:4326"); return Object(lp.a)(o, i, 6378137) }(a, o, r); var i = new ct.CotEventDetail({ contact: new ct.CotEventContact({ callsign: "Circle-".concat(Object(L.uuid)(4)), endpoint: "" }), xml: new yp(o, e.uid).toJS(), xmlDetail: null, takv: E() }); e.set("detail", i), e.set("lat", a[1]), e.set("lon", a[0]) }) } }, Bp = { shape: function () { return new up.a({ type: kp.a.LINE_STRING, stopClick: !0, freehand: !0 }) }, mutate: function (e, t) { return e } }, Fp = (_p = {}, Object(C.a)(_p, Lr.POLYGON, Dp), Object(C.a)(_p, Lr.BOX, Pp), Object(C.a)(_p, Lr.CIRCLE, Up), Object(C.a)(_p, Lr.FREEHAND, Bp), _p), Vp = (Ip = {}, Object(C.a)(Ip, ap.BLEED, function (e, t) { return function (e) { return [e[0] + (e[2] - e[0]) / 2, e[1] + (e[3] - e[1]) / 2] }(e.getGeometry().getExtent()) }), Object(C.a)(Ip, ap.LAZY, function (e, t) { return e.getGeometry().getInteriorPoint().getCoordinates() }), Object(C.a)(Ip, ap.TURF, function (e, t) { var r = new Zn.a(new cp.b([t])), n = new sp.a; return n.readFeatures(Object(ip.a)(n.writeFeatureObject(r)))[0].getGeometry().getCoordinates() }), Object(C.a)(Ip, ap.OL_LAZY, function (e, t) { return Object(aa.w)(e.getGeometry().getExtent()) }), Ip), Hp = function (e, t, r) { return Vp[r](e, t) }, Gp = [{ title: "Click/tap the desired center point." }, { title: "Click/tap to set the radius." }], qp = [{ title: "Click/tap to set the first corner point." }, { title: "Click/tap to set the corner point on the same side." }, { title: "Click/tap to set the opposite side." }]; function Kp(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var zp = function (e) { Object(k.a)(r, e); var t = Kp(r); function r() { var e; Object(T.a)(this, r); for (var n = arguments.length, a = new Array(n), o = 0; o < n; o++)a[o] = arguments[o]; return (e = t.call.apply(t, [this].concat(a))).currentDrawing = null, e } return Object(j.a)(r, [{ key: "getCurrentDrawing", value: function () { return this.currentDrawing } }, { key: "setCurrentDrawing", value: function (e) { return this.currentDrawing = e, this.currentDrawing } }, { key: "undo", value: function () { this.currentDrawing && this.currentDrawing.dispatchEvent(vp.DRAWUNDO) } }, { key: "abort", value: function () { this.currentDrawing && this.currentDrawing instanceof Np && this.currentDrawing.abortDrawing() } }, { key: "finish", value: function () { this.currentDrawing && this.currentDrawing instanceof Np && this.currentDrawing.finishDrawing() } }]), r }(L.Service); zp.create = zp.factory(); var Yp, Wp = zp.create(), Xp = { title: "Click/tap to set additional points. Click/tap on the first point to finish the polygon.", actions: [{ title: "undo", onClick: function (e) { Wp.undo() } }] }, Jp = [{ title: "Click/tap to set the first point." }, Xp, Object(P.a)({}, Xp, { actions: [].concat(Object(D.a)(Xp.actions), [{ title: "end", onClick: function () { return Wp.finish() } }]) })], Zp = (Yp = {}, Object(C.a)(Yp, Lr.BOX, qp), Object(C.a)(Yp, Lr.POLYGON, Jp), Object(C.a)(Yp, Lr.CIRCLE, Gp), Object(C.a)(Yp, Lr.FREEHAND, []), Yp), Qp = r(1); function $p(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var em = function (e) { Object(k.a)(r, e); var t = $p(r); function r(e) { var n; return Object(T.a)(this, r), (n = t.call(this)).drawing = !1, n.source = new oa.CustomDataSource, n.mapService = Td("map"), n.mapRenderingService = ma.create(), n.scene = n.mapRenderingService.getMap3DScene(), n.mode = void 0, n.polygonCoordinates = [], n.polygon = new oa.Entity({ polyline: { width: 2, material: oa.Color.DODGERBLUE }, polygon: { material: oa.Color.WHITE.withAlpha(.5) } }), n.boxCounter = 0, n.circleCenterPoint = new oa.Entity({ point: { pixelSize: 10, color: oa.Color.DODGERBLUE } }), n.mouseCenterPoint = new oa.Entity({ point: { pixelSize: 10, color: oa.Color.DODGERBLUE } }), n.circleBody = new oa.Entity({ ellipse: new oa.EllipseGraphics({ material: oa.Color.WHITE.withAlpha(.5) }) }), n.eventHandler = void 0, n.map = new wt.a({}), n.d2m_ = function (e) { var t = 20037508.34 * e[0] / 180, r = Math.log(Math.tan((90 + e[1]) * Math.PI / 360)) / (Math.PI / 180); return [t, r = 20037508.34 * r / 180] }, n.m2d_ = function (e) { return [180 * e[0] / 20037508.34, 360 * Math.atan(Math.exp(e[1] * Math.PI / 20037508.34)) / Math.PI - 90] }, n.mode = e, n.mapService.onMapReady(function (e) { n.map = e }), n.mapService.getDataSourceCollection().add(n.source), n.source.entities.add(n.mouseCenterPoint), n.mode !== Lr.POLYGON && n.mode !== Lr.BOX || n.source.entities.add(n.polygon), n.mode === Lr.CIRCLE && (n.source.entities.add(n.circleCenterPoint), n.source.entities.add(n.circleBody)), n.eventHandler = new oa.ScreenSpaceEventHandler(n.scene.canvas), n.eventHandler.setInputAction(n.handleCesiumClick.bind(Object(K.a)(n)), oa.ScreenSpaceEventType.LEFT_CLICK), n.eventHandler.setInputAction(n.handleCesiumMove.bind(Object(K.a)(n)), oa.ScreenSpaceEventType.MOUSE_MOVE), n.on("end", n.destroy.bind(Object(K.a)(n))), n } return Object(j.a)(r, [{ key: "abort", value: function () { this.destroy() } }, { key: "destroy", value: function () { this.mapService.getDataSourceCollection().remove(this.source), this.eventHandler.destroy() } }, { key: "handleCesiumClick", value: function (e) { (this.drawing ? this.addToDrawing : this.startDrawing).bind(this)(e) } }, { key: "pick", value: function (e) { return this.scene.camera.pickEllipsoid(e, this.scene.globe.ellipsoid) } }, { key: "startDrawing", value: function (e) { this.drawing = !0; var t = this.scene.camera.pickEllipsoid(e.position, this.scene.globe.ellipsoid); t && (this.mode === Lr.POLYGON ? this.polygonCoordinates = [].concat(Object(D.a)(this.polygonCoordinates), [t]) : this.mode === Lr.BOX ? (this.polygonCoordinates = [t], this.boxCounter++) : this.mode === Lr.CIRCLE && (this.circleCenterPoint.position = new oa.ConstantPositionProperty(t)), this.redraw()) } }, { key: "addToDrawing", value: function (e) { var t = this.pick(e.position); t && this.shouldFinish(t) ? (this.mode === Lr.POLYGON ? this.finishPolygon(t) : this.mode === Lr.BOX ? this.finishBox(e) : this.mode === Lr.CIRCLE && this.finishCircle(e), this.emit("end")) : (this.mode === Lr.POLYGON ? this.addToPolygon(e) : this.mode === Lr.BOX && this.addToBox(e), this.redraw()) } }, { key: "handleCesiumMove", value: function (e) { e.startPosition; var t = e.endPosition, r = this.scene.camera.pickEllipsoid(t, this.scene.globe.ellipsoid); this.mouseCenterPoint.position = new oa.ConstantPositionProperty(r), this.drawing && (this.mode === Lr.POLYGON && r ? this.handlePolygonCesiumMove(e, r) : this.mode === Lr.BOX && r ? this.handleBoxCesiumMove(e, r) : this.mode === Lr.CIRCLE && r && this.handleCircleCesiumMove(e, r)), this.redraw() } }, { key: "handlePolygonCesiumMove", value: function (e, t) { var r = [].concat(Object(D.a)(this.polygonCoordinates), [t]), n = new oa.PolylineGraphics({ positions: r, width: 2, material: oa.Color.DODGERBLUE }); this.polygon.polyline = n; var a = new oa.PolygonGraphics({ hierarchy: new oa.PolygonHierarchy(r), material: this.polygon.polygon.material }); this.polygon.polygon = a } }, { key: "addToPolygon", value: function (e) { var t = this.pick(e.position); t && (this.polygonCoordinates = [].concat(Object(D.a)(this.polygonCoordinates), [t])) } }, { key: "finishPolygon", value: function (e) { this.polygonCoordinates = [].concat(Object(D.a)(this.polygonCoordinates), [e]); var t = this.polygonCoordinates.map(function (e) { var t = oa.Cartographic.fromCartesian(e); return [oa.Math.toDegrees(t.longitude), oa.Math.toDegrees(t.latitude)] }); this.emit("polygonEnd", t) } }, { key: "handleBoxCesiumMove", value: function (e, t) { if (this.boxCounter > 1) { var r = [].concat(Object(D.a)(this.polygonCoordinates), [t]).map(function (e) { var t = oa.Cartographic.fromCartesian(e); return [oa.Math.toDegrees(t.longitude), oa.Math.toDegrees(t.latitude)] }), n = this.calculatePositions(r, r[2]).map(function (e) { return oa.Cartesian3.fromDegrees(e[0], e[1]) }), a = new oa.PolylineGraphics({ positions: n, width: 2, material: oa.Color.DODGERBLUE }); this.polygon.polyline = a; var o = new oa.PolygonGraphics({ hierarchy: new oa.PolygonHierarchy(n), material: this.polygon.polygon.material }); this.polygon.polygon = o } } }, { key: "addToBox", value: function (e) { this.addToPolygon(e), this.incrementBoxCounter() } }, { key: "finishBox", value: function (e) { this.addToPolygon(e); var t = this.polygonCoordinates.map(function (e) { var t = oa.Cartographic.fromCartesian(e); return [oa.Math.toDegrees(t.longitude), oa.Math.toDegrees(t.latitude)] }), r = this.calculatePositions(t, t[2]); this.emit("polygonEnd", r) } }, { key: "incrementBoxCounter", value: function () { this.boxCounter += 1 } }, { key: "calculatePositions", value: function (e, t) { var r = e[0], n = this.d2m_(r), a = e[1], o = this.d2m_(a), i = this.d2m_(t), c = this.d2m_(t); if (n[0] === o[0]) i = [c[0], o[1]]; else if (n[1] === o[1]) i = [o[0], c[1]]; else { var s = -1 / ((o[1] - n[1]) / (o[0] - n[0])); Math.abs(s) < 1 ? i[1] = s * (c[0] - o[0]) + o[1] : i[0] = o[0] + (i[1] - o[1]) / s } var u = [o[0] - n[0], o[1] - n[1]], l = [i[0] - u[0], i[1] - u[1]], f = this.m2d_(i), d = this.m2d_(l); return [e[0], e[1], [f[0], f[1]], [d[0], d[1]]] } }, { key: "handleCircleCesiumMove", value: function (e, t) { var r = oa.JulianDate.fromDate(new Date), n = this.circleCenterPoint.position.getValue(r); if (n) { var a = oa.Cartographic.fromCartesian(n), o = oa.Cartographic.fromCartesian(t), i = new oa.Cartographic(o.longitude, a.latitude), c = new oa.EllipsoidGeodesic(a, i, this.scene.globe.ellipsoid), s = new oa.EllipseGraphics({ semiMinorAxis: c.surfaceDistance, semiMajorAxis: c.surfaceDistance, material: oa.Color.WHITE.withAlpha(.5) }), u = new oa.ConstantPositionProperty(n); this.circleBody.position = u, this.circleBody.ellipse = s } } }, { key: "finishCircle", value: function (e) { var t = e.position, r = oa.JulianDate.fromDate(new Date), n = this.circleCenterPoint.position.getValue(r); if (n) { var a = this.scene.camera.pickEllipsoid(t, this.scene.globe.ellipsoid), o = a || new Qp.a(0, 0, 0), i = oa.Cartographic.fromCartesian(o), c = oa.Cartographic.fromCartesian(n), s = [oa.Math.toDegrees(c.longitude), oa.Math.toDegrees(c.latitude)], u = [oa.Math.toDegrees(i.longitude), oa.Math.toDegrees(i.latitude)]; this.emit("circleEnd", s, u) } } }, { key: "shouldFinish", value: function (e) { if (this.mode === Lr.POLYGON) { var t = this.polygonCoordinates[0], r = oa.Cartographic.fromCartesian(t), n = oa.Cartographic.fromCartesian(e), a = [oa.Math.toDegrees(r.longitude), oa.Math.toDegrees(r.latitude)], o = [oa.Math.toDegrees(n.longitude), oa.Math.toDegrees(n.latitude)], i = this.map.getPixelFromCoordinate(a), c = this.map.getPixelFromCoordinate(o); if (a) { var s = i[0] - c[0], u = i[1] - c[1]; return Math.sqrt(s * s + u * u) <= 12 } } else { if (this.mode === Lr.BOX) return this.boxCounter > 1; if (this.mode === Lr.CIRCLE) return !0 } return !1 } }, { key: "redraw", value: function () { this.scene.requestRender() } }]), r }(L.EventEmitter), tm = r(131), rm = r(255); var nm, am, om, im, cm = zp.create(), sm = Object(d.getClasses)("shapes", ["shapes-group", "group-items", "group-item", "group-item-disabled", "group-item-icon", "group-item-text"], []), um = Object(l.b)(void 0, { loadMessages: ye })(function (e) { var t = e.loadMessages, r = Td("map"), n = Object(d.useResponsiveSize)(), a = n.mobile, o = (n.desktop, Object(i.useCallback)(function (e) { var n, o = new em(e.type), i = Ya.create(), c = r.getMapDimension() === ci["2D"] ? function (r, c, s, u) { var l, f = Fp[e.type], d = f.shape, p = f.mutate; if (n = cm.setCurrentDrawing(d()), r.addInteraction(n), o.abort(), e.type === Lr.FREEHAND) throw new Error("Freehand shapes are not yet supported."); i.instruct.apply(i, Object(D.a)((l = e.type, Zp[l]))), n.on("drawend", function (o) { var s = p(e, o, r); t(s.toJS()), r.removeInteraction(n), a && Td("drawer").closeDrawer(), i.drop(), c() }) } : function (r, n, a, i) { var c = Fp[e.type], s = (c.shape, c.mutate); o.on("polygonEnd", function (a) { var o = new cp.b([a]), i = s(e, { feature: new Zn.a(o) }, r); t(i.toJS()), n() }), o.on("circleEnd", function (a, o) { var i = new tm.a([a, o]).getLength(), c = new rm.a(a, i), u = new Zn.a(c), l = s(e, { feature: u }, r); t(l.toJS()), n() }) }; r.performInteraction(c, function (e) { document.getElementsByTagName("html")[0].style.cursor = "", e.removeInteraction(n), o.abort(), i.drop() }, function (e, t) { document.getElementsByTagName("html")[0].style.cursor = "", e.removeInteraction(n), o.abort(), i.drop(), t() }) }, [r, a])); return c.a.createElement(d.DrawerLayout, null, c.a.createElement(d.DrawerHeader, { title: "Drawing Tools" }), c.a.createElement(op, { onSelectShape: o })) }), lm = function () { return c.a.createElement(d.NavigationController, { className: sm.BASE, root: um }) }, fm = (r(637), r(638), function (e) { var t = []; switch (e.type) { case Lr.POLYGON: case Lr.BOX: e.detail && e.detail.xml && e.detail.xml.link && Object.entries(e.detail.xml.link).forEach(function (e) { var r = Object(Xe.a)(e, 2), n = (r[0], r[1][L.XML_ATTRIBUTE_KEY]); if (n && n.point) { var a = n.point.split(","), o = Object(Xe.a)(a, 2), i = o[0], c = o[1]; t.push([Number(c), Number(i)]) } }); break; default: throw new Error("CoordinateDetail.GetCoordinates failed to get coordinates for type: ".concat(e.type)) }return t }), dm = Object(d.getClasses)("coordinate-detail", ["wrapper", "actions", "input", "coordinate-label", "label-wrapper"], []), pm = function (e, t) { var r = Object(Xe.a)(t, 2), n = r[0], a = r[1], o = Object(Xe.a)(e, 2); return [n - o[0], a - o[1]] }, mm = function (e) { var t, r = e.cot, n = e.onChange, a = e.canChange, o = void 0 === a || a, s = Td("map"), u = Object(i.useState)(L.CoordinateTypes.Degrees), l = Object(Xe.a)(u, 2), f = l[0], p = l[1], m = Object(d.className)(Object(d.prefix)("label"), Object(d.prefix)("label"), dm.BASE), h = Object(i.useContext)(Ba).isReadonly, v = Object(i.useCallback)(function () { var e = ma.create(); e.hasItem(r.uid) && e.getItem(r.uid).zoomToItem() }, [r]), g = Object(i.useCallback)(function (e) { e.preventDefault(), s.performInteraction(function (e, t, a, o) { document.getElementsByTagName("html")[0].style.cursor = "cell", a("click", function (e) { var a = [r.lon, r.lat], o = e.coordinate, i = pm(a, o); switch (r.type) { case Lr.POLYGON: case Lr.BOX: var c = fm(r), s = []; if (c.forEach(function (e) { s.push([e[0] += i[0], e[1] += i[1]]) }), n) { var u = r.withMutations(function (e) { var t = r.detail, n = (t.contact, t.xml), a = Br(r); if (!n) throw new Error("No xml"); var i = new mp(s).toJS(), c = n.fillColor, u = n.strokeWeight, l = n.height, f = n.strokeColor; i = Object(P.a)({}, i, { fillColor: c, strokeWeight: u, strokeColor: f, height: l }); var d = new ct.CotEventDetail({ contact: new ct.CotEventContact({ callsign: a, endpoint: "" }), xml: i, xmlDetail: null, takv: E() }); e.set("lon", o[0]).set("lat", o[1]).set("detail", d) }); n(u) } break; case Lr.CIRCLE: if (n) { var l = r.withMutations(function (e) { e.set("lon", o[0]).set("lat", o[1]) }); n(l) } }t(), document.getElementsByTagName("html")[0].style.cursor = "" }) }, function () { document.getElementsByTagName("html")[0].style.cursor = "" }, function () { document.getElementsByTagName("html")[0].style.cursor = "" }) }, [r, n]), b = (t = {}, Object(C.a)(t, L.CoordinateTypes.Degrees, function (e, t) { return "".concat(Number(e).toFixed(5), ", ").concat(Number(t).toFixed(5)) }), Object(C.a)(t, L.CoordinateTypes.MGRS, L.toMGRSString), Object(C.a)(t, L.CoordinateTypes.DMS, L.toDMSString), Object(C.a)(t, L.CoordinateTypes.DM, L.toDMString), Object(C.a)(t, L.CoordinateTypes.UTM, L.toUTMString), t), y = Object(i.useMemo)(function () { return f in b ? b[f](r.lat, r.lon) : Object(L.toDMSString)(r.lat, r.lon) }, [r, f, p]), O = Object(i.useMemo)(function () { return Object.entries(L.CoordinateTypes).map(function (e) { var t = Object(Xe.a)(e, 2), r = t[0], n = t[1], a = n === f, o = dm.Elements["coordinate-label"]; return a && (o += "--active"), c.a.createElement("small", { key: r, className: o, onClick: function () { return p(n) } }, r) }) }, [r, f, p]); return c.a.createElement("label", { className: m }, c.a.createElement("span", null, "Coordinate", c.a.createElement("div", { className: dm.Elements.actions }, c.a.createElement(d.Icon, { onClick: v, icon: "magnify-plus" }), o && !h && c.a.createElement(d.Icon, { onClick: g, icon: "cursor-move" }))), y, c.a.createElement("div", { className: dm.Elements["labels-wrapper"] }, O)) }, hm = (r(639), Object(d.getClasses)("callsign-detail", ["wrapper", "input"], [])), vm = function (e) { var t = e.cot, r = e.onChange, n = Object(d.className)(Object(d.prefix)("label"), Object(d.prefix)("label"), hm.BASE), a = Object(i.useState)(""), o = Object(Xe.a)(a, 2), s = o[0], u = o[1], l = Object(i.useContext)(Ba).isReadonly; Object(i.useEffect)(function () { var e = t.detail; if (e) { var r = e.getContact(); r && u(r.callsign) } return function () { } }, [t, u]); var f = Object(i.useCallback)(function (e) { var r = e.target.value; u(r); var n = t.detail; if (!n) return null; var a = n.setCallsign(r), o = t.set("detail", a); p(o) }, [t, r, u]), p = Object(i.useCallback)(Object(L.debounce)(r, 500), [t, r]); return c.a.createElement("label", { className: n }, c.a.createElement("span", null, "Callsign"), c.a.createElement("div", { className: hm.Elements.wrapper }, c.a.createElement(d.TextInput, { disabled: l, className: hm.Elements.input, onChange: l ? function () { } : f, value: s }))) }, gm = (r(640), r(641), Object(d.getClasses)("color-slider-detail", ["slider-controls", "slider-control", "slider-preview"], [])), bm = function (e) { var t = e.rgba, r = e.onChange, n = e.disabled, a = void 0 !== n && n, o = Object(i.useState)(t[0]), s = Object(Xe.a)(o, 2), u = s[0], l = s[1], f = Object(i.useState)(t[1]), p = Object(Xe.a)(f, 2), m = p[0], h = p[1], v = Object(i.useState)(t[2]), g = Object(Xe.a)(v, 2), b = g[0], y = g[1], E = Object(i.useState)(t[3]), O = Object(Xe.a)(E, 2), S = O[0], w = O[1]; c.a.useEffect(function () { l(t[0]), h(t[1]), y(t[2]), w(t[3]) }, [l, h, y, w, t, r]); var A = function (e) { r(e) }; return c.a.createElement("div", { className: gm.BASE }, c.a.createElement("div", { className: gm.Elements["slider-controls"] }, c.a.createElement("div", { className: gm.Elements["slider-control"] }, c.a.createElement("span", null, "R ".concat(u)), c.a.createElement("input", { className: Object(d.prefix)("slider"), type: "range", min: 0, max: 255, value: u, onChange: function (e) { if (!a) { var t = Number(e.target.value); l(t), A([t, m, b, S]) } } })), c.a.createElement("div", { className: gm.Elements["slider-control"] }, c.a.createElement("span", null, "G ".concat(m)), c.a.createElement("input", { className: Object(d.prefix)("slider"), type: "range", min: 0, max: 255, value: m, onChange: function (e) { if (!a) { var t = Number(e.target.value); h(t), A([u, t, b, S]) } } })), c.a.createElement("div", { className: gm.Elements["slider-control"] }, c.a.createElement("span", null, "B ".concat(b)), c.a.createElement("input", { className: Object(d.prefix)("slider"), type: "range", min: 0, max: 255, value: b, onChange: function (e) { if (!a) { var t = Number(e.target.value); y(t), A([u, m, t, S]) } } })), c.a.createElement("div", { className: gm.Elements["slider-control"] }, c.a.createElement("span", null, "A ".concat((S / 255).toFixed(1))), c.a.createElement("input", { className: Object(d.prefix)("slider"), type: "range", min: 0, max: 255, value: S, onChange: function (e) { if (!a) { var t = Number(e.target.value); w(t), A([u, m, b, t]) } } }))), c.a.createElement("div", { style: { backgroundColor: "rgba(".concat(u, ", ").concat(m, ", ").concat(b, ", 1)") }, className: gm.Elements["slider-preview"] })) }, ym = function (e, t) { return e.strokeColor = Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { value: Object(L.rgbaToCot)([t[0], t[1], t[2], 255]) }), e.fillColor = Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { value: Object(L.rgbaToCot)(t) }), e }, Em = (nm = {}, Object(C.a)(nm, Lr.POLYGON, ym), Object(C.a)(nm, Lr.BOX, ym), Object(C.a)(nm, Lr.CIRCLE, function (e, t) { var r = t.slice(0, 3), n = Object(Xe.a)(r, 3), a = n[0], o = n[1], i = n[2], c = Object(L.rgbaToCot)([a, o, i, 255]), s = Object(L.rgbaToCot)(t); return e.shape.link.Style.LineStyle.color[L.XML_TEXT_KEY] = "".concat(c), e.shape.link.Style.PolyStyle.color[L.XML_TEXT_KEY] = Object(L.decToHex)(s), e.fillColor[L.XML_ATTRIBUTE_KEY].value = s, e.strokeColor[L.XML_ATTRIBUTE_KEY].value = s, e }), Object(C.a)(nm, Lr.FREEHAND, function (e, t) { return null }), nm), Om = function (e, t) { return e.withMutations(function (r) { if (Object.values(Lr).includes(e.type)) { var n = e.detail; if (n && n.xml) { var a = n.xml; a = Em[e.type](a, t); var o = n.set("xml", a); r.set("detail", o) } } }) }, Sm = function (e, t) { var r = t.detail; if (r && r.xml) { var n = r.xml.strokeWeight; return n ? n[L.XML_ATTRIBUTE_KEY].value : e } return e }, wm = (am = {}, Object(C.a)(am, Lr.POLYGON, Sm), Object(C.a)(am, Lr.BOX, Sm), Object(C.a)(am, Lr.CIRCLE, function (e, t) { var r = t.detail; if (r && r.xml) { var n = r.xml.shape; return n ? parseFloat(n.link.Style.LineStyle.width[L.XML_TEXT_KEY]) : e } return e }), Object(C.a)(am, Lr.FREEHAND, function () { }), am), Am = function (e) { var t = -1; return Object.values(Lr).includes(e.type) && (t = wm[e.type](t, e)), t }, Cm = (r(642), Object(d.getClasses)("thickness-slider-detail", ["slider-controls", "slider-control", "slider-preview"], [])), Tm = function (e) { var t = e.strokeWeight, r = e.onChange, n = e.disabled, a = void 0 !== n && n, o = Object(i.useState)(t), s = Object(Xe.a)(o, 2), u = s[0], l = s[1]; c.a.useEffect(function () { l(t) }, [l, t, r]); var f = function (e) { r(e) }; return c.a.createElement("div", { className: Cm.BASE }, c.a.createElement("div", { className: Cm.Elements["slider-controls"] }, c.a.createElement("div", { className: Cm.Elements["slider-control"] }, c.a.createElement("span", null, "".concat(u)), c.a.createElement("input", { className: Object(d.prefix)("slider"), type: "range", min: 0, max: 6, value: u, onChange: function (e) { if (!a) { var t = Number(e.target.value); l(t), f(t) } } })))) }, jm = function (e, t) { return e.strokeWeight = Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { value: t }), e }, km = (om = {}, Object(C.a)(om, Lr.POLYGON, jm), Object(C.a)(om, Lr.BOX, jm), Object(C.a)(om, Lr.CIRCLE, function (e, t) { return e.shape.link.Style.LineStyle.width = Object(C.a)({}, L.XML_TEXT_KEY, String(t)), e.strokeWeight[L.XML_ATTRIBUTE_KEY].value = String(t), e }), Object(C.a)(om, Lr.FREEHAND, null), om), Rm = function (e, t) { return e.withMutations(function (r) { if (Object.values(Lr).includes(e.type)) { var n = e.detail; if (n && n.xml) { var a = n.xml; a = km[e.type](a, t); var o = n.set("xml", a); r.set("detail", o) } } }) }, Nm = Object(d.getClasses)("color-detail", ["colors", "color-block", "input-block", "input-block-error", "advanced-button"], []), Lm = ["white", "yellow", "orange", "brown", "red", "purple", "blue", "cyan", "green", "gray", "black"], _m = /(^#[0-9A-F]{6}$)/i, Im = function (e) { var t = e.cot, r = e.onChange, n = Mo(t), a = Object(i.useState)(Am(t)), o = Object(Xe.a)(a, 2), s = o[0], u = o[1], l = Object(i.useState)(Object(L.cotColorToRGBA)(n)), f = Object(Xe.a)(l, 2), p = f[0], m = f[1], h = ["r", "g", "b"].map(function (e, t) { return Object(L.byteToHex)(p[t]) }).join(""), v = Object(i.useState)(h), g = Object(Xe.a)(v, 2), b = g[0], y = g[1], E = Object(i.useState)(!1), O = Object(Xe.a)(E, 2), S = O[0], w = O[1], A = Object(i.useState)(!1), C = Object(Xe.a)(A, 2), T = (C[0], C[1], Object(i.useContext)(Ba).isReadonly); Object(i.useEffect)(function () { var e = Mo(t), r = Am(t), n = Object(L.cotColorToRGBA)(e); m(n); var a = ["r", "g", "b"].map(function (e, t) { return Object(L.byteToHex)(n[t]) }).join(""); y(a), u(r) }, [t]); var j = function (e) { r(e) }, k = function (e, t) { var r = t(e); return r[3] = p[3], r }, R = Object(L.debounce)(function (e) { m(e), y(["r", "g", "b"].map(function (t, r) { return Object(L.byteToHex)(e[r]) }).join("")), w(!1), j(Om(t, e)) }, 100), N = Object(L.debounce)(function (e) { u(e), j(Rm(t, e)) }, 100), _ = Object(d.className)(Nm.Elements["input-block"]); return S && (_ = _.concat(" ".concat(Nm.Elements["input-block-error"]))), c.a.createElement("div", { className: Nm.BASE }, c.a.createElement("label", { className: Object(d.className)(Object(d.prefix)("label")) }, c.a.createElement("span", null, "Color")), c.a.createElement(c.a.Fragment, null, c.a.createElement("div", { className: Nm.Elements.colors }, Lm.map(function (e) { var r = { backgroundColor: e }; return c.a.createElement("div", { key: e, style: r, onClick: function () { return T ? null : function (e) { var r = k(e, L.colorToRGBA); m(r), y(["r", "g", "b"].map(function (e, t) { return Object(L.byteToHex)(r[t]) }).join("")), w(!1), j(Om(t, r)) }(e) }, className: Nm.Elements["color-block"] }) }), c.a.createElement("div", { className: "".concat(Nm.BASE, "__hex-icon") }, c.a.createElement(d.Icon, { icon: S ? "warning" : "pound" })), c.a.createElement("div", { className: _ }, c.a.createElement(d.TextInput, { disabled: T, onChange: T ? function () { } : function (e) { var r = e.target.value, n = "#".concat(r); if (y(r), _m.test(n)) { var a = k(n, L.hexToRgba); w(!1), m(a), j(Om(t, a)) } else w(!0) }, value: b, placeholder: "hex color code" }))), c.a.createElement("label", { className: Object(d.className)(Object(d.prefix)("label")) }, c.a.createElement("span", null, "Thickness"), c.a.createElement(Tm, { disabled: T, onChange: N, strokeWeight: s })), c.a.createElement(d.Card, { title: "advanced", defaultOpen: !1, collapsible: !0 }, c.a.createElement(bm, { disabled: T, onChange: R, rgba: p })))) }, Mm = Object(d.getClasses)("remark-detail", [], []), xm = Object(d.className)(Object(d.prefix)("label"), Object(d.prefix)("label"), Mm.BASE), Dm = function (e) { var t = e.cot, r = e.onChange, n = Object(i.useState)(""), a = Object(Xe.a)(n, 2), o = a[0], s = a[1], u = Object(i.useContext)(Ba).isReadonly; Object(i.useEffect)(function () { var e = t.detail; return e && s(e.getRemarks()), function () { } }, [t, s]); var l = Object(i.useCallback)(Object(L.debounce)(r, 500), [t, r]), f = Object(i.useCallback)(function (e) { var r = e.target.value; s(r); var n = t.detail; if (!n) return null; var a = n.setRemarks(r), o = t.set("detail", a); l(o) }, [t, r, s]); return c.a.createElement("label", { className: xm }, c.a.createElement("span", null, "Remarks"), c.a.createElement(d.TextInput, { disabled: u, multi: !0, onChange: u ? function () { } : f, value: o })) }, Pm = Object(d.getClasses)("shapes-detail-drawer", ["header", "section-card", "footer"], []), Um = Object(l.b)(void 0, { loadMessages: ye })(function (e) { var t = e.loadMessages, r = Object(i.useState)(Td("drawer").getCtx()), n = Object(Xe.a)(r, 2), s = n[0], u = n[1], l = Object(i.useState)(!1), f = Object(Xe.a)(l, 2), p = f[0], m = f[1], h = Object(i.useContext)(Ba).isReadonly; xa(Td("drawer"), "drawer-change", function (e, t) { u(t) }, [s, u]), Object(i.useEffect)(function () { if (s) { var e = function (e) { return function (e, t) { return !(e.uid !== t.uid) }(e, s) }, t = function (t) { var r = new ct.CotEvent(Object(P.a)({}, t, { detail: t.detail ? Object(L.safeConstruct)(ct.CotEventDetail, t.detail) : null })); e(r) && function (e) { u(e) }(r) }; return Td("socket").on("message", t), function () { return Td("socket").off("message", t) } } }, [s, u]); var v = Object(i.useCallback)(Object(L.debounce)(function (e) { e instanceof ct.CotEvent && (u(e), t(e.toJS())) }, 100), [s]), g = Object(i.useCallback)(Object(o.a)(a.a.mark(function e() { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, Sn.create().sendMessage(s.toJS()); case 2: case "end": return e.stop() } }, e) })), [s]); if (!s || !(s instanceof ct.CotEvent)) return null; return c.a.createElement(c.a.Fragment, null, c.a.createElement(d.DrawerLayout, null, c.a.createElement(d.DrawerHeader, { onCollapse: function () { return Td("drawer").closeDrawer() }, className: Object(d.className)(Pm.Elements.header), title: "".concat(function (e) { switch (e) { case Lr.POLYGON: return "Polygon"; case Lr.CIRCLE: return "Circle"; case Lr.BOX: return "Box"; case Lr.FREEHAND: return "Freehand" } }(s.type), " Details") }), c.a.createElement(d.Card, { title: " ", className: Pm.Elements["section-card"] }, c.a.createElement(vm, { onChange: v, cot: s }), c.a.createElement(mm, { onChange: v, cot: s }), c.a.createElement(ac, { cot: s })), !h && c.a.createElement(d.Card, { title: " ", className: Pm.Elements["section-card"] }, c.a.createElement(Im, { onChange: v, cot: s })), c.a.createElement(d.Card, { title: " ", className: Pm.Elements["section-card"] }, c.a.createElement(Dm, { onChange: v, cot: s })), !h && c.a.createElement(d.DrawerFooter, { className: Object(d.className)(Pm.Elements.footer) }, c.a.createElement(cc, { text: "broadcast", onClick: g }), c.a.createElement(d.Button.Primary, { onClick: function () { return m(!0) } }, "Send"), c.a.createElement(d.Button.Danger, { onClick: function () { if (confirm("Are you Sure")) { var e = Td("drawer").getActiveDrawer(); if (sn().dispatch(Ee(s.toJS())), Td("menu").closeMenu(), e) { var t = Td("drawer").getCtx(); oe(t) && t.uid === s.uid && Td("drawer").closeDrawer() } } } }, "Remove"))), c.a.createElement(fc, { cot: s, onClose: function () { return m(!1) }, isOpen: p })) }), Bm = function () { return c.a.createElement(d.NavigationController, { className: Pm.BASE, root: Um }) }, Fm = function () { var e = Object(L.uuid)(5), t = function (t) { var r = t.filter(function (e) { return Object.values(Lr).includes(e.type) }); function n(t, r, n) { var a = function (t, r) { return t.map(function (t) { return t.get("detail").getContact(), new $s({ registryKey: e, icon: r, title: Br(t), nodeChildren: [], mapItemId: t.uid, props: { cotUid: t.uid } }) }).toArray() }(n(), r); return new $s({ registryKey: e, icon: r, title: t, nodeChildren: a }) } var a = n("Polygon", "shape-polygon-plus", function () { return r.filter(function (e) { return e.type === Lr.POLYGON }) }), o = n("Circle", "shape-circle-plus", function () { return r.filter(function (e) { return e.type === Lr.CIRCLE }) }), i = n("Box", "shape-rectangle-plus", function () { return r.filter(function (e) { return e.type === Lr.BOX }) }); return new $s({ registryKey: e, icon: "shape-plus", title: "Shapes", nodeChildren: [a, o, i].filter(function (e) { return e.nodeChildren.length }) }) }, r = sn(), n = r.getState().events.getEvents(), a = { id: e, tree: function () { return t(n) }, onItemClick: function (e) { var t = e.props; if (t) { var r = ma.create(); if (r.hasItem(t.cotUid)) { var n = r.getItem(t.cotUid); n.zoomToItem(), n.onClick(void 0, []) } } }, onDelete: function (e) { return e.forEach(function (e) { sn().dispatch(Ee(e.getCot().toJS())) }), !0 } }; r.subscribe(function () { var a = r.getState().events.getEvents().filter(function (e) { return Object.values(Lr).includes(e.type) }); n.equals(a) || (Td("overlays").updateNode(e, function () { return t(a) }), n = a) }), eu(a) }; function Vm(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var Hm = (im = {}, Object(C.a)(im, Lr.POLYGON, "Polygon"), Object(C.a)(im, Lr.CIRCLE, "Circle"), Object(C.a)(im, Lr.BOX, "Box"), Object(C.a)(im, Lr.FREEHAND, "Freehand"), im), Gm = function (e) { Object(k.a)(r, e); var t = Vm(r); function r(e) { return Object(T.a)(this, r), t.call(this, e) } return Object(j.a)(r, [{ key: "onClick", value: function (e, t) { Jm(this.cot, e), this.showInfo(e, Object(C.a)({}, "Shape Type", Hm[this.cot.type])) } }, { key: "zoomToItem", value: function () { var e = this.getExtent(); Object(zn.a)(Object(N.a)(r.prototype), "zoomToItem", this).call(this), e && Jm(this.cot, { coordinate: Object(aa.w)(e) }) } }, { key: "getIcon", value: function () { var e = ""; try { var t = Object(L.cotColorToRGBA)(Mo(this.cot)); e = "rgba(".concat(t.join(), ")") } catch (fA) { } switch (this.cot.type) { case Lr.POLYGON: return Object(d.toURL)(Object(d.inlineSvg)("shape-polygon-plus", { fill: e })); case Lr.CIRCLE: return Object(d.toURL)(Object(d.inlineSvg)("shape-circle-plus", { fill: e })); case Lr.BOX: return Object(d.toURL)(Object(d.inlineSvg)("shape-rectangle-plus", { fill: e })); default: return Object(zn.a)(Object(N.a)(r.prototype), "getIcon", this).call(this) } } }, { key: "render", value: function () { switch (this.cot.type) { case Lr.BOX: case Lr.POLYGON: !function (e) { var t = e.getCot(), r = e.getVectorLayer(); if (t.detail.xml) { var n = new Zn.a; n.setProperties({ cotUid: t.uid, rgbaColor: e.getRgbaColor(), strokeWeight: e.getStrokeWeight(), callsign: Br(t) }), n.setStyle(function (e, t) { var r = e.getProperties().rgbaColor, n = e.getProperties().strokeWeight, a = e.getProperties().callsign, o = t >= .01; return new Ei.c({ stroke: new wi.a({ color: "rgba(".concat(r[0], ", ").concat(r[1], ", ").concat(r[2], ", 1)"), width: 1 * n }), fill: new Si.a({ color: "rgba(".concat(r[0], ", ").concat(r[1], ", ").concat(r[2], ", ").concat(r[3] / 255, ")") }), text: new Oc.a({ text: o ? "" : "".concat(a), fill: new Si.a({ color: "#fff" }), stroke: new wi.a({ color: "#313131", width: 5 }) }) }) }); var a = e.getPolygonCoords(t); n.setGeometry(new cp.b([a])); var o = new Zn.a({ cotUid: t.uid }); n.setId("".concat(t.uid)), o.setId("".concat(t.uid, "-polygon-center")), e.setFeatures([n, o]), o.setGeometry(new yc.a([t.lon, t.lat])), r.setZIndex(xr.MARKER), e.getVectorSource().addFeatures([n, o]) } }(this); break; case Lr.CIRCLE: !function (e) { var t = e.getCot(), r = e.getVectorLayer(), n = e.getMap(), a = t.detail, o = a.xml; if (o) { var i = "", c = a.getContact(); c && c.callsign && Object(L.isString)(c.callsign) && (i = c.callsign); var s = new Zn.a; s.setProperties({ cotUid: t.uid, mapItemId: e.id }); var u = o.shape.link.Style.PolyStyle.color[L.XML_TEXT_KEY], l = Number(o.shape.link.Style.LineStyle.width[L.XML_TEXT_KEY]), f = Object(L.cotColorToRGBA)(parseInt("0x".concat(u), 16)), d = function (e, t) { var r = t >= .01; return new Ei.c({ stroke: new wi.a({ color: "rgba(".concat(f[0], ", ").concat(f[1], ", ").concat(f[2], ", 1)"), width: 1 * l }), fill: new Si.a({ color: "rgba(".concat(f[0], ", ").concat(f[1], ", ").concat(f[2], ", ").concat(f[3] / 255, ")") }), text: new Oc.a({ text: r ? "" : "".concat(i), fill: new Si.a({ color: "#fff" }), stroke: new wi.a({ color: "#313131", width: 5 }) }) }) }; s.setStyle(d); var p = [t.lon, t.lat], m = function (e) { var r = new Zn.a({ cotUid: t.uid }); r.setStyle(d); var a = e[L.XML_ATTRIBUTE_KEY].major, o = n.getView().getProjection().getMetersPerUnit(); if ("undefined" === typeof o) throw new Error("circleRenderer(): map source undefined"); var i = a / o; return r.setGeometry(new rm.a(p, i)), r }, h = []; Array.isArray(o.shape.ellipse) ? h = o.shape.ellipse.map(function (e, r) { var n = m(e); return 0 === r ? n.setId(t.uid) : n.setId("".concat(t.uid, "-").concat(r)), n }) : (h = [m(o.shape.ellipse)])[0].setId(t.uid); var v = new Zn.a({ cotUid: t.uid }); e.setFeatures([].concat(Object(D.a)(h), [v])), v.setGeometry(new yc.a(p)), r.setZIndex(xr.MARKER), e.getVectorSource().addFeatures([].concat(Object(D.a)(h), [v])) } }(this); break; default: return } } }, { key: "getPolygonCoords", value: function (e) { var t = e.detail.xml; if (!t) return console.error("ShapeCotMapItem.getPolygonCoords: NO XML"), []; var r = []; return Object.entries(t.link).forEach(function (e) { var t = Object(Xe.a)(e, 2), n = (t[0], t[1][L.XML_ATTRIBUTE_KEY]); if (n && n.point) { var a = n.point.split(","), o = Object(Xe.a)(a, 2), i = o[0], c = o[1]; r.push([Number(c), Number(i)]) } }), r } }, { key: "update", value: function (e) { var t = this; switch (this.cot = e, this.cot.type) { case Lr.BOX: case Lr.POLYGON: var r = this.getFeatures(), n = Object(Xe.a)(r, 2), a = n[0], o = n[1]; if (a && o) { a.setProperties({ cotUid: this.cot.uid, rgbaColor: this.getRgbaColor(), strokeWeight: this.getStrokeWeight(), callsign: Br(this.cot) }); var i = this.getPolygonCoords(this.cot), c = a.getGeometry(); c && c.setCoordinates([i]); var s = o.getGeometry(); s && s.setCoordinates([this.cot.lon, this.cot.lat]) } break; case Lr.CIRCLE: var u = this.getFeatures(); u && u.forEach(function (e) { t.getVectorSource().removeFeature(e) }), this.render(); break; default: return } } }, { key: "getRgbaColor", value: function () { var e = this.cot.detail.xml; if (e) { var t = [0, 0, 0, 1], r = e.fillColor; if (r && Object(L.isObject)(r[L.XML_ATTRIBUTE_KEY])) { var n = r[L.XML_ATTRIBUTE_KEY]; n && (t = Object(L.cotColorToRGBA)(Number(n.value))) } return t } } }, { key: "getStrokeWeight", value: function () { var e = this.cot.detail.xml; if (e) { var t = 1, r = e.strokeWeight; if (r && Object(L.isObject)(r[L.XML_ATTRIBUTE_KEY])) { var n = r[L.XML_ATTRIBUTE_KEY]; n && (t = Number(n.value)) } return t } } }, { key: "getMap", value: function () { return this.map } }, { key: "getVectorSource", value: function () { return Object(zn.a)(Object(N.a)(r.prototype), "getVectorSource", this).call(this) } }]), r }(Li), qm = function () { Object.values(Lr).forEach(function (e) { Td("cotRender").registerMarkerRenderer(e, Gm) }), Fm() }, Km = !1, zm = new xi({ displayName: "Drawing Tools", name: "shapes", mount: function () { return c.a.createElement(lm, null) }, unmount: function () { } }), Ym = new xi({ displayName: "Shape Details", name: "shape-details", mount: function () { return c.a.createElement(Bm, null) }, unmount: function () { } }), Wm = function (e) { var t = Td("drawer").getActiveDrawer(); return t && t.getName() === e.name && Td("drawer").isOpen() }, Xm = function (e, t, r, n) { var a = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : []; a = [].concat(Object(D.a)(a), Object(D.a)(function (e, t) { var r = Ua.create().getUserRoles().includes(Ca.ROLE_READONLY), n = { icon: Object(d.toURL)(Object(d.inlineSvg)("format-list-bulleted", { fill: "black" })), onClick: function () { Ym.open(e), Td("menu").closeMenu() } }, a = { icon: Object(d.toURL)(Object(d.inlineSvg)("cursor-move", { fill: "black" })), onClick: function () { Td("menu").closeMenu(), Td("map").performInteraction(function (t, r, n, a) { document.getElementsByTagName("html")[0].style.cursor = "cell", n("click", function (t) { var n = [e.lon, e.lat], a = t.coordinate, o = pm(n, a); switch (e.type) { case Lr.POLYGON: case Lr.BOX: var i = fm(e), c = []; i.forEach(function (e) { c.push([e[0] += o[0], e[1] += o[1]]) }); var s = e.withMutations(function (t) { var r = e.detail.xml, n = Br(e); if (!r) throw new Error("No xml"); var o = new mp(c).toJS(), i = r.fillColor, s = r.strokeWeight, u = r.height, l = r.strokeColor; o = Object(P.a)({}, o, { fillColor: i, strokeWeight: s, strokeColor: l, height: u }); var f = new ct.CotEventDetail({ contact: new ct.CotEventContact({ callsign: n, endpoint: "" }), xml: o, xmlDetail: null, takv: E() }); t.set("lon", a[0]).set("lat", a[1]).set("detail", f) }); sn().dispatch(ye(s.toJS())); break; case Lr.CIRCLE: var u = e.withMutations(function (e) { e.set("lon", a[0]).set("lat", a[1]) }); sn().dispatch(ye(u.toJS())) }r(), document.getElementsByTagName("html")[0].style.cursor = "" }) }, function () { document.getElementsByTagName("html")[0].style.cursor = "" }, function () { document.getElementsByTagName("html")[0].style.cursor = "" }) } }; return r ? [n] : [n, Cu(e), a] }(r))); var o = n ? n.coordinate : [r.lon, r.lat]; Td("menu").openMenu(o, a) }, Jm = function (e, t) { return Xm(Ym, Wm, e, t) }; var Zm, Qm; r(397); !function (e) { e[e.TOP = 0] = "TOP", e[e.MIDDLE = 1] = "MIDDLE", e[e.BOTTOM = 2] = "BOTTOM" }(Zm || (Zm = {})), function (e) { e[e.VIS = 0] = "VIS", e[e.DEL = 1] = "DEL", e[e.EXP = 2] = "EXP" }(Qm || (Qm = {})); r(643), r(644); var $m = Object(d.getClasses)("overlay-action", [], ["large"]), eh = function (e) { var t = e.onClick, r = e.icon, n = e.large, a = Object(d.className)($m.BASE, Object(C.a)({}, $m.Modifiers.large, !!n)); return c.a.createElement(d.Icon, { className: a, onClick: t, icon: r }) }, th = function (e) { var t = e.actions.map(function (e, t) { var r = e.onClick, n = e.icon; return c.a.createElement(eh, { key: t, onClick: Object(L.safelyHandle)(r), icon: n, large: !0 }) }); return c.a.createElement("div", null, t) }, rh = function (e, t) { return t > 0 && !e ? { checked: !1, indeterminate: !1 } : t && e ? { checked: !1, indeterminate: !0 } : e && !t ? { checked: !0, indeterminate: !1 } : void 0 }, nh = { FEEDS: "".concat(Object(L.uuid)(5), "-feeds") }, ah = Object(d.getClasses)("overlay-item", ["toggle", "container", "info", "info-card", "info-left", "into-title", "info-right", "info-icon", "info-sub-ctx", "info-sub-ctx-item", "info-collapse-icon", "collapse-divider", "collapse", "actions"], []), oh = Object(C.a)({}, nh.FEEDS, !0), ih = function (e, t) { var r = ma.create(); e.forEach(function (e) { if (e.mapItemId && r.hasItem(e.mapItemId)) { var n = r.getItem(e.mapItemId); t(n, e) } }) }, ch = function (e, t, r) { if (e === Qm.VIS) { var n = 0, a = 0; return ih(t, function (e) { e.getVisible() ? n++ : a++ }), rh(n, a) } if (e === Qm.EXP || e === Qm.DEL) { var o = r.getState().selectedItems, i = 0, c = 0; return ih(t, function (e) { e.id in o ? i++ : c++ }), rh(i, c) } return { checked: !1, indeterminate: !1 } }, sh = kf.create(), uh = function (e) { var t = e.node, r = e.depth, n = Object(i.useContext)(d.NavigationContext), a = n.getState(), o = a.mode, s = a.searchTerm, u = Object(i.useState)(!1), l = Object(Xe.a)(u, 2), f = l[0], p = l[1], m = Object(d.useResponsiveSize)().mobile, h = t.icon, v = t.title, g = t.nodeChildren, b = t.actions, y = t.registryKey, E = t.id, O = sh.getRegistryFunctions(y), S = new $s(t).leafs(), w = Object(i.useState)(ch(o, S, n)), A = Object(Xe.a)(w, 2), T = A[0], j = A[1]; Object(i.useEffect)(function () { j(ch(o, S, n)) }, [o, j, s]), xa(sh, "forceupdate", function () { j(ch(o, S, n)) }, [ch, sh, j, T, y, o, s]); var k = function () { return O && O.onItemClick ? O.onItemClick(new $s(t)) : alert('I am a bottom level node. Please register an "onItemClick" for this tree.') }, R = r === Zm.BOTTOM || s || t.registryKey in oh ? function () { k(), m && Td("drawer").closeDrawer() } : function (e) { n.push(function () { return c.a.createElement(wh, { title: v, nodeChildren: g, registryKey: y, id: E }) }) }, N = Object(i.useMemo)(function () { return function (e) { var t = 0; return e.nodeChildren.forEach(function (e) { var r = new $s(e).leafs(); r.length && (t += r.length) }), t }(new $s(t)) }, [t]), _ = b && b.length ? b : void 0, I = Object(i.useMemo)(function () { return h && "string" === typeof h && h in d.iconPaths ? c.a.createElement(d.Icon, { className: ah.Elements["info-icon"], icon: h, color: "white" }) : h && "string" === typeof h ? c.a.createElement("img", { className: ah.Elements["info-icon"], src: h, alt: "" }) : h && "function" === typeof h ? c.a.createElement("img", { className: ah.Elements["info-icon"], src: h(), alt: "" }) : null }, [h]); return c.a.createElement("div", { className: ah.BASE }, c.a.createElement("div", { className: ah.Elements.container }, !t.disableToggle && c.a.createElement(d.Checkbox, Object.assign({ className: ah.Elements.toggle, onChange: function (e) { e.stopPropagation(), function (e, t, r, n) { var a, o = function () { var e = n.getState().selectedItems; ih(t, function (t, n) { var a = t.id, o = a in e; o && !r ? delete e[a] : !o && r && (e = Object(P.a)({}, e, Object(C.a)({}, a, { mapItem: t, node: n }))) }), n.setState({ selectedItems: e }) }, i = (a = {}, Object(C.a)(a, Qm.VIS, function () { ih(t, function (e) { return e.setVisibility(r) }) }), Object(C.a)(a, Qm.EXP, function () { o() }), Object(C.a)(a, Qm.DEL, function () { o() }), a); if (!Object.values(Qm).includes(e)) throw new Error("CheckboxDispatcher: unrecognized mode"); i[e]() }(o, S, e.target.checked, n), sh.forceUpdateTree() } }, T)), c.a.createElement("div", { className: ah.Elements["info-card"] }, c.a.createElement("div", { className: ah.Elements.info, onClick: R }, c.a.createElement("div", { className: ah.Elements["info-left"] }, I, c.a.createElement("div", { className: ah.Elements["into-title"] }, v)), c.a.createElement("div", { className: ah.Elements["info-right"] }, c.a.createElement("div", { className: ah.Elements["info-sub-ctx"] }, N > 0 && c.a.createElement("div", { className: ah.Elements["info-sub-ctx-item"] }, c.a.createElement(d.Icon, { icon: "file-tree" }), N), _ && c.a.createElement(d.Icon, { className: ah.Elements["info-collapse-icon"], onClick: Object(L.safelyHandle)(function () { return p(!f) }), icon: "dots-vertical" })))), _ && c.a.createElement(d.Collapse, { className: ah.Elements.collapse, isOpen: f }, c.a.createElement("hr", { className: ah.Elements["collapse-divider"] }), c.a.createElement(th, { actions: _ }))))) }, lh = function (e) { for (var t = 0; t < e.length; t++)if (e[t].nodeChildren.length) return !0; return !1 }, fh = function (e, t) { return e.isRoot() ? Zm.TOP : lh(t) ? Zm.MIDDLE : Zm.BOTTOM }, dh = (r(645), Object(d.getClasses)("overlay-search", ["search"], [])), ph = function () { var e = Object(i.useContext)(d.NavigationContext).getState().setSearchTerm, t = Object(i.useCallback)(function (t) { e(t.currentTarget.value) }, [e]); return c.a.createElement("div", { className: dh.BASE }, c.a.createElement("input", { onChange: t, autoCorrect: "false", autoComplete: "off", spellCheck: !1, placeholder: "search overlays...", type: "text", name: "header-input" })) }, mh = (r(646), function (e) { var t = e.title, r = e.icon, n = e.fn; return c.a.createElement(d.Button.Primary, { small: !0, onClick: n }, c.a.createElement(d.Icon, { icon: r }), " ", t) }), hh = Object(d.getClasses)("overlay-mode-switcher", [], []), vh = function (e) { Object(ud.a)(e); var t = Object(i.useContext)(d.NavigationContext).getState(), r = t.setMode, n = t.modeSwitcherOpen, a = t.setModeSwitcherOpen; return c.a.createElement(d.Collapse, { unmountOnExit: !0, className: hh.BASE, isOpen: n }, c.a.createElement(mh, { title: "Delete", icon: "delete-outline", fn: Object(L.safelyHandle)(function () { return e = Qm.DEL, r(e), void a(!1); var e }) })) }, gh = (r(647), Object(d.getClasses)("overlay-context-menu", [], [])), bh = function (e) { var t = e.title, r = e.icon, n = e.onClick, a = e.onEnd, o = e.danger, i = void 0 !== o && o ? d.Button.Danger : d.Button; return c.a.createElement("div", { className: gh.BASE }, c.a.createElement(i, { onClick: n, small: !0 }, c.a.createElement(d.Icon, { icon: r }), " ", t), c.a.createElement(d.Button, { onClick: a, small: !0 }, "Cancel")) }, yh = function (e) { var t = e.nodes, r = (e.registryKey, Object(i.useContext)(d.NavigationContext)), n = kf.create(), a = r.getState(), o = a.mode, s = a.setMode, u = a.selectedItems, l = a.setSelectAllSelected, f = function () { if (confirm("Are you sure you want to delete?")) { var e = r.getState().selectedItems, t = Object.values(e), a = {}; t.forEach(function (e) { var t = e.node.registryKey, r = e.mapItem, o = n.getDelete(e.node.registryKey); t in a || !o ? t in a && (a = Object(P.a)({}, a, Object(C.a)({}, t, Object(P.a)({}, a[t], { mapItems: [].concat(Object(D.a)(a[t].mapItems), [r]) })))) : a = Object(P.a)({}, a, Object(C.a)({}, t, { deleteFn: o, mapItems: [r] })) }), Object.keys(a).forEach(function (e) { a[e].deleteFn(a[e].mapItems) }) } s(Qm.VIS), r.setState({ selectedItems: {} }) }, p = function () { alert("On export collector function not implemented. on delete is generic enough to break out later.") }, m = function () { s(Qm.VIS), r.setState({ selectedItems: {} }) }; return c.a.createElement(c.a.Fragment, null, c.a.createElement(function () { switch (o) { case Qm.DEL: return c.a.createElement(bh, { title: "Delete", icon: "delete-outline", onClick: f, onEnd: m, danger: !0 }); case Qm.EXP: return c.a.createElement(bh, { title: "Export", icon: "export-variant", onClick: p, onEnd: m }); case Qm.VIS: default: return null } }, null), (o === Qm.DEL || o === Qm.EXP) && c.a.createElement(function () { var e = Object(i.useMemo)(function () { var e = 0, r = 0, a = []; return t.forEach(function (e) { var t = new $s(e).leafs(); a.push.apply(a, Object(D.a)(t)) }), ih(a, function (t, a) { var o = t.id; n.getDelete(a.registryKey) && (o in u ? e++ : r++) }), rh(e, r) }, [t]); return c.a.createElement(d.Checkbox, Object.assign({ onChange: function (e) { if (l(e.target.checked), e.stopPropagation(), o === Qm.DEL || o === Qm.EXP) { var a = r.getState().selectedItems, i = []; t.forEach(function (e) { i.push.apply(i, Object(D.a)(new $s(e).leafs())) }), ih(i, function (t, r) { var n = t.id, o = n in a; o && !e.target.checked ? delete a[n] : !o && e.target.checked && (a = Object(P.a)({}, a, Object(C.a)({}, n, { mapItem: t, node: r }))) }), r.setState({ selectedItems: a }), n.forceUpdateTree() } }, label: "Select All" }, e)) }, null)) }, Eh = function (e, t) { var r = Object(i.useContext)(d.NavigationContext).getState(), n = r.modeSwitcherOpen, a = r.setModeSwitcherOpen, o = r.sortDirection, s = r.setSortDirection, u = c.a.createElement(eh, { onClick: Object(L.safelyHandle)(function () { return a(!n) }), icon: "view-grid-plus" }), l = c.a.createElement(eh, { onClick: Object(L.safelyHandle)(function () { return s(!o) }), icon: o ? "sort-descending" : "sort-ascending" }); return c.a.createElement("div", null, t === Zm.BOTTOM && l, u, e) }, Oh = Object(d.getClasses)("overlays", ["overlays-group", "group-items", "search"], []), Sh = Object(C.a)({}, nh.FEEDS, !0), wh = function (e) { var t = e.id, r = e.title, n = e.nodeChildren, a = Td("drawer"), o = Object(i.useContext)(d.NavigationContext), s = Object(i.useState)(n), u = Object(Xe.a)(s, 2), l = u[0], f = u[1], p = Object(i.useState)(fh(o, l)), m = Object(Xe.a)(p, 1)[0], h = o.getState(), v = h.mode, g = h.setMode, b = h.searchTerm, y = h.setSearchTerm, E = h.sortDirection, O = kf.create(), S = ma.create(); xa(O, "change:add", function () { m === Zm.TOP ? f(O.getTopLevel()) : t && f(O.getNodeChildren(t)) }, [f, m, t]); var w = Object(i.useMemo)(function () { var e = function (e, t) { return e.sort(function (e, r) { return t ? Object(L.alphaSort)(r.title, e.title) : Object(L.alphaSort)(e.title, r.title) }) }; if (!b) return e(l, E); var t = b.toLowerCase(); return e(l.map(function (e) { var r = new $s(e).leafs().filter(function (e) { return !!e.mapItemId && S.getItem(e.mapItemId).getName().toLowerCase().includes(t) }); return Object(D.a)(r) }).flat(), E) }, [b, l, E]), A = w.map(function (e, t) { return (e.nodeChildren.length || m === Zm.BOTTOM || b || e.registryKey in Sh) && (v !== Qm.DEL || O.getDelete(e.registryKey)) ? (v === Qm.EXP && (console.error("OverlaysDrawer.render: Export mode is unsupported."), g(Qm.VIS)), c.a.createElement(uh, { key: t, node: e, depth: m })) : null }); return c.a.createElement(d.DrawerLayout, null, c.a.createElement(d.NavigationDrawerHeader, { title: r, rightRenderer: function (e) { return Eh(e, m) }, onCollapse: function () { a.closeDrawer("side", { drop: !0 }) }, leftRendererCallback: function () { y(""), o.pop(), t && f(O.getNodeChildren(t)) } }, c.a.createElement(ph, null), c.a.createElement(vh, null), c.a.createElement(yh, { nodes: w, registryKey: t })), c.a.createElement("div", { className: Oh.Elements["overlays-group"] }, c.a.createElement("div", { className: Oh.Elements["group-items"] }, A))) }, Ah = function () { var e = Object(i.useState)(Td("overlays").getTopLevel()), t = Object(Xe.a)(e, 2), r = t[0], n = t[1], a = Object(i.useContext)(d.NavigationContext), o = Object(i.useState)(Qm.VIS), s = Object(Xe.a)(o, 2), u = s[0], l = s[1], f = Object(i.useState)(!1), p = Object(Xe.a)(f, 2), m = p[0], h = p[1], v = Object(i.useState)(""), g = Object(Xe.a)(v, 2), b = g[0], y = g[1], E = Object(i.useState)(!1), O = Object(Xe.a)(E, 2), S = O[0], w = O[1], A = Object(i.useState)(!1), C = Object(Xe.a)(A, 2), T = C[0], j = C[1]; return Object(i.useEffect)(function () { a.setState({ mode: u, setMode: l, searchTerm: b, setSearchTerm: y, modeSwitcherOpen: m, setModeSwitcherOpen: h, sortDirection: S, setSortDirection: w, selectAllSelected: T, setSelectAllSelected: j }) }, [u, l, b, y, m, h, S, w, T, j]), xa(Td("overlays"), "change:add", function () { n(Td("overlays").getTopLevel()) }, [n]), r.some(function (e) { return e.nodeChildren.length }) ? c.a.createElement(wh, { id: "root", title: "Overlays Manager", nodeChildren: r, registryKey: "root" }) : c.a.createElement(d.NonIdealState, { title: "No Overlays", icon: "layers-triple-outline", description: "There are no overlays to display" }) }, Ch = Object(d.getClasses)("overlays", [], []), Th = { mode: Qm.VIS, searchTerm: "", modeSwitcherOpen: !1, selectedItems: {} }, jh = function () { return c.a.createElement(d.NavigationController, { defaultState: Th, root: Ah, className: Ch.BASE }) }, kh = !1; r(648), r(649); var Rh = Object(d.getClasses)("aoi-control", ["save", "name", "description", "container", "controls"], ["open"]), Nh = function (e) { var t = e.onSave, r = e.aoi, n = Td("map"), a = Td("hotkey"), o = Object(i.useState)(""), s = Object(Xe.a)(o, 2), u = s[0], l = s[1], f = Object(i.useCallback)(function () { n.onMapReady(function (e) { try { t(u, e.getView().getCenter(), e.getView().getZoom()) } catch (fA) { Gi.create().error({ message: "The AOI name field is empty. Please provide a name." }) } }) }, [u, n, t]); return Object(i.useEffect)(function () { var e = function () { n.onMapReady(function (e) { try { t(u, e.getView().getCenter(), e.getView().getZoom()) } catch (fA) { Gi.create().error({ message: "The AOI name field is empty. Please provide a name." }) } }) }; return a.onceCombination("enter", e), function () { a.offCombination("enter", e) } }, [u]), Object(i.useEffect)(function () { r && (l(r.name), n.onMapReady(function (e) { e.getView().setCenter(r.toLonLat()), e.getView().setZoom(r.zoom) })) }, []), c.a.createElement(i.Fragment, null, c.a.createElement("span", { className: Rh.Elements.description }, 'Pan and zoom the map to the area of interest, enter a name, and press "Save".'), c.a.createElement("div", { className: Rh.Elements.controls }, c.a.createElement(d.TextInput, { className: Rh.Elements.name, type: "text", placeholder: "Enter an AOI name...", value: u, onChange: function (e) { return l(e.currentTarget.value) } }), c.a.createElement(d.Button.Secondary, { className: Rh.Elements.save, disabled: !u.length, onClick: f }, "Save"))) }, Lh = r(417), _h = r.n(Lh); r(650); function Ih(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var Mh = function (e) { Object(k.a)(r, e); var t = Ih(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).mapWidgetActive = !1, e.isVisible = !1, e.getVisibility = function () { return e.isVisible }, e.getMapWidgetActive = function () { return e.mapWidgetActive }, V(h.AOI, function (t) { void 0 !== t ? (e.setMapWidgetActive(t.displayButton), e.setVisibility(t.displayButton)) : (e.setMapWidgetActive(!0), e.setVisibility(!0)) }), e } return Object(j.a)(r, [{ key: "setVisibility", value: function (e) { this.isVisible = e, this.emit("changeVisibility", this.isVisible) } }, { key: "setCurrentAOI", value: function (e) { this.emit("change", e) } }, { key: "setMapWidgetActive", value: function (e) { var t; this.mapWidgetActive = e, this.isVisible = e, sn().dispatch((t = e, { type: ue.SET_AOI_BUTTON, payload: { displayValue: t } })), this.emit("changeWidgetActive", this.mapWidgetActive), this.emit("changeVisibility", this.isVisible) } }]), r }(L.Service); Mh.create = Mh.factory(); var xh, Dh = Object(d.getClasses)("aoi-list", ["entry", "entry-icons", "entry-name"], []), Ph = null, Uh = function () { return null }, Bh = function (e, t) { return e.name.toLowerCase().includes(t) }, Fh = Object(l.b)(function (e) { return { aois: e.aoi.getAll() } }, function (e) { return { onEdit: function (t) { e(function (e) { return { type: ue.EDIT_AOI, payload: { aoi: e } } }(t)), e(Et(St.DEFAULT)) }, removeAOI: function (t) { return e(function (e) { return { type: ue.REMOVE_AOI, payload: e } }(t)) } } })(function (e) { var t = e.aois, r = e.filterTerm, n = e.removeAOI, a = e.onEdit, o = Td("map"), u = Mh.create(), l = Object(i.useRef)(null), f = Object(i.useCallback)(function (e) { o.zoomToPoint(e.toLonLat(), e.zoom), u.setCurrentAOI(e) }, [o, u]), p = Object(i.useCallback)(function (e) { o.performInteraction(function (t) { u.setVisibility(!1); var r = document.createElement("div"); r.classList.add(Rh.BASE), Object(s.render)(c.a.createElement(Nh, { aoi: e, onSave: function (t, r, n) { var o = e.set("name", t).set("center", Object(L.safeConstruct)(Q, r)).set("zoom", n); u.setCurrentAOI(o), a(o) } }), r), Ph = new Mc.a({ element: r, target: "map-control-container" }), t.addControl(Ph) }, function (e) { Ph && e.removeControl(Ph), u.getMapWidgetActive() ? u.setVisibility(!0) : u.setVisibility(!1) }, function (e) { Ph && e.removeControl(Ph), u.getMapWidgetActive() ? u.setVisibility(!0) : u.setVisibility(!1) }) }, [o, a]), m = Object(i.useCallback)(function (e, t, r) { return function (n) { return c.a.createElement("div", { className: Dh.Elements.entry, onClick: Object(L.safelyHandle)(function () { return e(n) }) }, c.a.createElement("span", { className: Dh.Elements["entry-name"] }, n.name), c.a.createElement("div", { className: Dh.Elements["entry-icons"] }, c.a.createElement(d.Icon, { onClick: Object(L.safelyHandle)(function () { r(n) }, !1, !1), icon: "playlist-edit" }), c.a.createElement(d.Icon, { onClick: Object(L.safelyHandle)(function () { confirm("Are you sure") && t(n) }), icon: "delete" }))) } }(f, n, p), [f]); return Object(i.useEffect)(function () { l.current && l.current.setFilterTerm(r) }, [r]), c.a.createElement("div", { className: Dh.BASE }, c.a.createElement(d.List, { ref: l, items: t, headerRenderer: Uh, filter: Bh, rowRenderer: m, title: "Areas of Interest" })) }), Vh = Object(d.getClasses)("aoi-drawer", ["create", "content", "non-ideal-icon", "add-new-button"], []), Hh = null, Gh = Object(l.b)(function (e) { return { aois: e.aoi.getAll() } }, function (e) { return { onSave: function (t) { e(pe(t.toJS())), e(Et(St.DEFAULT)) } } })(function (e) { var t = e.onSave, r = e.aois, n = Td("map"), a = Mh.create(), o = Object(i.useState)(""), u = Object(Xe.a)(o, 2), l = u[0], f = u[1], p = Object(i.useCallback)(function (e) { f(e.currentTarget.value) }, [f]), m = Object(i.useCallback)(function () { n.performInteraction(function (e) { a.setVisibility(!1); var r = document.createElement("div"); r.classList.add(Rh.BASE), Object(s.render)(c.a.createElement(Nh, { onSave: function (e) { function t(t, r, n) { return e.apply(this, arguments) } return t.toString = function () { return e.toString() }, t }(function (e, r, n) { var o = Object(L.safeConstruct)(de, { name: e, center: r, zoom: n, uid: Object(L.uuid)() }); a.setCurrentAOI(o), t(o) }) }), r), Hh = new Mc.a({ element: r, target: "map-control-container" }), e.addControl(Hh) }, function (e) { Hh && e.removeControl(Hh), a.getMapWidgetActive() ? a.setVisibility(!0) : a.setVisibility(!1) }, function (e) { Hh && e.removeControl(Hh), a.getMapWidgetActive() ? a.setVisibility(!0) : a.setVisibility(!1) }) }, [n, t]), h = Object(i.useMemo)(function () { return [c.a.createElement(Fh, { key: "aoi-list", filterTerm: l })] }, [m, l]), v = Object(i.useMemo)(function () { return c.a.createElement(d.NonIdealState, { title: "No Areas of Interest", icon: c.a.createElement("img", { className: Vh.Elements["non-ideal-icon"], src: _h.a }), description: "You dont have any areas of interest created. Press Add New to Create One", action: c.a.createElement(d.Button, { onClick: Object(L.safelyHandle)(m) }, "Add New AOI") }) }, [m]); return c.a.createElement("div", { className: Vh.BASE }, c.a.createElement(d.DrawerLayout, { contentClassName: Vh.Elements.content }, c.a.createElement(d.DrawerHeader, { title: "Favorite Areas of Interest", onSearch: p, placeholder: "search areas of interest..." }, c.a.createElement(d.Button, { className: Vh.Elements["add-new-button"], onClick: Object(L.safelyHandle)(m) }, "Add New AOI")), r.count() > 0 ? h : v)) }), qh = !1; !function (e) { e.MASTER = "aoi-preference", e.TOGGLE = "aoi-preference-toggle" }(xh || (xh = {})); var Kh = "Favorite AOI", zh = "areas-of-interest"; r(651); var Yh = Object(d.getClasses)("stacked-items-drawer", ["header", "content", "list-item", "visual", "title", "subtitle", "zoom"], []), Wh = function () { var e = Td("drawer"), t = Object(i.useState)(e.getCtx()), r = Object(Xe.a)(t, 2), n = r[0], a = r[1]; xa(e, "drawer-change", function (e, t) { a(t) }, [a]); var o, s = Object(i.useCallback)((o = n, function (e) { var t = Object(Xe.a)(e, 2), r = t[0], n = t[1], a = r.getName(), i = r.getExtent() && ie(r.getExtent()); return c.a.createElement("div", { onClick: function () { r.onClick(o.clickEvent, n); var e = Td("drawer").getActiveDrawer(); e && "stacked-drawer" === e.getName() && Td("drawer").closeDrawer() }, className: Yh.Elements["list-item"] }, c.a.createElement("img", { className: Yh.Elements.visual, src: r.getIcon(), alt: "" }), c.a.createElement("div", { className: Yh.Elements.title }, a), i && c.a.createElement(d.Icon, { className: Yh.Elements.zoom, onClick: Object(L.safelyHandle)(r.zoomToItem), icon: "magnify-plus" })) }), [n]); if (!n || !n.mapItems) return null; var u = n.mapItems; return c.a.createElement(d.DrawerLayout, { contentClassName: Yh.Elements.content }, c.a.createElement(d.DrawerHeader, { title: "Stacked Items" }), c.a.createElement(d.List, { items: Object(q.List)(u), headerRenderer: function () { return null }, rowRenderer: s, title: "" })) }, Xh = r(284), Jh = (r(652), Object(d.getClasses)("tak-scale", [], ["visible"])), Zh = (r(653), Object(d.getClasses)("instruction-manager", [], [])), Qh = function (e) { Object(ud.a)(e); var t = Ya.create(), r = Object(i.useState)(t.peek()), n = Object(Xe.a)(r, 2), a = n[0], o = n[1]; return xa(t, "change", function (e) { o(e) }, [o]), a ? c.a.createElement(d.Instruction, a) : null }, $h = r(272), ev = function (e) { var t = e.onClick, r = e.className; return React.createElement("svg", { onClick: t, className: r, width: "36px", height: "36px", viewBox: "0 0 36 36", version: "1.1", xmlns: "http://www.w3.org/2000/svg", xmlnsXlink: "http://www.w3.org/1999/xlink" }, React.createElement("title", null, "websae-core/icon button/jump-to"), React.createElement("defs", null, React.createElement("rect", { id: "path-1", x: "0", y: "0", width: "36", height: "36", rx: "4" }), React.createElement("filter", { x: "-18.1%", y: "-15.3%", width: "136.1%", height: "136.1%", filterUnits: "objectBoundingBox", id: "filter-2" }, React.createElement("feOffset", { dx: "0", dy: "1", in: "SourceAlpha", result: "shadowOffsetOuter1" }), React.createElement("feGaussianBlur", { stdDeviation: "2", in: "shadowOffsetOuter1", result: "shadowBlurOuter1" }), React.createElement("feColorMatrix", { values: "0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.3 0", type: "matrix", in: "shadowBlurOuter1" }))), React.createElement("g", { id: "websae-core/icon-button/jump-to", stroke: "none", strokeWidth: "1", fill: "none", fillRule: "evenodd" }, React.createElement("g", { id: "Fill-+-Shadow" }, React.createElement("use", { fill: "black", fillOpacity: "1", filter: "url(#filter-2)", xlinkHref: "#path-1" }), React.createElement("use", { fill: "#4F4F4F", fillRule: "evenodd", xlinkHref: "#path-1" })), React.createElement("g", { id: "icon/Interface/Plus-thick", transform: "translate(6.000000, 6.000000)" }, React.createElement("rect", { id: "bounds", x: "0", y: "0", width: "24", height: "24" }), React.createElement("path", { d: "M12,8.36363636 C14.0083082,8.36363636 15.6363636,9.99169182 15.6363636,12 C15.6363636,14.0083082 14.0083082,15.6363636 12,15.6363636 C9.99169182,15.6363636 8.36363636,14.0083082 8.36363636,12 C8.36363636,9.99169182 9.99169182,8.36363636 12,8.36363636 M3.86363636,12.9090909 L2,12.9090909 L2,11.0909091 L3.86363636,11.0909091 C4.27272727,7.3 7.3,4.27272727 11.0909091,3.86363636 L11.0909091,2 L12.9090909,2 L12.9090909,3.86363636 C16.7,4.27272727 19.7272727,7.3 20.1363636,11.0909091 L22,11.0909091 L22,12.9090909 L20.1363636,12.9090909 C19.7272727,16.7 16.7,19.7272727 12.9090909,20.1363636 L12.9090909,22 L11.0909091,22 L11.0909091,20.1363636 C7.3,19.7272727 4.27272727,16.7 3.86363636,12.9090909 M12,5.63636364 C8.48546068,5.63636364 5.63636364,8.48546068 5.63636364,12 C5.63636364,15.5145393 8.48546068,18.3636364 12,18.3636364 C15.5145393,18.3636364 18.3636364,15.5145393 18.3636364,12 C18.3636364,8.48546068 15.5145393,5.63636364 12,5.63636364 Z", id: "Shape", fillOpacity: "0.8", fill: "#FFFFFF" })))) }, tv = function (e) { var t = e.onClick, r = e.className; return React.createElement("svg", { onClick: t, className: r, width: "36px", height: "36px", viewBox: "0 0 36 36", version: "1.1", xmlns: "http://www.w3.org/2000/svg", xmlnsXlink: "http://www.w3.org/1999/xlink" }, React.createElement("title", null, "websae-core/icon button/3d"), React.createElement("defs", null, React.createElement("rect", { id: "path-1", x: "0", y: "0", width: "36", height: "36", rx: "4" }), React.createElement("filter", { x: "-18.1%", y: "-15.3%", width: "136.1%", height: "136.1%", filterUnits: "objectBoundingBox", id: "filter-2" }, React.createElement("feOffset", { dx: "0", dy: "1", in: "SourceAlpha", result: "shadowOffsetOuter1" }), React.createElement("feGaussianBlur", { stdDeviation: "2", in: "shadowOffsetOuter1", result: "shadowBlurOuter1" }), React.createElement("feColorMatrix", { values: "0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.3 0", type: "matrix", in: "shadowBlurOuter1" }))), React.createElement("g", { id: "websae-core/icon-button/3d", stroke: "none", strokeWidth: "1", fill: "none", fillRule: "evenodd" }, React.createElement("g", { id: "Group" }, React.createElement("g", { id: "Fill-+-Shadow" }, React.createElement("use", { fill: "black", fillOpacity: "1", filter: "url(#filter-2)", xlinkHref: "#path-1" }), React.createElement("use", { fill: "#4F4F4F", fillRule: "evenodd", xlinkHref: "#path-1" })), React.createElement("text", { id: "3D", fontFamily: "Roboto-Bold, Roboto", fontSize: "18", fontWeight: "bold", letterSpacing: "0.2", fill: "#FFFFFF", fillOpacity: "0.8" }, React.createElement("tspan", { x: "7.28730469", y: "24.5" }, "3D"))))) }, rv = function (e) { var t = e.onClick, r = e.className; return React.createElement("svg", { onClick: t, className: r, width: "36px", height: "36px", viewBox: "0 0 36 36", version: "1.1", xmlns: "http://www.w3.org/2000/svg", xmlnsXlink: "http://www.w3.org/1999/xlink" }, React.createElement("title", null, "websae-core/icon button/2d"), React.createElement("defs", null, React.createElement("rect", { id: "path-1", x: "0", y: "0", width: "36", height: "36", rx: "4" }), React.createElement("filter", { x: "-18.1%", y: "-15.3%", width: "136.1%", height: "136.1%", filterUnits: "objectBoundingBox", id: "filter-2" }, React.createElement("feOffset", { dx: "0", dy: "1", in: "SourceAlpha", result: "shadowOffsetOuter1" }), React.createElement("feGaussianBlur", { stdDeviation: "2", in: "shadowOffsetOuter1", result: "shadowBlurOuter1" }), React.createElement("feColorMatrix", { values: "0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.3 0", type: "matrix", in: "shadowBlurOuter1" }))), React.createElement("g", { id: "websae-core/icon-button/2d", stroke: "none", strokeWidth: "1", fill: "none", fillRule: "evenodd" }, React.createElement("g", { id: "Group" }, React.createElement("g", { id: "Fill-+-Shadow" }, React.createElement("use", { fill: "black", fillOpacity: "1", filter: "url(#filter-2)", xlinkHref: "#path-1" }), React.createElement("use", { fill: "#4F4F4F", fillRule: "evenodd", xlinkHref: "#path-1" })), React.createElement("text", { id: "2D", fontFamily: "Roboto-Bold, Roboto", fontSize: "18", fontWeight: "bold", letterSpacing: "0.2", fill: "#FFFFFF", fillOpacity: "0.8" }, React.createElement("tspan", { x: "7.28730469", y: "24.5" }, "2D"))))) }, nv = (r(654), Object(d.getClasses)("map-controls", ["control-button"], ["mobile-landscape-and-below"])), av = Object(l.b)(function (e) { return { exclusive: e.map.isExclusive() } })(function (e) { var t = Object(i.useState)(hi.create().getMapDimension()), r = Object(Xe.a)(t, 2), n = r[0], a = r[1]; xa(Td("map"), "dimension-change", function (e) { a(e) }, []); var o = Object(d.useResponsiveSize)(), s = o.mobileLandscape, u = o.mobilePortrait, l = Object(d.className)(nv.BASE, Object(C.a)({}, nv.Modifiers["mobile-landscape-and-below"], s || u)); return c.a.createElement("div", { className: l }, c.a.createElement(ev, { className: nv.Elements["control-button"], onClick: function () { var e = _f.create().getIdentity().clientSeed; ma.create().getItem(e).zoomToItem() } }), !e.exclusive && (n === ci["3D"] ? c.a.createElement(rv, { className: nv.Elements["control-button"], onClick: function () { return hi.create().disable3d() } }) : c.a.createElement(tv, { className: nv.Elements["control-button"], onClick: function () { return hi.create().enable3d() } }))) }); function ov(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var iv = function e(t) { Object(T.a)(this, e), this.element = void 0, this.className = void 0, this.microService = void 0; var r = t.element, n = t.microService, a = t.className; this.element = r, this.microService = n, this.className = a }, cv = sn(), sv = function (e) { Object(k.a)(r, e); var t = ov(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).controlMap = void 0, e.controlMap = Object(q.Map)(), Td("map").onMapReady(function (t) { e.processDefaultControls(t) }), e } return Object(j.a)(r, [{ key: "processDefaultControls", value: function (e) { var t = this, r = { scale: new Xh.a({ className: Jh.BASE, target: "tak-scaleline" }), dimensionToggle: new iv({ element: c.a.createElement(av, null) }), zoom: new $h.a({ target: "map-control-container", className: "map-control-zoom" }), instructionManager: new iv({ element: c.a.createElement(Qh, null), className: Zh.BASE }) }; Object.entries(r).forEach(function (r) { var n = Object(Xe.a)(r, 2), a = n[0], o = n[1]; return t.registerControl(e, a, o) }) } }, { key: "hasControl", value: function (e) { return this.controlMap.has(e) } }, { key: "registerControl", value: function (e, t, r) { if (this.hasControl(t)) throw new Error("MapControlService.registerControl: key: ".concat(t, " is already registered as a control.")); this.controlMap.set(t, r), this.addControl(e, r, t) } }, { key: "controlGuard", value: function (e, t) { if (e instanceof Mc.a) return e; if (e instanceof iv) { var r = document.createElement("div"); return e.className && r.classList.add(e.className), Object(s.render)(c.a.createElement(l.a, { store: cv }, e.element), r), e.microService && e.microService.create(), "instructionManager" === t && (r.style.pointerEvents = "none"), new Mc.a({ element: r, target: "map-control-container" }) } throw new Error("MapControlService: ControlMap type unsupported.") } }, { key: "addControl", value: function (e, t, r) { var n = this.controlGuard(t, r); e.addControl(n) } }]), r }(L.Service); sv.create = sv.factory(); var uv = !1, lv = function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "#D5D5D5"; return '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">\n<g fill="none" fill-rule="evenodd">\n  <path d="M0 0h24v24H0z"/>\n  <path fill="'.concat(e, '" d="M9 2a7 7 0 017 7c0 5.25-7 13-7 13S2 14.25 2 9a7 7 0 017-7zm9.5 11a2.501 2.501 0 012.495 2.336L21 15.5v.5c.51 0 .935.388.993.884L22 17v4c0 .51-.388.935-.884.993L21 22h-5c-.51 0-.935-.388-.993-.884L15 21v-4c0-.51.388-.935.884-.993L16 16v-.5a2.5 2.5 0 012.5-2.5zm0 1c-.781 0-1.42.593-1.493 1.355L17 15.5v.5h3v-.5c0-.83-.67-1.5-1.5-1.5zM9 6.5a2.5 2.5 0 100 5 2.5 2.5 0 000-5z"/>\n</g>\n</svg>') }; r(398), r(655), r(656), r(657), r(658), r(659); var fv, dv = Object(d.getClasses)("feed-info-card", ["header", "header-title", "role-tag", "feed-details", "feed-meta", "title", "block-label", "dates-block", "created-block", "created-date", "description-block", "description", "user-info", "user-title", "loader", "remove-icon"], []), pv = Object(l.b)(function (e) { return { subscriptions: e.dataSync.subscriptions } })(function (e) { var t = e.missionName, r = e.subscriptions, n = Object(i.useState)(!1), s = Object(Xe.a)(n, 2), u = s[0], f = s[1], p = Object(l.c)(function (e) { return e.dataSync.missions.get(t) }), m = Object(i.useContext)(d.NavigationContext), h = function () { var e = Object(o.a)(a.a.mark(function e() { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (!confirm("Are you sure you want to delete the mission? It will delete for every subscriber on the server, and this cannot be undone.")) { e.next = 10; break } return e.prev = 1, e.next = 4, Ou.create().deleteMission(t); case 4: m.pop(), e.next = 10; break; case 7: e.prev = 7, e.t0 = e.catch(1), Td("toast").warn({ message: "Unable to delete the mission" }); case 10: case "end": return e.stop() } }, e, null, [[1, 7]]) })); return function () { return e.apply(this, arguments) } }(), v = function () { var e = Object(o.a)(a.a.mark(function e() { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (!p) { e.next = 15; break } return f(!0), e.prev = 2, e.next = 5, Ou.create().toggleSubscription(t); case 5: e.next = 10; break; case 7: e.prev = 7, e.t0 = e.catch(2), console.log("error: ", e.t0); case 10: return e.prev = 10, f(!1), e.finish(10); case 13: e.next = 16; break; case 15: p && r.includes(t) && Td("toast").error({ message: "Cannot unsubscribe from Mission you created; Delete instead" }); case 16: case "end": return e.stop() } }, e, null, [[2, 7, 10, 13]]) })); return function () { return e.apply(this, arguments) } }(), g = Object(i.useMemo)(function () { return void 0 !== p && p.userRole.type === dr.MISSION_OWNER }, [p, r]), b = Object(i.useMemo)(function () { if (p && p.mission.missionChanges) { var e = Object(D.a)(p.mission.missionChanges.toArray()).sort(function (e, t) { return Object(L.naturalSort)(e.timestamp, t.timestamp) }), t = e[e.length - 1]; if (t) return Object(rc.a)(new Date(t.timestamp), { addSuffix: !0 }) } return "------------" }, [p]), y = Object(i.useMemo)(function () { var e; return (e = {}, Object(C.a)(e, dr.MISSION_OWNER, "Owner"), Object(C.a)(e, dr.MISSION_SUBSCRIBER, ""), Object(C.a)(e, dr.MISSION_READONLY_SUBSCRIBER, "Readonly"), Object(C.a)(e, "default", "Unknown"), e)[void 0 !== p && p.userRole.type || "default"] }, [p, r]); return c.a.createElement("div", { className: dv.BASE }, c.a.createElement("div", { className: dv.Elements.header }, c.a.createElement("div", { className: dv.Elements["header-title"] }, "Feed Details"), c.a.createElement("span", { className: dv.Elements["role-tag"] }, y)), c.a.createElement("div", { className: dv.Elements["feed-details"] }, c.a.createElement("div", { className: dv.Elements["feed-meta"] }, c.a.createElement("div", { className: dv.Elements.title }, p && t, p && p.mission.passwordProtected && c.a.createElement(d.Icon, { icon: "lock-open-variant" })), c.a.createElement("div", { className: dv.Elements["user-info"] }, c.a.createElement(d.Icon, { icon: "account" }), c.a.createElement("span", null, p && p.author))), c.a.createElement("div", null, u ? c.a.createElement(d.Loader, { className: dv.Elements.loader }) : c.a.createElement("div", { style: { display: "flex", alignItems: "center" } }, g && c.a.createElement(d.Icon, { className: dv.Elements["remove-icon"], onClick: h, icon: "delete-outline" }), g && p && p.mission.creatorUid === Ne() && r.includes(t) ? null : c.a.createElement(d.Switch, { onChange: v, checked: !(!p || !r.has(t)) })))), c.a.createElement("hr", null), c.a.createElement("div", { className: dv.Elements["dates-block"] }, c.a.createElement("div", { className: dv.Elements["created-block"] }, c.a.createElement("div", { className: dv.Elements["block-label"] }, "Created"), c.a.createElement("div", { className: dv.Elements["created-date"] }, p && Object(rc.a)(new Date(p.mission.createTime), { addSuffix: !0 }))), c.a.createElement("div", { className: dv.Elements["created-block"] }, c.a.createElement("div", { className: dv.Elements["block-label"] }, "Updated"), c.a.createElement("div", { className: dv.Elements["created-date"] }, b)), c.a.createElement("div", { className: dv.Elements["created-block"] }, c.a.createElement("div", { className: dv.Elements["block-label"] }, "Subscribers"), c.a.createElement("div", { className: dv.Elements["created-date"] }, p && p.subscribers.length))), c.a.createElement("div", { className: dv.Elements["description-block"] }, c.a.createElement("div", { className: dv.Elements["block-label"] }, "Description"), c.a.createElement("div", { className: dv.Elements.description }, p && p.mission.description || "no feed description"))) }), mv = (r(660), r(399), function (e) { var t = e.change, r = e.missionName, n = Object(i.useState)(), a = Object(Xe.a)(n, 2), o = a[0], s = a[1], u = Object(l.c)(function (e) { var n = e.dataSync; return n.missions.has(r) ? n.missions.get(r).missionCots.find(function (e) { return e.uid === t.contentUid }) : void 0 }); return Object(i.useEffect)(function () { if (u) Qo(u.type === Nr.SPOT_MARKER && t.details.color ? Go(u, Object(L.cotColorToRGBA)(Number(t.details.color))) : u).then(function (e) { s(e) }); else if (t.contentResource) { var e = t.contentResource, r = Object(L.isImage)(e.name) || Object(L.isImage)(e.filename), n = Object(L.isKML)(e.name) || Object(L.isKML)(e.filename) || Object(L.isKMZ)(e.filename) || Object(L.isKMZ)(e.name); if (r) { var a = "".concat(Pr.create().getSyncUrl(), "/content?hash=").concat(t.contentResource.hash); s(a) } if (n) { var o = Object(d.toURL)(Object(d.inlineSvg)("google-earth")); s(o) } } else t && t.details && t.details.type ? zo(t.details.type).then(function (e) { return s(e) }) : s(void 0) }, [t, u]), o ? c.a.createElement("img", { src: o, alt: "" }) : null }), hv = Object(d.getClasses)("feed-change-item", ["status", "status-text", "content", "info", "info-text", "info-title", "info-visual", "user-info", "user-title"], ["added", "removed", "updated"]), vv = function (e) { var t, r = e.change, n = e.missionName, a = Object(l.c)(function (e) { var t = e.dataSync; return t.missions.has(n) ? t.missions.get(n).missionCots.find(function (e) { return e.uid === r.contentUid }) : void 0 }), o = Object(l.c)(function (e) { return e.dataSync.missions.has(n) ? e.dataSync.missions.get(n).missionChanges : [] }), s = Object(l.c)(function (e) { var t = e.dataSync; return t.missions.has(n) ? t.missions.get(n).missionContacts : [] }), u = Object(i.useState)(void 0 !== a && !ma.create().hasItem(a.uid)), f = Object(Xe.a)(u, 2), p = (f[0], f[1], Object(d.className)(hv.BASE, (t = {}, Object(C.a)(t, hv.Modifiers.added, r.type === hr.ADD_CONTENT), Object(C.a)(t, hv.Modifiers.removed, r.type === hr.REMOVE_CONTENT), Object(C.a)(t, hv.Modifiers.updated, r.type === hr.UPDATE_CONTENT), t))); return c.a.createElement("li", { onClick: function () { if (a) if (ma.create().hasItem(a.uid)) ma.create().getItem(a.uid).zoomToItem(); else if (confirm("Add item to map")) { sn().dispatch(ye(a)); var e = xl.create().getCotRenderer(a.type); if (e) { var t = new e(a); ma.create().addCotItem(t) } else ma.create().addCotItem(new Il(a)) } }, className: p }, c.a.createElement("div", { className: hv.Elements.content }, c.a.createElement("div", { className: hv.Elements.status }, c.a.createElement("span", { className: hv.Elements["status-text"] }, vr[function () { var e = r.type; if (e !== hr.ADD_CONTENT) return e; if (!r.contentResource) { var t = o ? o.filter(function (e) { return e.contentUid === r.contentUid }).sort(function (e, t) { return Gr(t.timestamp) - Gr(e.timestamp) }) : []; if (t.length > 1) return t[t.length - 1].timestamp === r.timestamp ? hr.ADD_CONTENT : hr.UPDATE_CONTENT } return hr.ADD_CONTENT }()]), "- ", r.timestamp), c.a.createElement("div", { className: hv.Elements.info }, c.a.createElement("div", { className: hv.Elements["info-title"] }, function () { var e; return a && a.detail && (e = function (e) { if (!e) return null; var t = e.contact; if (t) return t; var r = e.xml; if (!r) return null; var n = r.contact; return n && n[L.XML_ATTRIBUTE_KEY] ? n[L.XML_ATTRIBUTE_KEY] : null }(a.detail)), r.details ? e && e.callsign !== r.details.callsign ? "".concat(r.details.callsign, " (").concat(e.callsign, ")") : r.details.callsign : r.contentResource ? r.contentResource.name : r.type === hr.CREATE_MISSION ? "Created" : void 0 }(), c.a.createElement("div", { className: hv.Elements["user-title"] }, c.a.createElement(d.Icon, { icon: "account" }), c.a.createElement("span", null, function () { var e = s && s.find(function (e) { return e.uid === r.creatorUid }); return e ? e.callsign : "User" }()))), c.a.createElement("div", { className: hv.Elements["info-visual"] }, c.a.createElement(mv, { missionName: n, change: r }))))) }, gv = Object(d.getClasses)("feed-change-log", ["header", "list"], []), bv = function (e) { var t = e.missionName, r = Object(l.c)(function (e) { return e.dataSync.missions.has(t) ? e.dataSync.missions.get(t).missionChanges : [] }); return c.a.createElement("div", { className: gv.BASE }, c.a.createElement("div", { className: gv.Elements.header }, "Feed Change Logs"), c.a.createElement("ul", { className: gv.Elements.list }, r ? r.map(function (e, r) { return c.a.createElement(vv, { missionName: t, key: r, change: e }) }) : [])) }, yv = (r(661), r(662), function (e) { var t = e.identifiers, r = t.missionName, n = t.uid, a = t.hash, o = e.onClick; return c.a.createElement(d.Button.Danger, { title: Ou.create().userHasMissionPermission(r, pr.MISSION_WRITE) ? "Delete this item" : "You don't have permission to do that.", disabled: !Ou.create().userHasMissionPermission(r, pr.MISSION_WRITE), onClick: function (e) { if (e.stopPropagation(), confirm("Are you sure you'd like to delete this from the mission?")) try { Jr.create().removeMissionContent(r, a, n), o && o(e) } catch (e) { console.error("failed to delete ", e) } } }, c.a.createElement(d.Icon, { color: "white", icon: "delete" })) }), Ev = Object(d.getClasses)("feed-category-photos", ["images", "card-image", "card-image-load-container", "card-body", "card-header", "loader", "card-title", "card-subtitle", "actions"], []), Ov = function (e) { var t = e.image, r = e.missionName, n = Object(i.useState)(!0), a = Object(Xe.a)(n, 2), o = a[0], s = a[1], u = Object(l.c)(function (e) { return e.dataSync.missions.has(r) ? e.dataSync.missions.get(r).missionContacts : [] }), f = "".concat(Pr.create().getSyncUrl(), "/content?hash=").concat(t.data.hash); return c.a.createElement("div", { className: Ev.Elements["card-image"] }, o && c.a.createElement("div", { className: Ev.Elements["card-image-load-container"] }, c.a.createElement(d.Loader, { className: Ev.Elements.loader })), c.a.createElement("img", { onError: function () { return s(!1) }, onLoad: function () { return s(!1) }, src: f, alt: "" }), c.a.createElement("div", { className: Ev.Elements["card-body"] }, c.a.createElement("div", { className: Ev.Elements["card-header"] }, c.a.createElement("div", { className: Ev.Elements["card-title"] }, t.data.name, c.a.createElement("div", { className: Ev.Elements["card-subtitle"] }, "created by ", function (e) { var t = "User"; if (u) { var r = u.find(function (t) { return t.uid === e }); t = r ? r.callsign : "User" } return t }(t.creatorUid), " ", Object(rc.a)(new Date(t.data.submissionTime)), c.a.createElement("br", null), bc(t.data.size))), c.a.createElement("div", null, c.a.createElement("div", { className: Ev.Elements.actions }, c.a.createElement("a", { target: "_blank", download: !0, href: f }, c.a.createElement(d.Button, { small: !0, minimal: !0 }, "Download")), r && c.a.createElement(yv, { identifiers: { missionName: r, hash: t.data.hash } })))))) }, Sv = function (e) { var t = e.missionName, r = Object(l.c)(function (e) { return e.dataSync.missions.has(t) ? e.dataSync.missions.get(t).mission.contents.filter(function (e) { return Object(L.isImage)(e.data.name) }).toArray() : [] }), n = c.a.createElement(d.NonIdealState, { icon: "image-mutiple", description: "No images in the mission" }), a = c.a.createElement("div", { className: Ev.Elements.images }, r.map(function (e) { return c.a.createElement(Ov, { key: e.data.uid, missionName: t, image: e }) })); return c.a.createElement("div", { className: Ev.BASE }, 0 === r.length ? n : a) }, wv = (r(663), Object(d.getClasses)("feed-category-map-items", ["map-items", "map-item", "map-item-visual", "info", "title", "subtitle", "actions"], [])), Av = function (e) { var t = e.missionName, r = e.missionCots, n = e.mapItem, a = Object(l.c)(function (e) { return e.events }), o = Object(l.c)(function (e) { return e.chat.getContacts().toArray() }), s = Object(i.useMemo)(function () { return a.hasEventByUid(n.data) ? a.getEventByUid(n.data) : r ? r.find(function (e) { return e.get("uid") === n.data }) : void 0 }, [a, n, r]); if (!s) return c.a.createElement("div", { className: wv.Elements["map-item"] }, c.a.createElement("div", { className: wv.Elements.info }, c.a.createElement("div", { className: wv.Elements.title }, "[Untitled Item]", c.a.createElement("div", { className: wv.Elements.subtitle }, n.timestamp)))); var u = Object(i.useState)(), f = Object(Xe.a)(u, 2), d = f[0], p = f[1]; Object(i.useEffect)(function () { Qo(s).then(function (e) { p(e) }) }, [s]); var m = Object(i.useCallback)(function () { if (s) if (ma.create().hasItem(s.uid)) ma.create().getItem(s.uid).zoomToItem(), ma.create().getItem(s.uid).onClick({ coordinate: [s.lon, s.lat] }, []); else if (confirm("Add item to map")) { var e = xl.create().getCotRenderer(s.type); if (e) { var t = new e(s); ma.create().addCotItem(t) } else ma.create().addCotItem(new Il(s)) } }, [s]); return c.a.createElement("div", { onClick: m, className: wv.Elements["map-item"] }, c.a.createElement("div", { className: wv.Elements.info }, c.a.createElement("div", { className: wv.Elements["map-item-visual"] }, c.a.createElement("img", { src: d, alt: "" })), c.a.createElement("div", { className: wv.Elements.title }, Br(s), c.a.createElement("div", { className: wv.Elements.subtitle }, "created by ", function (e) { var t = "User"; if (o) { var r = o.find(function (t) { return t.address.identifier === e }); t = r ? r.name : "User" } return t }(n.creatorUid), " ", Object(rc.a)(new Date(n.timestamp))))), c.a.createElement("div", { className: wv.Elements.actions }, t && c.a.createElement(yv, { identifiers: { missionName: t, uid: n.data } }))) }, Cv = function (e) { var t = e.missionName, r = c.a.createElement(d.NonIdealState, { icon: "map-outline", description: "No map items in the mission" }), n = Object(l.c)(function (e) { var r = e.dataSync; return r.missions.has(t) ? r.missions.get(t).mission.uids.toArray() : [] }), a = Object(l.c)(function (e) { var r = e.dataSync; return r.missions.has(t) ? r.missions.get(t).missionCots : [] }), o = c.a.createElement("div", { className: wv.Elements["map-items"] }, n.sort(function (e, t) { return Gr(t.timestamp) - Gr(e.timestamp) }).map(function (e) { return c.a.createElement(Av, { key: e.data, mapItem: e, missionCots: a, missionName: t }) })); return c.a.createElement("div", { className: wv.BASE }, 0 === n.length ? r : o) }, Tv = (r(664), Object(d.getClasses)("feed-category-files", ["files", "file", "info", "loading-icon", "title", "subtitle", "actions"], [])), jv = function (e) { var t = e.file, r = e.missionName, n = Object(i.useState)(Rs.create().hasFile(t.data.hash) && ws.create().isFileRendered(t.data.hash)), s = Object(Xe.a)(n, 2), u = s[0], f = s[1], p = Object(i.useState)(!1), m = Object(Xe.a)(p, 2), h = m[0], v = m[1], g = Object(l.c)(function (e) { var t = e.dataSync; return t.missions.has(r) ? t.missions.get(r).missionContacts : [] }), b = "".concat(Pr.create().getSyncUrl(), "/content?hash=").concat(t.data.hash), y = Object(i.useMemo)(function () { if (t.data.filename) return Rs.isMappableFile(t.data.filename) }, [t]), E = function () { var e = Object(o.a)(a.a.mark(function e() { var r; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (u) { e.next = 15; break } return e.prev = 1, v(!0), e.next = 5, Ou.create().addFeedFileToMap(t.data); case 5: return f(!0), e.abrupt("return"); case 9: e.prev = 9, e.t0 = e.catch(1), Td("toast").error({ message: "Unable to add file to map" }); case 12: return e.prev = 12, v(!1), e.finish(12); case 15: try { (r = ma.create()).hasItem(t.data.hash) && r.getItem(t.data.hash).zoomToItem() } catch (fA) { Td("toast").error({ message: "Unable to zoom to file" }) } case 16: case "end": return e.stop() } }, e, null, [[1, 9, 12, 15]]) })); return function () { return e.apply(this, arguments) } }(), O = u ? "Zoom to File" : "Add To Map"; return c.a.createElement("div", { className: Tv.Elements.file }, c.a.createElement("div", { className: Tv.Elements.title }, t.data.name || "[Untitled File]", c.a.createElement("div", { className: Tv.Elements.subtitle }, "created by ", function (e) { var t = "User"; if (r && g) { var n = g.find(function (t) { return t.uid === e }); t = n ? n.callsign : "User" } return t }(t.creatorUid), " ", Object(rc.a)(new Date(t.timestamp)), c.a.createElement("br", null), bc(t.data.size))), c.a.createElement("div", { className: Tv.Elements.actions }, c.a.createElement("a", { href: b, download: !0 }, c.a.createElement(d.Button, { small: !0, minimal: !0 }, "Download")), y && c.a.createElement(d.Button, { disabled: h, onClick: E, small: !0 }, h ? c.a.createElement(d.Icon, { className: Tv.Elements["loading-icon"], icon: "loading" }) : O), r && c.a.createElement(yv, { identifiers: { missionName: r, hash: t.data.hash }, onClick: function () { Rs.create().renderer.isFileRendered(t.data.hash) && Rs.create().renderer.unrenderFile(t.data.hash) } }))) }, kv = function (e) { var t = e.missionName, r = c.a.createElement(d.NonIdealState, { icon: "folder-multiple", description: "No files in the mission" }), n = Object(l.c)(function (e) { var r = e.dataSync; return r.missions.has(t) ? r.missions.get(t).mission.contents.filter(function (e) { return !Object(L.isImage)(e.data.name) }).toArray() : [] }), a = c.a.createElement("div", { className: Tv.Elements.files }, n.map(function (e) { return c.a.createElement(jv, { key: e.data.uid, missionName: t, file: e }) })); return c.a.createElement("div", { className: Tv.BASE }, 0 === n.length ? r : a) }; !function (e) { e.MAP_ITEMS = "map-items", e.PHOTOS = "photos", e.FILES = "files" }(fv || (fv = {})); var Rv, Nv, Lv = function (e) { var t = e.missionName, r = e.view, n = void 0 === r ? fv.MAP_ITEMS : r, a = Object(i.useState)(n), o = Object(Xe.a)(a, 2), s = o[0], u = o[1], f = Object(l.c)(function (e) { return e.dataSync.missions.get(t) }), p = [{ value: fv.MAP_ITEMS, label: "Map Items" }, { value: fv.PHOTOS, label: "Photos" }, { value: fv.FILES, label: "Files" }], m = Object(i.useMemo)(function () { switch (s) { case fv.PHOTOS: return c.a.createElement(Sv, { missionName: t }); case fv.MAP_ITEMS: return c.a.createElement(Cv, { missionName: t }); case fv.FILES: return c.a.createElement(kv, { missionName: t }) } }, [s, f]); return c.a.createElement(d.DrawerLayout, null, c.a.createElement(d.NavigationDrawerHeader, { title: "Feed Content" }, c.a.createElement(d.SegmentedControl, { defaultValue: n, options: p, onChange: function (e) { return u(e) } })), m) }, _v = (r(665), r(666), Object(d.getClasses)("header-item", ["icon", "header-item"], ["active"])), Iv = function (e) { var t = e.title, r = e.icon, n = e.onClick, a = e.active, o = void 0 !== a && a, i = Object(d.className)(_v.BASE, Object(C.a)({}, _v.Modifiers.active, o)); return c.a.createElement("div", { className: i, onClick: n }, c.a.createElement(d.Icon, { icon: r }), t) }; r(667); !function (e) { e[e.FILES = 0] = "FILES", e[e.IMAGE = 1] = "IMAGE", e[e.MAP_ITEM = 2] = "MAP_ITEM" }(Rv || (Rv = {})), function (e) { e[e.PENDING = 0] = "PENDING", e[e.UPLOADING = 1] = "UPLOADING", e[e.SUCCSESS = 2] = "SUCCSESS", e[e.FAILURE = 3] = "FAILURE" }(Nv || (Nv = {})); var Mv = Object(d.getClasses)("content-item", ["item-icon", "title", "subtitle", "remove-icon", "status-pending", "status-uploading", "status-success", "status-failure"], ["active"]), xv = function (e) { var t = e.id, r = e.title, n = e.uploading, a = void 0 !== n && n, o = e.onRemove, s = e.uploadStatus, u = Object(d.className)(Mv.BASE, {}), l = Object(i.useMemo)(function () { var e, t; switch (s) { case Nv.UPLOADING: e = "loading", t = Mv.Elements["status-uploading"]; break; case Nv.SUCCSESS: e = "circle-check", t = Mv.Elements["status-success"]; break; case Nv.FAILURE: e = "warning", t = Mv.Elements["status-failure"]; break; default: e = "checkbox-blank", t = Mv.Elements["status-pending"] }return c.a.createElement(d.Icon, { className: t, icon: e }) }, [s]); return c.a.createElement("li", { className: u }, c.a.createElement("div", null, r), c.a.createElement("div", null, a || s !== Nv.PENDING ? l : c.a.createElement(d.Icon, { className: Mv.Elements["remove-icon"], onClick: function () { return o(t) }, icon: "delete-outline" }))) }; function Dv(e, t) { var r = "undefined" !== typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (!r) { if (Array.isArray(e) || (r = function (e, t) { if (!e) return; if ("string" === typeof e) return Pv(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); "Object" === r && e.constructor && (r = e.constructor.name); if ("Map" === r || "Set" === r) return Array.from(e); if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return Pv(e, t) }(e)) || t && e && "number" === typeof e.length) { r && (e = r); var n = 0, a = function () { }; return { s: a, n: function () { return n >= e.length ? { done: !0 } : { done: !1, value: e[n++] } }, e: function (e) { throw e }, f: a } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var o, i = !0, c = !1; return { s: function () { r = r.call(e) }, n: function () { var e = r.next(); return i = e.done, e }, e: function (e) { c = !0, o = e }, f: function () { try { i || null == r.return || r.return() } finally { if (c) throw o } } } } function Pv(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } var Uv = Object(d.getClasses)("feed-add-content", ["nav-content", "input", "header", "content", "list", "block-title"], []), Bv = function (e) { var t = e.missionName, r = Ya.create(), n = c.a.useRef(), s = Object(i.createRef)(), u = Object(i.createRef)(), f = Object(i.useState)(!1), p = Object(Xe.a)(f, 2), m = p[0], h = p[1], v = Object(i.useState)([]), g = Object(Xe.a)(v, 2), b = g[0], y = g[1], E = Object(i.useState)(!1), O = Object(Xe.a)(E, 2), S = O[0], w = O[1], A = Object(i.useContext)(d.NavigationContext), C = Object(l.c)(function (e) { return e.dataSync.missions.get(t) }); Object(i.useEffect)(function () { return function () { T(), n.current && "function" === typeof n.current && n.current() } }, [n]); var T = function () { h(!1), r.drop(), n.current && "function" === typeof n.current && n.current() }, j = function (e) { var t = e.map(function (e) { return { id: Object(L.uuid)(), title: e.name, type: Rv.IMAGE, data: e, uploadStatus: Nv.PENDING } }), r = [].concat(Object(D.a)(b), Object(D.a)(t)); y(r) }, k = function (e) { y(function (t) { return t.filter(function (t) { return t.id !== e }) }) }, R = function (e, t) { y(function (r) { var n = r.findIndex(function (t) { return t.id === e }); if (n > -1) { var a = r[n]; a.uploadStatus = t, r[n] = a } return Object(D.a)(r) }) }, N = function () { var e = Object(o.a)(a.a.mark(function e() { var t, r, n; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: T(), w(!0), t = Dv(b.filter(function (e) { return e.uploadStatus !== Nv.SUCCSESS })), e.prev = 3, t.s(); case 5: if ((r = t.n()).done) { e.next = 26; break } if (n = r.value, e.prev = 7, R(n.id, Nv.UPLOADING), n.type !== Rv.MAP_ITEM) { e.next = 15; break } if (!C) { e.next = 13; break } return e.next = 13, Ou.create().addCotToMissionSocket(C.mission.name, n.data); case 13: e.next = 18; break; case 15: if (!C) { e.next = 18; break } return e.next = 18, Ou.create().addFileToMission(C.mission.name, n.data); case 18: R(n.id, Nv.SUCCSESS), e.next = 24; break; case 21: e.prev = 21, e.t0 = e.catch(7), R(n.id, Nv.FAILURE); case 24: e.next = 5; break; case 26: e.next = 31; break; case 28: e.prev = 28, e.t1 = e.catch(3), t.e(e.t1); case 31: return e.prev = 31, t.f(), e.finish(31); case 34: w(!1), b.every(function (e) { return e.uploadStatus === Nv.SUCCSESS }) && (Td("toast").success({ message: "Successfully added all items to feed." }), setTimeout(function () { A.pop() }, 1500)); case 36: case "end": return e.stop() } }, e, null, [[3, 28, 31, 34], [7, 21]]) })); return function () { return e.apply(this, arguments) } }(); return c.a.createElement(d.DrawerLayout, { contentClassName: Uv.Elements["nav-content"], className: Uv.BASE }, c.a.createElement(d.NavigationDrawerHeader, { title: "Add Content" }), c.a.createElement("div", { className: Uv.Elements["block-title"] }, "Choose selection method"), c.a.createElement("div", { className: Uv.Elements.header }, c.a.createElement(Iv, { title: "Map Items", icon: "map-plus", onClick: function () { m ? T() : (r.instruct({ title: "Press a map item to select it. ", actions: [{ title: "Done", onClick: T, instructionType: d.InstructionType.PRIMARY }] }), hi.create().performSelection(function (e, t) { e(function (e) { y(function (t) { var r = e.filter(function (e) { if ("function" !== typeof e.getCot) return !1; var r = e.getCot(); return !Fr(r) && !t.find(function (t) { return t.id === e.id }) }).map(function (e) { var t = e.getCot(); return { title: e.getName(), data: t, id: e.id, type: Rv.MAP_ITEM, uploadStatus: Nv.PENDING } }); return [].concat(Object(D.a)(t), Object(D.a)(r)) }) }), n.current = t }, function () { return T() }, function (e) { return e() }), h(!0)) }, active: m }), c.a.createElement(Iv, { title: "Photos", icon: "image-plus", onClick: function () { T(), s.current && s.current.click() } }), c.a.createElement(Iv, { title: "Files", icon: "file-plus-outline", onClick: function () { T(), u.current && u.current.click() } })), c.a.createElement("div", { className: Uv.Elements["block-title"] }, "Content to Upload", c.a.createElement(d.Button, { disabled: 0 === b.length, onClick: N }, "submit")), c.a.createElement("div", { className: Uv.Elements.content }, c.a.createElement("ul", { className: Uv.Elements.list }, b.map(function (e) { var t = e.uploadStatus, r = Object(Oe.a)(e, ["uploadStatus"]); return c.a.createElement(xv, Object.assign({ key: r.id, uploading: S, onRemove: k, uploadStatus: t }, r)) }))), c.a.createElement("input", { className: Uv.Elements.input, type: "file", accept: "image/*", multiple: !0, ref: s, onChange: function (e) { s.current && s.current.files && (j(Array.from(s.current.files)), e.target.value = "") } }), c.a.createElement("input", { className: Uv.Elements.input, type: "file", multiple: !0, ref: u, onChange: function (e) { u.current && u.current.files && (j(Array.from(u.current.files)), e.target.value = "") } })) }, Fv = Object(d.getClasses)("feed-content-card", ["header", "content", "list", "list-item", "list-item-icon", "item-counter", "chevron-icon"], []), Vv = function (e, t, r, n, a) { return c.a.createElement("li", { onClick: function () { return a(n) }, className: Fv.Elements["list-item"] }, c.a.createElement(d.Icon, { className: Fv.Elements["list-item-icon"], icon: r }), c.a.createElement("span", null, e), c.a.createElement("span", { className: Fv.Elements["item-counter"] }, "(", t, ")"), c.a.createElement(d.Icon, { className: Fv.Elements["chevron-icon"], icon: "chevron-right" })) }, Hv = function (e) { var t = e.missionName, r = Ou.create(), n = Object(i.useState)(!1), a = Object(Xe.a)(n, 2), o = a[0], s = a[1], u = Object(l.c)(function (e) { return e.dataSync.missions.get(t) }); Object(i.useEffect)(function () { if (u) { var e = r.userHasMissionPermission(t, pr.MISSION_WRITE); s(e) } }, [u]), xa(r, "mission-subscription-changed", function () { if (u) { var e = r.userHasMissionPermission(t, pr.MISSION_WRITE); s(e) } }, [s, u]); var f = u ? u.mission.uids.toArray().length : 0, p = Object(i.useContext)(d.NavigationContext).push, m = u ? u.mission.contents.filter(function (e) { return Object(L.isImage)(e.data.name) }).toArray().length : 0, h = u ? u.mission.contents.filter(function (e) { return !Object(L.isImage)(e.data.name) }).toArray().length : 0, v = function (e) { return p(function () { return c.a.createElement(Lv, { missionName: t, view: e }) }) }; return c.a.createElement("div", { className: Fv.BASE }, c.a.createElement("div", { className: Fv.Elements.header }, "Feed Content"), c.a.createElement("div", { className: Fv.Elements.content }, c.a.createElement("ul", { className: Fv.Elements.list }, Vv("Map Items", f, "map-outline", fv.MAP_ITEMS, v), Vv("Photos", m, "image-mutiple", fv.PHOTOS, v), Vv("Files", h, "folder-multiple", fv.FILES, v)), c.a.createElement(d.Button, { disabled: !o, onClick: function () { return p(function () { return c.a.createElement(Bv, { missionName: t }) }) } }, c.a.createElement(d.Icon, { icon: "plus" }), " Add Item"))) }, Gv = Object(d.getClasses)("feed-details", ["categories"], []), qv = function (e) { var t = e.missionName, r = cu.create(); Object(i.useEffect)(function () { return r.setActiveMissionDrawer(t), function () { r.setActiveMissionDrawer(void 0) } }, []); var n = Object(i.useContext)(d.NavigationContext); Td("socket").on("message", function (e) { e.type === mr.MISSION_DELETED && e.detail.xml.mission["#attr"].name === t && n.pop() }); var a = Object(l.c)(function (e) { return !!e.dataSync.missions.has(t) && e.dataSync.missions.get(t).loaded }); return c.a.createElement(d.DrawerLayout, { className: Gv.BASE }, c.a.createElement(d.NavigationDrawerHeader, { title: t }), a ? c.a.createElement(i.Fragment, null, c.a.createElement(pv, { missionName: t }), c.a.createElement(Hv, { missionName: t }), c.a.createElement(bv, { missionName: t })) : c.a.createElement(d.Loader, null)) }, Kv = Object(d.getClasses)("feed-list-card", ["loader-overlay", "loader", "status-indicator", "status-subscribed", "content", "feed-info", "title-block", "title", "time", "collapse", "collapse-actions", "notification-count"], []), zv = Object(l.b)(function (e) { var t = e.dataSync; return { hasToken: function (e) { return t.missionAuthTokenMap.has(e) }, isSubscribed: function (e) { return t.subscriptions.has(e) } } })(function (e) { var t = e.mission, r = e.hasToken, n = e.isSubscribed, s = cu.create().getChannel(), u = Object(i.useState)(!1), l = Object(Xe.a)(u, 2), f = l[0], p = l[1], m = Object(i.useState)(!1), h = Object(Xe.a)(m, 2), v = h[0], g = h[1], b = Object(i.useState)(""), y = Object(Xe.a)(b, 2), E = y[0], O = y[1], S = Object(i.useContext)(d.NavigationContext).push, w = t.passwordProtected, A = Object(i.useState)(cu.create().getNotificationCount(t.name)), T = Object(Xe.a)(A, 2), j = T[0], k = T[1], R = function () { cu.create().removeAll(t.name), Ou.create().setCurrentMission(t.name), S(function () { return c.a.createElement(qv, { missionName: t.name }) }) }; xa(s, "change", function () { k(cu.create().getNotificationCount(t.name)) }, [k, t]); var N = function () { var e = Object(o.a)(a.a.mark(function e() { var r, n; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (r = function () { Td("toast").error({ message: "Invalid Authentication provided." }) }, e.prev = 1, p(!0), !sn().getState().dataSync.getTokenBy(t.name)) { e.next = 7; break } e.t0 = sn().getState().dataSync.getTokenBy(t.name), e.next = 10; break; case 7: return e.next = 9, Ou.create().requestToken(t.name, E); case 9: e.t0 = e.sent; case 10: if (n = e.t0, p(!1), n) { e.next = 15; break } return r(), e.abrupt("return"); case 15: R(), g(!1), e.next = 23; break; case 19: e.prev = 19, e.t1 = e.catch(1), r(), p(!1); case 23: case "end": return e.stop() } }, e, null, [[1, 19]]) })); return function () { return e.apply(this, arguments) } }(), _ = Object(d.className)(Kv.Elements["status-indicator"], Object(C.a)({}, Kv.Elements["status-subscribed"], n(t.name))); return c.a.createElement("div", { className: Kv.BASE, onClick: Object(L.safelyHandle)(function () { w && !r(t.name) ? g(!0) : R() }) }, f && c.a.createElement("div", { className: Kv.Elements["loader-overlay"] }, c.a.createElement(d.Loader, { className: Kv.Elements.loader })), c.a.createElement("div", { className: _ }), c.a.createElement("div", { className: Kv.Elements.content }, c.a.createElement("div", { className: Kv.Elements["feed-info"] }, c.a.createElement("div", { className: Kv.Elements["title-block"] }, c.a.createElement("span", { className: Kv.Elements.title }, t.name, 0 !== j && c.a.createElement("span", { className: Kv.Elements["notification-count"] }, j)), c.a.createElement("span", { title: t.createTime, className: Kv.Elements.time }, "created", " ", Object(rc.a)(new Date(t.createTime), { addSuffix: !0 }))), w && c.a.createElement(d.Icon, { icon: r(t.name) ? "lock-open-variant" : "lock" })), c.a.createElement(d.Collapse, { className: Kv.Elements.collapse, isOpen: v }, c.a.createElement(d.TextInput, { type: "password", placeholder: "Password", value: E, onChange: function (e) { return O(e.target.value) } }), c.a.createElement("div", { className: Kv.Elements["collapse-actions"] }, c.a.createElement(d.Button.Danger, { small: !0, onClick: Object(L.safelyHandle)(function () { return g(!1) }) }, "Cancel"), c.a.createElement(d.Button.Primary, { small: !0, disabled: "" === E.trim(), onClick: Object(L.safelyHandle)(N) }, "Authenticate"))))) }), Yv = Object(d.getClasses)("feed-list", ["feeds-block", "block-header", "more-button"], []), Wv = Object(l.b)(function (e) { var t = e.dataSync; return { subscriptions: t.subscriptions, missions: t.missions.valueSeq().toArray() } }, function (e) { return Object(I.b)({ initializeMissions: function () { return Zr() } }, e) })(function (e) { var t = e.searchTerm, r = e.subscriptions, n = e.initializeMissions, a = e.missions, o = Object(i.useState)(20), s = Object(Xe.a)(o, 2), u = s[0], l = s[1]; Object(i.useEffect)(function () { n() }, []); var f = Object(i.useMemo)(function () { if (a) return a.filter(function (e) { return r.has(e.mission.name) && e.mission.name.toLowerCase().includes(t) }).sort(function (e, t) { return Gr(t.mission.createTime) - Gr(e.mission.createTime) }) }, [a, t, r]), p = Object(i.useMemo)(function () { if (a) return a.filter(function (e) { return !r.has(e.mission.name) && e.mission.name.toLowerCase().includes(t) }).sort(function (e, t) { return Gr(t.mission.createTime) - Gr(e.mission.createTime) }) }, [a, t, r]); return c.a.createElement("div", { className: Yv.BASE }, f && r.size > 0 && c.a.createElement("div", { className: Yv.Elements["feeds-block"] }, c.a.createElement("h6", { className: Yv.Elements["block-header"] }, "Synced Feeds"), f.map(function (e) { return c.a.createElement(zv, { key: e.mission.name, mission: e.mission }) })), c.a.createElement("div", { className: Yv.Elements["feeds-block"] }, c.a.createElement("h6", { className: Yv.Elements["block-header"] }, "All Feeds"), p && p.slice(0, u).map(function (e) { return c.a.createElement(zv, { key: e.mission.name, mission: e.mission }) }), p && p.length >= u && c.a.createElement(d.Button.Primary, { large: !0, className: Yv.Elements["more-button"], onClick: function () { return l(function (e) { return e + 40 }) } }, "More"))) }), Xv = (r(668), Object(d.getClasses)("create-feed-form", ["card", "loader-overlay", "loader"], [])), Jv = Object(d.className)(Object(d.prefix)("label"), Object(d.prefix)("label")), Zv = function (e) { var t = e.onAfterCreate, r = Object(i.useState)(""), n = Object(Xe.a)(r, 2), s = n[0], u = n[1], l = Object(i.useState)([Ou.create().getSaeServerGroups()[0]]), f = Object(Xe.a)(l, 2), p = f[0], m = f[1], h = Object(i.useState)("public"), v = Object(Xe.a)(h, 2), g = v[0], b = (v[1], Object(i.useState)(dr.MISSION_SUBSCRIBER)), y = Object(Xe.a)(b, 2), E = y[0], O = y[1], S = Object(i.useState)(""), w = Object(Xe.a)(S, 2), A = w[0], C = w[1], T = Object(i.useState)(""), j = Object(Xe.a)(T, 2), k = j[0], R = j[1], N = Object(i.useState)(""), L = Object(Xe.a)(N, 2), _ = L[0], I = L[1], M = Object(i.useState)(), x = Object(Xe.a)(M, 2), D = x[0], P = x[1], U = function () { var e = Object(o.a)(a.a.mark(function e() { var r; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (void 0 !== s) { e.next = 2; break } return e.abrupt("return"); case 2: return P(!0), e.next = 5, Ou.create().createMission({ name: s, defaultRole: E, password: k, tool: g, group: p, description: A, creatorUid: Ne() }); case 5: if (r = e.sent, P(!1), !r) { e.next = 13; break } if (!k) { e.next = 11; break } return e.next = 11, Ou.create().requestToken(r.name, k); case 11: Ou.create().setCurrentMission(r.name), t(r); case 13: case "end": return e.stop() } }, e) })); return function () { return e.apply(this, arguments) } }(); return c.a.createElement(d.DrawerLayout, { contentClassName: Xv.BASE }, c.a.createElement(d.NavigationDrawerHeader, { rightRenderer: function () { return c.a.createElement(c.a.Fragment, null) }, title: "Create New Feed" }), c.a.createElement(d.Card, { className: Xv.Elements.card }, D && c.a.createElement("div", { className: Xv.Elements["loader-overlay"] }, c.a.createElement(d.Loader, { className: Xv.Elements.loader })), c.a.createElement("label", { className: Jv }, c.a.createElement("span", null, "Name (required)"), c.a.createElement(d.TextInput, { value: s, onChange: function (e) { return u(e.target.value) }, placeholder: "Mission name" })), c.a.createElement("label", { className: Jv }, c.a.createElement("span", null, "Group"), c.a.createElement(d.Select, { multiple: !0, onChange: function (e) { m(Array.from(e.target.selectedOptions).map(function (e) { return e.value })) }, value: p }, Ou.create().getSaeServerGroups().map(function (e) { return c.a.createElement("option", { key: e, value: e }, e) }))), c.a.createElement("label", { className: Jv }, c.a.createElement("span", null, "Default Role"), c.a.createElement(d.Select, { onChange: function (e) { return O(e.target.value) }, value: E }, c.a.createElement("option", { value: dr.MISSION_READONLY_SUBSCRIBER }, "Read-Only Subscriber"), c.a.createElement("option", { value: dr.MISSION_SUBSCRIBER }, "Subscriber"), c.a.createElement("option", { value: dr.MISSION_OWNER }, "Owner"))), c.a.createElement("label", { className: Jv }, c.a.createElement("span", null, "Password (optional)"), c.a.createElement(d.TextInput, { onChange: function (e) { return R(e.target.value) }, value: k, placeholder: "Mission password", type: "password" })), c.a.createElement("label", { className: Jv }, c.a.createElement("span", null, "Description (optional)"), c.a.createElement(d.TextInput, { onChange: function (e) { return C(e.target.value) }, value: A, placeholder: "Mission Description", multi: !0 })), c.a.createElement("label", { className: Jv }, c.a.createElement("span", null, "Chat Rooms (optional)"), c.a.createElement(d.TextInput, { value: _, onChange: function (e) { return I(e.target.value) }, placeholder: "Enter XMPP Conference Room JID" })), c.a.createElement(d.Button, { onClick: U, disabled: "" === s.trim() }, "Create Mission"))) }, Qv = Object(d.getClasses)("feeds-drawer", ["new-feed"], []), $v = function () { var e = Object(i.useState)(""), t = Object(Xe.a)(e, 2), r = t[0], n = t[1], s = Object(i.useContext)(d.NavigationContext), u = function () { var e = Object(o.a)(a.a.mark(function e(t) { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: s.pop(), s.push(function () { return c.a.createElement(qv, { missionName: t.name }) }); case 2: case "end": return e.stop() } }, e) })); return function (t) { return e.apply(this, arguments) } }(), l = Object(i.useCallback)(function (e) { n(e.currentTarget.value) }, [n]); return c.a.createElement(d.DrawerLayout, null, c.a.createElement(d.NavigationDrawerHeader, { onSearch: l, title: "Data Sync" }, c.a.createElement(d.Button.Primary, { className: Qv.Elements["new-feed"], onClick: function () { return s.push(function () { return c.a.createElement(Zv, { onAfterCreate: u }) }) } }, "Add New")), c.a.createElement(Wv, { searchTerm: r })) }, eg = function () { return c.a.createElement(d.NavigationController, { className: Qv.BASE, defaultState: { onCollapse: Td("drawer").closeDrawer }, root: $v }) }, tg = "feeds", rg = "Data Sync", ng = !1; r(669), r(670); var ag = "data:image/svg+xml;base64,".concat(btoa('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 22"><defs/><defs><filter id="a" width="187.5%" height="170%" x="-43.8%" y="-25%" filterUnits="objectBoundingBox"><feOffset dy="2" in="SourceAlpha" result="shadowOffsetOuter1"/><feGaussianBlur in="shadowOffsetOuter1" result="shadowBlurOuter1" stdDeviation="2"/><feColorMatrix in="shadowBlurOuter1" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0"/></filter><path id="b" d="M10 0l6 6v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2h8"/></defs><g fill="none" fill-rule="evenodd"><path fill="#C4C4C4" fill-rule="nonzero" d="M10.232 4.144l5.713-1.137 7.079 9.538a2 2 0 01-.637 2.756L12.211 21.66a2 2 0 01-2.756-.636L.976 7.455a2 2 0 01.637-2.756L8.397.459l1.835 3.685z"/><g fill-rule="nonzero" transform="translate(4)"><use fill="#000" filter="url(#a)" xlink:href="#b"/><use fill="#FFF" xlink:href="#b"/></g><path fill="#C4C4C4" fill-rule="nonzero" d="M14.047 10.887a2.34 2.34 0 00-4.375-.625A1.873 1.873 0 009.875 14h4.063a1.562 1.562 0 001.562-1.563c0-.824-.64-1.493-1.453-1.55m-.11 2.488H9.875a1.25 1.25 0 01-.137-2.49l.334-.035.156-.297a1.709 1.709 0 011.522-.928 1.72 1.72 0 011.684 1.384l.094.47.478.034a.931.931 0 01-.068 1.862M10.5 11.812h.797v.938h.906v-.938H13l-1.25-1.25-1.25 1.25z"/><path fill="#D8D8D8" d="M14 0v5a1 1 0 001 1h5"/></g></svg>')), og = Object(d.getClasses)("drag-container", ["input", "non-ideal-image", "add-new-button"], ["dragging"]), ig = function (e) { var t = e.children, r = e.onFiles, n = Object(i.createRef)(), a = Object(i.useState)(!1), o = Object(Xe.a)(a, 2), s = o[0], u = o[1], l = Object(i.useState)(0), f = Object(Xe.a)(l, 2), p = f[0], m = f[1], h = Object(L.safelyHandle)(function () { u(!0) }), v = Object(L.safelyHandle)(function (e) { m(p + 1); var t = e.dataTransfer.items && e.dataTransfer.items.length > 0; u(t) }), g = Object(L.safelyHandle)(function (e) { m(p - 1), p - 1 <= 0 && u(!1) }), b = Object(L.safelyHandle)(function (e) { u(!1), e.dataTransfer.files && e.dataTransfer.files.length > 0 && (r(e.dataTransfer.files), m(0)) }), y = Object(d.className)(og.BASE, Object(C.a)({}, og.Modifiers.dragging, !!s)), E = c.a.createElement(d.Button, { className: og.Elements["add-new-button"], onClick: function () { n.current.click() } }, "Add New File"), O = c.a.createElement(d.NonIdealState, { title: "No files", description: "Drag and drop or upload a file to get started. Supported files extensions are: ".concat(Object.values(As).join(", ").toUpperCase(), "."), action: E, icon: c.a.createElement("img", { className: og.Elements["non-ideal-image"], src: ag }) }), S = Array.isArray(t) && 0 === t.length; return c.a.createElement(i.Fragment, null, S ? null : E, c.a.createElement("div", { className: y, onDragEnter: v, onDragLeave: g, onDragOver: h, onDrop: b }, S ? O : t, c.a.createElement("input", { className: og.Elements.input, type: "file", multiple: !0, ref: n, onChange: function (e) { n.current && n.current.files && (r(n.current.files), e.target.value = "") } }))) }, cg = (r(671), Object(d.getClasses)("file-card", ["info", "title", "meta", "actions", "delete", "visibility", "loader-overlay", "loader", "error", "header-block", "file-type", "content-block", "content"], ["error"])), sg = Rs.create(), ug = (sg.renderer, hi.create()); function lg(e) { return ma.create().hasItem(e.uid) ? ma.create().getItem(e.uid) : String(e.name.split(".").pop()) === As.KML ? ma.create().addItem(new rs(e)) : void 0 } var fg = function (e) { var t = e.file, r = lg(t); if (!r) return null; var n, a = Object(i.useState)(!!r && r.getVisible()), o = Object(Xe.a)(a, 2), s = o[0], u = o[1], l = Object(i.useState)((n = t.uid, ma.create().hasItem(n) ? ma.create().getItem(n).getRenderState() : Wc.ACTIVE)), f = Object(Xe.a)(l, 2), p = f[0], m = f[1], h = "function" === typeof r.getOpacity, v = Object(i.useState)("function" === typeof r.getOpacity ? r.getOpacity() : 1), g = Object(Xe.a)(v, 2), b = g[0], y = g[1]; Object(i.useEffect)(function () { var e = lg(t), r = function (e) { var t = e.visibility, r = e.renderState; void 0 !== t && u(t), void 0 !== r && m(r) }; return e && e.on("change", r), function () { e && e.off("change", r) } }, [t, m, u]); var E = Object(i.useCallback)(function () { if (p !== Wc.PENDING) try { var e = ma.create(); e.hasItem(t.uid) && e.getItem(t.uid).zoomToItem() } catch (fA) { Td("toast").error({ message: "Unabled to zoom to file." }) } }, [t, p]), O = p === Wc.PENDING, S = p === Wc.ERROR, w = Object(d.className)(cg.BASE, Object(C.a)({}, cg.Modifiers.error, !!S)); return c.a.createElement("div", { onClick: Object(L.safelyHandle)(E), className: w }, O && c.a.createElement("div", { className: cg.Elements["loader-overlay"] }, c.a.createElement(d.Loader, { className: cg.Elements.loader })), c.a.createElement("div", { className: cg.Elements["header-block"] }, c.a.createElement("div", { className: cg.Elements["file-type"] }, S && c.a.createElement(d.Icon, { className: cg.Elements.error, icon: "warning" }), Rs.getFileImportType(t.name).toUpperCase()), c.a.createElement("div", { className: cg.Elements.actions }, c.a.createElement(d.Icon, { className: cg.Elements.delete, onClick: Object(L.safelyHandle)(function () { return sg.removeFile(t.uid) }), icon: "delete" }), !S && ug.getMapDimension() === ci["2D"] && c.a.createElement(d.Icon, { className: cg.Elements.visibility, onClick: Object(L.safelyHandle)(function () { r && r.setVisibility(!s) }), icon: s ? "eye" : "eye-off" }))), c.a.createElement("div", { className: cg.Elements["content-block"] }, c.a.createElement("div", { className: cg.Elements.content }, c.a.createElement("div", { className: cg.Elements.info }, c.a.createElement("span", { className: cg.Elements.title }, t.name), c.a.createElement("div", { className: cg.Elements.meta }, c.a.createElement("span", null, bc(t.size)))), c.a.createElement(d.Collapse, { unmountOnExit: !0, isOpen: h && s && !S }, c.a.createElement("label", { className: Object(d.className)(Object(d.prefix)("label"), Object(d.prefix)("label--inline")), htmlFor: "file-opacity-".concat(t.uid) }, c.a.createElement("span", null, "Opacity"), c.a.createElement("input", { onClick: Object(L.safelyHandle)(function () { }), id: "file-opacity-".concat(t.uid), value: b, onChange: Object(L.safelyHandle)(function (e) { y(Number(e.target.value)), "function" === typeof r.setOpacity && r.setOpacity(Number(e.target.value)) }), disabled: !s, step: "0.01", min: "0", max: "1", className: Object(d.prefix)("slider"), type: "range" })))))) }, dg = (Object(d.getClasses)("file-import", [], []), Rs.create()), pg = function () { var e = Object(i.useState)(dg.getFiles()), t = Object(Xe.a)(e, 2), r = t[0], n = t[1], s = function () { var e = Object(o.a)(a.a.mark(function e(t) { var r, n, o, i; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (null !== t.item && 0 !== t.length) { e.next = 2; break } return e.abrupt("return"); case 2: r = 0, n = Object.values(t); case 3: if (!(r < n.length)) { e.next = 17; break } return o = n[r], e.prev = 5, e.next = 8, dg.addFile(o); case 8: e.next = 14; break; case 10: e.prev = 10, e.t0 = e.catch(5), i = e.t0.message.replace(/FileImportService.addFile: /, ""), Td("toast").error({ message: i }); case 14: r++, e.next = 3; break; case 17: case "end": return e.stop() } }, e, null, [[5, 10]]) })); return function (t) { return e.apply(this, arguments) } }(); return xa(dg, "change", function () { n(dg.getFiles()) }, [n]), xa(hi.create(), "dimension-change", function (e) { n(dg.getFiles()) }, [n]), c.a.createElement(d.DrawerLayout, null, c.a.createElement(d.DrawerHeader, { title: "File Import" }), c.a.createElement(ig, { onFiles: s }, r.map(function (e) { return c.a.createElement(fg, { key: e.uid, file: e }) }))) }, mg = Object(d.getClasses)("file-import-drawer", [], []), hg = function () { return c.a.createElement(d.NavigationController, { className: mg.BASE, root: pg }) }; function vg(e, t) { var r = "undefined" !== typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (!r) { if (Array.isArray(e) || (r = function (e, t) { if (!e) return; if ("string" === typeof e) return gg(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); "Object" === r && e.constructor && (r = e.constructor.name); if ("Map" === r || "Set" === r) return Array.from(e); if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return gg(e, t) }(e)) || t && e && "number" === typeof e.length) { r && (e = r); var n = 0, a = function () { }; return { s: a, n: function () { return n >= e.length ? { done: !0 } : { done: !1, value: e[n++] } }, e: function (e) { throw e }, f: a } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var o, i = !0, c = !1; return { s: function () { r = r.call(e) }, n: function () { var e = r.next(); return i = e.done, e }, e: function (e) { c = !0, o = e }, f: function () { try { i || null == r.return || r.return() } finally { if (c) throw o } } } } function gg(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } var bg = !1, yg = "file-import", Eg = "File Import", Og = Rs.create(), Sg = ma.create(), wg = function () { var e = "file-overlay-".concat(Object(L.uuid)(5)), t = Object(L.throttle)(function () { Td("overlays").updateNode(e, r), kf.create().forceUpdateTree() }), r = function () { var r = Og.getFiles().filter(function (e) { return Sg.hasItem(e.uid) }).map(function (e) { var r = Sg.getItem(e.uid); return r.off("change:visibility", t), r.on("change:visibility", t), r }), n = new $s({ registryKey: e, title: "KML", icon: "google-earth", nodeChildren: r.filter(function (e) { return e instanceof rs }).map(function (t) { return new $s({ registryKey: e, title: t.getName(), mapItemId: t.id, icon: function () { return t.getIcon() }, nodeChildren: [] }) }) }), a = new $s({ registryKey: e, title: "KMZ", icon: "google-earth", nodeChildren: r.filter(function (e) { return e instanceof hs }).map(function (t) { return new $s({ registryKey: e, title: t.getName(), icon: function () { return t.getIcon() }, mapItemId: t.id, nodeChildren: [] }) }) }), o = new $s({ registryKey: e, title: "GeoTiff", icon: "google-earth", nodeChildren: r.filter(function (e) { return e instanceof Os }).map(function (t) { return new $s({ registryKey: e, title: t.getName(), icon: function () { return t.getIcon() }, mapItemId: t.id, nodeChildren: [] }) }) }); return new $s({ registryKey: e, title: "File Overlays", icon: "layers", nodeChildren: [n, a, o].filter(function (e) { return e.nodeChildren.length }) }) }, n = { id: e, tree: function () { return r() }, onItemClick: function (e) { var t = e.mapItemId; if (t && Sg.hasItem(t)) { var r = Sg.getItem(t); try { r.zoomToItem() } catch (fA) { Td("toast").error({ message: "Unable to zoom to map item" }) } } }, onDelete: function (e) { var t = e.filter(function (e) { return Sg.hasItem(e.id) && e instanceof Zc }).map(function (e) { return e.id }); return Og.removeFile(t), !0 } }; Td("overlays").registerNode(n), Og.on("change", function () { Td("overlays").updateNode(e, r) }) }; r(672), r(673), r(674); var Ag = Object.entries({ OpenStreetMaps: "open-street-maps", MapboxStreets: "mapbox-streets", MapboxDark: "mapbox-dark", MapboxHighContrast: "mapbox-high-contrast", MapboxLight: "mapbox-light", MapboxOutdoors: "mapbox-outdoor", MapboxSatellite: "mapbox-satellite", GoogleSatellite: "google-satellite", GoogleRoad: "google-road", GoogleHybrid: "google-hybrid", Road: "bing-road", Aerial: "bing-aerial", AerialWithLabels: "bing-hybrid", ESRIWorldTopo: "esri-world-topo" }).reduce(function (e, t) { var r = Object(Xe.a)(t, 2), n = r[0], a = r[1]; return e[n] = "".concat(w, "layer-assets/").concat(a, ".png"), e }, {}), Cg = Object(d.getClasses)("base-layer-card", ["image", "info-title", "info-tag", "info", "active-tag"], ["active"]), Tg = function (e) { var t = e.tileLayer, r = e.active, n = Td("layer"), a = t.getProperties().name, o = Object(d.className)(Cg.BASE, Object(C.a)({}, Cg.Modifiers.active, !!r)), s = Object(i.useCallback)(function () { var e = t.getProperties().name; n.setCurrentLayer(e) }, [t]), u = t.getProperties().title; return c.a.createElement("div", { onClick: s, className: o }, c.a.createElement("img", { className: Cg.Elements.image, src: Ag[a] ? Ag[a] : Ag.Aerial }), c.a.createElement("div", { className: Cg.Elements.info }, c.a.createElement("div", { className: Cg.Elements["info-title"] }, u), r && c.a.createElement(d.Tag, { className: Cg.Elements["active-tag"] }, "Active"))) }, jg = (Object(d.getClasses)("layers-list", [], []), function () { return null }), kg = function (e, t) { return e.title.toLowerCase().includes(t) }, Rg = function (e) { var t = e.filterTerm, r = Td("layer"), n = Object(i.useRef)(null), a = Object(i.useState)(r.getBaseLayers()), o = Object(Xe.a)(a, 2), s = o[0], u = o[1], l = Object(i.useState)(r.getCurrentLayer()), f = Object(Xe.a)(l, 2), p = f[0], m = f[1], h = Object(i.useMemo)(function () { return Object(q.List)(s).map(function (e) { var t = e.getProperties(); return { title: t.title, name: t.name, url: t.url } }).sort(function (e, t) { return Object(L.alphaSort)(e.title, t.title) }) }, [s]); Object(i.useEffect)(function () { var e = function (e) { u(r.getBaseLayers()) }; return r.on("change", m), r.on("new-layer", e), function () { r.off("change", m), r.off("new-layer", e) } }, [m, u]), Object(i.useEffect)(function () { n.current && n.current.setFilterTerm(t) }, [t]); var v = Object(i.useCallback)(function (e) { var t = e.name === p; return c.a.createElement(Tg, { active: t, tileLayer: r.getBaseLayer(e.name) }) }, [p, r]); return c.a.createElement(d.List, { ref: n, items: h, headerRenderer: jg, filter: kg, rowRenderer: v, title: "" }) }, Ng = (r(400), r(149)), Lg = (r(401), Object(d.getClasses)("overlay-card", ["header-block", "header-actions", "content-block", "content", "info", "title", "actions", "copy-action", "copy-span", "slider", "delete", "lock", "order-controlls", "order-controll", "url-wrapper"], ["active", "disabled"])), _g = Object(d.className)(Object(d.prefix)("label"), Object(d.prefix)("label")), Ig = function (e) { var t, r = e.overlay, n = e.isEditing, a = Td("layer"), o = Object(i.useState)(!1), s = Object(Xe.a)(o, 2), u = s[0], l = s[1], f = Object(i.useState)(1), p = Object(Xe.a)(f, 2), m = p[0], h = p[1], v = Object(i.useState)(""), g = Object(Xe.a)(v, 2), b = g[0], y = g[1], E = Object(i.useState)(""), O = Object(Xe.a)(E, 2), S = O[0], w = O[1], A = Object(i.useState)(""), T = Object(Xe.a)(A, 2), j = T[0], k = T[1], R = Object(i.useState)(""), N = Object(Xe.a)(R, 2), L = N[0], _ = N[1], I = r.getProperties().local, M = Object(i.useState)(hi.create().getMapDimension()), x = Object(Xe.a)(M, 2), D = x[0], P = x[1], U = function () { return "WMTS/WMS" === S && D === ci["3D"] }; Object(i.useEffect)(function () { var e = r.getProperties(), t = e.title, n = e.name, a = e.visible, o = e.opacity, i = e.layerType, c = e.url; l(a), h(o), y(t), k(n), w(i), _(c) }, [D]); xa(hi.create(), "dimension-change", function (e) { P(e) }, []); var B = Object(d.className)(Lg.BASE, (t = {}, Object(C.a)(t, Lg.Modifiers.active, !!u && !n), Object(C.a)(t, Lg.Modifiers.disabled, U()), t)); return c.a.createElement("div", { className: B }, c.a.createElement("div", { className: Lg.Elements["header-block"] }, S, U() ? " - Not currently supported in 3D" : null, c.a.createElement(d.Switch, { checked: u, onChange: function (e) { l(e.target.checked), a.setCustomLayerVisibility(j, e.target.checked) }, disabled: U() })), c.a.createElement("div", { className: Lg.Elements["content-block"] }, c.a.createElement("div", { className: Lg.Elements.content }, c.a.createElement("div", { className: Lg.Elements.info }, n && I ? c.a.createElement("label", { className: _g }, c.a.createElement("span", null, "Type"), c.a.createElement(d.Select, { value: S, onChange: function (e) { var t = e.target.value; w(t), a.setCustomLayerType(j, t) } }, c.a.createElement("option", { value: "Tiled Layer" }, "Tiled Layer"), c.a.createElement("option", { value: "WMTS/WMS" }, "WMTS/WMS"), c.a.createElement("option", { value: "3D TILESET" }, "3D Tileset"))) : c.a.createElement("span", null)), c.a.createElement("div", { className: Lg.Elements.info }, n && I ? c.a.createElement("label", { className: _g }, c.a.createElement("span", null, "Title"), c.a.createElement(d.TextInput, { onChange: function (e) { var t = e.target.value; y(t), a.setCustomLayerTitle(j, t) }, value: b })) : c.a.createElement("span", null, c.a.createElement("label", { className: _g }, c.a.createElement("span", null, "Title")), c.a.createElement("span", { className: Lg.Elements.title }, b))), c.a.createElement(d.Collapse, { isOpen: u && !n }, c.a.createElement("label", { className: _g }, c.a.createElement("span", null, "Opacity"), c.a.createElement("input", { value: m, onChange: function (e) { h(e.target.value), a.setCustomLayerOpacity(j, e.target.value) }, step: "0.01", min: "0", max: "1", className: Object(d.prefix)("slider"), type: "range" }))), c.a.createElement("div", { className: Lg.Elements.info }, n && I ? c.a.createElement("label", { className: _g }, c.a.createElement("span", null, "URL"), c.a.createElement(d.TextInput, { value: L, multi: !0, placeholder: "https://host.tileserver/{z}/{x}/{y}.png\t", onChange: function (e) { var t = e.target.value; _(t), a.setCustomLayerUrl(j, t) } })) : c.a.createElement(d.Collapse, { isOpen: u && !n }, c.a.createElement("label", { className: _g }, c.a.createElement("span", { className: Lg.Elements["copy-span"] }, "URL", c.a.createElement("span", { className: Lg.Elements["copy-action"] }, c.a.createElement(d.CopyClipboard, { value: L, onCopySuccess: function () { Gi.create().info({ message: "Copied URL value to clipboard" }) } })))), c.a.createElement("div", { className: Lg.Elements["url-wrapper"] }, L))), c.a.createElement("div", { className: Lg.Elements.actions }, n && c.a.createElement(d.Button.Danger, { small: !0, disabled: !I, onClick: function () { return a.removeCustomLayer(j) } }, c.a.createElement(d.Icon, { icon: I ? "delete-outline" : "delete-off" }), "Delete"))), c.a.createElement("div", { className: Lg.Elements["order-controlls"] }, c.a.createElement("div", { className: Lg.Elements["order-controll"], onClick: function () { return a.moveCustomLayerUp(j) } }, c.a.createElement(d.Icon, { icon: "chevron-down" })), c.a.createElement("div", { className: Lg.Elements["order-controll"], onClick: function () { return a.moveCustomLayerDown(j) } }, c.a.createElement(d.Icon, { icon: "chevron-down" }))))) }, Mg = (r(675), function (e) { return String(e).trim().replace(/\${x}|{\$x}/, "{x}").replace(/\${y}|{\$y}/, "{y}").replace(/\${z}|{\$z}/, "{z}") }), xg = Object(d.getClasses)("tiled-overlay-form", ["submit-button"], []), Dg = Object(d.className)(Object(d.prefix)("label"), Object(d.prefix)("label")), Pg = function (e) { var t = e.addLayers, r = e.children, n = Object(i.useState)(), a = Object(Xe.a)(n, 2), o = a[0], s = a[1], u = Object(i.useState)(), l = Object(Xe.a)(u, 2), f = l[0], p = l[1]; return c.a.createElement(i.Fragment, null, c.a.createElement("label", { className: Dg }, c.a.createElement("span", null, "Title"), c.a.createElement(d.TextInput, { value: f, onChange: function (e) { return p(e.target.value) } })), c.a.createElement("label", { className: Dg }, c.a.createElement("span", null, "URL"), c.a.createElement(d.TextInput, { value: o, placeholder: "https://host.tileserver/{z}/{x}/{y}.png\t", onChange: function (e) { return s(e.target.value) } })), r, c.a.createElement(d.Button, { className: xg.Elements["submit-button"], disabled: !Object(L.isString)(o) || !Object(L.isString)(f), onClick: function () { var e = Mg(String(o)), r = { title: String(f), type: "XYZ", url: e, name: "custom-xyz-".concat(Object(L.uuid)(5)), local: !0 }; t([r]) } }, "Add Tiled Layer")) }, Ug = (r(676), r(418)), Bg = r(433), Fg = {}; V(h.LAYER_CAPABILITIES, function (e) { Fg = e || {} }); var Vg = function () { var e = Object(o.a)(a.a.mark(function e(t) { var r, n, o, i, c, s, u, l; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (r = t.toLowerCase().includes("wmts"), t = t.replace(/&amp;/g, "&"), n = new URL(decodeURIComponent(t)), o = Object(L.parseQueryParam)(t), r ? (i = new URLSearchParams(Object(P.a)({}, o, { service: "wmts", request: "GetCapabilities" })), n.search = i.toString()) : (c = new URLSearchParams(Object(P.a)({}, o, { service: "wms", request: "GetCapabilities" })), n.search = c.toString()), !((s = n.toString()) in Fg)) { e.next = 10; break } return e.abrupt("return", Fg[s]); case 10: return e.next = 12, Object(L.get)(s); case 12: u = e.sent, l = r ? new Bg.a : new Ug.a, Fg[s] = l.read(u), r && F(h.LAYER_CAPABILITIES, Fg); case 16: return e.abrupt("return", Fg[s]); case 17: case "end": return e.stop() } }, e) })); return function (t) { return e.apply(this, arguments) } }(), Hg = function () { var e = Object(o.a)(a.a.mark(function e(t) { var r, n; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return t = t.replace(/&amp;/g, "&"), r = new URL(t), e.next = 4, Vg(r.toString()); case 4: if (n = e.sent) { e.next = 7; break } return e.abrupt("return", null); case 7: if (!t.toLowerCase().includes("wmts")) { e.next = 12; break } return e.abrupt("return", qg(n, r)); case 12: return e.abrupt("return", Gg(n, r)); case 13: case "end": return e.stop() } }, e) })); return function (t) { return e.apply(this, arguments) } }(), Gg = function (e, t) { var r = []; return function e(n) { if (n.Layer) n.Layer.forEach(function (t) { e(t) }); else { var a = n.Title, o = n.Name, i = { title: a, name: "".concat(a, "-").concat(o), url: "".concat(t.origin).concat(t.pathname), type: "WMS", params: { LAYERS: o } }; r.push(i) } }(e.Capability.Layer), [e.Service.Title, r] }, qg = function (e, t) { return [e.ServiceIdentification.Title, e.Contents.Layer.map(function (r) { return { title: r.Title, name: r.Identifier, type: "WMTS", options: { capabilities: e, config: { layer: r.Identifier } }, url: t.toString() } })] }, Kg = Object(d.getClasses)("wmts-overlay-form", ["search-button"], []), zg = Object(d.className)(Object(d.prefix)("label"), Object(d.prefix)("label")), Yg = function (e) { var t = e.children, r = Object(i.useState)(), n = Object(Xe.a)(r, 2), s = n[0], u = n[1], l = Object(i.useContext)(d.NavigationContext), f = function () { var e = Object(o.a)(a.a.mark(function e() { var t, r, n; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return l.setState({ isOpen: !0, fetching: !0 }), e.prev = 1, e.next = 4, Hg(String(s)); case 4: (t = e.sent) && ((r = Object(Xe.a)(t, 2))[0], n = r[1], l.setState({ isOpen: !0, wmtsLayers: Array.from(n), fetching: !1 })), e.next = 12; break; case 8: e.prev = 8, e.t0 = e.catch(1), Td("toast").error({ message: "Unable to load layers", duration: 6, actions: [{ text: "Retry", onClick: function (e) { e(), f() } }, Hi] }), l.setState({ isOpen: !1, wmtsLayers: [], fetching: !1 }); case 12: case "end": return e.stop() } }, e, null, [[1, 8]]) })); return function () { return e.apply(this, arguments) } }(); return c.a.createElement(i.Fragment, null, c.a.createElement("label", { className: zg }, c.a.createElement("span", null, "URL"), c.a.createElement(d.TextInput, { value: s, onChange: function (e) { return u(e.target.value) } })), t, c.a.createElement(d.Button, { className: Kg.Elements["search-button"], disabled: !Object(L.isString)(s), onClick: f }, "Get Layers")) }, Wg = (r(677), Object(d.getClasses)("wmts-layers-selector", ["collapse-button", "content", "list-item", "footer", "loader"], [])), Xg = function () { return null }, Jg = function (e) { var t = e.onClosePopOver, r = e.addLayers, n = Object(i.useState)([]), a = Object(Xe.a)(n, 2), o = a[0], s = a[1], u = Object(i.useContext)(d.NavigationContext).getState(), l = u.wmtsLayers, f = u.fetching, p = function (e) { var t = o.indexOf(e); s(t > -1 ? o.filter(function (t) { return t !== e }) : [].concat(Object(D.a)(o), [e])) }; return c.a.createElement(d.DrawerLayout, { contentClassName: Wg.Elements.content }, c.a.createElement(d.DrawerHeader, { rightRenderer: function () { return c.a.createElement(d.Icon, { className: Wg.Elements["collapse-button"], onClick: t, icon: "chevron-down" }) }, title: "Select Layers" }), c.a.createElement(d.List, { title: "", rowRenderer: function (e) { return c.a.createElement("div", { onClick: Object(L.safelyHandle)(function () { p(e.name) }), className: Wg.Elements["list-item"] }, e.title, c.a.createElement(d.Checkbox, { onChange: Object(L.safelyHandle)(function () { p(e.name) }), checked: o.includes(e.name) })) }, headerRenderer: Xg, items: Object(q.List)(l) }), c.a.createElement("span", null, f && c.a.createElement(d.NonIdealState, { icon: c.a.createElement(d.Loader, { className: Wg.Elements.loader }), title: "Fetching Layers", description: "Please wait..." })), c.a.createElement(d.DrawerFooter, { className: Wg.Elements.footer }, c.a.createElement(d.Button.Danger, { onClick: t }, "Cancel"), c.a.createElement(d.Button, { onClick: function () { var e = l.filter(function (e) { return o.includes(e.name) }); r(e) }, disabled: 0 === o.length }, "Add Selected"))) }, Zg = (r(678), Object(d.getClasses)("navigation-presentation-view", ["body", "backdrop"], [])), Qg = function (e) { var t = e.isOpen, r = e.onClose, n = e.children, a = Object(i.useMemo)(function () { return { mountOnEnter: !0, unmountOnExit: !0, timeout: { enter: 30, exit: 500 }, in: t } }, [t]); return c.a.createElement("div", { className: Zg.BASE }, c.a.createElement(ic.a, Object.assign({}, a, { timeout: { enter: 80, exit: 200 } }), function (e) { var t = "".concat(Zg.Elements.backdrop, "--").concat(e); return c.a.createElement("div", { onClick: r, className: Object(d.className)(Zg.Elements.backdrop, t) }) }), c.a.createElement(ic.a, a, function (e) { var t = "".concat(Zg.Elements.body, "--").concat(e); return c.a.createElement("div", { className: Object(d.className)(Zg.Elements.body, t) }, n) })) }, $g = Object(d.getClasses)("tiled-overlay-form", ["submit-button"], []), eb = Object(d.className)(Object(d.prefix)("label"), Object(d.prefix)("label")), tb = function () { var e = Object(i.useState)(), t = Object(Xe.a)(e, 2), r = t[0], n = t[1], a = Object(i.useState)(), o = Object(Xe.a)(a, 2), s = o[0], u = o[1], l = Object(i.useContext)(d.NavigationContext); return c.a.createElement(c.a.Fragment, null, c.a.createElement("label", { className: eb }, c.a.createElement("span", null, "Title"), c.a.createElement(d.TextInput, { value: s, onChange: function (e) { return u(e.target.value) } })), c.a.createElement("label", { className: eb }, c.a.createElement("span", null, "URL"), c.a.createElement(d.TextInput, { value: r, placeholder: "https://host.tileserver/tileset.json", onChange: function (e) { return n(e.target.value) } })), c.a.createElement(d.Button, { className: $g.Elements["submit-button"], disabled: !Object(L.isString)(r) || !Object(L.isString)(s), onClick: function () { var e = String(r), t = { title: String(s), type: "3D TILESET", url: e, name: "custom-3d-".concat(Object(L.uuid)(5)), local: !0 }; Td("layer-3D").addCustom3DLayer(t), l.pop() } }, "Add 3D Tile Layer")) }, rb = Object(d.className)(Object(d.prefix)("label"), Object(d.prefix)("label")), nb = function (e) { var t = e.addLayers, r = Object(i.useState)(!1), n = (Object(Te.a)(r), Object(i.useState)("TILE")), a = Object(Xe.a)(n, 2), o = a[0], s = a[1], u = Object(i.useContext)(d.NavigationContext), l = u.getState().isOpen, f = function (e) { t(e) }, p = function () { u.setState({ isOpen: !1, wmtsLayers: [] }) }; return c.a.createElement(i.Fragment, null, c.a.createElement(d.DrawerLayout, null, c.a.createElement(d.NavigationDrawerHeader, { title: "New Custom Layer" }), c.a.createElement(d.Card, null, c.a.createElement("label", { className: rb }, c.a.createElement("span", null, "Type"), c.a.createElement(d.Select, { value: o, onChange: function (e) { s(e.target.value) } }, c.a.createElement("option", { value: "TILE" }, "Tiled Layer"), c.a.createElement("option", { value: "WMS" }, "WMTS/WMS"), c.a.createElement("option", { value: "3D TILESET" }, "3D Tileset"))), "TILE" === o && c.a.createElement(Pg, { addLayers: f }), "WMS" === o && c.a.createElement(Yg, null), "3D TILESET" === o && c.a.createElement(tb, null))), c.a.createElement(Qg, { isOpen: l, onClose: p }, c.a.createElement(Jg, { addLayers: function (e) { f(e.map(function (e) { return Object(P.a)({}, e, { local: !0 }) })) }, onClosePopOver: p }))) }, ab = function (e) { return e["#text"] }; function ob(e, t) { if (function (e, t) { return t.every(function (t) { return t in e }) }(e, t)) { var r = {}; return t.forEach(function (t) { r = Object(P.a)({}, r, Object(C.a)({}, t, e[t])) }), r } throw new Error("stripProperties: object does not have the specified keys: ".concat(t)) } function ib(e, t) { var r = "undefined" !== typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (!r) { if (Array.isArray(e) || (r = function (e, t) { if (!e) return; if ("string" === typeof e) return cb(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); "Object" === r && e.constructor && (r = e.constructor.name); if ("Map" === r || "Set" === r) return Array.from(e); if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return cb(e, t) }(e)) || t && e && "number" === typeof e.length) { r && (e = r); var n = 0, a = function () { }; return { s: a, n: function () { return n >= e.length ? { done: !0 } : { done: !1, value: e[n++] } }, e: function (e) { throw e }, f: a } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var o, i = !0, c = !1; return { s: function () { r = r.call(e) }, n: function () { var e = r.next(); return i = e.done, e }, e: function (e) { c = !0, o = e }, f: function () { try { i || null == r.return || r.return() } finally { if (c) throw o } } } } function cb(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } var sb = function e(t) { if (Object(T.a)(this, e), this.name = void 0, this.layers = void 0, !(t.customMultiLayerMapSource && t.customMultiLayerMapSource.name && t.customMultiLayerMapSource.layers && t.customMultiLayerMapSource.layers.customMapSource && Array.isArray(t.customMultiLayerMapSource.layers.customMapSource))) throw Error("CustomMultiLayerMapSourceXML: an error occurred while parsing - bad format."); this.name = ab(t.customMultiLayerMapSource.name), this.layers = []; var r, n = ib(t.customMultiLayerMapSource.layers.customMapSource); try { for (n.s(); !(r = n.n()).done;) { var a = ob(r.value, ["name", "url"]), o = a.name, i = a.url, c = { name: ab(o), url: ab(i) }; this.layers.push(c) } } catch (s) { n.e(s) } finally { n.f() } }; function ub(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var lb = function (e) { Object(k.a)(r, e); var t = ub(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).reader = new FileReader, e.stagedLayers = [], e.reader.addEventListener("load", e.readHandler.bind(Object(K.a)(e))), e } return Object(j.a)(r, [{ key: "readFiles", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { var r, n, o; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: r = 0, n = Object.values(t); case 1: if (!(r < n.length)) { e.next = 14; break } return o = n[r], e.prev = 3, e.next = 6, this.readFile(o); case 6: e.next = 11; break; case 8: throw e.prev = 8, e.t0 = e.catch(3), e.t0; case 11: r++, e.next = 1; break; case 14: case "end": return e.stop() } }, e, this, [[3, 8]]) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "readFile", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: this.reader.readAsText(t); case 1: case "end": return e.stop() } }, e, this) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "readHandler", value: function (e) { var t = this; if (!e.target || !e.target.result) throw "An Error was thrown while trying to read the file."; var r = e.target.result instanceof ArrayBuffer ? e.target.result.toString() : e.target.result, n = Object(L.fromXML)(r), a = new sb(n).layers; this.dropLayers(), a.forEach(function (e) { t.preStageLayer(e) }) } }, { key: "preStageLayer", value: function (e) { var t, r = e.name, n = e.url, a = n.includes("{$x}") && n.includes("{$y}") && n.includes("{$z}"), o = n.match(/request=GetCapabilities/i); if (a) { var i = Mg(String(n)); t = { title: String(r), type: "XYZ", url: i, name: "custom-xyz-".concat(Object(L.uuid)(5)), local: !0 }, this.stageLayer(t) } else o ? Gi.create().error({ message: "layer: ".concat(r, " - wms/wmts currently unsupported") }) : Gi.create().error({ message: "layer: ".concat(r, " - unknown url format") }) } }, { key: "getLayers", value: function () { return this.stagedLayers } }, { key: "stageLayer", value: function (e) { this.stagedLayers.push(e), this.emit("change", this.stagedLayers) } }, { key: "dropLayers", value: function () { var e = Object(o.a)(a.a.mark(function e() { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: this.stagedLayers = [], this.emit("change", this.stagedLayers); case 2: case "end": return e.stop() } }, e, this) })); return function () { return e.apply(this, arguments) } }() }]), r }(L.Service); lb.create = lb.factory(); var fb = lb, db = (r(679), Object(d.getClasses)("staging-drawer", ["footer", "submit"], [])), pb = function () { return null }, mb = function () { var e = Object(i.useContext)(d.NavigationContext), t = fb.create(), r = Object(i.useState)([]), n = Object(Xe.a)(r, 2), s = n[0], u = n[1], l = Object(i.useState)([]), f = Object(Xe.a)(l, 2), p = f[0], m = f[1]; xa(t, "change", function (e) { u(e) }, [u]); var h = Object(i.useCallback)(function (e) { var t = p.indexOf(e); m(t > -1 ? p.filter(function (t) { return t !== e }) : [].concat(Object(D.a)(p), [e])) }, [p]), v = function () { var r = Object(o.a)(a.a.mark(function r() { return a.a.wrap(function (r) { for (; ;)switch (r.prev = r.next) { case 0: t.dropLayers(), e.pop(); case 2: case "end": return r.stop() } }, r) })); return function () { return r.apply(this, arguments) } }(); return c.a.createElement(c.a.Fragment, null, c.a.createElement(d.DrawerLayout, null, c.a.createElement(d.NavigationDrawerHeader, { title: "Staging" }), c.a.createElement(d.List, { title: "", rowRenderer: function (e) { return c.a.createElement("div", { onClick: Object(L.safelyHandle)(function () { h(e.name) }) }, c.a.createElement(d.Checkbox, { label: e.title, onChange: Object(L.safelyHandle)(function () { h(e.name) }), checked: p.includes(e.name) })) }, headerRenderer: pb, items: Object(q.List)(s) }), c.a.createElement(d.DrawerFooter, { className: db.Elements.footer }, c.a.createElement(d.Button.Danger, { onClick: v }, "Cancel"), c.a.createElement(d.Button, { className: db.Elements.submit, onClick: function () { s.filter(function (e) { return p.includes(e.name) }).forEach(function (e) { td.create().addCustomLayer(e) }), t.dropLayers(), e.pop() }, disabled: 0 === p.length }, "Add Selected")))) }, hb = Object(d.getClasses)("overlay-card", ["header-block", "header-actions", "content-block", "content", "info", "title", "actions", "slider", "delete", "lock", "order-controlls", "order-controll"], ["active"]), vb = Object(d.className)(Object(d.prefix)("label"), Object(d.prefix)("label")), gb = function (e) { var t = e.overlay, r = e.isEditing, n = Td("layer-3D"), a = Object(i.useState)(!1), o = Object(Xe.a)(a, 2), s = o[0], u = o[1], l = Object(i.useState)(""), f = Object(Xe.a)(l, 2), p = f[0], m = f[1], h = Object(i.useState)(""), v = Object(Xe.a)(h, 2), g = v[0], b = v[1], y = Object(i.useState)(""), E = Object(Xe.a)(y, 2), O = E[0], S = E[1]; Object(i.useEffect)(function () { u(n.getVisibility(t.name)), m(t.title), S(t.name), b(t.type) }, []); var w = Object(d.className)(hb.BASE, Object(C.a)({}, hb.Modifiers.active, !!s && !r)); return c.a.createElement("div", { className: w }, c.a.createElement("div", { className: hb.Elements["header-block"] }, g, c.a.createElement(d.Switch, { checked: s, onChange: function (e) { u(e.target.checked), n.setCustomLayerVisilility(O, e.target.checked) } })), c.a.createElement("div", { className: hb.Elements["content-block"] }, c.a.createElement("div", { className: hb.Elements.content }, c.a.createElement("div", { className: hb.Elements.info }, r ? c.a.createElement("label", { className: vb }, c.a.createElement("span", null, "Name"), c.a.createElement(d.TextInput, { onChange: function (e) { var t = e.target.value; m(t), n.setCustomLayerTitle(O, t) }, value: p })) : c.a.createElement("span", { className: hb.Elements.title }, p)), c.a.createElement("div", { className: hb.Elements.actions }, r && c.a.createElement(d.Button.Danger, { small: !0, disabled: !1, onClick: function () { return n.removeCustomLayer(O) } }, c.a.createElement(d.Icon, { icon: "delete-outline" }), "Delete"))), c.a.createElement("div", { className: hb.Elements["order-controlls"] }, c.a.createElement("div", { className: hb.Elements["order-controll"], onClick: function () { return n.moveCustomLayerUp(O) } }, c.a.createElement(d.Icon, { icon: "chevron-down" })), c.a.createElement("div", { className: hb.Elements["order-controll"], onClick: function () { return n.moveCustomLayerDown(O) } }, c.a.createElement(d.Icon, { icon: "chevron-down" }))))) }, bb = Object(d.getClasses)("overlay-list", ["actions", "collapse-header", "item-wrapper", "add-new-collapse", "add-new-button", "add-new-file-button", "edit-button"], []), yb = document.createElement("div"); yb.classList.add(bb.Elements["item-wrapper"]), document.body.appendChild(yb); var Eb = function (e) { var t = e.isEditing, r = Td("layer-3D"), n = Object(i.useState)(Object(q.List)(r.getCustom3DLayers())), a = Object(Xe.a)(n, 2), o = a[0], s = a[1], l = Object(i.useState)(!0), f = Object(Xe.a)(l, 2), p = f[0], m = f[1]; Object(i.useEffect)(function () { var e = function () { s(Object(q.List)(r.getCustom3DLayers())) }; return r.on("new-3d-layer", e), r.on("change", e), r.on("layer-ordered", e), function () { r.off("new-3d-layer", e), r.off("change", e), r.off("layer-ordered", e) } }, [s]); var h = Object(i.useCallback)(function (e, r) { var n = e.name; return c.a.createElement(Ng.b, { key: n, draggableId: n, index: r }, function (r, n) { var a = n.isDragging, o = c.a.createElement("div", Object.assign({ ref: r.innerRef }, r.draggableProps, r.dragHandleProps), c.a.createElement(gb, { overlay: e, isEditing: t }), r.placeholder); return a ? u.a.createPortal(o, yb) : o }) }, [t]), v = Object(i.useCallback)(function (e) { e.destination && r.setCustomLayerPosition(e.draggableId, e.destination.index) }, []), g = Object(i.useMemo)(function () { return c.a.createElement(i.Fragment, null, c.a.createElement("div", { className: bb.Elements["collapse-header"] }, c.a.createElement("div", null, "Custom 3D Layers (", "".concat(o.count()), ")"), c.a.createElement(d.Icon, { color: "#d3d3d3", icon: p ? "chevron-up" : "chevron-down", onClick: function () { m(!p) } })), c.a.createElement(d.Collapse, { isOpen: p }, c.a.createElement(Ng.a, { onDragEnd: v }, c.a.createElement(Ng.c, { droppableId: "overlay-list" }, function (e) { return c.a.createElement("div", Object.assign({ ref: e.innerRef }, e.droppableProps), o.map(function (e, t) { return h(e, t) }), e.placeholder) })))) }, [h, o, t, p]); return c.a.createElement("div", { className: bb.BASE }, 0 === o.count() ? null : g) }, Ob = Object(d.getClasses)("overlay-list", ["actions", "item-wrapper", "collapse-header", "add-new-collapse", "add-new-button", "add-new-file-button", "edit-button"], []), Sb = document.createElement("div"); Sb.classList.add(Ob.Elements["item-wrapper"]), document.body.appendChild(Sb); var wb, Ab, Cb = function () { var e = Object(i.createRef)(), t = Td("layer"), r = Td("layer-3D"), n = Object(i.useState)(Object(q.List)(t.getCustomLayers())), s = Object(Xe.a)(n, 2), l = s[0], f = s[1], p = Object(i.useState)(Object(q.List)(r.getCustom3DLayers())), m = Object(Xe.a)(p, 2), h = m[0], v = m[1], g = Object(i.useState)(!1), b = Object(Xe.a)(g, 2), y = b[0], E = b[1], O = Object(i.useState)(!0), S = Object(Xe.a)(O, 2), w = S[0], A = S[1], C = Object(i.useContext)(d.NavigationContext); Object(i.useEffect)(function () { var e = function () { var e = t.getCustomLayers(), n = r.getCustom3DLayers(); f(Object(q.List)(e)), v(Object(q.List)(n)) }; return t.on("new-layer", e), t.on("layer-ordered", e), r.on("new-3d-layer", e), r.on("change", e), function () { t.off("new-layer", e), t.off("layer-ordered", e), r.off("new-3d-layer", e), r.off("change", e) } }, [f]); var T = Object(i.useCallback)(function (e, t) { var r; return r = function (e) { return !(!e.type || "3D TILESET" !== e.type) }(e) ? e.name : e.getProperties().name, c.a.createElement(Ng.b, { key: r, draggableId: r, index: t }, function (t, r) { var n = r.isDragging, a = c.a.createElement("div", Object.assign({ ref: t.innerRef }, t.draggableProps, t.dragHandleProps), c.a.createElement(Ig, { overlay: e, isEditing: y }), t.placeholder); return n ? u.a.createPortal(a, Sb) : a }) }, [y]), j = function (e) { e.forEach(function (e) { t.addCustomLayer(e) }), e.length > 0 && Td("toast").success({ message: "Successfully added ".concat(e.length, " new map layer."), actions: [Hi] }), C.setState({ isOpen: !1, wmtsLayers: [] }), C.pop() }, k = Object(i.useMemo)(function () { return c.a.createElement("div", { style: { display: "flex", justifyContent: "space-around", width: "100%", alignItems: "center" } }, c.a.createElement(d.Button, { className: Ob.Elements["add-new-button"], onClick: function () { E(!1), C.push(function () { return c.a.createElement(nb, { addLayers: j }) }) } }, "Add Layer"), c.a.createElement(d.Button, { title: "Add a File", className: Ob.Elements["add-new-file-button"], onClick: function () { e.current.click() } }, c.a.createElement(d.Icon, { style: { marginRight: 0 }, icon: "file" }))) }, [E, C, e]), R = Object(i.useMemo)(function () { return c.a.createElement(d.NonIdealState, { title: "No Overlays", description: " SAE You can add a local overlay, or ask a SAE Server administrator to add one via admin layers.", icon: "map-outline", action: k }) }, [k]), N = Object(i.useCallback)(function (e) { e.destination && t.setCustomLayerPosition(e.draggableId, e.destination.index) }, []), L = Object(i.useMemo)(function () { return c.a.createElement(i.Fragment, null, c.a.createElement("div", { className: Ob.Elements["collapse-header"] }, c.a.createElement("div", null, "Custom Layers (", "".concat(l.count()), ")"), c.a.createElement(d.Icon, { color: "#d3d3d3", icon: w ? "chevron-up" : "chevron-down", onClick: function () { A(!w) } })), c.a.createElement(d.Collapse, { isOpen: w }, c.a.createElement(Ng.a, { onDragEnd: N }, c.a.createElement(Ng.c, { droppableId: "overlay-list" }, function (e) { return c.a.createElement("div", Object.assign({ ref: e.innerRef }, e.droppableProps), l.map(function (e, t) { return T(e, t) }), e.placeholder) })))) }, [T, l, y, k, E, w, h]), _ = function () { var t = Object(o.a)(a.a.mark(function t(r) { return a.a.wrap(function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!e.current || !e.current.files) { t.next = 5; break } return C.push(function () { return c.a.createElement(mb, null) }), t.next = 4, fb.create().readFiles(e.current.files); case 4: r.target.value = ""; case 5: case "end": return t.stop() } }, t) })); return function (e) { return t.apply(this, arguments) } }(); return c.a.createElement("div", { className: Ob.BASE }, 0 === l.count() && 0 === h.count() ? R : c.a.createElement("div", { className: Ob.Elements.actions }, k, c.a.createElement(d.Button.Secondary, { className: Ob.Elements["edit-button"], onClick: function () { return E(!y) } }, y ? "Done" : "Edit")), l.count() > 0 ? L : null, h.count() > 0 ? c.a.createElement(Eb, { isEditing: y }) : null, c.a.createElement("input", { style: { visibility: "hidden" }, type: "file", ref: e, onChange: _, accept: ".xml" })) }; r(681); function Tb(e, t) { var r = "undefined" !== typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (!r) { if (Array.isArray(e) || (r = function (e, t) { if (!e) return; if ("string" === typeof e) return jb(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); "Object" === r && e.constructor && (r = e.constructor.name); if ("Map" === r || "Set" === r) return Array.from(e); if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return jb(e, t) }(e)) || t && e && "number" === typeof e.length) { r && (e = r); var n = 0, a = function () { }; return { s: a, n: function () { return n >= e.length ? { done: !0 } : { done: !1, value: e[n++] } }, e: function (e) { throw e }, f: a } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var o, i = !0, c = !1; return { s: function () { r = r.call(e) }, n: function () { var e = r.next(); return i = e.done, e }, e: function (e) { c = !0, o = e }, f: function () { try { i || null == r.return || r.return() } finally { if (c) throw o } } } } function jb(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } function kb(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } !function (e) { e.XYZ = "XYZ", e.WMS = "WMS", e.WMTS = "WMTS" }(wb || (wb = {})), function (e) { e.XYZ = "Tiled Layer", e.WMS = "WMS", e.WMTS = "WMTS" }(Ab || (Ab = {})); var Rb = function (e) { Object(k.a)(r, e); var t = kb(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).mlaLayers = {}, hi.create().onMapReady(function () { e.loadLayers() }), e } return Object(j.a)(r, [{ key: "hasLayer", value: function (e) { return !!this.mlaLayers[e] } }, { key: "getMlaLayers", value: function () { return Object.values(this.mlaLayers) } }, { key: "getLayer", value: function (e) { return this.mlaLayers[e] } }, { key: "addLayer", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { var r, n, o, i, c, s, u; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (r = t.url, n = t.type, (o = t.name) && r && n) { e.next = 3; break } return e.abrupt("return", { error: Error("MlaService.addLayer: Invalid MlaLayer object, must include url, type and name") }); case 3: if (n in wb) { e.next = 5; break } return e.abrupt("return", { error: Error("MlaService.addLayer: Invalid MlaLayer type, must be one of [".concat(Object.keys(wb).join(), "]")) }); case 5: e.t0 = n, e.next = e.t0 === wb.XYZ ? 8 : e.t0 === wb.WMS ? 9 : e.t0 === wb.WMTS ? 12 : 15; break; case 8: return e.abrupt("break", 15); case 9: if (this.getQueryParam(r, "layers")) { e.next = 11; break } return e.abrupt("return", { error: Error("MlaService.addLayer: WMS url missing query paramater 'layers'.") }); case 11: return e.abrupt("break", 15); case 12: if (this.getQueryParam(r, "layer")) { e.next = 14; break } return e.abrupt("return", { error: Error("MlaService.addLayer: WMTS url missing query paramater 'layer'.") }); case 14: return e.abrupt("break", 15); case 15: return i = { createTime: "", creatorUid: "", defaultLayer: !1, description: t.description, enabled: !1, modifiedTime: "", name: o, type: n, uid: "", url: r }, e.prev = 16, e.next = 19, fetch(Pr.create().getMlaUrl(), { body: JSON.stringify(i), headers: { "Content-Type": "application/json" }, method: "POST", mode: "no-cors" }); case 19: return c = e.sent, e.next = 22, c.json(); case 22: return s = e.sent, u = s.data, this.emit("change"), this.mlaLayers[u.uid] = u, e.abrupt("return", { layer: u }); case 29: return e.prev = 29, e.t1 = e.catch(16), e.abrupt("return", { error: new Error("There was an error adding the layer ".concat(i.name)) }); case 32: case "end": return e.stop() } }, e, this, [[16, 29]]) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "setEnabled", value: function () { var e = Object(o.a)(a.a.mark(function e(t, r) { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.abrupt("return", this.updateLayer(Object(P.a)({}, t, { enabled: r }))); case 1: case "end": return e.stop() } }, e, this) })); return function (t, r) { return e.apply(this, arguments) } }() }, { key: "updateLayer", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { var r, n, o, i; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.prev = 0, r = "".concat(Pr.create().getMlaUrl()), e.next = 4, fetch(r, { body: JSON.stringify(t), headers: { "Content-Type": "application/json" }, method: "PUT", mode: "no-cors" }); case 4: return n = e.sent, e.next = 7, n.json(); case 7: return o = e.sent, i = o.data, this.mlaLayers[t.uid] = i, this.emit("change"), e.abrupt("return", { layer: i, error: null }); case 14: return e.prev = 14, e.t0 = e.catch(0), e.abrupt("return", { layer: null, error: new Error("There was an error updating the layer ".concat(t.name)) }); case 17: case "end": return e.stop() } }, e, this, [[0, 14]]) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "removeLayer", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { var r; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.prev = 0, r = "".concat(Pr.create().getMlaUrl()).concat(t.uid), e.next = 4, fetch(r, { method: "DELETE" }); case 4: delete this.mlaLayers[t.uid], this.emit("change"), e.next = 11; break; case 8: return e.prev = 8, e.t0 = e.catch(0), e.abrupt("return", new Error("There was an error deleting the layer ".concat(t.name))); case 11: case "end": return e.stop() } }, e, this, [[0, 8]]) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "loadLayers", value: function () { var e = Object(o.a)(a.a.mark(function e() { var t, r, n, o, i, c, s, u, l, f, d, p, m, h, v, g, b; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.prev = 0, e.next = 3, Object(L.get)("".concat(Pr.create().getMlaUrl(), "all")); case 3: return t = e.sent, e.next = 6, Object(L.parseJSON)(t); case 6: r = e.sent, n = r.data, o = [], c = Tb(i = n), e.prev = 11, c.s(); case 13: if ((s = c.n()).done) { e.next = 52; break } if (u = s.value, l = u.name, f = u.url, d = u.type, p = u.uid, d !== wb.XYZ) { e.next = 22; break } m = { title: l, name: p, type: d, url: Mg(f) }, o.push(Promise.resolve(m)), this.mlaLayers[p] = u, e.next = 50; break; case 22: if (d !== wb.WMS) { e.next = 29; break } h = new URL(f), v = { name: p, title: l, url: "".concat(h.origin).concat(h.pathname), type: d, params: { LAYERS: this.getQueryParam(f, "layers") } }, o.push(Promise.resolve(v)), this.mlaLayers[p] = u, e.next = 50; break; case 29: if (d !== wb.WMTS) { e.next = 50; break } return g = new URL(f), e.prev = 31, e.t0 = p, e.t1 = l, e.t2 = "".concat(g.origin).concat(g.pathname), e.t3 = d, e.next = 38, Vg(f); case 38: e.t4 = e.sent, e.t5 = { layer: this.getQueryParam(f, "layer") }, e.t6 = { capabilities: e.t4, config: e.t5 }, b = { name: e.t0, title: e.t1, url: e.t2, type: e.t3, options: e.t6 }, o.push(Promise.resolve(b)), this.mlaLayers[p] = u, e.next = 50; break; case 46: return e.prev = 46, e.t7 = e.catch(31), wr.create().error(e.t7), e.abrupt("continue", 50); case 50: e.next = 13; break; case 52: e.next = 57; break; case 54: e.prev = 54, e.t8 = e.catch(11), c.e(e.t8); case 57: return e.prev = 57, c.f(), e.finish(57); case 60: return e.next = 62, Promise.all(o); case 62: e.sent.forEach(function (e) { var t = i.find(function (t) { return e.name === t.uid }); t && t.enabled && Td("layer").addCustomLayer(e, void 0, !1) }), this.emit("change"), e.next = 70; break; case 67: e.prev = 67, e.t9 = e.catch(0), Td("logger").error("Failed to load MLA layers, ".concat(e.t9)); case 70: case "end": return e.stop() } }, e, this, [[0, 67], [11, 54, 57, 60], [31, 46]]) })); return function () { return e.apply(this, arguments) } }() }, { key: "getQueryParam", value: function (e, t) { var r = Object(L.parseQueryParam)(e); return (r = Object.entries(r).reduce(function (e, t) { var r = Object(Xe.a)(t, 2), n = r[0], a = r[1]; return e[n.toLowerCase()] = a, e }, {}))[t.toLowerCase()] } }]), r }(L.Service); Rb.create = Rb.factory(); var Nb = Rb, Lb = (r(682), Object(d.getClasses)("admin-layer-card", ["loader-overlay", "loader", "header", "header-actions", "content", "title-block", "title", "description-block", "description", "url-block", "url", "label", "actions"], [])), _b = Object(d.className)(Lb.Elements.label, Object(d.prefix)("label"), Object(d.prefix)("label")), Ib = Nb.create(), Mb = function (e) { var t = e.layer, r = Object(i.useState)(t.name), n = Object(Xe.a)(r, 2), s = n[0], u = n[1], l = Object(i.useState)(t.url), f = Object(Xe.a)(l, 2), p = f[0], m = f[1], h = Object(i.useState)(t.description), v = Object(Xe.a)(h, 2), g = v[0], b = v[1], y = Object(i.useState)(!1), E = Object(Xe.a)(y, 2), O = E[0], S = E[1], w = Object(i.useState)(!1), A = Object(Xe.a)(w, 2), C = A[0], T = A[1], j = function () { var e = Object(o.a)(a.a.mark(function e() { var r, n, o; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return T(!0), e.next = 3, Ib.setEnabled(t, !t.enabled); case 3: r = e.sent, (n = r.error) ? Td("toast").error({ message: n.message, actions: [Hi] }) : (o = t.enabled ? "disabled" : "enabled", Td("toast").success({ message: "Successfully ".concat(o, " the layer ").concat(t.name), actions: [Hi] })), T(!1); case 7: case "end": return e.stop() } }, e) })); return function () { return e.apply(this, arguments) } }(), k = function () { var e = Object(o.a)(a.a.mark(function e() { var r; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (!confirm("Are you sure you want to delete the layer")) { e.next = 7; break } return T(!0), e.next = 4, Ib.removeLayer(t); case 4: (r = e.sent) ? Td("toast").error({ message: r.message, actions: [Hi] }) : Td("toast").success({ message: "Successfully deleted the layer ".concat(t.name), actions: [Hi] }), T(!1); case 7: case "end": return e.stop() } }, e) })); return function () { return e.apply(this, arguments) } }(), R = function () { var e = Object(o.a)(a.a.mark(function e() { var r, n, o; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return r = Object.assign(t, { url: p, description: g, name: s }), T(!0), e.next = 4, Ib.updateLayer(r); case 4: n = e.sent, (o = n.error) ? Td("toast").error({ message: o.message, actions: [Hi] }) : Td("toast").success({ message: "Successfully updated the layer ".concat(t.name), actions: [Hi] }), S(!1), T(!1); case 9: case "end": return e.stop() } }, e) })); return function () { return e.apply(this, arguments) } }(), N = c.a.createElement("label", { className: _b }, c.a.createElement("span", null, "Name"), c.a.createElement(d.TextInput, { value: s, placeholder: "Layer Name", onChange: function (e) { return u(e.target.value) } })), _ = c.a.createElement("label", { className: _b }, c.a.createElement("span", null, "Description"), c.a.createElement(d.TextInput, { multi: !0, value: g, placeholder: "Description", onChange: function (e) { return b(e.target.value) } })), I = c.a.createElement("label", { className: _b }, c.a.createElement("span", null, "URL"), c.a.createElement(d.TextInput, { value: p, placeholder: "URL", onChange: function (e) { return m(e.target.value) } })); return c.a.createElement("div", { className: Lb.BASE }, C && c.a.createElement("div", { className: Lb.Elements["loader-overlay"] }, c.a.createElement(d.Loader, { className: Lb.Elements.loader })), c.a.createElement("div", { className: Lb.Elements.header }, t.type, c.a.createElement("div", { className: Lb.Elements["header-actions"] }, c.a.createElement(d.Button, { small: !0, minimal: !0, onClick: Object(L.safelyHandle)(function () { return S(!O) }) }, "Edit"), c.a.createElement(d.Switch, { checked: t.enabled, onChange: j }))), c.a.createElement("div", { className: Lb.Elements.content }, c.a.createElement("div", { className: Lb.Elements["title-block"] }, O ? N : c.a.createElement("span", { className: Lb.Elements.title }, t.name)), c.a.createElement("div", { className: Lb.Elements["description-block"] }, O ? _ : c.a.createElement("span", { className: Lb.Elements.description }, t.description || "no description")), c.a.createElement("div", { className: Lb.Elements["url-block"] }, O ? I : c.a.createElement("div", { className: Lb.Elements.url }, t.url)), c.a.createElement("div", { className: Lb.Elements.actions }, O ? c.a.createElement(i.Fragment, null, c.a.createElement(d.Button, { onClick: R }, "Save Changes"), c.a.createElement(d.Button.Danger, { onClick: function () { u(t.name), m(t.url), b(t.description), S(!1) } }, "Cancel")) : c.a.createElement(d.Button.Danger, { onClick: k, small: !0 }, c.a.createElement(d.Icon, { icon: "delete-outline" }), "Delete")))) }, xb = Object(d.className)(Object(d.prefix)("label"), Object(d.prefix)("label")), Db = function (e) { var t = e.addLayers, r = Object(i.useState)(!1), n = (Object(Te.a)(r), Object(i.useState)("TILE")), a = Object(Xe.a)(n, 2), o = a[0], s = a[1], u = Object(i.useState)(), l = Object(Xe.a)(u, 2), f = l[0], p = l[1], m = Object(i.useContext)(d.NavigationContext), h = m.getState().isOpen, v = function (e) { t(e, f) }, g = function () { m.setState({ isOpen: !1, wmtsLayers: [] }) }, b = c.a.createElement("label", { className: xb }, c.a.createElement("span", null, "Description"), c.a.createElement(d.TextInput, { multi: !0, value: f, onChange: function (e) { return p(e.target.value) } })); return c.a.createElement(i.Fragment, null, c.a.createElement(d.DrawerLayout, null, c.a.createElement(d.NavigationDrawerHeader, { title: "New Overlay" }), c.a.createElement(d.Card, null, c.a.createElement("label", { className: xb }, c.a.createElement("span", null, "Type"), c.a.createElement(d.Select, { value: o, onChange: function (e) { s(e.target.value) } }, c.a.createElement("option", { value: "TILE" }, "Tiled Layer"), c.a.createElement("option", { value: "WMS" }, "WMTS/WMS"))), "TILE" === o && c.a.createElement(Pg, { addLayers: v }, b), "WMS" === o && c.a.createElement(Yg, null, b))), c.a.createElement(Qg, { isOpen: h, onClose: g }, c.a.createElement(Jg, { addLayers: function (e) { v(e.map(function (e) { return Object(P.a)({}, e, { local: !0 }) })) }, onClosePopOver: g }))) }; function Pb(e, t) { var r = "undefined" !== typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (!r) { if (Array.isArray(e) || (r = function (e, t) { if (!e) return; if ("string" === typeof e) return Ub(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); "Object" === r && e.constructor && (r = e.constructor.name); if ("Map" === r || "Set" === r) return Array.from(e); if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return Ub(e, t) }(e)) || t && e && "number" === typeof e.length) { r && (e = r); var n = 0, a = function () { }; return { s: a, n: function () { return n >= e.length ? { done: !0 } : { done: !1, value: e[n++] } }, e: function (e) { throw e }, f: a } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var o, i = !0, c = !1; return { s: function () { r = r.call(e) }, n: function () { var e = r.next(); return i = e.done, e }, e: function (e) { c = !0, o = e }, f: function () { try { i || null == r.return || r.return() } finally { if (c) throw o } } } } function Ub(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } var Bb, Fb = Object(d.getClasses)("admin-layer-list", ["title", "description"], []), Vb = Nb.create(), Hb = function () { var e = Object(i.useState)(Vb.getMlaLayers()), t = Object(Xe.a)(e, 2), r = t[0], n = t[1], s = Object(i.useContext)(d.NavigationContext); xa(Vb, "change", function () { n(Vb.getMlaLayers()) }, [n]); var u = function () { var e = Object(o.a)(a.a.mark(function e(t, r) { var n, o, i, c, u, f; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: l(), n = [], o = Pb(t); try { for (o.s(); !(i = o.n()).done;) { c = i.value; try { u = new URL(c.url), c.type === wb.WMTS ? u.searchParams.set("layer", c.name) : c.type === wb.WMS && u.searchParams.set("layers", c.name), n.push(Vb.addLayer({ type: c.type, name: c.title, url: u.toString(), description: r })) } catch (fA) { f = Promise.resolve({ error: new Error("There was an error adding the layer ".concat(c.title)) }), n.push(f) } } } catch (a) { o.e(a) } finally { o.f() } return e.next = 6, Promise.all(n); case 6: 0 === e.sent.filter(function (e) { return void 0 !== e.error }).length ? (Td("toast").success({ message: "Successfully added ".concat(t.length, " new map layer."), actions: [Hi] }), s.pop()) : Td("toast").error({ message: "There was an error a new map layer.", actions: [Hi] }); case 9: case "end": return e.stop() } }, e) })); return function (t, r) { return e.apply(this, arguments) } }(), l = function () { s.setState({ isOpen: !1, wmtsLayers: [] }) }, f = Object(i.useMemo)(function () { return c.a.createElement("div", { className: Fb.Elements.description }, c.a.createElement("span", null, "The admin layers tool is for SAE Server admins to manage custom map layers at the server level. Once added and enabled, layers will be pushed to all WebSAE users on the server. This capability is only accessible to SAE users with admin credentials."), c.a.createElement(d.Button.Primary, { onClick: function () { return s.push(function () { return c.a.createElement(Db, { addLayers: u }) }) } }, "Add New Layer")) }, []); return c.a.createElement("div", { className: Fb.BASE }, f, r.map(function (e) { return c.a.createElement(Mb, { key: e.uid, layer: e }) })) }, Gb = Object(d.getClasses)("layers-drawer", ["header", "mode-icon", "content"], []); !function (e) { e.BASE_LAYERS = "base", e.CUSTOM = "custom", e.ADMIN = "admin" }(Bb || (Bb = {})); var qb, Kb = function () { var e = Object(i.useState)(""), t = Object(Xe.a)(e, 2), r = t[0], n = t[1], a = Object(i.useState)(Bb.BASE_LAYERS), o = Object(Xe.a)(a, 2), s = o[0], u = o[1], l = Object(i.useContext)(Ba).isAdmin, f = Object(i.useCallback)(function (e) { n(e.currentTarget.value) }, [n]), p = [{ value: Bb.BASE_LAYERS, label: "Base" }, { value: Bb.CUSTOM, label: "Custom" }]; l && p.push({ value: Bb.ADMIN, label: "Admin" }); var m = Object(d.className)(Gb.Elements.content), h = Object(i.useMemo)(function () { switch (s) { case Bb.BASE_LAYERS: return c.a.createElement(Rg, { filterTerm: r }); case Bb.CUSTOM: return c.a.createElement(Cb, { filterTerm: r }); case Bb.ADMIN: return c.a.createElement(Hb, null); default: return c.a.createElement(Rg, { filterTerm: r }) } }, [s, r]); return c.a.createElement(d.DrawerLayout, { contentClassName: m }, c.a.createElement(d.NavigationDrawerHeader, { onSearch: f, title: "Layers", placeholder: "search layers..." }, c.a.createElement(d.SegmentedControl, { options: p, onChange: function (e) { return u(e) } })), h) }, zb = function () { return c.a.createElement(d.NavigationController, { defaultState: { isOpen: !1, wmtsLayers: [], fetching: !1 }, className: Gb.BASE, root: Kb }) }, Yb = !1; sl.create(); function Wb() { return (Wb = Object(o.a)(a.a.mark(function e() { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (!Yb) { e.next = 2; break } return e.abrupt("return"); case 2: Td("tool").registerTool(new Mi({ title: "Layers", icon: "map-outline", drawer: "layers", name: "layers", category: "map" })), Td("drawer").registerDrawer(new xi({ displayName: "Layers", name: "layers", mount: function () { return c.a.createElement(zb, null) }, unmount: function () { } })), Nb.create().loadLayers().then(function () { }), Yb = !0; case 6: case "end": return e.stop() } }, e) }))).apply(this, arguments) } function Xb(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } !function (e) { e.ALL = "all", e.HLS = "http", e.UDP = "udp", e.RTSP = "rtsp", e.RTMP = "rtmp" }(qb || (qb = {})); var Jb = function (e) { Object(k.a)(r, e); var t = Xb(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).saeServerService = Pr.create(), e.pollingTimer = null, e.currentVideos = [], e.filteredVideos = [], e.fetchVideos = e.fetchVideos.bind(Object(K.a)(e)), e.fetchVideos(), e.saeServerService.on("change", function () { e.fetchVideos() }), e } return Object(j.a)(r, [{ key: "stopPolling", value: function () { null !== this.pollingTimer && (clearTimeout(this.pollingTimer), this.pollingTimer = null) } }, { key: "startPolling", value: function () { this.pollingTimer = window.setTimeout(this.fetchVideos, r.POLL_INTERVAL) } }, { key: "attach", value: function () { this.fetchVideos() } }, { key: "detach", value: function () { this.stopPolling() } }, { key: "fetchVideos", value: function () { var e = Object(o.a)(a.a.mark(function e() { var t, r, n, o; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.prev = 0, t = "".concat(Pr.create().getMartiURL(), "/api/video"), e.next = 4, fetch(t, { mode: "no-cors" }); case 4: return r = e.sent, e.next = 7, r.json(); case 7: n = e.sent, o = this.processVideoConnectionsJSON(n.videoConnections), this.currentVideos = o, this.emit("change", this.currentVideos), e.next = 16; break; case 13: e.prev = 13, e.t0 = e.catch(0), console.error(e.t0); case 16: return e.prev = 16, e.finish(16); case 18: case "end": return e.stop() } }, e, this, [[0, 13, 16, 18]]) })); return function () { return e.apply(this, arguments) } }() }, { key: "processVideoConnectionsJSON", value: function (e) { return e.map(function (e) { var t = e.thumbnail, r = e.feeds.map(function (e) { return Object(P.a)({}, e, { thumbnail: t }) }); return Object(D.a)(r) }).flat() } }, { key: "getCurrentVideos", value: function () { return this.currentVideos } }, { key: "sortVideos", value: function () { var e = Object(o.a)(a.a.mark(function e(t, n, o, i) { var c, s, u; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: c = function (e, t) { return Object(L.alphaSort)(e.alias, t.alias) }, s = r.create().getCurrentVideos().sort(c), u = t ? s : s.reverse(), this.filteredVideos = u.filter(function (e) { return n || e.active }).filter(function (e) { return (e.alias || "Untitled Video").toLowerCase().includes(o.toLowerCase()) }).filter(function (e) { return i === qb.ALL ? e : e.url.startsWith(i) }), this.emit("change", this.filteredVideos); case 5: case "end": return e.stop() } }, e, this) })); return function (t, r, n, a) { return e.apply(this, arguments) } }() }, { key: "postVideo", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { var r, n, o; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.prev = 0, r = new URLSearchParams, n = "".concat(Pr.create().getMartiURL(), "/vcu"), "" !== (o = t.toMessage()).id && (n += "?feedId=".concat(t.id)), Object.entries(o).forEach(function (e) { var t = Object(Xe.a)(e, 2), n = t[0], a = t[1]; r.append(n, a) }), r.set("active", "on"), r.set("type", "video"), r.set("preferredMacAddress", ""), e.next = 11, fetch(n, { body: r, method: "POST", mode: "no-cors" }); case 11: e.sent, e.next = 17; break; case 14: e.prev = 14, e.t0 = e.catch(0), Gi.create().error({ message: "Something went wrong while posting video." }); case 17: case "end": return e.stop() } }, e, null, [[0, 14]]) })); return function (t) { return e.apply(this, arguments) } }() }, { key: "deleteVideo", value: function () { var e = Object(o.a)(a.a.mark(function e(t) { var r; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: try { r = "".concat(Pr.create().getMartiURL(), "/vcm?id=").concat(t.id), fetch(r, { method: "DELETE" }) } catch (n) { console.error("failed to delete...", n) } case 1: case "end": return e.stop() } }, e) })); return function (t) { return e.apply(this, arguments) } }() }]), r }(L.Service); Jb.create = Jb.factory(), Jb.POLL_INTERVAL = 6e4; var Zb, Qb = r(430), $b = r(347), ey = r.n($b), ty = (r(693), function (e, t) { try { var r = document.createElement("div"), n = new Mc.a({ element: r }), a = e.getIn(["detail", "xml", "videoCollection", "#attr"]), o = e.getIn(["detail", "xml", "videoCollection", "feed"]).find(function (e) { return e["#attr"].url.startsWith("http") }), i = { uuid: a.uid, active: a.active, thumbnail: a.thumbnail, alias: a.alias, url: o["#attr"].url || "" }, u = t.getPixelFromCoordinate([e.lon, e.lat]); Object(s.render)(c.a.createElement(ry, { control: n, video: i, pixel: u }), r), t.addControl(n) } catch (fA) { console.error("VidoPlayeMapControl.spawnVideoPlayerMapControlFromCot:", fA), Td("toast").error({ message: "Failed to open video" }) } Td("menu").closeMenu() }), ry = function (e) { var t = e.control, r = e.video, n = (e.pixel, Object(i.useRef)(null)); return c.a.createElement("div", { ref: n, style: { minHeight: "200px", minWidth: "300px", maxHeight: "fit-content", maxWidth: "fit-content", position: "absolute", zIndex: 1e5, top: "0px", left: "0px" } }, c.a.createElement("div", { style: { padding: "0.5em", cursor: "move", zIndex: 1e5 + 1, background: "rgb(74,74,74)", color: "white", display: "flex", alignItems: "center", justifyContent: "space-between" }, onPointerDown: function (e) { e.preventDefault(); var t = [e.clientX, e.clientY], r = t[0], a = t[1]; function o(e) { e.preventDefault(), e.stopPropagation(); var t = r - e.clientX, o = a - e.clientY, i = [e.clientX, e.clientY]; if (r = i[0], a = i[1], n.current) { var c = n.current, s = c.offsetTop, u = c.offsetLeft; n.current.style.top = "".concat(s - o, "px"), n.current.style.left = "".concat(u - t, "px"), n.current.style.border = "1px solid red" } } document.addEventListener("pointermove", o), document.addEventListener("pointerup", function e(t) { document.removeEventListener("pointermove", o), document.removeEventListener("pointerup", e), n.current && (n.current.style.border = "none") }) } }, r.alias, c.a.createElement("button", { onClick: function () { t.getMap().removeControl(t) } }, "x")), c.a.createElement("div", { style: { minWidth: "300px", minHeight: "168.75px", resize: "horizontal", overflow: "hidden", aspectRatio: "16 / 9" } }, c.a.createElement(sy, { video: r, autoplay: !0 }))) }, ny = function (e) { var t = e.video; return Object(d.useResponsiveSize)().mobile ? null : c.a.createElement(d.Icon, { color: "orange", icon: "vlc", onClick: function (e) { if (t.url) { var r = (n = t.alias, a = t.url, ['<?xml version="1.0" encoding="UTF-8"?>\n      <?xml-stylesheet type="text/xsl" href="ACSPIXMT.xsl" ?>\n      <playlist xmlns="http://xspf.org/ns/0/" xmlns:vlc="http://www.videolan.org/vlc/playlist/ns/0/" version="1">\n        <trackList>\n          <track>\n            <title>'.concat(n, "</title>\n            <location>").concat(a, "</location>\n          </track>\n      </trackList>\n      </playlist>\n    ")]); !function (e, t) { "" === e && (e = "No Title"); var r = new Blob(t, { type: "application/xspf+xml" }), n = document.createElement("a"); n.href = window.URL.createObjectURL(r), n.download = "".concat(e, "-").concat(+new Date, ".xspf"), n.click() }(t.alias, r) } else alert("Can't play video...missing URL!"); var n, a } }) }, ay = function (e) { var t = e.video, r = Object(i.useState)(), n = Object(Xe.a)(r, 2), a = n[0], o = n[1], u = Object(i.useRef)(window); Object(i.useEffect)(function () { var e = document.createElement("div"); return o(e), function () { } }, []); var l = Object(i.useCallback)(function () { if (a) { var e = window.open("", t.alias || Object(L.uuid)()); if (!e) return void Td("toast").error({ message: "Failed to open new window" }); e.document.title = t.alias; var r = document.createElement("link"); r.href = "https://vjs.zencdn.net/7.17.0/video-js.css", r.rel = "stylesheet", u.current = e, u.current.document.body.appendChild(a), u.current.document.body.style.margin = "0 auto", u.current.document.head.appendChild(r), Object(s.render)(c.a.createElement("div", { style: { background: "blue", height: "100%", display: "flex", position: "relative" } }, c.a.createElement(sy, { video: t, inVideoGrid: !0, autoplay: !0 })), a) } }, [a]); return c.a.createElement(d.Icon, { icon: "export-variant", color: "white", onClick: l }) }, oy = { fluid: !0, controls: !0, bigPlayButton: !0, liveui: !0, poster: ey.a, controlBar: { volumePanel: { inline: !1 } } }, iy = function (e) { var t = e.video, r = e.autoplay, n = void 0 !== r && r, a = e.inVideoGrid, o = void 0 !== a && a, s = Object(i.useRef)(null), u = Object(i.useState)(!1), l = Object(Xe.a)(u, 2), f = l[0], d = l[1]; return Object(i.useEffect)(function () { var e = Object(P.a)({}, oy, { autoplay: n, sources: [{ src: t.url }], poster: t.thumbnail || ey.a }), r = !f && s.current ? Object(Qb.a)(s.current, e) : void 0; return function () { r && (d(!0), r.dispose()) } }, [s, t, f, d]), Object(i.useEffect)(function () { f && d(!f) }, [f]), f ? null : c.a.createElement("div", { style: o ? { height: "100%" } : void 0, "data-vjs-player": !0 }, c.a.createElement("video", { ref: s, className: "video-js vjs-big-play-centered" })) }; !function (e) { e.ACTIVE = "#29ce43", e.INACTIVE = "#ff0000" }(Zb || (Zb = {})); var cy = function (e) { var t = e.video; return c.a.createElement("div", { style: { marginBottom: "1em" } }, c.a.createElement("div", { style: { padding: "0.5em 0.5em", background: "rgb(74,74,74)", display: "flex", alignItems: "center", justifyContent: "space-between" } }, c.a.createElement("div", null, t.alias ? t.alias : "Untitled Video"), c.a.createElement("div", { style: { display: "flex", alignItems: "center", justifyContent: "space-around" } }, c.a.createElement(ny, { video: t }), c.a.createElement(d.Icon, { icon: "picture-in-picture-top-right", color: "white", onClick: function () { Td("map").onMapReady(function (e) { try { !function (e, t) { var r = document.createElement("div"), n = new Mc.a({ element: r }); Object(s.render)(c.a.createElement(ry, { control: n, video: e }), r), t.addControl(n), Td("menu").closeMenu() }(t, e) } catch (fA) { Td("toast").error({ message: "Video failed to load onto the map." }) } }) } }), c.a.createElement(ay, { video: t }), c.a.createElement(d.StatusIcon, { iconColor: t.active ? Zb.ACTIVE : Zb.INACTIVE }))), c.a.createElement(d.ClassificationBanner, { level: Object(d.GlobalClassificationIdentifier)(t.classification || "") }), c.a.createElement(iy, { video: t })) }, sy = iy, uy = r(212), ly = Object(d.getClasses)("video-drawer", ["segment", "segment-icon", "new-video", "footer"], []), fy = function (e, t) { return Object(L.alphaSort)(e.alias, t.alias) }, dy = function (e, t, r, n) { var a = Jb.create().getCurrentVideos().sort(fy); return (e ? a : a.reverse()).filter(function (e) { return t || e.active }).filter(function (e) { return (e.alias || "Untitled Video").toLowerCase().includes(r.toLowerCase()) }).filter(function (e) { return n === qb.ALL ? e : e.url.startsWith(n) }) }, py = function () { var e = Jb.create(), t = Object(i.useState)(!0), r = Object(Xe.a)(t, 2), n = r[0], a = r[1], o = Object(i.useState)(Object(q.List)(e.getCurrentVideos())), s = Object(Xe.a)(o, 2), u = s[0], l = s[1], f = Object(i.useState)(!1), p = Object(Xe.a)(f, 2), m = p[0], h = p[1], v = Object(i.useState)(!0), g = Object(Xe.a)(v, 2), b = g[0], y = g[1], E = Object(i.useState)(!1), O = Object(Xe.a)(E, 2), S = O[0], w = O[1], A = Object(i.useState)(qb.HLS), C = Object(Xe.a)(A, 2), T = C[0], j = C[1], k = Object(i.useState)(""), R = Object(Xe.a)(k, 2), N = R[0], _ = R[1], I = Object(i.useCallback)(function (e) { _(e.currentTarget.value) }, [_]), M = Object(Pf.useSpring)(function () { return { loop: !0, to: { transform: "rotate(360deg)" }, from: { transform: "rotate(0deg)" } } }), x = Object(Xe.a)(M, 1)[0]; return Object(i.useEffect)(function () { e.fetchVideos().then(function () { return a(!1) }) }, []), Object(i.useEffect)(function () { l(Object(q.List)(dy(b, S, N, T))) }, [b, S, N, T]), xa(e, "change", function (e) { l(Object(q.List)(dy(b, S, N, T))) }, [b, S, N, T]), c.a.createElement(d.DrawerLayout, null, c.a.createElement(d.NavigationDrawerHeader, { title: "Video", onSearch: I, rightRenderer: function (t) { return c.a.createElement(c.a.Fragment, null, c.a.createElement(Pf.animated.div, { style: n ? x : void 0 }, c.a.createElement(d.Icon, { icon: n ? "loading" : "reload", color: "white", onClick: Object(L.debounce)(function () { a(!0), e.fetchVideos().then(function () { return a(!1) }) }, 500) })), c.a.createElement(d.Icon, { icon: b ? "sort-ascending" : "sort-descending", color: "white", onClick: function () { return y(!b) } }), c.a.createElement(d.Icon, { icon: "filter", color: m ? "grey" : "white", onClick: function () { return h(!m) } }), t) } }, c.a.createElement(d.Collapse, { isOpen: m }, c.a.createElement("div", { style: { padding: "0.5em" } }, c.a.createElement("label", { style: { marginTop: 0 }, className: Object(d.className)(Object(d.prefix)("label"), Object(d.prefix)("label--inline")) }, c.a.createElement("span", null, "Protocol"), c.a.createElement(d.Select, { value: T, onChange: function (e) { return j(e.target.value) } }, Object.keys(qb).map(function (e, t) { return c.a.createElement("option", { key: t, value: qb[e] }, e) }))), c.a.createElement(d.Checkbox, { label: "Show Inactive Feeds", checked: S, onChange: function (e) { w(e.target.checked) } })))), c.a.createElement(uy.a, null, function (e) { var t = e.height, r = e.width; return c.a.createElement(uy.c, { ref: "List", height: t, width: r, rowCount: u.size, rowHeight: 250, rowRenderer: function (e) { var t = e.index, r = e.key, n = e.style, a = (e.parent, u.get(t)); return a ? c.a.createElement("div", { key: r, style: Object(P.a)({}, n, { marginBottom: "0.5em" }) }, c.a.createElement(cy, { video: a })) : null } }) })) }, my = function () { return c.a.createElement(d.NavigationController, { root: py, className: ly.BASE }) }, hy = "video-box"; function vy(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var gy = { link: Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { relation: "", type: "", uid: "" }), shape: { polyline: Object(C.a)({ vertex: [] }, L.XML_ATTRIBUTE_KEY, { closed: !0, color: -1, fillColor: 0 }) } }, by = function (e) { Object(k.a)(r, e); var t = vy(r); function r(e) { var n; return Object(T.a)(this, r), (n = t.call(this, e)).vertices = void 0, n.color = void 0, n.sibling = void 0, n.vertices = n.stripVertex(), n.color = n.stripColor(), n.sibling = n.stripSiblingFromRelationshipUID(), n } return Object(j.a)(r, [{ key: "stripVertex", value: function () { return this.shape.polyline.vertex.map(function (e) { var t = e[L.XML_ATTRIBUTE_KEY]; return [t.lon, t.lat] }) } }, { key: "stripColor", value: function () { var e = this.shape.polyline[L.XML_ATTRIBUTE_KEY].color; return Object(L.cotColorToRGBA)(e) } }, { key: "stripSiblingFromRelationshipUID", value: function () { return sn().getState().events.getEventByUid(this.link[L.XML_ATTRIBUTE_KEY].uid) } }]), r }(Object(q.Record)(gy)); function yy(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var Ey = new Ei.c({ image: new Ec.a({ imgSize: [32, 32], src: "resources/bit-icons/b-m-p-s-p-i.png", scale: .8 }) }), Oy = function (e) { Object(k.a)(r, e); var t = yy(r); function r(e) { var n; return Object(T.a)(this, r), (n = t.call(this, e)).xml = void 0, n.coordinates = void 0, n.xml = n.stripXML(), n.coordinates = [n.cot.lon, n.cot.lat], n } return Object(j.a)(r, [{ key: "stripXML", value: function () { var e = this.cot.detail; if (!e) throw new Error("UVDSSpiCotMapItem: unable to read cot details"); return new by(e.xml) } }, { key: "onClick", value: function (e, t) { var r = this, n = [{ icon: Object(d.toURL)(Object(d.inlineSvg)("video-box", { fill: "black" })), onClick: function () { ty(r.xml.sibling, r.map) } }]; Td("menu").openMenu([this.cot.lon, this.cot.lat], n) } }, { key: "render", value: function () { this.xml = this.stripXML(), this.coordinates = [this.cot.lon, this.cot.lat], this.vectorLayer.setZIndex(xr.MARKER); var e = [this.createBoundingBoxFeature(), this.createLineFeature(), this.createSPIFeature()]; this.getVectorSource().addFeatures(e), this.setFeatures(e) } }, { key: "createBoundingBoxFeature", value: function () { var e = new Zn.a(new cp.b([this.xml.vertices])); return e.setProperties({ spiColor: this.getSpiColor() }), e.setStyle(function (e, t) { var r = e.getProperties().spiColor; return new Ei.c({ stroke: new wi.a({ color: r, width: 3 }) }) }), e.setId("".concat(this.cot.uid, "-bounding-box")), e } }, { key: "getSpiColor", value: function () { return this.xml.color } }, { key: "createSPIFeature", value: function () { var e = new Zn.a(new yc.a(this.coordinates)); return e.setId("".concat(this.cot.uid)), e.setStyle(Ey), e } }, { key: "createLineFeature", value: function () { var e = this.xml.sibling, t = [[e.lon, e.lat], this.coordinates], r = new Zn.a(new tm.a(t)); return r.setProperties({ spiColor: this.getSpiColor() }), r.setId("".concat(this.cot.uid, "-line")), r.setStyle(function (e, t) { var r = e.getProperties().spiColor; return new Ei.c({ stroke: new wi.a({ color: r, width: 1 }) }) }), r } }, { key: "update", value: function (e) { this.cot = e, this.xml = this.stripXML(), this.coordinates = [this.cot.lon, this.cot.lat]; var t = this.getFeatures(); this.updateSpiGeometry(t[0]), this.updateLineGeometry(t[1]), this.updateBoundingBoxGeometry(t[2]) } }, { key: "updateSpiGeometry", value: function (e) { var t = e.getGeometry(); t && t.setCoordinates(this.coordinates) } }, { key: "updateLineGeometry", value: function (e) { e.setProperties({ spiColor: this.getSpiColor() }); var t = this.xml.sibling, r = [[t.lon, t.lat], this.coordinates], n = e.getGeometry(); n && n.setCoordinates(r) } }, { key: "updateBoundingBoxGeometry", value: function (e) { e.setProperties({ spiColor: this.getSpiColor() }); var t = e.getGeometry(); t && t.setCoordinates([this.xml.vertices]) } }, { key: "getFeatures", value: function () { return [this.getVectorSource().getFeatureById("".concat(this.cot.uid)), this.getVectorSource().getFeatureById("".concat(this.cot.uid, "-line")), this.getVectorSource().getFeatureById("".concat(this.cot.uid, "-bounding-box"))] } }]), r }(Li); function Sy(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var wy = function (e) { Object(k.a)(r, e); var t = Sy(r); function r(e) { var n; return Object(T.a)(this, r), (n = t.call(this, e)).airplaneIconCache = {}, n } return Object(j.a)(r, [{ key: "onClick", value: function (e, t) { var r = this; if (this.isUVDSAirplane()) { var n = [{ icon: Object(d.toURL)(Object(d.inlineSvg)("video-box", { fill: "black" })), onClick: function () { ty(r.cot, r.map) } }]; Td("menu").openMenu([this.cot.lon, this.cot.lat], n) } else Cl(this.cot) } }, { key: "render", value: function () { var e = Object(o.a)(a.a.mark(function e() { var t, r, n = this; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, Qo(this.cot); case 2: t = e.sent, (r = new Zn.a(new yc.a([this.cot.lon, this.cot.lat]))).setProperties({ callsign: Br(this.cot), iconUrl: t, iconColor: this.getIconColor(), course: Ci(this.cot) }), this.isUVDSAirplane() ? r.setStyle(function (e, t) { return n.UVDSAirplaneStyle(e, t) }) : r.setStyle(function (e, t) { return Ll(e, t) }), this.setFeatures([r]), this.getVisible() && this.addFeaturesToVectorSource(), this.vectorLayer.setZIndex(xr.MARKER); case 9: case "end": return e.stop() } }, e, this) })); return function () { return e.apply(this, arguments) } }() }, { key: "UVDSAirplaneStyle", value: function (e, t) { var r = e.getProperties().callsign, n = e.getProperties().iconUrl, a = e.getProperties().iconColor, o = e.getProperties().course; if (!this.airplaneIconCache[n]) { var i = new Ec.a({ imgSize: [32, 32], scale: .8, src: n, color: a }); this.airplaneIconCache[n] = i } var c = this.airplaneIconCache[n]; return c.setRotation(o ? o * (Math.PI / 180) : 0), new Ei.c({ text: new Oc.a({ text: t >= .01 ? "" : r, offsetY: 20, fill: new Si.a({ color: "#fff" }), stroke: new wi.a({ color: "#313131", width: 5 }) }), image: c }) } }, { key: "update", value: function (e) { Object(zn.a)(Object(N.a)(r.prototype), "update", this).call(this, e) } }, { key: "getIconColor", value: function () { if (this.isUVDSAirplane()) { var e = this.cot.getIn(["detail", "xml", "color", "#attr", "value"]); return Object(L.cotColorToRGBA)(e) } } }, { key: "isUVDSAirplane", value: function () { return this.cot.hasIn(["detail", "xml", "videoCollection"]) } }]), r }(Li), Ay = !1; r(703); var Cy = Object(d.getClasses)("alert-drawer", ["card", "switch-container", "switch"], []), Ty = Object(l.b)(function (e) { var t = e.alerts; return { uid: t.uid, trigger: t.alertTrigger, safetyTrigger: t.alertSafetyTrigger, isActive: t.activeAlert, alertType: t.alertType } })(function (e) { var t = e.trigger, r = e.safetyTrigger, n = e.alertType, a = e.isActive, o = Td("alerts"); return c.a.createElement(d.DrawerLayout, { className: Object(d.className)(Cy.BASE) }, c.a.createElement(d.DrawerHeader, { title: "Alerts", onCollapse: function () { return Td("drawer").closeDrawer() } }), c.a.createElement(d.Card, { title: "Activate Alerts", className: Object(d.className)(Cy.Elements.card) }, c.a.createElement("label", { style: { marginTop: 0 }, className: Object(d.className)(Object(d.prefix)("label"), Object(d.prefix)("label--inline")) }, c.a.createElement("span", null, "Alert Type"), c.a.createElement(d.Select, { disabled: a, value: n, onChange: function (e) { return o.setAlertType(e.target.value) } }, c.a.createElement("option", { value: Qf[0] }, "Geofence Breached"), c.a.createElement("option", { value: Qf[1] }, "Ring the Bell"), c.a.createElement("option", { value: Qf[2] }, "Troops in Contact"), c.a.createElement("option", { value: Qf[3] }, "911 Alert"))), c.a.createElement("label", { style: { marginTop: 0 }, className: Object(d.className)(Object(d.prefix)("label")) }, c.a.createElement("span", null, "Toggle both switches to activate alert"), c.a.createElement("div", { className: Object(d.className)(Cy.Elements["switch-container"]) }, c.a.createElement(d.Switch, { className: Object(d.className)(Cy.Elements.switch), checked: t, onChange: function () { o.setAlertTrigger(!t) } }), c.a.createElement(d.Switch, { className: Object(d.className)(Cy.Elements.switch), checked: r, onChange: function () { o.setAlertSafetyTrigger(!r) } }))))) }), jy = (r(704), Object(d.getClasses)("alert-detail", ["header", "card", "button"], [])), ky = function () { var e = Object(i.useState)(Td("drawer").getCtx()), t = Object(Xe.a)(e, 2), r = t[0], n = t[1]; return xa(Td("drawer"), "drawer-change", function (e, t) { n(t) }, [r, n]), r ? c.a.createElement(d.DrawerLayout, null, c.a.createElement(d.DrawerHeader, { title: "Alert Details", onCollapse: function () { return Td("drawer").closeDrawer() }, className: Object(d.className)(jy.Elements.header) }), c.a.createElement(d.Card, { className: Object(d.className)(jy.Elements.header), title: "Details" }, c.a.createElement("label", { style: { marginTop: 0 }, className: Object(d.className)(Object(d.prefix)("label"), Object(d.prefix)("label--inline")) }, c.a.createElement("span", null, "Callsign"), Br(r)), c.a.createElement("label", { style: { marginTop: 0 }, className: Object(d.className)(Object(d.prefix)("label"), Object(d.prefix)("label--inline")) }, c.a.createElement("span", null, "UUID"), r.uid), c.a.createElement("label", { style: { marginTop: 0 }, className: Object(d.className)(Object(d.prefix)("label"), Object(d.prefix)("label--inline")) }, c.a.createElement("span", null, "Location"), Object(L.toMGRSString)(r.lat, r.lon)), c.a.createElement("label", { style: { marginTop: 0 }, className: Object(d.className)(Object(d.prefix)("label"), Object(d.prefix)("label--inline")) }, c.a.createElement("span", null, "Type"), ad(r)), c.a.createElement("label", { style: { marginTop: 0 }, className: Object(d.className)(Object(d.prefix)("label"), Object(d.prefix)("label--inline")) }, c.a.createElement("span", null, "Transmit Time"), Object(ec.a)(r.startTime, "MMMM Do yyyy, h:mm:ss a")))) : null }; r(705), r(706), r(707); var Ry, Ny = Object(d.getClasses)("data-package-info-card", ["header", "header-title", "readonly-tag", "package-details", "title", "meta-info", "meta-block", "meta-label", "meta-value"], []), Ly = function (e) { var t = e.dataPackage, r = Object(i.useState)(t), n = Object(Xe.a)(r, 2), a = n[0], o = (n[1], Object(i.useState)(t.enabled)), s = Object(Xe.a)(o, 2), u = s[0], l = s[1]; return c.a.createElement("div", { className: Ny.BASE }, c.a.createElement("div", { className: Ny.Elements.header }, c.a.createElement("div", { className: Ny.Elements["header-title"] }, "Data Package Details")), c.a.createElement("div", { className: Ny.Elements["package-details"] }, c.a.createElement("div", { className: Ny.Elements.title }, a.name, c.a.createElement(d.Switch, { onChange: function () { _s.create().toggleDataPackageEnabled(t.uid), l(!u) }, checked: u }))), c.a.createElement("hr", null), c.a.createElement("div", { className: Ny.Elements["meta-info"] }, c.a.createElement("div", { className: Ny.Elements["meta-block"] }, c.a.createElement("div", { className: Ny.Elements["meta-label"] }, "From"), c.a.createElement("div", { className: Ny.Elements["meta-value"] }, c.a.createElement(d.Icon, { icon: "account" }), c.a.createElement("span", null, t.sender))), c.a.createElement("div", { className: Ny.Elements["meta-block"] }, c.a.createElement("div", { className: Ny.Elements["meta-label"] }, "Size"), c.a.createElement("div", { className: Ny.Elements["meta-value"] }, bc(t.size))))) }, _y = (r(708), r(709), Object(d.getClasses)("data-package-category-map-items", ["map-items", "map-item", "map-item-visual", "info", "title", "subtitle", "actions"], [])), Iy = function (e) { var t = e.cotEvent; e.dataPackageName; if (!t) return c.a.createElement("div", { className: _y.Elements["map-item"] }, c.a.createElement("div", { className: _y.Elements.info }, c.a.createElement("div", { className: _y.Elements.title }, "[Untitled Item]", c.a.createElement("div", { className: _y.Elements.subtitle }, t)))); var r = Object(i.useState)(), n = Object(Xe.a)(r, 2), a = n[0], o = n[1], s = Object(L.toMGRSString)(t.lat, t.lon); Object(i.useEffect)(function () { Qo(t).then(function (e) { o(e) }) }, [t]); return c.a.createElement("div", { className: _y.Elements["map-item"], onClick: function () { if (ma.create().hasItem(t.uid)) { var e = ma.create().getItem(t.uid); e.zoomToItem(), e.onClick({ coordinate: [t.lon, t.lat] }, []) } } }, c.a.createElement("div", { className: _y.Elements.info }, c.a.createElement("div", { className: _y.Elements["map-item-visual"] }, Uc.isQuickPicType(t.type) ? c.a.createElement("img", { src: Ur[Dr.QUICK_PIC] }) : c.a.createElement("img", { src: a, alt: "" })), c.a.createElement("div", { className: _y.Elements.title }, Br(t), c.a.createElement("div", { className: _y.Elements.subtitle }, s)))) }, My = function (e) { var t = e.cotEvents, r = e.dataPackageName, n = c.a.createElement(d.NonIdealState, { icon: "map-outline", description: "No map items in the data package" }), a = c.a.createElement("div", { className: _y.Elements["map-items"] }, t.map(function (e, t) { return c.a.createElement(Iy, { key: t, dataPackageName: r, cotEvent: e }) })); return c.a.createElement("div", { className: _y.BASE }, 0 === t.toJS().length ? n : a) }; !function (e) { e.MAP_ITEMS = "map-items", e.PHOTOS = "photos", e.FILES = "files" }(Ry || (Ry = {})); var xy = function (e) { var t = e.dataPackage, r = e.view, n = void 0 === r ? Ry.MAP_ITEMS : r, a = Object(i.useState)(n), o = Object(Xe.a)(a, 2), s = o[0], u = o[1], l = [{ value: Ry.MAP_ITEMS, label: "Map Items" }, { value: Ry.PHOTOS, label: "Photos" }, { value: Ry.FILES, label: "Files" }], f = t.attachments.filter(function (e) { return /(gif|jpe?g|png|webp|bmp)$/i.test(e.fileType ? e.fileType : "") }), p = t.attachments.filter(function (e) { return !/(gif|jpe?g|png|webp|bmp)$/i.test(e.fileType ? e.fileType : "") }), m = Object(i.useMemo)(function () { switch (s) { case Ry.PHOTOS: return c.a.createElement(xs, { feedName: t.name, images: f }); case Ry.MAP_ITEMS: return c.a.createElement(My, { dataPackageName: t.name, cotEvents: t.cotsEvents }); case Ry.FILES: return c.a.createElement(Us, { feedName: t.name, files: p }) } }, [s, f, p, t]); return c.a.createElement(d.DrawerLayout, null, c.a.createElement(d.NavigationDrawerHeader, { title: "Data Package Content" }, c.a.createElement(d.SegmentedControl, { defaultValue: n, options: l, onChange: function (e) { return u(e) } })), m) }, Dy = Object(d.getClasses)("data-package-content-card", ["header", "content", "list", "list-item", "list-item-icon", "item-counter", "chevron-icon"], []), Py = function (e, t, r, n, a) { return c.a.createElement("li", { onClick: function () { return a(n) }, className: Dy.Elements["list-item"] }, c.a.createElement(d.Icon, { className: Dy.Elements["list-item-icon"], icon: r }), c.a.createElement("span", null, e), c.a.createElement("span", { className: Dy.Elements["item-counter"] }, "(", t, ")"), c.a.createElement(d.Icon, { className: Dy.Elements["chevron-icon"], icon: "chevron-right" })) }, Uy = function (e) { var t = e.dataPackage, r = t.cotsEvents.count(), n = t.attachments, a = n.filter(function (e) { return /(gif|jpe?g|png|webp|bmp)$/i.test(e.fileType ? e.fileType : "") }), o = Object(i.useContext)(d.NavigationContext).push, s = function (e) { return o(function () { return c.a.createElement(xy, { dataPackage: t, view: e }) }) }; return c.a.createElement("div", { className: Dy.BASE }, c.a.createElement("div", { className: Dy.Elements.header }, "Data Package Content"), c.a.createElement("div", { className: Dy.Elements.content }, c.a.createElement("ul", { className: Dy.Elements.list }, Py("Map Items", r, "map-outline", fv.MAP_ITEMS, s), Py("Photos", a.length, "image-mutiple", fv.PHOTOS, s), Py("Files", n.length - a.length, "folder-multiple", fv.FILES, s)))) }, By = Object(d.getClasses)("data-package-detail-drawer", ["footer"], []), Fy = function (e) { var t = e.dataPackage, r = void 0 === t ? Td("drawer").getCtx() : t, n = Object(i.useContext)(d.NavigationContext); return c.a.createElement(d.DrawerLayout, null, c.a.createElement(d.NavigationDrawerHeader, { title: r.name }), c.a.createElement(Ly, { dataPackage: r }), c.a.createElement(Uy, { dataPackage: r }), c.a.createElement(d.DrawerFooter, { className: By.Elements.footer }, c.a.createElement(d.Button.Danger, { onClick: function () { confirm("Are you sure you want to delete this data package?") && (_s.create().deleteDataPackage(r.uid), n.pop()) } }, "Remove"))) }, Vy = Object(d.getClasses)("data-package-card", ["content", "data-package-info-row", "title-block", "title", "meta", "meta-container", "package-size", "notification-count"], []), Hy = function (e) { var t = e.dataPackage, r = Fc.create().getDataPackageNotificationChannel(), n = Object(i.useContext)(d.NavigationContext), a = Object(i.useState)(Fc.create().getNotificationsForPackage(t.uid).length), o = Object(Xe.a)(a, 2), s = o[0], u = o[1]; xa(r, "change", function () { u(Fc.create().getNotificationsForPackage(t.uid).length) }, [u, t]); return c.a.createElement("div", { className: Vy.BASE }, c.a.createElement("div", { className: Vy.Elements.content, onClick: function () { Fc.create().removeAll(t.uid), n.push(function () { return c.a.createElement(Fy, { dataPackage: t }) }) } }, c.a.createElement("div", { className: Vy.Elements["data-package-info-row"] }, c.a.createElement("div", { className: Vy.Elements["title-block"] }, c.a.createElement("span", { className: Vy.Elements.title }, t.name), 0 !== s && c.a.createElement("span", { className: Vy.Elements["notification-count"] }, s)), c.a.createElement("div", { className: Vy.Elements["package-size"] }, bc(t.size))), c.a.createElement("div", { className: Vy.Elements["data-package-info-row"] }, c.a.createElement("span", { className: Vy.Elements.meta }, c.a.createElement(d.Icon, { icon: "account" }), c.a.createElement("span", null, t.sender, " ")), c.a.createElement("div", { className: Vy.Elements["meta-container"] }, c.a.createElement("span", { className: Vy.Elements.meta }, c.a.createElement(d.Icon, { icon: "map-marker" }), c.a.createElement("span", null, t.cotsEvents.toJS().length, " ")), c.a.createElement("span", { className: Vy.Elements.meta }, c.a.createElement(d.Icon, { icon: "file" }), c.a.createElement("span", null, t.attachments.length, " ")))))) }, Gy = Object(l.b)(function (e) { return { packages: e.dataPackages.packages } })(function (e) { var t = e.packages, r = Object(i.useMemo)(function () { return c.a.createElement(d.NonIdealState, { title: "No Data Packages", icon: "dropbox" }) }, [t.count()]), n = Object(i.useMemo)(function () { return c.a.createElement(i.Fragment, null, c.a.createElement("h6", null, "All Packages"), c.a.createElement("div", null, t.toArray().map(function (e) { return c.a.createElement(Hy, { key: e[0], dataPackage: e[1] }) }))) }, [t]); return 0 === t.count() ? r : n }), qy = function () { return c.a.createElement(d.DrawerLayout, null, c.a.createElement(d.NavigationDrawerHeader, { title: "Data Packages", onCollapse: function () { return Td("drawer").closeDrawer() } }), c.a.createElement(Gy, null)) }, Ky = function () { return c.a.createElement(d.NavigationController, { defaultState: { onCollapse: Td("drawer").closeDrawer }, root: qy }) }; r(710), r(711), r(712); var zy = Object(d.getClasses)("preference-collection-item", ["title", "icon"], []), Yy = function (e) { var t = e.collection, r = Object(i.useContext)(d.NavigationContext); return c.a.createElement("div", { className: zy.BASE, onClick: function () { if (1 === t.items.count() && nl(t.items.get(0))) { var e = t.items.get(0); r.push(function () { return e.getComponent() }) } else r.push(function () { var e = Object(i.useState)(""), r = Object(Xe.a)(e, 2), n = r[0], a = r[1], o = Object(i.useCallback)(function (e) { a(e.currentTarget.value) }, [a]); return c.a.createElement(d.DrawerLayout, { contentClassName: fE.BASE }, c.a.createElement(d.NavigationDrawerHeader, { onSearch: o, title: t.displayName, onCollapse: function () { Td("drawer").closeDrawer("side", { drop: !0 }) } }), c.a.createElement(lE, { preferences: t.items, searchTerm: n })) }) } }, c.a.createElement("div", { className: zy.Elements.title }, function () { var e = t.icon; return "string" === typeof e && e in d.iconPaths ? c.a.createElement(d.Icon, { className: zy.Elements.icon, color: "white", icon: e }) : "string" === typeof e ? c.a.createElement("img", { className: zy.Elements.icon, src: e, alt: "" }) : "function" === typeof e ? c.a.createElement("img", { className: zy.Elements.icon, src: e(), alt: "" }) : void 0 }(), t.displayName), c.a.createElement(d.Icon, { color: "white", icon: "chevron-right" })) }, Wy = (r(713), Object(d.getClasses)("toggle-preference-item", ["content", "input", "label"], [])), Xy = function (e) { var t = e.registryKey, r = sl.create(), n = Object(i.useState)(r.getPreference(t)), a = Object(Xe.a)(n, 2), o = a[0], s = a[1]; xa(r, "change-".concat(t), function (e) { s(e) }, [s]); var u = Object(i.useCallback)(function (e) { var t = !!e.currentTarget.checked, n = o.withMutations(function (e) { e.set("value", t) }); r.setPreference(n.registryKey, n), n.effect(t) }, [o]); return c.a.createElement("div", { className: Wy.BASE }, c.a.createElement("div", { className: Wy.Elements.content }, c.a.createElement("label", { className: Wy.Elements.label }, c.a.createElement("span", null, o.displayName)), c.a.createElement(d.Switch, { className: Wy.Elements.input, checked: !!o.value, onChange: u })), c.a.createElement(ll, { description: o.description })) }, Jy = (r(714), Object(d.getClasses)("link-preference-item", ["content", "icon", "text"], [])), Zy = function (e) { var t = e.item; return c.a.createElement("div", { className: Jy.BASE }, c.a.createElement("div", { className: Jy.Elements.content, onClick: function () { window.open(t.value.href) } }, c.a.createElement("span", { className: Jy.Elements.text }, t.displayName), c.a.createElement(d.Icon, { className: Jy.Elements.icon, color: "white", icon: "open-in-new" })), c.a.createElement(ll, { description: t.description })) }, Qy = (r(715), Object(d.getClasses)("text-input-preference-item", ["input", "label"], [])), $y = function (e) { var t = e.item, r = Object(i.useState)(""), n = Object(Xe.a)(r, 2), a = n[0], o = n[1]; return c.a.createElement("div", { className: Qy.BASE }, c.a.createElement("label", { className: Qy.Elements.label }, c.a.createElement("span", null, t.displayName)), c.a.createElement(d.TextInput, { className: Qy.Elements.input, onChange: function (e) { var r; o(e.target.value), r = e.target.value, Object(L.debounce)(function () { t.effect(r) }, 250) }, value: String(a) }), c.a.createElement(ll, { description: t.description })) }, eE = (r(716), sl.create()), tE = Object(d.getClasses)("select-preference-item", ["label", "input"], []); function rE(e) { var t = e.item, r = e.value, n = t.withMutations(function (e) { e.set("value", r) }); eE.setPreference(n.registryKey, n), n instanceof Gu && "string" === typeof r && n.effect(r), n instanceof qu && "number" === typeof r && n.effect(r) } var nE, aE = function (e) { var t = e.registryKey, r = Object(i.useState)(eE.getPreference(t)), n = Object(Xe.a)(r, 2), a = n[0], o = n[1]; xa(eE, "change-".concat(t), function (e) { o(e) }, [o]); return c.a.createElement("div", { className: tE.BASE }, c.a.createElement("label", { className: tE.Elements.label }, c.a.createElement("span", null, a.displayName)), c.a.createElement(d.Select, { className: tE.Elements.input, value: String(a.value), onChange: function (e) { var t = e.target.value; a instanceof Gu && rE({ item: a, value: t }), a instanceof qu && rE({ item: a, value: Number(t) }) } }, a.options.map(function (e) { return c.a.createElement("option", { key: e.value, value: e.value }, e.label) })), c.a.createElement(ll, { description: a.description })) }, oE = (r(717), Object(d.getClasses)("button-preference-item", ["button-row", "button"], [])), iE = function (e) { var t = e.item; return c.a.createElement(c.a.Fragment, null, c.a.createElement("div", { className: oE.BASE }, c.a.createElement(d.Button, { className: oE.Elements.button, onClick: function () { return t.effect(void 0) } }, t.displayName), c.a.createElement(ll, { description: t.description }))) }, cE = Object(d.getClasses)("preference-list", [], []), sE = function (e, t) { return e.displayName.toLowerCase().includes(t.toLowerCase()) || Object(L.levenshtein)(e.displayName, t) < 3 }, uE = function (e) { return e instanceof Nu ? c.a.createElement(Yy, { collection: e }) : function (e) { switch (!0) { case Zu(e): return c.a.createElement(Xy, { registryKey: e.registryKey }); case Qu(e): return c.a.createElement($y, { item: e }); case $u(e): case el(e): return c.a.createElement(aE, { registryKey: e.registryKey }); case tl(e): return c.a.createElement(Zy, { item: e }); case rl(e): return c.a.createElement(iE, { item: e }); case nl(e): return e.getComponent(); default: throw new Error("PreferenceList.renderPreferenceItem: ".concat(e.registryKey, " is an unknown control type preference type.")) } }(e) }, lE = function (e) { var t = e.preferences, r = e.searchTerm, n = Object(i.useRef)(null); return t = t.sort(function (e, t) { return al(e) && ol(t) ? -1 : ol(e) && al(t) ? 1 : Object(L.alphaSort)(e.displayName.toLocaleLowerCase(), t.displayName.toLocaleLowerCase()) }), Object(i.useEffect)(function () { n.current && n.current.setFilterTerm(r) }, [r]), c.a.createElement(d.List, { className: cE.BASE, ref: n, items: t, filter: sE, title: "", headerRenderer: function () { return null }, rowRenderer: function (e) { return uE(e) } }) }, fE = (r(718), Object(d.getClasses)("preferences-root", [], [])), dE = function () { var e = sl.create(), t = Object(i.useState)(e.getRoots()), r = Object(Xe.a)(t, 2), n = r[0], a = (r[1], Object(i.useState)("")), o = Object(Xe.a)(a, 2), s = o[0], u = o[1], l = Object(i.useCallback)(function (e) { u(e.currentTarget.value) }, [u]); return c.a.createElement(d.DrawerLayout, { contentClassName: fE.BASE }, c.a.createElement(d.NavigationDrawerHeader, { onSearch: l, title: "Preferences", onCollapse: function () { return Td("drawer").closeDrawer() } }), c.a.createElement(lE, { preferences: n, searchTerm: s })) }, pE = Object(d.getClasses)("preferences-drawer", [], []), mE = function () { return c.a.createElement(d.NavigationController, { className: pE.BASE, root: dE }) }; r(719); !function (e) { e.UNKNOWN = "UNKNOWN", e.DISABLED = "DISABLED", e.ACTIVE = "ACTIVE" }(nE || (nE = {})); var hE, vE = Object(d.getClasses)("plugin-card", ["header", "title", "content", "icon", "status-tag", "version"], ["active", "disabled", "unknown"]), gE = function (e) { var t, r = e.plugin, n = Gl.create(), a = Object(i.useMemo)(function () { var e; if ("string" === typeof r ? (e = r.split("/").pop()) && (e = e.split(".").slice(0, -1).join(".")) : r && (e = r.name), e && n.hasPlugin(e)) { var t = n.getPlugin(e); return t || void 0 } }, [r]), o = Object(i.useMemo)(function () { if (a) { var e = a.getTools()[0]; if (e) return e.title } return "string" !== typeof r ? r.title : "[Unknown Plugin Title]" }, [a, r]), c = Object(i.useMemo)(function () { if (a) { var e = a.getTools()[0]; if (e) { if (e.iconUrl) return React.createElement("img", { src: e.iconUrl }); if (e.icon) return React.createElement(d.Icon, { icon: e.icon }) } } return React.createElement(d.Icon, { color: "white", icon: "plug" }) }, [a]), s = Object(i.useMemo)(function () { return "string" === typeof r ? a ? nE.ACTIVE : nE.UNKNOWN : "undefined" === typeof r.enabled || r.enabled ? a ? nE.ACTIVE : nE.UNKNOWN : nE.DISABLED }, [a]), u = Object(i.useMemo)(function () { if (a) return a.description }, [a]), l = Object(i.useMemo)(function () { if (a) return a.version }, [r]), f = Object(d.className)(vE.BASE, (t = {}, Object(C.a)(t, vE.Modifiers.active, s === nE.ACTIVE), Object(C.a)(t, vE.Modifiers.disabled, s === nE.DISABLED), Object(C.a)(t, vE.Modifiers.unknown, s === nE.UNKNOWN), t)); return React.createElement("div", { className: f }, React.createElement("div", { className: vE.Elements.header }, React.createElement("div", { className: vE.Elements.title }, React.createElement("div", { className: vE.Elements.icon }, c), React.createElement("span", null, o)), React.createElement(d.Tag, { className: vE.Elements["status-tag"] }, s)), s === nE.ACTIVE && React.createElement(i.Fragment, null, React.createElement("div", { className: vE.Elements.content }, React.createElement("div", null, u), React.createElement("div", { className: vE.Elements.version }, "v", l)))) }, bE = function () { var e = Gl.create().getLoadedPlugins(), t = Object(i.useMemo)(function () { return e && 0 !== e.length ? e.map(function (e, t) { return c.a.createElement(gE, { key: t, plugin: e }) }) : c.a.createElement(d.NonIdealState, { icon: "plug", title: "No Registered Plugins", description: "WebSAE  SAEServer A WebSAE plugin can be added to the current instance by a SAEServer administrator " }) }, [e]); return c.a.createElement(d.DrawerLayout, null, c.a.createElement(d.NavigationDrawerHeader, { title: "Plugins" }), t) }, yE = !1; !function (e) { e.COT_STORAGE_COLLECTION = "cot-storage-collection", e.LINK_COLLECTION = "link-collection", e.CLEAR_STORED_COT = "clear-stored-cot", e.MARTI = "marti" }(hE || (hE = {})); r(720), r(721); var EE = r(427), OE = Object(d.getClasses)("tool", ["icon", "title", "notification-count"], ["collapsed", "disabled"]), SE = (Number(Object(d.getVariable)(EE, "toolHeightCollapsed", "46")), function (e) { var t, r = e.disabled, n = e.title, a = e.name, o = e.icon, s = e.className, u = e.onClick, l = void 0 === u ? function () { } : u, f = e.iconColor, p = e.iconUrl, m = e.forceUpdate, h = void 0 === m ? function () { } : m, v = e.collapsed, g = Object(d.useResponsiveSize)(), b = g.mobile, y = g.tablet, E = Object(i.useState)(0), O = Object(Xe.a)(E, 2), S = O[0], w = O[1]; Object(i.useEffect)(function () { if (Td("tool").hasTool(a)) { var e = function (e) { w(e.length) }, t = Td("tool").getTool(a).getNotificationChannel(); return t && (w(t.getNotifications().length), t.on("change", e)), function () { t && t.off("change", e) } } }, [w]), Object(i.useEffect)(function () { if (Td("tool").hasTool(a)) { var e = Td("tool").getTool(a), t = function () { h(Object(L.uuid)()) }; return e.on("change", t), function () { e && e.off("change", t) } } }, [h]); var A = Object(d.className)(OE.BASE, (t = {}, Object(C.a)(t, OE.Modifiers.collapsed, v || b || y), Object(C.a)(t, OE.Modifiers.disabled, r), t), s), T = c.a.createElement(d.Icon, { color: f, icon: o }); p && (T = c.a.createElement("img", { alt: a, src: p })); var j = Object(i.useMemo)(function () { return 0 === S ? null : c.a.createElement("div", { className: OE.Elements["notification-count"] }, S) }, [S]); return c.a.createElement("div", { onClick: r ? void 0 : l, key: a, className: A, title: n }, c.a.createElement("div", { className: OE.Elements.icon }, j, T), c.a.createElement("div", { className: OE.Elements.title }, c.a.createElement("span", null, n))) }), wE = r(428), AE = r.n(wE), CE = Object(l.b)(function (e) { var t = e.map, r = e.user; return { user: r, disabled: t.isExclusive() || !r.hasValidInformation() } })(function (e) { var t = e.user, r = e.disabled, n = e.collapsed, a = Td("drawer"), o = ["Medic", "Team Lead", "Team Member", "HQ"].includes(t.role) ? String(t.role).toLocaleLowerCase().replace(" ", "-") : "team-member", i = Nt.getAll().map(function (e) { return e.name }).includes(t.team.name) ? t.team.name : "Blank", s = "resources/user/".concat(encodeURIComponent("".concat(o, "_").concat(i)), ".svg"), u = "".concat(p()).concat(s); return c.a.createElement(SE, { disabled: r, className: Object(d.prefix)("tool--user"), title: t.callsign, icon: "circle", iconUrl: u, name: "user", onClick: function () { var e = a.getActiveDrawer(); e && "user" === e.getName() && a.isOpen() ? a.closeDrawer() : a.setActiveDrawer("user") }, collapsed: n }) }), TE = Object(d.getClasses)("toolbar", ["group", "edit-toolbar", "edit-toolbar-button"], ["mobile-portrait", "mobile-landscape", "start", "flex", "end"]), jE = Object(d.getClasses)(TE.Elements.group, [], ["start", "flex", "end"]), kE = function (e, t) { var r = e.desktop, n = e.mobile, a = e.tablet, o = e.desktopLarge; return "all" === t || "desktop" === t && (r || o) || "mobile" === t && n || "tablet" === t && a || "mobileDesktop" === t && (n || r || o) || "tabletDesktop" === t && (a || r || o) || "mobileTablet" === t && (n || a) }, RE = function (e) { var t, r = e.disabled, n = e.tools, a = e.orderedTools, o = Object(i.useState)(""), s = Object(Xe.a)(o, 2), u = s[0], l = s[1], f = Object(i.useState)(!1), p = Object(Xe.a)(f, 2), m = p[0], h = p[1], v = Td("tool"), g = Td("drawer"), b = Object(d.useResponsiveSize)(), y = b.mobilePortrait, E = b.mobileLandscape, O = b.tabletLandscape, S = (b.tabletPortrait, b.tablet), w = y || E || S, A = Object(i.useMemo)(function () { var e = []; return w ? e : (a.forEach(function (t) { if (v.hasTool(t)) { var n = v.getTool(t); if (!kE(b, n.deviceTypes)) return; e.push(c.a.createElement(SE, { disabled: r, key: n.name, className: n.className, title: n.title, icon: n.icon, name: n.name, onClick: function () { var e = g.getActiveDrawer(); e && e.getName() === n.name && g.isOpen() ? g.closeDrawer() : "function" === typeof n.onClick && n.onClick() }, iconUrl: n.iconUrl, forceUpdate: l, collapsed: m })) } }), e) }, [n, a, r, u, m, w, E, y, b]), T = Object(i.useMemo)(function () { var e = function () { var e = g.getActiveDrawer(); e && "edit-toolbar" === e.getName() && g.isOpen() ? g.closeDrawer() : g.setActiveDrawer("edit-toolbar", void 0, !0, !1) }; return w ? c.a.createElement(SE, { collapsed: m, disabled: r, icon: "tools", title: "Toolbox", name: "toolbox", onClick: e }) : c.a.createElement("div", { className: TE.Elements["edit-toolbar"] }, !m && c.a.createElement("div", { className: TE.Elements["edit-toolbar-button"], style: { visibility: m ? "hidden" : "visible" }, onClick: e }, "Edit Toolbar"), c.a.createElement(d.Icon, { onClick: function () { return h(!m) }, color: "#429AEF", icon: m ? "chevron-double-right" : "chevron-double-left" })) }, [m, w, r]), j = Object(d.className)(TE.BASE, (t = {}, Object(C.a)(t, TE.Modifiers["mobile-portrait"], y), Object(C.a)(t, TE.Modifiers["mobile-landscape"], E || O), t)), k = c.a.createElement(c.a.Fragment, null, c.a.createElement(SE, { disabled: r, title: "Preferences", icon: "settings", name: "preferences", onClick: function () { var e = g.getActiveDrawer(); e && "preferences" === e.getName() && g.isOpen() ? g.closeDrawer() : g.setActiveDrawer("preferences") }, forceUpdate: l, collapsed: m }), c.a.createElement(CE, { collapsed: m }), T); return c.a.createElement("div", { className: j, style: { background: "#313131" } }, c.a.createElement("div", { className: Object(d.className)(jE.BASE, jE.Modifiers.start) }, !w && c.a.createElement(SE, { title: "WebSAE", name: "websae", icon: "account", className: Object(d.prefix)("tool--logo tool--no-hover"), iconUrl: AE.a, collapsed: m }), y && k), c.a.createElement("div", { className: Object(d.className)(jE.BASE, jE.Modifiers.flex) }, A), c.a.createElement("div", { className: Object(d.className)(jE.BASE, jE.Modifiers.end) }, !y && k)) }, NE = Object(d.getClasses)("edit-tools", ["footer", "card", "list", "list-item", "tool", "action-remove", "action-add", "list-drag-handle", "drop-zone", "dropping", "more-tools"], []), LE = function (e) { var t = e.droppableId, r = e.elem; return c.a.createElement(Ng.c, { droppableId: t }, function (e, t) { var n = t.isDraggingOver; return c.a.createElement("div", Object.assign({ className: Object(d.className)(NE.Elements["drop-zone"], Object(C.a)({}, NE.Elements.dropping, !!n)) }, e.droppableProps, { ref: e.innerRef }), r, e.placeholder) }) }, _E = function (e) { var t = e.tool, r = e.onClick, n = e.editing, a = e.adding, o = e.listAction, i = e.index, s = e.portalEl, l = a ? "#29CE43" : "#FF5C54", f = a ? "plus-circle" : "minus-circle", p = c.a.createElement("span", { className: NE.Elements.tool }, function (e) { var t = e.iconUrl, r = e.icon, n = c.a.createElement(d.Icon, { color: "white", icon: r }); return t && (n = c.a.createElement("img", { alt: name, src: t })), n }(t), t.title); return n ? c.a.createElement(Ng.b, { key: t.name, index: i, draggableId: t.name }, function (e, r) { var n = r.isDragging, a = c.a.createElement("div", Object.assign({ ref: e.innerRef }, e.draggableProps, e.dragHandleProps, { className: NE.Elements["list-item"] }), c.a.createElement(d.Icon, { onClick: function () { return o(t.name) }, color: l, icon: f }), p, c.a.createElement("span", { className: NE.Elements["list-drag-handle"] }, c.a.createElement(d.Icon, { icon: "drag-horizontal" }))); return n && s ? u.a.createPortal(a, s) : a }) : c.a.createElement("div", { className: NE.Elements["list-item"], onClick: r }, p) }, IE = Object(l.b)(function (e) { return { orderedTools: e.tool.orderedTools } }, { saveTools: Vt })(function (e) { var t = e.orderedTools, r = e.saveTools, n = e.editing, a = Object(d.useResponsiveSize)(), o = Object(i.useState)(Object(q.List)(t)), s = Object(Xe.a)(o, 2), u = s[0], l = s[1], f = Object(q.List)(Td("tool").getTools()), p = Object(i.useState)(null), m = Object(Xe.a)(p, 2), h = m[0], v = m[1]; Object(i.useEffect)(function () { var e = document.createElement("div"); return v(e), document.body.appendChild(e), function () { document.body.removeChild(e) } }, [v]); var g = u.reduce(function (e, t) { var r = f.find(function (e) { return e.name === t }); return r ? e.push(r) : e }, Object(q.List)()).filter(function (e) { return kE(a, e.deviceTypes) }), b = f.filter(function (e) { return !g.includes(e) }).filter(function (e) { return kE(a, e.deviceTypes) }).sort(function (e, t) { return Object(L.alphaSort)(e.title, t.title) }), y = function (e) { l(u.filter(function (t) { return t !== e })), r(Object(q.OrderedSet)(u.filter(function (t) { return t !== e }))) }, E = Td("drawer"), O = function (e, t, r, n) { return e.map(function (e, a) { return c.a.createElement(_E, { key: "".concat(e, "-").concat(a), tool: e, editing: r, adding: n, onClick: function () { return function (e) { var t = E.getActiveDrawer(); t && t.getName() === e.name && E.isOpen() ? E.closeDrawer() : "function" === typeof e.onClick && e.onClick() }(e) }, listAction: t, index: a, portalEl: h }) }) }, S = 1 === u.size, w = O(g, y, n && !S, !1), A = O(b, function (e) { l(u.push(e)), r(Object(q.OrderedSet)(u.push(e))) }, n, !0); return n ? c.a.createElement(Ng.a, { onDragEnd: function (e) { var t = e.destination, n = e.source, a = e.draggableId; if (t) { var o = "moreToolsDroppable" === t.droppableId && "toolbarToolDroppable" === n.droppableId, i = "moreToolsDroppable" === n.droppableId && "toolbarToolDroppable" === t.droppableId, c = "toolbarToolDroppable" === t.droppableId; if (o) y(a); else if (i) { var s = u.filter(function (e) { return f.findIndex(function (t) { return t.name === e }) > -1 }).splice(t.index, 0, a); l(s), r(Object(q.OrderedSet)(s)) } else if (c) { var d = u.filter(function (e) { return e !== a }).splice(t.index, 0, a); l(d), r(Object(q.OrderedSet)(d)) } } } }, c.a.createElement("div", null, c.a.createElement(LE, { droppableId: "toolbarToolDroppable", elem: c.a.createElement("div", null, w) })), c.a.createElement("div", null, c.a.createElement(LE, { droppableId: "moreToolsDroppable", elem: c.a.createElement(c.a.Fragment, null, c.a.createElement("div", { className: NE.Elements["more-tools"] }, "More Tools"), A) }))) : c.a.createElement("div", null, w) }), ME = function (e) { Object(ud.a)(e); var t = Object(d.useResponsiveSize)().mobile, r = Object(i.useState)(!t), n = Object(Xe.a)(r, 2), a = n[0], o = n[1]; Object(i.useEffect)(function () { o(!t) }, [t]); var s = Object(i.useCallback)(function (e) { return t ? c.a.createElement(c.a.Fragment, null, c.a.createElement(d.Button, { small: !0, minimal: !0, onClick: Object(L.safelyHandle)(function () { return o(!a) }), style: {} }, a ? "Done" : "Edit"), !a && e) : e }, [a, t]); return c.a.createElement(d.DrawerLayout, null, c.a.createElement(d.NavigationDrawerHeader, { title: "Toolbar", rightRenderer: s }), c.a.createElement(IE, { editing: a })) }, xE = function () { return c.a.createElement(d.NavigationController, { root: ME }) }, DE = !1; r(722); var PE = function (e, t) { var r = e.getView().getZoom(), n = e.getView().getCenter(), a = Object(Xe.a)(n, 2), o = a[0], i = a[1], c = t.get("zoom"), s = t.get("center").toJS(), u = s.lon, l = s.lat; return r === c && o === u && i === l }, UE = function (e, t) { return !!e && PE(e, t) }, BE = Object(d.getClasses)("aoi-button-control", ["upper-row", "mode-indicator", "collapse-toggle", "collapse", "collapse-scrollable", "collapse-item", "selector-button", "highlight", "button-wrapper"], ["activated"]), FE = Object(l.b)(function (e) { return { aois: e.aoi.getAll() } }, function (e) { return { onSave: function (t) { e(pe(t.toJS())), e(Et(St.DEFAULT)) } } })(function (e) { var t, r = e.aois, n = e.onSave, a = hi.create(), o = Mh.create(), u = Object(i.useState)(!1), l = Object(Xe.a)(u, 2), f = l[0], p = l[1], m = Object(i.useState)(), h = Object(Xe.a)(m, 2), v = h[0], g = h[1], b = Object(i.useState)(!1), y = Object(Xe.a)(b, 2), E = y[0], O = y[1], S = Object(i.useState)(), w = Object(Xe.a)(S, 2), A = w[0], C = w[1], T = Object(i.useState)(o.getVisibility()), j = Object(Xe.a)(T, 2), k = j[0], R = j[1], N = Object(i.useRef)(null); Object(d.useOnClickOutside)(N, function () { p(!1) }), xa(o, "changeVisibility", function (e) { R(e), e && p(!1) }, [p]), xa(o, "change", function (e) { g(e) }, [g]), Object(i.useEffect)(function () { a.onMapReady(function (e) { return C(e) }) }, [C]); var _ = Object(i.useCallback)(function () { a.performInteraction(function (e) { o.setVisibility(!1), p(!1); var r = document.createElement("div"); r.classList.add(Rh.BASE), Object(s.render)(c.a.createElement(Nh, { onSave: function (e) { function t(t, r, n) { return e.apply(this, arguments) } return t.toString = function () { return e.toString() }, t }(function (e, t, r) { var a = Object(L.safeConstruct)(de, { name: e, center: t, zoom: r, uid: Object(L.uuid)() }); g(a), n(a) }) }), r), t = new Mc.a({ element: r, target: "map-control-container" }), e.addControl(t) }, function (e) { t && e.removeControl(t), o.getMapWidgetActive() ? o.setVisibility(!0) : o.setVisibility(!1) }, function (e) { t && e.removeControl(t), o.getMapWidgetActive() ? o.setVisibility(!0) : o.setVisibility(!1) }) }, [a, n, g, p]); Object(i.useEffect)(function () { v && (r.findEntry(function (e) { return e.uid === v.uid }) || g(void 0)) }, [r, g]), Object(i.useEffect)(function () { void 0 === v && g(function (e) { if (e.size) return e.get(0) }(r)) }, [v, r, g, A]), Object(i.useEffect)(function () { if (A) { var e = function () { O(!!v && PE(A, v)) }; return v && O(PE(A, v)), A.getView().on("propertychange", e), function () { A.getView().un("propertychange", e) } } }, [v, O, A]); var I = function (e) { a.zoomToPoint(e.toLonLat(), e.zoom) }; return k ? c.a.createElement("div", { ref: N, style: { position: "relative", width: "100%" } }, c.a.createElement("div", { className: BE.Elements["upper-row"] }, c.a.createElement("div", { onClick: Object(L.safelyHandle)(function () { !E && v && I(v) }), className: Object(d.className)(BE.Elements["mode-indicator"], E ? "" : BE.Modifiers.activated) }, c.a.createElement(d.Icon, { icon: E ? "aoi" : "aoi_bounds" })), c.a.createElement(function () { return r.count() ? c.a.createElement(c.a.Fragment, null, c.a.createElement("div", { className: BE.Elements["collapse-toggle"], onClick: Object(L.safelyHandle)(function () { return p(!f) }) }, c.a.createElement("span", { style: { overflow: "hidden", textOverflow: "ellipsis", whiteSpace: "nowrap" }, className: "fuyx" }, v && v.name), c.a.createElement("span", null, c.a.createElement(d.Icon, { color: "white", icon: f ? "chevron-up" : "chevron-down" })))) : c.a.createElement("div", { className: BE.Elements["selector-button"], onClick: _ }, "ADD NEW AOI") }, null)), c.a.createElement(d.Collapse, { isOpen: f, className: BE.Elements.collapse }, c.a.createElement("div", { className: BE.Elements["button-wrapper"] }, c.a.createElement(d.Button, { onClick: _, minimal: !0, outlined: !0 }, "ADD NEW AOI")), c.a.createElement("div", { className: BE.Elements["collapse-scrollable"] }, r.map(function (e, t) { return c.a.createElement("div", { key: t, style: { overflowX: "hidden" }, onClick: Object(L.safelyHandle)(function () { g(e), p(!1), I(e) }), className: BE.Elements["collapse-item"] }, c.a.createElement("span", { className: UE(A, e) ? BE.Elements.highlight : "" }, e.name)) })))) : null }), VE = (r(723), r(724), Object(d.getClasses)("widget-category", ["item", "delete-overlay", "item-title"], ["unclickable"])), HE = function (e) { var t = e.categoryName, r = Td("widgetGrid"), n = Object(i.useState)([]), a = Object(Xe.a)(n, 2), o = a[0], s = a[1]; return Object(i.useEffect)(function () { s(Td("widget").getWidgetsByCategory(t)) }, [t]), xa(r, "change", function (e) { s(Td("widget").getWidgetsByCategory(t)) }, [t]), c.a.createElement("div", { className: VE.BASE }, o.map(function (e, t) { return c.a.createElement("div", { className: VE.Elements.item, key: t, onClick: function () { r.layoutHas(e.registryKey) ? r.removeWidget(e.registryKey) : r.addWidget(e.registryKey) } }, c.a.createElement("span", { className: VE.Elements["item-title"] }, e.name), c.a.createElement("div", { className: VE.Modifiers.unclickable }, e.element), r.layoutHas(e.registryKey) && c.a.createElement("div", { className: VE.Elements["delete-overlay"] }, c.a.createElement(d.Icon, { color: "white", icon: "delete-outline" }), " Remove")) })) }, GE = Object(d.getClasses)("widget-drawer", ["drawer-left", "drawer-right", "category-item", "non-ideal"], ["active"]), qE = function () { var e = vd.create(), t = Td("widget").getCategories(), r = Object(i.useState)(e.getLock()), n = Object(Xe.a)(r, 2), a = n[0], o = n[1], s = Object(i.useState)("Core"), u = Object(Xe.a)(s, 2), l = u[0], f = u[1], p = Object(i.useState)(!1), m = Object(Xe.a)(p, 2), h = m[0], v = m[1], g = Object(d.useResponsiveSize)(), b = g.desktop, y = g.desktopLarge; Object(i.useEffect)(function () { v(!b && !y) }, [b, y]), xa(e, "lock", function (e) { o(e) }, []); return h ? c.a.createElement("div", { className: GE.Elements["non-ideal"] }, c.a.createElement(d.NonIdealState, { icon: "alert", title: "Widgets are not available on tablet or mobile devices", description: "To use widgets make sure you are using WebSAE on a desktop device and not mobile or tablet" })) : c.a.createElement("div", { className: GE.BASE }, c.a.createElement("div", { className: GE.Elements["drawer-left"] }, c.a.createElement(d.Icon, { icon: a ? "lock" : "lock-open-variant", color: "white", onClick: function () { var t = !a; o(t), e.setLock(t) } }), c.a.createElement(d.Icon, { icon: "delete", color: "white", onClick: function () { confirm("Are you sure you want to remove all widgets from the map?") && e.removeAll() } }), t && t.map(function (e, t) { return c.a.createElement("div", { title: e, className: Object(d.className)(GE.Elements["category-item"], e === l ? GE.Modifiers.active : ""), key: t, onClick: function () { f(e) } }, c.a.createElement("span", { style: { textOverflow: "ellipsis", overflow: "hidden", whiteSpace: "nowrap" } }, e), c.a.createElement(d.Icon, { color: "white", icon: "chevron-right" })) })), c.a.createElement("div", { className: GE.Elements["drawer-right"] }, l ? c.a.createElement(HE, { categoryName: l }) : c.a.createElement(d.NonIdealState, { icon: "alert", title: "No Category Selected" }))) }; function KE(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var zE = { name: "Default Widget", w: 1, h: 1, minW: 1, minH: 1, maxW: 1, maxH: 1, registryKey: "registryKey", element: c.a.createElement("div", null, "hello") }, YE = function (e) { Object(k.a)(r, e); var t = KE(r); function r(e) { return Object(T.a)(this, r), t.call(this, e) } return r }(Object(q.Record)(zE)), WE = !1; r(725); var XE, JE = function (e) { var t = e.initialValue, r = e.enumeration, n = e.label, a = e.onChange, o = Object(i.useState)(t), s = Object(Xe.a)(o, 2), u = s[0], l = s[1]; Object(i.useEffect)(function () { l(t) }, [t]); return c.a.createElement("div", { style: { marginBottom: "1em" } }, c.a.createElement("label", { className: "wt-label" }, c.a.createElement("span", null, n, " ")), c.a.createElement(d.Select, { value: u, onChange: function (e) { l(e.target.value), a(e) } }, Object.keys(r).map(function (e, t) { return c.a.createElement("option", { key: t, value: e }, r[e]) }))) }, ZE = function (e) { var t = e.onChange, r = e.route; if (!r.detail || !r.detail.xml) return null; var n = Object(i.useState)(new Bo(r.detail.xml)), a = Object(Xe.a)(n, 2), o = a[0], s = a[1]; Object(i.useEffect)(function () { s(new Bo(r.detail.xml)) }, [r]); var u = Object(i.useCallback)(function (e, n, a) { var o = e[n](a), i = r.detail.set("xml", o.toJS()), c = r.set("detail", i); t(c) }, [r, o]); return c.a.createElement(c.a.Fragment, null, c.a.createElement(JE, { label: "Transport Method", initialValue: o.getRouteMethod(), onChange: function (e) { u(o, "setRouteMethod", e.target.value) }, enumeration: jo }), c.a.createElement(JE, { label: "Direction", initialValue: o.getRouteDirection(), enumeration: Lo, onChange: function (e) { return u(o, "setRouteDirection", e.target.value) } }), c.a.createElement(JE, { label: "Type", initialValue: o.getRouteType(), enumeration: ko, onChange: function (e) { return u(o, "setRouteType", e.target.value) } }), c.a.createElement(JE, { label: "Order", initialValue: o.getRouteOrder(), enumeration: Ro, onChange: function (e) { return u(o, "setRouteOrder", e.target.value) } })) }, QE = function (e) { var t = e.route, r = e.onChange; if (!t.detail || !t.detail.xml) return null; var n = Object(i.useMemo)(function () { return new Bo(t.detail.xml).getCheckpoints().filter(function (e) { return e.callsign }) }, [t]), a = (Object(i.useCallback)(function (e) { var n = new Bo(t.detail.xml).removeCheckpoint(e), a = t.detail.set("xml", n.toJS()), o = t.set("detail", a); r(o) }, [t]), Object(i.useCallback)(function (e) { var r = new Bo(t.detail.xml).getNavCueFor(e); r && Td("dialog").openWith("Cue: ".concat(Br(t)), c.a.createElement("div", null, r.text)) }, [t])); return c.a.createElement("div", null, c.a.createElement("label", { className: "wt-label" }, c.a.createElement("span", null, "Checkpoints")), n.map(function (e, t) { return c.a.createElement("div", { style: { display: "flex", alignItems: "center", justifyContent: "space-between" }, key: t }, e.callsign ? e.callsign : "Unknown Marker", c.a.createElement("div", null, c.a.createElement(d.Icon, { color: "white", icon: "account-voice", onClick: function () { return a(e.uid) } }))) })) }, $E = Object(d.getClasses)("route-detail-drawer", ["section-card"], []), eO = function () { var e = Object(i.useState)(Td("drawer").getCtx()), t = Object(Xe.a)(e, 2), r = t[0], n = t[1], a = Object(i.useState)(!1), o = Object(Xe.a)(a, 2), s = o[0], u = o[1]; xa(Td("drawer"), "drawer-change", function (e, t) { n(t) }, [r, n]), Object(i.useEffect)(function () { if (r) { var e = function (e) { var t = new ct.CotEvent(Object(P.a)({}, e, { detail: e.detail ? Object(L.safeConstruct)(ct.CotEventDetail, e.detail) : null })); (function (e) { return t = r, !(e.uid !== t.uid); var t })(t) && function (e) { n(e) }(t) }; return Td("socket").on("message", e), function () { return Td("socket").off("message", e) } } }, [r, n]); var l = Object(i.useCallback)(Object(L.debounce)(function (e) { if (Object(ct.isCotEvent)(e)) { var t = Date.now(), r = e.set("startTime", t).set("sendTime", t).set("staleTime", t + 1e10); n(r), sn().dispatch(ye(r.toJS())) } }, 100), [r]); return r ? c.a.createElement(c.a.Fragment, null, c.a.createElement(d.DrawerLayout, { className: $E.BASE }, c.a.createElement(d.DrawerHeader, { leftRenderer: function (e) { return c.a.createElement(c.a.Fragment, null, c.a.createElement(d.Icon, { onClick: function () { Td("drawer").setActiveDrawer("routes") }, icon: "arrow-left", color: "white" })) }, rightRenderer: function (e) { return c.a.createElement(c.a.Fragment, null, c.a.createElement(d.Icon, { onClick: function () { ma.create().getItem(r.uid).zoomToItem() }, icon: "magnify-plus", color: "white" }), e) }, title: Br(r) }), c.a.createElement(d.Card, { className: $E.Elements["section-card"] }, c.a.createElement(Wi, { onChange: l, cot: r }), c.a.createElement(ac, { cot: r })), c.a.createElement(d.Card, { className: $E.Elements["section-card"] }, c.a.createElement(Ko, { cot: r, onChange: l })), c.a.createElement(d.Card, { title: "Attributes", collapsible: !0, className: $E.Elements["section-card"] }, c.a.createElement(ZE, { onChange: l, route: r })), c.a.createElement(d.Card, { className: $E.Elements["section-card"] }, c.a.createElement(QE, { onChange: l, route: r })), c.a.createElement(d.DrawerFooter, null, c.a.createElement("div", { style: { display: "flex", alignItems: "center", justifyContent: "space-around" } }, c.a.createElement(d.Button.Primary, { onClick: function () { return u(!0) } }, "Send")))), c.a.createElement(fc, { cot: r, onClose: function () { u(!1) }, isOpen: s })) : null }, tO = function () { return c.a.createElement(d.NavigationController, { root: eO }) }; function rO(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } !function (e) { e[e.ASCENDING = 0] = "ASCENDING", e[e.DESENDING = 1] = "DESENDING" }(XE || (XE = {})); var nO = function (e) { Object(k.a)(r, e); var t = rO(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).sortDirection = XE.ASCENDING, Dl().onCotEventChange(function (t, r, n, a) { var o = a.filter(function (e) { return e.type === Ir.DEFAULT }); e.emit("change", o) }), e } return Object(j.a)(r, [{ key: "getRoutes", value: function () { return sn().getState().events.getEvents().filter(function (e) { return e.type === Ir.DEFAULT }) } }, { key: "toggleSortDirection", value: function () { this.sortDirection = this.sortDirection === XE.ASCENDING ? XE.DESENDING : XE.ASCENDING, this.emit("sort", this.sortDirection) } }, { key: "getSortDirection", value: function () { return this.sortDirection } }]), r }(L.Service); nO.create = nO.factory(); var aO = nO, oO = function (e) { var t = e.route, r = (Object(i.useContext)(d.NavigationContext), t.detail && t.detail.xml && Array.isArray(t.detail.xml.link) && t.detail.xml.link[0]["#attr"] && t.detail.xml.link[0]["#attr"].point ? function () { var e = t.detail.xml.link[0]["#attr"].point.split(","), r = Object(Xe.a)(e, 2), n = r[0], a = r[1]; return Object(L.toMGRSString)(Number(parseFloat(n).toFixed(5)), Number(parseFloat(a).toFixed(5))) } : function () { return "" }); return c.a.createElement("div", { onClick: function (e) { e.stopPropagation(), ma.create().getItem(t.uid).zoomToItem() }, style: { display: "flex", alignItems: "center", justifyContent: "space-around", marginBottom: "0.5em" } }, c.a.createElement(d.Card, { title: Br(t), subtitle: r(), collapsible: !1, defaultOpen: !0 }, c.a.createElement("div", { style: { display: "flex", alignItems: "center", justifyContent: "space-around" } }, c.a.createElement(d.Icon, { onClick: Object(L.safelyHandle)(function () { mO.open(t) }), icon: "format-list-bulleted", color: "#bdbdbd" }), c.a.createElement(d.Icon, { onClick: Object(L.safelyHandle)(function () { Co.create().openWith("Delete Route?", c.a.createElement(Au, { cot: t })) }), icon: "delete", color: "#bdbdbd" })))) }, iO = Object(d.getClasses)("routes", [], []), cO = function (e) { var t = aO.create(), r = Object(i.useState)(t.getSortDirection()), n = Object(Xe.a)(r, 2), a = n[0], o = n[1]; xa(t, "sort", function (e) { o(e) }, []); return c.a.createElement("div", null, c.a.createElement(d.Icon, { icon: a == XE.ASCENDING ? "sort-ascending" : "sort-descending", color: "#bdbdbd", onClick: Object(L.safelyHandle)(function () { t.toggleSortDirection() }) }), e) }, sO = function () { var e = aO.create(), t = Object(i.useState)(e.getRoutes()), r = Object(Xe.a)(t, 2), n = r[0], a = r[1], o = Object(i.useState)(e.getSortDirection()), s = Object(Xe.a)(o, 2), u = s[0], l = s[1], f = Object(i.useState)(""), p = Object(Xe.a)(f, 2), m = p[0], h = p[1]; xa(e, "change", function (e) { a(e) }, [n]), xa(e, "sort", function (e) { l(e) }, []); return c.a.createElement(d.DrawerLayout, null, c.a.createElement(d.NavigationDrawerHeader, { title: "Routes", placeholder: "search routes...", onSearch: function (e) { h(e.target.value) }, rightRenderer: cO }), n.filter(function (e) { return Br(e).includes(m) }).sort(function (e, t) { var r = u === XE.ASCENDING ? 1 : -1; return Br(e) > Br(t) ? r : -1 * r }).map(function (e, t) { return c.a.createElement(oO, { key: t, route: e }) })) }, uO = function () { return c.a.createElement(d.NavigationController, { className: iO.BASE, root: sO }) }; function lO(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var fO = function (e) { Object(k.a)(r, e); var t = lO(r); function r(e) { return Object(T.a)(this, r), t.call(this, e) } return Object(j.a)(r, [{ key: "getIcon", value: function () { return Object(d.toURL)(Object(d.inlineSvg)("map-marker-path", { fill: "white" })) } }, { key: "onClick", value: function (e, t) { var r = this, n = t[0].getGeometry(), a = { icon: Object(d.toURL)(Object(d.inlineSvg)("format-list-bulleted", { fill: "black" })), onClick: function () { mO.open(r.cot), Td("menu").closeMenu() } }, o = (Object(d.toURL)(Object(d.inlineSvg)("flag", { fill: "green" })), Object(d.toURL)(Object(d.inlineSvg)("pencil", { fill: "black" })), [a, Cu(this.cot)]); if (n instanceof yc.a) Object(d.toURL)(Object(d.inlineSvg)("cursor-move", { fill: "black" })); else tm.a; var i = e ? e.coordinate : [this.cot.lon, this.cot.lat], c = Object(Xe.a)(i, 2), s = c[0], u = c[1]; Td("menu").openMenu([s, u], o) } }, { key: "render", value: function () { var e = this, t = this.cot.detail, r = new Bo(t.xml); r.getColor(); var n = "", a = t.getContact(); a && a.callsign && Object(L.isString)(a.callsign) && (n = a.callsign); var o = r.getCheckpoints(), i = o.filter(function (e) { return e.callsign }), c = Array.from(o.map(function (e) { var t = e.point.split(","), r = Object(Xe.a)(t, 3), n = r[0], a = r[1]; r[2]; return [Number(a), Number(n)] })), s = new Zn.a(new tm.a(c)); s.setProperties({ cotUid: this.cot.uid }), s.setId(this.cot.uid); var u = r.getColor(), l = Object(L.cotColorToRGBA)(u); s.setStyle(function (e, t) { var r = t >= .01; return new Ei.c({ stroke: new wi.a({ color: "rgba(".concat(l[0], ", ").concat(l[1], ", ").concat(l[2], ", 1)"), width: 3 }), fill: new Si.a({ color: "rgba(".concat(l[0], ", ").concat(l[1], ", ").concat(l[2], ", ").concat(l[3] / 255, ")") }), text: new Oc.a({ text: r ? "" : "".concat(n), fill: new Si.a({ color: "#fff" }), stroke: new wi.a({ color: "#313131", width: 5 }) }) }) }); var f = Array.from(i.map(function (t, r) { var n = t.point.split(","), a = Object(Xe.a)(n, 3), o = a[0], i = a[1], c = (a[2], [Number(i), Number(o)]), s = new Zn.a(new yc.a(c)); return s.setId("".concat(e.cot.uid, "-checkpoint-").concat(r)), s.setProperties({ cotUid: t.uid, type: t.type, callsign: t.callsign }), s.setStyle(function (e, r) { var n = r >= .01; return new Ei.c({ image: new zs.a({ radius: 6, fill: new Si.a({ color: l }), stroke: new wi.a({ color: "black", width: 1.5 }) }), text: new Oc.a({ text: n ? "" : "".concat(t.callsign), offsetY: 20, fill: new Si.a({ color: "#fff" }), stroke: new wi.a({ color: "#313131", width: 5 }) }) }) }), s })); this.setFeatures([s].concat(Object(D.a)(f))), this.vectorLayer.setZIndex(xr.MARKER), this.getVectorSource().addFeatures([s].concat(Object(D.a)(f))) } }, { key: "getRoutPoints", value: function () { var e = this.cot.detail; return new Bo(e.xml).getCheckpoints() } }, { key: "update", value: function (e) { var t = this; if (!this.cot.equals(e)) { this.cot = e; var r = this.getFeatures(); r && r.forEach(function (e) { t.getVectorSource().removeFeature(e) }), this.render() } } }]), r }(Li), dO = !1, pO = new xi({ displayName: "Routes", name: "routes", mount: function () { return React.createElement(uO, null) }, unmount: function () { } }), mO = new xi({ displayName: "Route Details", name: "route-details", mount: function () { return React.createElement(tO, null) }, unmount: function () { } }); r(726); var hO, vO, gO, bO, yO = function (e) { var t = e.onSelectMeasureShape, r = [{ name: "R&B Line", icon: "pencil-ruler", type: _r.LINE }, { name: "R&B Circle", icon: "circle-edit-outline", type: _r.CIRCLE }], n = function (e) { return function (r) { var n = Date.now(), a = new ct.CotEvent({ uid: Object(L.uuid)(), type: e.type, startTime: n, sendTime: n, staleTime: n + 72e9 }); t(a) } }, a = Object(i.useContext)(Ba).isReadonly; return c.a.createElement("div", { className: nS.Elements["shapes-group"] }, c.a.createElement("div", { className: nS.Elements["group-items"] }, r.map(function (e, t) { return c.a.createElement("div", { key: t, className: Object(d.className)(nS.Elements["group-item"], Object(C.a)({}, nS.Elements["group-item-disabled"], a)), onClick: a ? function () { } : n(e) }, c.a.createElement(d.Icon, { className: nS.Elements["group-item-icon"], icon: e.icon, color: "white" }), c.a.createElement("div", { className: nS.Elements["group-item-text"] }, e.name)) }))) }; !function (e) { e[e.FeetMiles = 0] = "FeetMiles", e[e.MetersKilometers = 1] = "MetersKilometers", e[e.NauticalMiles = 2] = "NauticalMiles", e[e.Unknown = 999] = "Unknown" }(hO || (hO = {})), function (e) { e[e.TrueNorth = 0] = "TrueNorth", e[e.MagneticNorth = 1] = "MagneticNorth", e[e.GridNorth = 2] = "GridNorth", e[e.Unknown = 999] = "Unknown" }(vO || (vO = {})), function (e) { e[e.Degrees = 0] = "Degrees", e[e.Mils = 1] = "Mils", e[e.Unknown = 999] = "Unknown" }(gO || (gO = {})), function (e) { e[e.Feet = 0] = "Feet", e[e.Meters = 1] = "Meters", e[e.Unknown = 999] = "Unknown" }(bO || (bO = {})); var EO = function (e) { return e * Math.PI / 180 }, OO = function (e) { return 180 * e / Math.PI }, SO = function (e, t) { var r, n = "", a = function (e) { var t = hO.Unknown; return 0 === e ? t = hO.FeetMiles : 1 === e ? t = hO.MetersKilometers : 2 === e && (t = hO.NauticalMiles), t }(t); return a === hO.FeetMiles ? n = e >= 1609 ? (r = e, 621371e-9 * r).toFixed(1) + "mi" : function (e) { return 3.28084 * e }(e) + "ft" : a === hO.MetersKilometers ? n = e >= 1e3 ? function (e) { return .001 * e }(e).toFixed(1) + "km" : Math.round(e) + "m" : a === hO.NauticalMiles && (n = function (e) { return 539957e-9 * e }(e).toFixed(1) + "NM"), n }, wO = function (e, t, r) { var n = "", a = function (e) { var t = gO.Unknown; return 0 === e ? t = gO.Degrees : 1 === e && (t = gO.Mils), t }(t), o = function (e) { var t = vO.Unknown; return 0 === e ? t = vO.TrueNorth : 1 === e ? t = vO.MagneticNorth : 2 === e && (t = vO.GridNorth), t }(r); return a === gO.Degrees ? o == vO.TrueNorth ? n = Math.round(e < 0 ? e + 360 : e) + "\xb0T" : o === vO.MagneticNorth ? n = "0\xb0M" : o === vO.GridNorth && (n = "0\xb0G") : a === gO.Mils && (o === vO.TrueNorth ? n = "0milsT" : o === vO.MagneticNorth ? n = "0milsM" : o === vO.GridNorth && (n = "0milsG")), n }, AO = function (e, t, r, n) { var a = r / 6371e3, o = EO(n), i = EO(t), c = EO(e), s = Math.sin(i), u = Math.cos(i), l = Math.sin(a), f = Math.cos(a), d = Math.sin(o), p = s * f + u * l * Math.cos(o), m = Math.asin(p), h = d * l * u, v = f - s * p, g = c + Math.atan2(h, v); return [(OO(g) + 540) % 360 - 180, OO(m)] }; function CO(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var TO = Object(L.rgbaToCot)(Object(L.colorToRGBA)("red")), jO = { bearing: Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { value: 0 }), range: Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { value: 0 }), inclination: Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { value: bO.Feet }), rangeUnits: Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { value: hO.MetersKilometers }), bearingUnits: Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { value: gO.Degrees }), northRef: Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { value: vO.TrueNorth }), color: Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { value: TO }), strokeColor: Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { value: TO }), strokeWeight: Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { value: 3 }), remarks: Object(C.a)({}, L.XML_TEXT_KEY, ""), archive: Object(C.a)({}, L.XML_TEXT_KEY, "True") }, kO = function (e) { Object(k.a)(r, e); var t = CO(r); function r(e) { var n; return Object(T.a)(this, r), (n = t.call(this, e)).archive[L.XML_TEXT_KEY] = "True", n } return Object(j.a)(r, [{ key: "getBearing", value: function () { return this.bearing[L.XML_ATTRIBUTE_KEY].value } }, { key: "setBearing", value: function (e) { this.bearing[L.XML_ATTRIBUTE_KEY].value = e } }, { key: "getBearingUnits", value: function () { return this.bearingUnits[L.XML_ATTRIBUTE_KEY].value } }, { key: "setBearingUnits", value: function (e) { this.bearingUnits[L.XML_ATTRIBUTE_KEY].value = e } }, { key: "getRange", value: function () { return this.range[L.XML_ATTRIBUTE_KEY].value } }, { key: "setRange", value: function (e) { this.range[L.XML_ATTRIBUTE_KEY].value = e } }, { key: "getRangeUnits", value: function () { return this.rangeUnits[L.XML_ATTRIBUTE_KEY].value } }, { key: "setRangeUnits", value: function (e) { this.rangeUnits[L.XML_ATTRIBUTE_KEY].value = e } }, { key: "getColor", value: function () { return this.color[L.XML_ATTRIBUTE_KEY].value } }, { key: "setColor", value: function (e) { this.color[L.XML_ATTRIBUTE_KEY].value = e } }, { key: "getStrokeColor", value: function () { return this.strokeColor[L.XML_ATTRIBUTE_KEY].value } }, { key: "setStrokeColor", value: function (e) { this.strokeColor[L.XML_ATTRIBUTE_KEY].value = e } }, { key: "getStrokeWeight", value: function () { return this.strokeWeight[L.XML_ATTRIBUTE_KEY].value } }, { key: "setStrokeWeight", value: function (e) { this.strokeWeight[L.XML_ATTRIBUTE_KEY].value = e } }, { key: "getInclination", value: function () { return this.inclination[L.XML_ATTRIBUTE_KEY].value } }, { key: "setInclination", value: function (e) { this.inclination[L.XML_ATTRIBUTE_KEY].value = e } }, { key: "getNorthReference", value: function () { return this.northRef[L.XML_ATTRIBUTE_KEY].value } }, { key: "setNorthReference", value: function (e) { this.northRef[L.XML_ATTRIBUTE_KEY].value = e } }]), r }(Object(q.Record)(jO)), RO = r(312); function NO(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var LO, _O = "", IO = function (e) { Object(k.a)(r, e); var t = NO(r); function r() { var e, n; Object(T.a)(this, r), (n = t.call(this)).clickCount = void 0, n.coordinates = void 0, n.range = void 0, n.rangeUnits = void 0, n.bearing = void 0, n.bearingUnits = void 0, n.northReference = void 0, n.vectorLayer = void 0, n.sketchFeature = void 0, n.instructionService = void 0, n.mousePoint = void 0, n.downCoords = [], n.dragging = !1, n.sketchPoints = [], n.sketchVertices = [], n.handleUpEvent = function (e) { switch (n.clickCount) { case 0: n.startDrawing(e); break; case 1: n.finishDrawing(e); break; default: throw new Error("MeasureInteraction.handleUpEvent. Click count is out of bounds") }return e.stopPropagation(), !0 }, n.startDrawing = function (e) { n.clearCoordinates(), n.updateCoordinate(n.clickCount, e.coordinate), n.clickCount++; var t = new Zn.a(new yc.a(e.coordinate)); if (t.setStyle(xO), n.sketchPoints.push(t), n.sketchVertices.push(n.downCoords), n.updateSketchFeatures(), !n.sketchFeature) throw new Error("MeasureInteraction.startDrawing(): no sketch feature"); n.dispatchEvent(new Ap(vp.DRAWSTART, n.sketchFeature)), n.instructionService.next() }, n.finishDrawing = function (e) { n.updateCoordinate(n.clickCount, e.coordinate); var t = new Zn.a(new yc.a(e.coordinate)); t.setStyle(xO), n.sketchPoints.push(t), n.sketchVertices.push(n.downCoords); var r = Object(D.a)(n.coordinates); n.sketchFeature = new Zn.a(new tm.a(r)), n.updateSketchFeatures(), n.dispatchEvent(new Ap(vp.DRAWEND, n.sketchFeature)) }, n.updateCoordinate = function (e, t) { n.coordinates[e] = t }, n.abortDrawing = function () { n.vectorLayer.getSource().clear(!0) }, n.setMap = function (t) { Object(zn.a)((e = Object(K.a)(n), Object(N.a)(r.prototype)), "setMap", e).call(e, t), n.updateState() }, n.updateState = function () { var e = n.getMap(), t = n.getActive(); return e && t || n.abortDrawing(), t && n.vectorLayer.setMap(e), !0 }, n.updateText = function (e, t, r, n, a) { _O = "".concat(SO(e, t), " ").concat(wO(r, n, a)) }, n.clickCount = 0, n.range = 0, n.rangeUnits = hO.MetersKilometers, n.bearing = 0, n.bearingUnits = gO.Degrees, n.northReference = vO.TrueNorth, n.coordinates = [[0, 0], [0, 0]], n.vectorLayer = new $n.a({ source: new ia.a({ useSpatialIndex: !1 }), updateWhileInteracting: !0 }); var a = new tm.a(n.coordinates); return n.sketchFeature = new Zn.a(a), n.instructionService = Ya.create(), n.addChangeListener(Op.a.ACTIVE, n.updateState), n } return Object(j.a)(r, [{ key: "handleDownEvent", value: function (e) { var t = this; return this.downCoords = e.coordinate, setTimeout(function () { t.mousePoint && !t.dragging && (t.mousePoint = new Zn.a(new yc.a(t.downCoords)), t.mousePoint.setStyle(xO)), t.updateSketchFeatures() }, 500), Object(zn.a)(Object(N.a)(r.prototype), "handleDownEvent", this).call(this, e), !0 } }, { key: "handleMoveEvent", value: function (e) { this.dragging ? (this.mousePoint = void 0, _O = "") : (this.mousePoint = new Zn.a(new yc.a(e.coordinate)), this.mousePoint.setStyle(xO), this.range = Object(lp.a)(this.coordinates[0], e.coordinate), this.bearing = Object(RO.a)(this.coordinates[0], e.coordinate), 0 !== this.coordinates[0][0] ? this.updateText(this.range, this.rangeUnits, this.bearing, this.bearingUnits, this.northReference) : _O = "", this.updateSketchFeatures()) } }, { key: "clearCoordinates", value: function () { this.coordinates = [[0, 0], [0, 0]] } }, { key: "updateSketchFeatures", value: function () { var e = Object(D.a)(this.sketchPoints); if (this.mousePoint && e.push(this.mousePoint), this.sketchVertices.length) { var t = Object(D.a)(this.sketchVertices); this.mousePoint && t.push(this.mousePoint.getGeometry().getCoordinates()); var r = new tm.a(t), n = new Zn.a(r); n.setStyle(MO), e.push(n) } var a = this.vectorLayer.getSource(); a.clear(!0), a.addFeatures(e) } }]), r }(Ep.b), MO = function () { var e = Object(L.colorToRGBA)("red"), t = Object(L.colorToRGBA)("yellow"); return [new Ei.c({ fill: new Si.a({ color: e }), stroke: new wi.a({ color: e, lineDash: [10, 10], width: 2 }), text: new Oc.a({ text: _O, font: "14px Calibri,sans-serif", fill: new Si.a({ color: t }), backgroundFill: new Si.a({ color: "rgba(0, 0, 0, 0.4)" }), padding: [2, 2, 2, 2], textBaseline: "bottom", offsetY: -12 }) })] }, xO = function () { Object(L.colorToRGBA)("red"); return [new Ei.c({ image: new zs.a({ radius: 5, stroke: new wi.a({ color: "rgba(255, 0, 0, 0.7)", width: 2 }), fill: new Si.a({ color: "rgba(255, 0, 0, 0.2)" }) }) })] }, DO = IO; function PO(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var UO, BO, FO = Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { major: 0, minor: 0, angle: 360 }), VO = Object(L.rgbaToCot)(Object(L.colorToRGBA)("red")), HO = { archive: Object(C.a)({}, L.XML_TEXT_KEY, "True"), remarks: Object(C.a)({}, L.XML_TEXT_KEY, ""), shape: { ellipse: [FO], link: (LO = {}, Object(C.a)(LO, L.XML_ATTRIBUTE_KEY, { type: "b-xKmlStyle", uid: "", relation: "p-c" }), Object(C.a)(LO, "Style", { LineStyle: { color: Object(C.a)({}, L.XML_TEXT_KEY, VO.toString()), width: Object(C.a)({}, L.XML_TEXT_KEY, 3..toString()), alpha: Object(C.a)({}, L.XML_TEXT_KEY, "0") }, PolyStyle: { color: Object(C.a)({}, L.XML_TEXT_KEY, "00ff0000") } }), LO) }, rangeUnits: Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { value: hO.MetersKilometers }), color: Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { argb: VO }), strokeColor: Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { value: VO }), strokeWeight: Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { value: 3 }), fillColor: Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { value: 16776960 }) }, GO = function (e) { Object(k.a)(r, e); var t = PO(r); function r(e, n, a, o) { var i; return Object(T.a)(this, r), (i = t.call(this, {})).shape.ellipse[0][L.XML_ATTRIBUTE_KEY].major = e, i.shape.ellipse[0][L.XML_ATTRIBUTE_KEY].minor = n, i.shape.ellipse[0][L.XML_ATTRIBUTE_KEY].angle = a, i.shape.link[L.XML_ATTRIBUTE_KEY].uid = "".concat(o, ".Style"), i.archive[L.XML_TEXT_KEY] = "True", i } return r }(Object(q.Record)(HO)), qO = { shape: function () { return new DO }, mutate: function (e, t, r) { if (!r) throw new Error("handleMeasureLine.mutate(), map was not provided and is required."); return e.withMutations(function (e) { var r = new kO(jO), n = t.feature.getGeometry(), a = n.getFirstCoordinate(), o = n.getLastCoordinate(), i = Object(lp.a)(a, o); r.setRange(i); var c = Object(RO.a)(a, o); r.setBearing(c); var s = new ct.CotEventDetail({ contact: new ct.CotEventContact({ callsign: "R&B Line ".concat(Object(L.uuid)(4)), endpoint: "" }), xml: r.toJS(), xmlDetail: null, takv: E() }); e.set("detail", s), e.set("lat", a[1]), e.set("lon", a[0]) }) } }, KO = { shape: function () { return new Np({ type: kp.a.CIRCLE, stopClick: !0 }) }, mutate: function (e, t, r) { return e.withMutations(function (e) { if (!r) throw new Error("handleMeasureCircle.mutate(), map was not provided and is required."); var n = t.feature.getGeometry(), a = n.getCenter(), o = n.getRadius(), i = o = function (e, t, r) { var n = [e[0], e[1] + t], a = r.getView().getProjection(), o = Object(vs.s)(e, a, "EPSG:4326"), i = Object(vs.s)(n, a, "EPSG:4326"); return Object(lp.a)(o, i, 6378137) }(a, o, r), c = o, s = new ct.CotEventDetail({ contact: new ct.CotEventContact({ callsign: "R&B Circle ".concat(Object(L.uuid)(4)), endpoint: "" }), xml: new GO(i, c, 360, e.uid).toJS(), xmlDetail: null, takv: E() }); e.set("detail", s), e.set("lat", a[1]), e.set("lon", a[0]) }) } }, zO = (UO = {}, Object(C.a)(UO, _r.LINE, qO), Object(C.a)(UO, _r.CIRCLE, KO), UO), YO = [{ title: "/Click/tap the map and drag to measure" }, { title: "/Click/tap the map to stop measuring." }], WO = [{ title: "/Click/tap the desired center point." }, { title: "/Click/tap to set the radius." }], XO = (BO = {}, Object(C.a)(BO, _r.LINE, YO), Object(C.a)(BO, _r.CIRCLE, WO), Object(C.a)(BO, _r.BULLSEYE, []), BO); function JO(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var ZO = function (e) { Object(k.a)(r, e); var t = JO(r); function r() { var e; Object(T.a)(this, r); for (var n = arguments.length, a = new Array(n), o = 0; o < n; o++)a[o] = arguments[o]; return (e = t.call.apply(t, [this].concat(a))).currentDrawing = null, e } return Object(j.a)(r, [{ key: "getCurrentDrawing", value: function () { return this.currentDrawing } }, { key: "setCurrentDrawing", value: function (e) { return this.currentDrawing = e, this.currentDrawing } }, { key: "undo", value: function () { this.currentDrawing && this.currentDrawing.dispatchEvent(vp.DRAWUNDO) } }, { key: "abort", value: function () { this.currentDrawing && this.currentDrawing instanceof Np && this.currentDrawing.abortDrawing() } }, { key: "finish", value: function () { this.currentDrawing && this.currentDrawing instanceof Np && this.currentDrawing.finishDrawing() } }]), r }(L.Service); ZO.create = ZO.factory(); var QO, $O, eS, tS, rS = ZO.create(), nS = Object(d.getClasses)("shapes", ["shapes-group", "group-items", "group-item", "group-item-disabled", "group-item-icon", "group-item-text"], []), aS = Object(l.b)(void 0, { loadMessages: ye })(function (e) { var t = e.loadMessages, r = Td("map"), n = Object(d.useResponsiveSize)(), a = n.mobile, o = (n.desktop, Object(i.useCallback)(function (e) { var n, o = Ya.create(); r.getMapDimension(), r.performInteraction(function (r, i, c, s) { var u, l = zO[e.type], f = l.shape, d = l.mutate; n = rS.setCurrentDrawing(f()), r.addInteraction(n), o.instruct.apply(o, Object(D.a)((u = e.type, XO[u]))), n.on("drawend", function (c) { var s = d(e, c, r); t(s.toJS()), r.removeInteraction(n), a && Td("drawer").closeDrawer(), o.drop(), i() }) }, function (e) { document.getElementsByTagName("html")[0].style.cursor = "", e.removeInteraction(n), o.drop() }, function (e, t) { document.getElementsByTagName("html")[0].style.cursor = "", e.removeInteraction(n), o.drop(), t() }) }, [r, a])); return c.a.createElement(d.DrawerLayout, null, c.a.createElement(d.DrawerHeader, { title: JS }), c.a.createElement(yO, { onSelectMeasureShape: o })) }), oS = function () { return c.a.createElement(d.NavigationController, { className: nS.BASE, root: aS }) }, iS = (r(727), r(728), Object(d.getClasses)("coordinate-detail", ["wrapper", "actions", "input", "coordinate-label", "label-wrapper"], [""])), cS = function (e) { var t = e.cot, r = e.onChange, n = e.canChange, a = void 0 === n || n, o = Td("map"), s = Object(i.useState)(L.CoordinateTypes.Degrees), u = Object(Xe.a)(s, 2), l = u[0], f = u[1], p = Object(d.className)(Object(d.prefix)("label"), Object(d.prefix)("label"), iS.BASE), m = Object(i.useContext)(Ba).isReadonly, h = Object(i.useCallback)(function () { o.performManualCoordinateEntry(function (e) { var n = e.coordinate; r && r(t.set("lon", n[1]).set("lat", n[0])) }, function () { }, { defaultCoordinate: [t.lat, t.lon], centerOnComplete: !0, title: "Enter Coordinate" }) }, [t, r]), v = Object(i.useCallback)(function (e) { e.preventDefault(), o.performInteraction(function (e, n, a, o) { document.getElementsByTagName("html")[0].style.cursor = "cell", a("click", function (e) { var a = e.coordinate; r && r(t.set("lon", a[0]).set("lat", a[1])), n(), document.getElementsByTagName("html")[0].style.cursor = "" }) }, function () { document.getElementsByTagName("html")[0].style.cursor = "" }, function () { document.getElementsByTagName("html")[0].style.cursor = "" }) }, [t, r]), g = Object(i.useCallback)(function () { try { var e = ma.create(); e.hasItem(t.uid) && e.getItem(t.uid).zoomToItem() } catch (fA) { o.zoomToPoint([t.lon, t.lat], 10) } }, [t]), b = Object(i.useMemo)(function () { switch (l) { case L.CoordinateTypes.Degrees: return "".concat(Number(t.lat).toFixed(5), ",  ").concat(Number(t.lon).toFixed(5)); case L.CoordinateTypes.MGRS: return Object(L.toMGRSString)(t.lat, t.lon); case L.CoordinateTypes.DMS: return Object(L.toDMSString)(t.lat, t.lon); case L.CoordinateTypes.DM: return Object(L.toDMString)(t.lat, t.lon); case L.CoordinateTypes.UTM: return Object(L.toUTMString)(t.lat, t.lon); default: Object(L.toDMString)(t.lat, t.lon) } }, [t, l, f]), y = Object(i.useMemo)(function () { return Object.entries(L.CoordinateTypes).map(function (e) { var t = Object(Xe.a)(e, 2), r = t[0], n = t[1], a = n === l, o = iS.Elements["coordinate-label"]; return a && (o += "--active"), c.a.createElement("small", { key: r, className: o, onClick: function () { return f(n) } }, r) }) }, [t, l, f]), E = b; return c.a.createElement("label", { className: p }, c.a.createElement("span", null, "Coordinate", c.a.createElement("div", { className: iS.Elements.actions }, c.a.createElement(d.CopyClipboard, { value: E, onCopySuccess: function () { Gi.create().info({ message: "Copied Coordinate value to clipboard" }), E = l == L.CoordinateTypes.DMS ? E.replace('"', '\\"') : E.replaceAll('"', '\\"') } }), c.a.createElement(d.Icon, { onClick: g, icon: "magnify-plus" }), a && !m && c.a.createElement(c.a.Fragment, null, c.a.createElement(d.Icon, { onClick: h, icon: "playlist-edit" }), c.a.createElement(d.Icon, { onClick: v, icon: "cursor-move" })))), b, c.a.createElement("div", { className: iS.Elements["label-wrapper"] }, y)) }, sS = (r(729), Object(d.getClasses)("callsign-detail", ["wrapper", "input"], [])), uS = function (e) { var t = e.cot, r = e.onChange, n = Object(d.className)(Object(d.prefix)("label"), Object(d.prefix)("label"), sS.BASE), a = Object(i.useState)(""), o = Object(Xe.a)(a, 2), s = o[0], u = o[1], l = Object(i.useContext)(Ba).isReadonly; Object(i.useEffect)(function () { var e = t.detail; if (e) { var r = e.getContact(); r && u(r.callsign) } return function () { } }, [t, u]); var f = Object(i.useCallback)(function (e) { var r = e.target.value; u(r); var n = t.detail; if (!n) return null; var a = n.setCallsign(r), o = t.set("detail", a); p(o) }, [t, r, u]), p = Object(i.useCallback)(Object(L.debounce)(r, 500), [t, r]); return c.a.createElement("label", { className: n }, c.a.createElement("span", null, "Callsign"), c.a.createElement("div", { className: sS.Elements.wrapper }, c.a.createElement(d.TextInput, { disabled: l, className: sS.Elements.input, onChange: l ? function () { } : f, value: s }))) }, lS = Object(d.getClasses)("remark-detail", [], []), fS = Object(d.className)(Object(d.prefix)("label"), Object(d.prefix)("label"), lS.BASE), dS = function (e) { var t = e.cot, r = e.onChange, n = Object(i.useState)(""), a = Object(Xe.a)(n, 2), o = a[0], s = a[1], u = Object(i.useContext)(Ba).isReadonly; Object(i.useEffect)(function () { var e = t.detail; return e && s(e.getRemarks()), function () { } }, [t, s]); var l = Object(i.useCallback)(function (e) { var r = e.target.value; s(r); var n = t.detail; if (!n) return null; var a = n.setRemarks(r), o = t.set("detail", a); f(o) }, [t, r, s]), f = Object(i.useCallback)(Object(L.debounce)(r, 500), [t, r]); return c.a.createElement("label", { className: fS }, c.a.createElement("span", null, "Remarks"), c.a.createElement(d.TextInput, { disabled: u, multi: !0, onChange: u ? function () { } : l, value: o })) }, pS = function (e) { var t = Object(tc.a)(e.startTime / 1e3); return Object(rc.a)(t, { addSuffix: !1, includeSeconds: !0 }) }, mS = function (e) { var t = e.cot, r = Object(d.className)(Object(d.prefix)("label"), Object(d.prefix)("label")), n = Object(i.useState)(pS(t)), a = Object(Xe.a)(n, 2), o = a[0], s = a[1]; return Object(i.useEffect)(function () { var e = !0, r = setInterval(function () { e && s(pS(t)) }, 1e3); return function () { e = !1, clearInterval(r) } }, [t, s]), c.a.createElement("label", { className: r }, c.a.createElement("span", null, "Last Reported"), c.a.createElement("div", { title: Object(ec.a)(t.startTime, "MMMM Do yyyy, h:mm:ss a") }, o)) }, hS = function (e) { var t = e.detail; if (t) { if (t.xml) { var r = new kO(t.xml); return "".concat(SO(r.getRange(), r.getRangeUnits()), "\n  ").concat(wO(r.getBearing(), r.getBearingUnits(), r.getNorthReference())) } console.error("Missing Cot XML!", e.toJS()) } else console.error("Missing Cot Details !", e.toJS()) }, vS = function (e) { var t = e.cot, r = Object(d.className)(Object(d.prefix)("label"), Object(d.prefix)("label")), n = Object(i.useState)(hS(t)), a = Object(Xe.a)(n, 2), o = a[0], s = a[1]; return Object(i.useEffect)(function () { var e = !0, r = setInterval(function () { e && s(hS(t)) }, 500); return function () { e = !1, clearInterval(r) } }, [t, s]), c.a.createElement("label", { className: r }, c.a.createElement("span", null, "Range & Bearing"), c.a.createElement("div", null, o)) }, gS = (r(405), QO = {}, Object(C.a)(QO, _r.LINE, function (e, t) { var r = t.detail; r && r.xml && (e = new kO(r.xml).getStrokeColor()); return e }), Object(C.a)(QO, _r.CIRCLE, function (e, t) { var r = t.detail; return r && r.xml && (e = r.xml.strokeColor[L.XML_ATTRIBUTE_KEY].value), e }), Object(C.a)(QO, _r.BULLSEYE, function () { throw new Error("BullsEye unimplemented") }), QO), bS = function (e) { var t = -1; return Object.values(_r).includes(e.type) && (t = gS[e.type](t, e)), t }, yS = ($O = {}, Object(C.a)($O, _r.LINE, function (e, t) { return e.strokeColor = Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { value: Object(L.rgbaToCot)([t[0], t[1], t[2], 255]) }), e.fillColor = Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { value: Object(L.rgbaToCot)(t) }), e }), Object(C.a)($O, _r.CIRCLE, function (e, t) { var r = t.slice(0, 4), n = Object(Xe.a)(r, 4), a = n[0], o = n[1], i = n[2], c = n[3], s = Object(L.rgbaToCot)([a, o, i, c]), u = Object(L.rgbaToCot)(t); return e.shape.link.Style.LineStyle.color[L.XML_TEXT_KEY] = "".concat(s), e.shape.link.Style.PolyStyle.color[L.XML_TEXT_KEY] = Object(L.decToHex)(u), e.fillColor[L.XML_ATTRIBUTE_KEY].value = u, e.strokeColor = Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { value: Object(L.rgbaToCot)([t[0], t[1], t[2], 255]) }), e.color = Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { argb: Object(L.rgbaToCot)([t[0], t[1], t[2], 255]) }), e }), Object(C.a)($O, _r.BULLSEYE, function (e, t) { return null }), $O), ES = function (e, t) { return e.withMutations(function (r) { if (Object.values(_r).includes(e.type)) { var n = e.detail; if (n && n.xml) { var a = n.xml; a = yS[e.type](a, t); var o = n.set("xml", a); r.set("detail", o) } } }) }, OS = (eS = {}, Object(C.a)(eS, _r.LINE, function (e, t) { var r = t.detail; if (r && r.xml) { var n = r.xml.strokeWeight; return n ? n[L.XML_ATTRIBUTE_KEY].value : e } return e }), Object(C.a)(eS, _r.CIRCLE, function (e, t) { var r = t.detail; if (r && r.xml) { var n = r.xml.shape; return n ? parseFloat(n.link.Style.LineStyle.width[L.XML_TEXT_KEY]) : e } return e }), Object(C.a)(eS, _r.BULLSEYE, function () { }), eS), SS = function (e) { var t = -1; return Object.values(_r).includes(e.type) && (t = OS[e.type](t, e)), t }, wS = (r(406), Object(d.getClasses)("thickness-slider-detail", ["slider-controls", "slider-control", "slider-preview"], [])), AS = function (e) { var t = e.strokeWeight, r = e.onChange, n = e.disabled, a = void 0 !== n && n, o = Object(i.useState)(t), s = Object(Xe.a)(o, 2), u = s[0], l = s[1]; c.a.useEffect(function () { l(t) }, [l, t, r]); var f = function (e) { r(e) }; return c.a.createElement("div", { className: wS.BASE }, c.a.createElement("div", { className: wS.Elements["slider-controls"] }, c.a.createElement("div", { className: wS.Elements["slider-control"] }, c.a.createElement("span", null, "".concat(u)), c.a.createElement("input", { className: Object(d.prefix)("slider"), type: "range", min: 1, max: 6, value: u, onChange: function (e) { if (!a) { var t = Number(e.target.value); l(t), f(t) } } })))) }, CS = (tS = {}, Object(C.a)(tS, _r.LINE, function (e, t) { return e.strokeWeight = Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { value: t }), e }), Object(C.a)(tS, _r.CIRCLE, function (e, t) { return e.shape.link.Style.LineStyle.width = Object(C.a)({}, L.XML_TEXT_KEY, String(t)), e.strokeWeight[L.XML_ATTRIBUTE_KEY].value = t, e }), Object(C.a)(tS, _r.BULLSEYE, null), tS), TS = function (e, t) { return e.withMutations(function (r) { if (Object.values(_r).includes(e.type)) { var n = e.detail; if (n && n.xml) { var a = n.xml; a = CS[e.type](a, t); var o = n.set("xml", a); r.set("detail", o) } } }) }, jS = (r(730), Object(d.getClasses)("color-slider-detail", ["slider-controls", "slider-control", "slider-preview"], [])), kS = function (e) { var t = e.rgba, r = e.onChange, n = e.disabled, a = void 0 !== n && n, o = Object(i.useState)(t[0]), s = Object(Xe.a)(o, 2), u = s[0], l = s[1], f = Object(i.useState)(t[1]), p = Object(Xe.a)(f, 2), m = p[0], h = p[1], v = Object(i.useState)(t[2]), g = Object(Xe.a)(v, 2), b = g[0], y = g[1], E = Object(i.useState)(t[3]), O = Object(Xe.a)(E, 2), S = O[0], w = O[1]; c.a.useEffect(function () { l(t[0]), h(t[1]), y(t[2]), w(t[3]) }, [l, h, y, w, t, r]); var A = function (e) { r(e) }; return c.a.createElement("div", { className: jS.BASE }, c.a.createElement("div", { className: jS.Elements["slider-controls"] }, c.a.createElement("div", { className: jS.Elements["slider-control"] }, c.a.createElement("span", null, "R ".concat(u)), c.a.createElement("input", { className: Object(d.prefix)("slider"), type: "range", min: 0, max: 255, value: u, onChange: function (e) { if (!a) { var t = Number(e.target.value); l(t), A([t, m, b, S]) } } })), c.a.createElement("div", { className: jS.Elements["slider-control"] }, c.a.createElement("span", null, "G ".concat(m)), c.a.createElement("input", { className: Object(d.prefix)("slider"), type: "range", min: 0, max: 255, value: m, onChange: function (e) { if (!a) { var t = Number(e.target.value); h(t), A([u, t, b, S]) } } })), c.a.createElement("div", { className: jS.Elements["slider-control"] }, c.a.createElement("span", null, "B ".concat(b)), c.a.createElement("input", { className: Object(d.prefix)("slider"), type: "range", min: 0, max: 255, value: b, onChange: function (e) { if (!a) { var t = Number(e.target.value); y(t), A([u, m, t, S]) } } }))), c.a.createElement("div", { style: { backgroundColor: "rgba(".concat(u, ", ").concat(m, ", ").concat(b, ", 1)") }, className: jS.Elements["slider-preview"] })) }, RS = Object(d.getClasses)("color-detail", ["colors", "color-block", "input-block", "input-block-error", "advanced-button"], []), NS = ["white", "yellow", "orange", "brown", "red", "purple", "blue", "cyan", "green", "gray", "black"], LS = /(^#[0-9A-F]{6}$)/i, _S = function (e) { var t = e.cot, r = e.onChange, n = bS(t), a = Object(i.useState)(SS(t)), o = Object(Xe.a)(a, 2), s = o[0], u = o[1], l = Object(i.useState)(Object(L.cotColorToRGBA)(n)), f = Object(Xe.a)(l, 2), p = f[0], m = f[1], h = ["r", "g", "b"].map(function (e, t) { return Object(L.byteToHex)(p[t]) }).join(""), v = Object(i.useState)(h), g = Object(Xe.a)(v, 2), b = g[0], y = g[1], E = Object(i.useState)(!1), O = Object(Xe.a)(E, 2), S = O[0], w = O[1], A = Object(i.useState)(!1), C = Object(Xe.a)(A, 2), T = (C[0], C[1], Object(i.useContext)(Ba).isReadonly); Object(i.useEffect)(function () { var e = bS(t), r = SS(t), n = Object(L.cotColorToRGBA)(e); m(n); var a = ["r", "g", "b"].map(function (e, t) { return Object(L.byteToHex)(n[t]) }).join(""); y(a), u(r) }, [t]); var j = function (e) { r(e) }, k = function (e, t) { var r = t(e); return r[3] = p[3], r }, R = Object(L.debounce)(function (e) { e[3] = 1, m(e), y(["r", "g", "b"].map(function (t, r) { return Object(L.byteToHex)(e[r]) }).join("")), w(!1), j(ES(t, e)) }, 100), N = Object(L.debounce)(function (e) { u(e), j(TS(t, e)) }, 100), _ = Object(d.className)(RS.Elements["input-block"]); return S && (_ = _.concat(" ".concat(RS.Elements["input-block-error"]))), c.a.createElement("div", { className: RS.BASE }, c.a.createElement("label", { className: Object(d.className)(Object(d.prefix)("label")) }, c.a.createElement("span", null, "Color")), c.a.createElement(c.a.Fragment, null, c.a.createElement("div", { className: RS.Elements.colors }, NS.map(function (e) { var r = { backgroundColor: e }; return c.a.createElement("div", { key: e, style: r, onClick: function () { return T ? null : function (e) { var r = k(e, L.colorToRGBA); r[3] = 1, m(r), y(["r", "g", "b"].map(function (e, t) { return Object(L.byteToHex)(r[t]) }).join("")), w(!1), j(ES(t, r)) }(e) }, className: RS.Elements["color-block"] }) }), c.a.createElement("div", { className: "".concat(RS.BASE, "__hex-icon") }, c.a.createElement(d.Icon, { icon: S ? "warning" : "pound" })), c.a.createElement("div", { className: _ }, c.a.createElement(d.TextInput, { disabled: T, onChange: T ? function () { } : function (e) { var r = e.target.value, n = "#".concat(r); if (y(r), LS.test(n)) { var a = k(n, L.hexToRgba); w(!1), m(a), j(ES(t, a)) } else w(!0) }, value: b, placeholder: "hex color code" }))), c.a.createElement("label", { className: Object(d.className)(Object(d.prefix)("label")) }, c.a.createElement("span", null, "Thickness"), c.a.createElement(AS, { disabled: T, onChange: N, strokeWeight: s })), c.a.createElement(d.Card, { title: "advanced", defaultOpen: !1, collapsible: !0 }, c.a.createElement(kS, { disabled: T, onChange: R, rgba: p })))) }, IS = function (e) { var t = 1, r = e.detail; if (r && r.xml) { var n = r.xml.shape; Array.isArray(n.ellipse) && (t = n.ellipse.length) } return t }, MS = function (e, t, r, n) { var a = Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { major: t, minor: r, angle: n }); e.push(a) }, xS = function (e, t) { return e.withMutations(function (r) { if (Object.values(_r).includes(e.type)) { var n = e.detail; if (n && n.xml) { var a = n.xml, o = a.shape, i = IS(e); if (Array.isArray(o.ellipse)) { var c = o.ellipse, s = c[0][L.XML_ATTRIBUTE_KEY].major, u = c[0][L.XML_ATTRIBUTE_KEY].minor, l = c[0][L.XML_ATTRIBUTE_KEY].angle; if (s && u && l) { for (var f = s, d = u, p = l, m = 0; m < i; m++)c.pop(); for (var h = 0; h < t; h++)MS(c, s, u, l), s = c[h][L.XML_ATTRIBUTE_KEY].major + f, u = c[h][L.XML_ATTRIBUTE_KEY].minor + d, l = p } } else { var v = o.ellipse[L.XML_ATTRIBUTE_KEY].major, g = o.ellipse[L.XML_ATTRIBUTE_KEY].minor, b = o.ellipse[L.XML_ATTRIBUTE_KEY].angle, y = Object(C.a)({}, L.XML_ATTRIBUTE_KEY, { major: v, minor: g, angle: b }); o.ellipse = [y] } var E = n.set("xml", a); r.set("detail", E) } } }) }, DS = Object(d.getClasses)("thickness-slider-detail", ["slider-controls", "slider-control", "slider-preview"], []), PS = function (e) { var t = e.ringNumber, r = e.onChange, n = e.disabled, a = void 0 !== n && n, o = Object(i.useState)(t), s = Object(Xe.a)(o, 2), u = s[0], l = s[1]; c.a.useEffect(function () { l(t) }, [l, t, r]); var f = function (e) { r(e) }; return c.a.createElement("div", { className: DS.BASE }, c.a.createElement("div", { className: DS.Elements["slider-controls"] }, c.a.createElement("div", { className: DS.Elements["slider-control"] }, c.a.createElement("span", null, "".concat(u)), c.a.createElement("input", { className: Object(d.prefix)("slider"), type: "range", min: 1, max: 25, value: u, onChange: function (e) { if (!a) { var t = Number(e.target.value); l(t), f(t) } } })))) }, US = Object(d.getClasses)("color-detail", ["colors", "color-block", "input-block", "input-block-error", "advanced-button"], []), BS = ["white", "yellow", "orange", "brown", "red", "purple", "blue", "cyan", "green", "gray", "black"], FS = /(^#[0-9A-F]{6}$)/i, VS = function (e) { var t = e.cot, r = e.onChange, n = bS(t), a = Object(i.useState)(SS(t)), o = Object(Xe.a)(a, 2), s = o[0], u = o[1], l = Object(i.useState)(IS(t)), f = Object(Xe.a)(l, 2), p = f[0], m = f[1], h = Object(i.useState)(Object(L.cotColorToRGBA)(n)), v = Object(Xe.a)(h, 2), g = v[0], b = v[1], y = ["r", "g", "b"].map(function (e, t) { return Object(L.byteToHex)(g[t]) }).join(""), E = Object(i.useState)(y), O = Object(Xe.a)(E, 2), S = O[0], w = O[1], A = Object(i.useState)(!1), C = Object(Xe.a)(A, 2), T = C[0], j = C[1], k = Object(i.useState)(!1), R = Object(Xe.a)(k, 2), N = (R[0], R[1], Object(i.useContext)(Ba).isReadonly); Object(i.useEffect)(function () { var e = bS(t), r = SS(t), n = IS(t), a = Object(L.cotColorToRGBA)(e); b(a); var o = ["r", "g", "b"].map(function (e, t) { return Object(L.byteToHex)(a[t]) }).join(""); w(o), u(r), m(n) }, [t]); var _ = function (e) { r(e) }, I = function (e, t) { var r = t(e); return r[3] = g[3], r }, M = Object(L.debounce)(function (e) { e[3] = 1, b(e), w(["r", "g", "b"].map(function (t, r) { return Object(L.byteToHex)(e[r]) }).join("")), j(!1), _(ES(t, e)) }, 100), x = Object(L.debounce)(function (e) { u(e), _(TS(t, e)) }, 100), D = Object(L.debounce)(function (e) { m(e), _(xS(t, e)) }, 100), P = Object(d.className)(US.Elements["input-block"]); return T && (P = P.concat(" ".concat(US.Elements["input-block-error"]))), c.a.createElement("div", { className: US.BASE }, c.a.createElement("label", { className: Object(d.className)(Object(d.prefix)("label")) }, c.a.createElement("span", null, "Color")), c.a.createElement(c.a.Fragment, null, c.a.createElement("div", { className: US.Elements.colors }, BS.map(function (e) { var r = { backgroundColor: e }; return c.a.createElement("div", { key: e, style: r, onClick: function () { return N ? null : function (e) { var r = I(e, L.colorToRGBA); r[3] = 1, b(r), w(["r", "g", "b"].map(function (e, t) { return Object(L.byteToHex)(r[t]) }).join("")), j(!1), _(ES(t, r)) }(e) }, className: US.Elements["color-block"] }) }), c.a.createElement("div", { className: "".concat(US.BASE, "__hex-icon") }, c.a.createElement(d.Icon, { icon: T ? "warning" : "pound" })), c.a.createElement("div", { className: P }, c.a.createElement(d.TextInput, { disabled: N, onChange: N ? function () { } : function (e) { var r = e.target.value, n = "#".concat(r); if (w(r), FS.test(n)) { var a = I(n, L.hexToRgba); j(!1), b(a), _(ES(t, a)) } else j(!0) }, value: S, placeholder: "hex color code" }))), c.a.createElement("label", { className: Object(d.className)(Object(d.prefix)("label")) }, c.a.createElement("span", null, "Rings"), c.a.createElement(PS, { disabled: N, onChange: D, ringNumber: p })), c.a.createElement("label", { className: Object(d.className)(Object(d.prefix)("label")) }, c.a.createElement("span", null, "Thickness"), c.a.createElement(AS, { disabled: N, onChange: x, strokeWeight: s })), c.a.createElement(d.Card, { title: "advanced", defaultOpen: !1, collapsible: !0 }, c.a.createElement(kS, { disabled: N, onChange: M, rgba: g })))) }, HS = Object(d.getClasses)("shapes-detail-drawer", ["header", "section-card", "footer"], []), GS = Object(l.b)(void 0, { loadMessages: ye })(function (e) { var t = e.loadMessages, r = Object(i.useState)(Td("drawer").getCtx()), n = Object(Xe.a)(r, 2), s = n[0], u = n[1], l = Object(i.useState)(!1), f = Object(Xe.a)(l, 2), p = f[0], m = f[1], h = Object(i.useContext)(Ba).isReadonly; xa(Td("drawer"), "drawer-change", function (e, t) { u(t) }, [s, u]), Object(i.useEffect)(function () { if (s) { var e = function (e) { return function (e, t) { return !(e.uid !== t.uid) }(e, s) }, t = function (t) { var r = new ct.CotEvent(Object(P.a)({}, t, { detail: t.detail ? Object(L.safeConstruct)(ct.CotEventDetail, t.detail) : null })); e(r) && function (e) { u(e) }(r) }; return Td("socket").on("message", t), function () { return Td("socket").off("message", t) } } }, [s, u]); var v = Object(i.useCallback)(Object(L.debounce)(function (e) { e instanceof ct.CotEvent && (u(e), t(e.toJS())) }, 100), [s]), g = Object(i.useCallback)(Object(o.a)(a.a.mark(function e() { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, Sn.create().sendMessage(s.toJS()); case 2: case "end": return e.stop() } }, e) })), [s]); if (!s || !(s instanceof ct.CotEvent)) return null; return c.a.createElement(c.a.Fragment, null, c.a.createElement(d.DrawerLayout, null, c.a.createElement(d.DrawerHeader, { onCollapse: function () { return Td("drawer").closeDrawer() }, className: Object(d.className)(HS.Elements.header), title: s.type === _r.LINE ? "R&B Line Details" : s.type === _r.CIRCLE ? "R&B Circle Details" : "R&B Details" }), c.a.createElement(d.Card, { title: " ", className: HS.Elements["section-card"] }, c.a.createElement(uS, { onChange: v, cot: s }), c.a.createElement(cS, { onChange: v, cot: s }), s.type == _r.LINE ? c.a.createElement(vS, { cot: s }) : null, c.a.createElement(mS, { cot: s })), h || s.type != _r.LINE ? null : c.a.createElement(d.Card, { title: " ", className: HS.Elements["section-card"] }, c.a.createElement(_S, { onChange: v, cot: s })), h || s.type != _r.CIRCLE ? null : c.a.createElement(d.Card, { title: " ", className: HS.Elements["section-card"] }, c.a.createElement(VS, { onChange: v, cot: s })), c.a.createElement(d.Card, { title: " ", className: HS.Elements["section-card"] }, c.a.createElement(dS, { onChange: v, cot: s })), c.a.createElement(d.Card, { title: " ", className: HS.Elements["section-card"] }, c.a.createElement("label", { className: "wt-label" }, c.a.createElement("span", null, "SAE Version"), oc(s.detail))), !h && c.a.createElement(d.DrawerFooter, { className: Object(d.className)(HS.Elements.footer) }, c.a.createElement(cc, { text: "broadcast", onClick: g }), c.a.createElement(d.Button.Primary, { onClick: function () { return m(!0) } }, "Send"), c.a.createElement(d.Button.Danger, { onClick: function () { if (confirm("Are you Sure")) { var e = Td("drawer").getActiveDrawer(); if (sn().dispatch(Ee(s.toJS())), Td("menu").closeMenu(), e) { var t = Td("drawer").getCtx(); oe(t) && t.uid === s.uid && Td("drawer").closeDrawer() } } } }, "Remove"))), c.a.createElement(fc, { cot: s, onClose: function () { return m(!1) }, isOpen: p })) }), qS = function (e) { return c.a.createElement(d.NavigationController, { className: HS.BASE, root: GS }) }; function KS(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var zS = function (e) { Object(k.a)(r, e); var t = KS(r); function r(e) { return Object(T.a)(this, r), t.call(this, e) } return Object(j.a)(r, [{ key: "onClick", value: function (e, t) { rw(this.cot, e), this.showInfo(e) } }, { key: "zoomToItem", value: function () { var e = this.getExtent(); Object(zn.a)(Object(N.a)(r.prototype), "zoomToItem", this).call(this), e && rw(this.cot, { coordinate: Object(aa.w)(e) }) } }, { key: "getIcon", value: function () { var e = ""; try { var t = Object(L.cotColorToRGBA)(Mo(this.cot)); e = "rgba(".concat(t.join(), ")") } catch (fA) { } return Object(d.toURL)(Object(d.inlineSvg)("pencil-ruler", { fill: e })) } }, { key: "render", value: function () { !function (e) { var t = e.getCot(), r = e.getVectorLayer(), n = e.getRange(), a = e.getBearing(), o = [[t.lon, t.lat], AO(t.lon, t.lat, n, a)], i = new tm.a(o), c = new Zn.a(i); c.setId(t.uid), c.setProperties({ strokeColor: e.getStrokeColor(), range: e.getRange(), rangeUnits: e.getRangeUnits(), strokeWeight: e.getStrokeWeight(), bearingUnits: e.getBearingUnits(), northReference: e.getNorthReference() }), c.setStyle(function (e, t) { var r = e.getProperties().strokeColor, n = e.getProperties().range, o = e.getProperties().rangeUnits, c = e.getProperties().strokeWeight, s = e.getProperties().bearingUnits, u = e.getProperties().northReference, l = [new Ei.c({ stroke: new wi.a({ color: Object(L.cotColorToRGBA)(r), width: 1 * c }), fill: new Si.a({ color: Object(L.cotColorToRGBA)(r) }), text: new Oc.a({ text: "".concat(SO(n, o), " ").concat(wO(a, s, u)), font: "14px Calibri,sans-serif", fill: new Si.a({ color: "#fff" }), stroke: new wi.a({ color: "#313131", width: 5 }) }) })]; return i.forEachSegment(function (e, t) { var n = t[0] - e[0], a = t[1] - e[1], o = Math.atan2(a, n); l.push(new Ei.c({ geometry: new yc.a(t), image: new Oi.a({ fill: new Si.a({ color: Object(L.cotColorToRGBA)(r) }), points: 3, radius: 8, rotation: -o, angle: Math.PI / 2 }) })) }), l }), e.setFeatures([c]), r.setZIndex(xr.MARKER), r.getSource().addFeatures([c]) }(this) } }, { key: "update", value: function (e) { if (!this.cot.equals(e)) { this.cot = e; var t = this.getFeatures(); if (t) { var r = t[0], n = r.getGeometry(); if (n) { var a = [[this.cot.lon, this.cot.lat], AO(this.cot.lon, this.cot.lat, this.getRange(), this.getBearing())]; n.setCoordinates(a) } r.setProperties({ strokeColor: this.getStrokeColor(), range: this.getRange(), rangeUnits: this.getRangeUnits(), strokeWeight: this.getStrokeWeight(), bearingUnits: this.getBearingUnits(), northReference: this.getNorthReference() }) } } } }, { key: "getXmlDetail", value: function () { var e = this.cot.detail; if (e) { if (e.xml) return new kO(e.xml); console.log("Missing Cot XML!", this.cot.toJS()) } else console.log("Missing Cot Details !", this.cot.toJS()) } }, { key: "getRange", value: function () { var e = this.getXmlDetail(); if (e) { var t = e.getRange(); if (Object(L.isNumber)(t)) return Number(t) } return 0 } }, { key: "getRangeUnits", value: function () { var e = this.getXmlDetail(), t = 0; if (e) { var r = e.getRangeUnits(); Object(L.isNumber)(r) && (t = Number(r)) } return t } }, { key: "getStrokeColor", value: function () { var e = this.getXmlDetail(), t = Number([55, 0, 0, 0]); if (e) { var r = e.getStrokeColor(); Object(L.isNumber)(r) && (t = Number(r)) } return t } }, { key: "getStrokeWeight", value: function () { var e = this.getXmlDetail(), t = 3; if (e) { var r = e.strokeWeight; if (Object(L.isObject)(r[L.XML_ATTRIBUTE_KEY])) { var n = r[L.XML_ATTRIBUTE_KEY]; n && (t = Number(n.value)) } } return t } }, { key: "getBearing", value: function () { var e = this.getXmlDetail(); if (e) { var t = e.getBearing(); if (Object(L.isNumber)(t)) return Number(t) } return 0 } }, { key: "getBearingUnits", value: function () { var e = this.getXmlDetail(), t = 0; if (e) { var r = e.getBearingUnits(); Object(L.isNumber)(r) && (t = Number(r)) } return t } }, { key: "getNorthReference", value: function () { var e = this.getXmlDetail(), t = 0; if (e) { var r = e.getNorthReference(); Object(L.isNumber)(r) && (t = Number(r)) } return t } }]), r }(Li), YS = function () { var e = Object(L.uuid)(5), t = function (t) { var r = t.filter(function (e) { return Object.values(_r).includes(e.type) }); function n(t, r, n) { var a = function (t, r) { return t.map(function (t) { return t.get("detail").getContact(), new $s({ registryKey: e, icon: r, title: Br(t), nodeChildren: [], mapItemId: t.uid, props: { cotUid: t.uid } }) }).toArray() }(n(), r); return new $s({ registryKey: e, icon: r, title: t, nodeChildren: a }) } var a = n("R&B Line", "pencil-ruler", function () { return r.filter(function (e) { return e.type === _r.LINE }) }), o = n("R&B Circle", "circle-edit-outline", function () { return r.filter(function (e) { return e.type === _r.CIRCLE }) }); return new $s({ registryKey: e, icon: "measure", title: "Range & Bearings", nodeChildren: [a, o].filter(function (e) { return e.nodeChildren.length }) }) }, r = sn(), n = r.getState().events.getEvents(), a = { id: e, tree: function () { return t(n) }, onItemClick: function (e) { var t = e.props; if (t) { var r = ma.create(); if (r.hasItem(t.cotUid)) { var n = r.getItem(t.cotUid); n.zoomToItem(), n.onClick(void 0, []) } } }, onDelete: function (e) { return e.forEach(function (e) { sn().dispatch(Ee(e.getCot().toJS())) }), !0 } }; r.subscribe(function () { var a = r.getState().events.getEvents().filter(function (e) { return Object.values(_r).includes(e.type) }); n.equals(a) || (Td("overlays").updateNode(e, function () { return t(a) }), n = a) }), eu(a) }; function WS(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var XS = function (e) { Object(k.a)(r, e); var t = WS(r); function r(e) { return Object(T.a)(this, r), t.call(this, e) } return Object(j.a)(r, [{ key: "onClick", value: function (e, t) { rw(this.cot, e), this.showInfo(e) } }, { key: "zoomToItem", value: function () { this.getExtent(); Object(zn.a)(Object(N.a)(r.prototype), "zoomToItem", this).call(this) } }, { key: "getIcon", value: function () { var e = ""; try { var t = Object(L.cotColorToRGBA)(Mo(this.cot)); e = "rgba(".concat(t.join(), ")") } catch (fA) { } return Object(d.toURL)(Object(d.inlineSvg)("circle-edit-outline", { fill: e })) } }, { key: "getMeasureCircleCotXmlDetail", value: function () { var e = this.cot.detail; if (e) if (e.xml) { var t = e.xml; if (t) return t; console.error("Missing Circle XML!", this.cot.toJS()) } else console.error("Missing Cot Circle XML!", this.cot.toJS()); else console.error("Missing Cot Circle Details !", this.cot.toJS()) } }, { key: "getStrokeColor", value: function () { var e = this.getMeasureCircleCotXmlDetail(); if (e) return e.strokeColor[L.XML_ATTRIBUTE_KEY].value } }, { key: "render", value: function () { var e = this, t = [], r = [], n = [], a = new Zn.a({ cotUid: this.cot.uid }), o = this.getMeasureCircleCotXmlDetail(); if (o) { var i = o.shape.link.Style.PolyStyle.color[L.XML_TEXT_KEY], c = Number(o.shape.link.Style.LineStyle.width[L.XML_TEXT_KEY]), s = Object(L.cotColorToRGBA)(parseInt("0x".concat(i), 16)), u = o.rangeUnits[L.XML_ATTRIBUTE_KEY].value, l = function (e, t) { var r = e.getProperties().strokeColor, n = e.getProperties().range; return new Ei.c({ stroke: new wi.a({ color: Object(L.cotColorToRGBA)(r), width: 1 * c }), text: new Oc.a({ text: "".concat(SO(n, u)), font: "14px Calibri,sans-serif", fill: new Si.a({ color: "#fff" }), stroke: new wi.a({ color: "#313131", width: 5 }), offsetY: 15 }) }) }, f = function (e, t) { var r = e.getProperties().strokeColor; return new Ei.c({ stroke: new wi.a({ color: Object(L.cotColorToRGBA)(r), width: 1 * c }), fill: new Si.a({ color: "rgba(".concat(s[0], ", ").concat(s[1], ", ").concat(s[2], ", ").concat(s[3] / 255, ")") }) }) }; a.setStyle(f); var d = [this.cot.lon, this.cot.lat], p = function (t) { var r = t[L.XML_ATTRIBUTE_KEY].major, n = e.map.getView().getProjection().getMetersPerUnit(); if ("undefined" === typeof n) throw new Error("measureCircleRenderer(): map source undefined"); var a = r / n, o = new Zn.a, i = new rm.a(d, a); return o.setGeometry(i), o.setProperties({ cotUid: e.cot.uid, strokeColor: e.getStrokeColor(), radius: a, range: r }), o.setStyle(f), o }; Array.isArray(o.shape.ellipse) ? (t = o.shape.ellipse.map(function (e) { return p(e) }), r = o.shape.ellipse.map(function (t) { return function (t) { var r = t[L.XML_ATTRIBUTE_KEY].major, n = e.map.getView().getProjection().getMetersPerUnit(); if ("undefined" === typeof n) throw new Error("measureCircleRenderer(): map source undefined"); var a = r / n, o = [e.cot.lon, e.cot.lat - a], i = new Zn.a({ cotUid: e.cot.uid }); return i.setProperties({ range: r, cotUid: e.cot.uid, stokeColor: e.getStrokeColor() }), i.setStyle(l), i.setGeometry(new yc.a(o)), i }(t) }), n = t.concat(r)) : n = (t = [p(o.shape.ellipse)]).concat(r); var m = new Zn.a(new yc.a(d)); m.setProperties({ cotUid: this.cot.uid, callsign: Br(this.cot), strokeColor: this.getStrokeColor() }), m.setStyle(function (e, t) { var r = e.getProperties().callsign, n = e.getProperties().strokeColor, a = t >= .01; return [new Ei.c({ image: new zs.a({ radius: 3, stroke: new wi.a({ color: Object(L.cotColorToRGBA)(n), width: 2 }), fill: new Si.a({ color: Object(L.cotColorToRGBA)(n) }) }), text: new Oc.a({ text: a ? "" : "".concat(r), fill: new Si.a({ color: "#fff" }), stroke: new wi.a({ color: "#313131", width: 5 }), offsetY: 13 }) })] }), this.getVectorSource().addFeatures([].concat(Object(D.a)(n), [m])), this.setFeatures([].concat(Object(D.a)(n), [m])) } } }, { key: "update", value: function (e) { var t = this; if (!this.cot.equals(e)) { this.cot = e; var r = this.getFeatures(); r && (r.forEach(function (e) { t.getVectorSource().removeFeature(e) }), this.render()) } } }]), r }(Li), JS = "Measuring Tools", ZS = "measure-tools", QS = "measure-drawer", $S = !1, ew = new xi({ displayName: JS, name: QS, mount: function () { return c.a.createElement(oS, null) }, unmount: function () { } }), tw = new xi({ displayName: "Measure Details", name: "measure-details", mount: function () { return c.a.createElement(qS, null) }, unmount: function () { } }), rw = function (e, t) { var r = Td("drawer").getActiveDrawer(), n = r && r.getName() === tw.name && Td("drawer").isOpen(); n && tw.open(e); var a = { icon: Object(d.toURL)(Object(d.inlineSvg)("format-list-bulleted", { fill: "black" })), onClick: function () { tw.open(e), Td("menu").closeMenu() } }, o = { icon: Object(d.toURL)(Object(d.inlineSvg)("cursor-move", { fill: "black" })), onClick: function () { return Ks(e, function (e) { Td("menu").openMenu([e.lon, e.lat], i), n && tw.open(e) }) } }, i = Ua.create().getUserRoles().includes(Ca.ROLE_READONLY) ? [a] : [a, Cu(e), o], c = t ? t.coordinate : [e.lon, e.lat]; Td("menu").openMenu(c, i) }; var nw = [{ key: "name", heading: "Name" }, { key: "description", heading: "Description" }, { key: "classification", heading: "Classification" }], aw = function (e) { var t = e.mission, r = Object(i.useState)(!1), n = Object(Xe.a)(r, 2), s = n[0], u = n[1]; Object(i.useEffect)(function () { u(sn().getState().dataSync.subscriptions.has(t.name)) }); var l = Object(i.useCallback)(function () { var e = Object(o.a)(a.a.mark(function e(t) { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, Ou.create().toggleSubscription(t).then(function () { u(sn().getState().dataSync.subscriptions.has(t)) }).catch(function (e) { Gi.create().error({ message: "failed to subscribe to ".concat(t) }) }); case 2: case "end": return e.stop() } }, e) })); return function (t) { return e.apply(this, arguments) } }(), [t]); return c.a.createElement(d.Switch, { checked: s, onClick: function (e) { return e.stopPropagation() }, onChange: function () { l(t.name) } }) }, ow = function (e) { var t = e.cops, r = Object(i.useState)(), n = Object(Xe.a)(r, 2), a = n[0], o = n[1]; return Object(i.useEffect)(function () { Td("map").onMapReady(function (e) { o(e) }) }, []), c.a.createElement("div", { style: { width: "100%", paddingLeft: "0.5em", colorScheme: "dark" } }, c.a.createElement(uy.a, { disableHeight: !0 }, function (e) { var r = e.width; e.height; return c.a.createElement(uy.d, { sortBy: "name", height: 340, rowHeight: 50, rowCount: t.size, onRowClick: function (e) { var t = e.rowData.bbox.split(",").map(function (e) { return parseFloat(e) }), r = [[t[1], t[0]], [t[3], t[2]]], n = Object(aa.b)(r); a && a.getView().fit(n, { duration: 1e3 }) }, headerRowRenderer: function (e) { var t = e.className, r = e.columns, n = e.style; return c.a.createElement("div", { className: t, role: "row", style: Object(P.a)({}, n, { display: "flex", alignItems: "center", justifyContent: "space-around", background: "#202020", padding: "0 0.5em" }) }, r, c.a.createElement("div", { style: { flexGrow: 1 } }, "Subscribed")) }, width: r, headerHeight: 50, rowGetter: function (e) { var r = e.index; return t.size && t.get(r % t.size) }, rowRenderer: function (e) { var r = e.className, n = e.style, a = e.index, o = (e.isScrolling, e.key), i = e.onRowClick, s = (e.onRowDoubleClick, e.onRowMouseOut, e.onRowMouseOver, e.onRowRightClick, e.rowData), u = e.columns, l = t.get(a); return c.a.createElement("div", { key: o, onClick: function (e) { i && i({ event: e, index: a, rowData: s }) }, className: r, role: "row", style: Object(P.a)({}, n, { cursor: "pointer", background: a % 2 !== 0 ? "#434343" : void 0, padding: "0 0.5em", display: "flex", alignItems: "center", justifyContent: "space-around" }) }, u, c.a.createElement("div", { style: { flexGrow: 1 } }, c.a.createElement(aw, { mission: l }))) }, noRowsRenderer: function () { return c.a.createElement("div", null, "no cops are present.") }, noContentRenderer: function () { return c.a.createElement("div", null, "no content") } }, nw.map(function (e, t) { return c.a.createElement(uy.b, { key: t, dataKey: e.key, flexGrow: 1, width: 1, headerRenderer: function (t) { t.dataKey, t.sortBy, t.sortDirection; return c.a.createElement("div", null, e.heading) } }) })) })) }, iw = function e(t) { var r = t.hierarchy, n = t.onClick, a = t.parentalPath, o = t.focusTarget, s = Object(i.useState)(!1), u = Object(Xe.a)(s, 2), l = u[0], f = u[1], p = a === o, m = r.children && r.children.length ? l ? "folder-open" : "folder" : "file", h = p ? { background: "#434343" } : { background: void 0 }; return c.a.createElement("div", null, c.a.createElement("div", { onClick: function (e) { function t() { return e.apply(this, arguments) } return t.toString = function () { return e.toString() }, t }(function () { f(!l), n(p ? "" : a) }), style: Object(P.a)({ display: "flex", alignItems: "center" }, h, { cursor: "pointer" }) }, c.a.createElement(d.Icon, { icon: m, color: "#d5d5d5" }), c.a.createElement("span", null, " ", r.name)), r.children && 0 !== r.children.length && c.a.createElement(d.Collapse, { isOpen: l }, c.a.createElement("div", { style: { padding: "0.5em 1em " } }, r.children.sort(function (e, t) { var r = e.children ? e.children.length : 0; return (t.children ? t.children.length : 0) - r }).map(function (t, r) { return c.a.createElement(e, { key: r, hierarchy: t, onClick: n, parentalPath: "".concat(a, "/").concat(t.name), focusTarget: o }) })))) }, cw = function (e) { var t = e.onHierarchyClick, r = e.focusTarget, n = Ad.create(), a = Object(i.useState)([]), o = Object(Xe.a)(a, 2), s = o[0], u = o[1]; return Object(i.useEffect)(function () { n.getHierarchy().then(function (e) { return u(e) }) }, []), c.a.createElement("div", { style: { borderRight: "1px solid white" } }, s.filter(function (e) { return e.name }).map(function (e, n) { return c.a.createElement(iw, { key: n, hierarchy: e, onClick: t, parentalPath: e.name, focusTarget: r }) })) }, sw = function () { var e = Ad.create(), t = Object(i.useState)(""), r = Object(Xe.a)(t, 2), n = r[0], a = r[1], o = Object(i.useState)(Object(q.List)()), s = Object(Xe.a)(o, 2), u = s[0], l = s[1], f = Object(i.useState)(""), p = Object(Xe.a)(f, 2), m = p[0], h = p[1], v = Object(i.useState)(!1), g = Object(Xe.a)(v, 2), b = g[0], y = g[1]; return Object(i.useEffect)(function () { e.filterMissions("", !0).then(function (e) { return l(Object(q.List)(e)) }) }, []), c.a.createElement("div", { style: { color: "#d5d5d5" } }, c.a.createElement("div", null, c.a.createElement("div", { style: { width: "100%", display: "flex", alignItems: "center", justifyContent: "space-between" } }, c.a.createElement("input", { style: { width: "100%" }, type: "text", onChange: function (e) { return a(e.target.value) } }), c.a.createElement(d.Icon, { icon: "filter", color: "white", onClick: function () { return y(!b) } })), c.a.createElement(d.Collapse, { isOpen: b }, c.a.createElement("label", { style: { marginTop: 0 }, className: Object(d.className)(Object(d.prefix)("label"), Object(d.prefix)("label--inline")) }, c.a.createElement("span", null, "Search by:"), c.a.createElement(d.Select, null, c.a.createElement("option", { value: "name" }, "Name"))))), c.a.createElement("div", { style: { display: "flex" } }, c.a.createElement(cw, { focusTarget: m, onHierarchyClick: function (e) { h(e) } }), c.a.createElement(ow, { cops: u.filter(function (e) { return e.path.toLowerCase().startsWith(m.toLowerCase()) }).filter(function (e) { return e.name.toLowerCase().includes(n.toLowerCase()) }) }))) }, uw = function () { return c.a.createElement(d.NavigationController, { root: sw }) }, lw = !1; var fw = !1; function dw() { fw || (fw = !0, tp(), function () { if (!uv) { var e = new xi({ displayName: "Stacked Items", name: "stacked-drawer", mount: function () { return c.a.createElement(Wh, null) }, unmount: function () { } }), t = sn().getState().map.lockedTo, r = Object(d.toURL)(lv("#3AB132")), n = Object(d.toURL)(lv()), a = new Mi({ name: "lock-on-self", title: "Lock on Self", icon: "", iconUrl: t ? r : n, onClick: function () { var e = sn().dispatch; if (t) e(Ot(void 0)); else { var r = sn().getState().user, n = r.clientSeed, a = r.location, o = a.lat, i = a.lon; e(Ot(n)), Td("map").onMapReady(function (e) { e.getView().animate({ center: [i, o] }) }) } }, category: "map" }), o = new Mi({ name: "go-to", title: "Go To", icon: "map-plus", onClick: function () { Td("map").performManualCoordinateEntry(function () { }, function () { }, { centerOnComplete: !0, allowPointsEntry: !0 }) }, category: "map" }); na("map", function (e) { e.lockedTo !== t && (t = e.lockedTo, a.iconUrl = t ? r : n, a.forceRender()) }), Td("drawer").registerDrawer(e), Td("tool").registerTool(a), Td("tool").registerTool(o), ma.create().on("multi-item-click", function (t, r) { e.open({ mapItems: t, clickEvent: r }) }); var i = V(h.CLUSTER_DEFAULT_COTS, function (e) { if (void 0 !== e) return e }), s = new Mu({ displayName: " MIL-STD-2525 Cluster MIL-STD-2525 Icons", description: " MIL-STD-2525 Use this preference to toggle whether or not default MIL-STD-2525 icons should display on the map as clusters", registryKey: "default-cot-cluster", value: i || !1, effect: function (e) { ma.create().setDefaultMapItemClusterSource(e) } }), u = new Nu({ displayName: "Map Preferences", icon: "map-outline", registryKey: "map-preferences", items: [s] }); sl.create().registerPreference(u), sv.create(), uv = !0 } }(), function () { Wb.apply(this, arguments) }(), function () { if (!qh) { var e = new xi({ displayName: "AOI", name: "".concat(zh, "-drawer"), mount: function () { return c.a.createElement(Gh, null) }, unmount: function () { } }), t = new Mi({ title: Kh, icon: "aoi", name: "".concat(zh, "-tool"), category: "utilities", drawer: e.name }); Mh.create(), Td("tool").registerTool(t), Td("drawer").registerDrawer(e), qh = !0 } }(), function () { if (!gl) { var e = new Mi({ title: "Point Dropper", icon: "map-marker-plus", name: Ol, category: "map", drawer: bl }); vl.create().onStorageClear({ registryKey: "point-dropper-storage-preferences", displayName: "Point Dropper", description: "Permanently removes custom iconsets from the browser.", handler: function () { var e = Object(o.a)(a.a.mark(function e() { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: vo.create().deleteAllCustomIconsets(); case 1: case "end": return e.stop() } }, e) })); return function () { return e.apply(this, arguments) } }() }); var t = new xi({ displayName: "Point Dropper", name: bl, mount: function () { return c.a.createElement(Pi, null) }, unmount: function () { } }); Td("tool").registerTool(e), Td("drawer").registerDrawer(t), Td("drawer").registerDrawer(wl), Td("drawer").registerDrawer(Sl), Td("cotRender").registerMarkerRenderer(Nr.SPOT_MARKER, Xs), Tl(), gl = !0 } }(), Of || (Td("drawer").registerDrawer(vf), Td("drawer").registerDrawer(gf), Object.values(Rr).forEach(function (e) { Td("cotRender").registerMarkerRenderer(e, hf) }), Yl.create(), yf(), Ef(), Of = !0), function () { if (!Km) { var e = new Mi({ title: "Drawing Tools", icon: "shape-plus", name: "shapes", category: "map", drawer: "shapes" }); Td("tool").registerTool(e), Td("drawer").registerDrawer(zm), Td("drawer").registerDrawer(Ym), qm(), Km = !0 } }(), function () { if (!bg) { var e = new Mi({ title: Eg, icon: "file-import", name: "".concat(yg), category: "other", drawer: "".concat(yg) }), t = new xi({ displayName: Eg, name: "".concat(yg), mount: function () { return c.a.createElement(hg, null) }, unmount: function () { } }); Td("tool").registerTool(e), Td("drawer").registerDrawer(t), window.WebSAE.storage.onClear({ registryKey: "file-storage-preferences", displayName: "Files", description: "/Permanently removes all imported/received files from the browser. ", handler: function () { var e = Object(o.a)(a.a.mark(function e() { var t, r, n, o, i; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: t = Rs.create(), r = t.getFiles(), n = vg(r), e.prev = 3, n.s(); case 5: if ((o = n.n()).done) { e.next = 11; break } return i = o.value, e.next = 9, t.removeFile(i.uid); case 9: e.next = 5; break; case 11: e.next = 16; break; case 13: e.prev = 13, e.t0 = e.catch(3), n.e(e.t0); case 16: return e.prev = 16, n.f(), e.finish(16); case 19: case "end": return e.stop() } }, e, null, [[3, 13, 16, 19]]) })); return function () { return e.apply(this, arguments) } }() }), wg(), bg = !0 } }(), function () { if (!ng) { var e = new xi({ displayName: rg, name: "".concat(tg), mount: function () { return React.createElement(eg, null) }, unmount: function () { } }), t = new Mi({ title: rg, icon: "sync", name: "".concat(tg), category: "data-management", drawer: "".concat(tg) }); Td("tool").registerTool(t), Td("drawer").registerDrawer(e); var r = cu.create(); r.setDrawer(e); var n = r.getChannel(); t.setNotificationChannel(n), Bl.create().once("load", function (e) { var t = e.filter(function (e) { return Object.values(mr).includes(e.type) }); sn().dispatch(Ee(t.toArray())) }); var a = nh.FEEDS; Td("overlays").registerNode({ id: a, tree: function () { return new $s({ disableToggle: !0, registryKey: a, icon: "sync", title: rg, nodeChildren: [] }) }, onItemClick: function () { Td("drawer").setActiveDrawer(tg) } }), ng = !0 } }(), function () { if (!kh) { var e = new Mi({ title: "Overlays", icon: "layers-triple-outline", name: "overlays", category: "map", drawer: "overlays" }), t = new xi({ displayName: "Overlay Manager", name: "overlays", mount: function () { return c.a.createElement(jh, null) }, unmount: function () { } }); Td("tool").registerTool(e), Td("drawer").registerDrawer(t), kh = !0 } }(), function () { if (!Ay) { var e = new Mi({ title: "Video", icon: hy, name: "video", category: "other", drawer: "video" }), t = new xi({ displayName: "Video", name: "video", mount: function () { return c.a.createElement(my, null) }, unmount: function () { } }); Td("tool").registerTool(e), Td("drawer").registerDrawer(t), Td("cotRender").registerMarkerRenderer(Mr.DEFAULT, wy), Td("cotRender").registerMarkerRenderer(Mr.SPI, Oy), Ay = !0 } }(), function () { var e = new Mi({ title: "Alerts", icon: "alert", drawer: "alerts", name: "alerts", category: "communication" }), t = new xi({ displayName: "Alerts", name: "alerts", mount: function () { return c.a.createElement(Ty, null) }, unmount: function () { } }), r = new xi({ displayName: "Alerts Details", name: "alertsDetails", mount: function () { return c.a.createElement(ky, null) }, unmount: function () { } }); Td("tool").registerTool(e), Td("drawer").registerDrawer(t), Td("drawer").registerDrawer(r) }(), function () { var e = new Mi({ title: "Data Packages", icon: "dropbox", drawer: "data-packages", name: "data-packages", category: "data-management" }), t = new xi({ displayName: "DataPackages", name: "data-packages", mount: function () { return c.a.createElement(Ky, null) }, unmount: function () { } }), r = new xi({ displayName: "Cot Details", name: "cot-with-attachment-details", mount: function () { return c.a.createElement(Vs, null) }, unmount: function () { } }); Td("tool").registerTool(e), Td("drawer").registerDrawer(t), Td("drawer").registerDrawer(r), window.WebSAE.storage.onClear({ registryKey: "data-packages-storage-preferences", displayName: "Data Packages", description: "Permanently removes data packages from the clients browser.", handler: function () { var e = Object(o.a)(a.a.mark(function e() { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return Fc.create().getDataPackageNotificationChannel().removeAll(), e.next = 3, _s.create().deleteAllDataPackages(); case 3: case "end": return e.stop() } }, e) })); return function () { return e.apply(this, arguments) } }() }); var n = sn().getState().events.getEvents().filter(function (e) { return Uc.isQuickPicType(e.type) }), i = function () { var e = []; return n.forEach(function (t) { e.push(new $s({ registryKey: "quick-pic-overlay", icon: Ur[Dr.QUICK_PIC], title: Br(t), mapItemId: t.uid, nodeChildren: [] })) }), e }, s = function () { return new $s({ registryKey: "quick-pic-overlay", icon: Ur[Dr.QUICK_PIC], title: "Quick Pics", nodeChildren: i() }) }, u = { id: "quick-pic-overlay", tree: s, onItemClick: function (e) { var t = e.mapItemId; if (t && ma.create().hasItem(t)) { var r = ma.create().getItem(t); try { r.zoomToItem() } catch (fA) { Gi.create().error({ message: "Unable to zoom to map item" }) } } }, onDelete: function () { return !0 } }; Td("overlays").registerNode(u), sn().subscribe(function () { var e = sn().getState().events.getEvents().filter(function (e) { return Uc.isQuickPicType(e.type) }); n.equals(e) || (n = e, Td("overlays").updateNode("quick-pic-overlay", function () { return s() })) }); var l = Fc.create().getDataPackageNotificationChannel(); e.setNotificationChannel(l), Uc.create() }(), function () { if (!yE) { var e = Td("drawer"), t = sl.create(), r = new xi({ displayName: "Preferences", name: "preferences", mount: function () { return c.a.createElement(mE, null) }, unmount: function () { } }), n = new Yu({ displayName: "SAE SAE Server Client Dashboard", registryKey: "marti-link", value: new URL(Pr.create().getMartiClientPage()) }), a = new Yu({ displayName: "SAE", registryKey: "sae-gov-link", value: new URL("https://sae.com/") }), o = new Nu({ displayName: "Useful Links", icon: "link-variant", registryKey: hE.LINK_COLLECTION, items: [n, a] }), s = new Nu({ displayName: "Plugins", registryKey: "plugin-preference-collection", icon: "plug", items: [new Tu({ displayName: "Plugins", registryKey: "plugin-preferences", mount: function () { return Object(i.createElement)(bE) }, unmount: function () { } })] }); t.registerPreference([s]), t.registerPreference([o]), e.registerDrawer(r), yE = !0 } }(), DE || (Td("drawer").registerDrawer(new xi({ displayName: "Edit Toolbar", name: "edit-toolbar", mount: function () { return c.a.createElement(xE, null) }, unmount: function () { } })), DE = !0), function () { if (!WE) { var e = new Mi({ deviceTypes: "desktop", title: "Map Widgets", icon: "widget", name: "widgets", category: "map", drawer: "widget-drawer" }), t = new xi({ displayName: "Widget Drawer", name: "widget-drawer", orientation: "bottom", mount: function () { return c.a.createElement(qE, null) }, unmount: function () { } }); Td("tool").registerTool(e), Td("drawer").registerDrawer(t); var r = [new YE({ name: "Quick AOI", registryKey: "AOI_BTN_CONTROL", w: 2, h: 1, maxH: 1, maxW: 4, minW: 2, minH: 1, element: c.a.createElement(FE, null) })]; Td("widget").registerWidget(r), WE = !0 } }(), function () { if (!dO) { var e = new Mi({ title: "Routes", icon: "map-marker-path", name: "routes", category: "map", drawer: "routes" }); Td("tool").registerTool(e), Td("drawer").registerDrawer(pO), Td("drawer").registerDrawer(mO), Td("cotRender").registerMarkerRenderer(Ir.DEFAULT, fO), dO = !0 } }(), function () { if (!$S) { var e = new Mi({ title: JS, icon: "measure", name: ZS, category: "map", drawer: QS }); Td("tool").registerTool(e), Td("drawer").registerDrawer(ew), Td("drawer").registerDrawer(tw), Td("cotRender").registerMarkerRenderer(_r.LINE, zS), Td("cotRender").registerMarkerRenderer(_r.CIRCLE, XS), YS(), $S = !0 } }(), function () { if (!lw) { var e = new xi({ displayName: "Cop View", name: "cop-view-drawer", mount: function () { return React.createElement(uw, null) }, unmount: function () { }, orientation: "bottom" }), t = new Mi({ title: "Cop View", icon: "circle", name: "cop-view-tool", drawer: e.name, category: "map" }); Td("tool").registerTool(t), Td("drawer").registerDrawer(e), lw = !0 } }()) } function pw(e, t) { var r = "undefined" !== typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (!r) { if (Array.isArray(e) || (r = function (e, t) { if (!e) return; if ("string" === typeof e) return mw(e, t); var r = Object.prototype.toString.call(e).slice(8, -1); "Object" === r && e.constructor && (r = e.constructor.name); if ("Map" === r || "Set" === r) return Array.from(e); if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return mw(e, t) }(e)) || t && e && "number" === typeof e.length) { r && (e = r); var n = 0, a = function () { }; return { s: a, n: function () { return n >= e.length ? { done: !0 } : { done: !1, value: e[n++] } }, e: function (e) { throw e }, f: a } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var o, i = !0, c = !1; return { s: function () { r = r.call(e) }, n: function () { var e = r.next(); return i = e.done, e }, e: function (e) { c = !0, o = e }, f: function () { try { i || null == r.return || r.return() } finally { if (c) throw o } } } } function mw(e, t) { (null == t || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } var hw = !1; function vw() { return gw.apply(this, arguments) } function gw() { return (gw = Object(o.a)(a.a.mark(function e() { var t, r, n, o, i, c, s, u, l, f; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (!hw) { e.next = 2; break } return e.abrupt("return"); case 2: return t = Td("plugin"), e.next = 5, ao(); case 5: r = e.sent, n = r.plugins, o = pw(n), e.prev = 8, c = function () { var e = i.value, r = void 0, n = void 0; if ("string" === typeof e) r = e, Td("logger").warn(['Plugin loaded from "'.concat(r, '" was defined using an older configuration in "websae-manifest.json"'), "This will not be supported in future versions. Use the IWebSAEManifestPlugins interface to define the plugin instead", " ", "interface IWebSAEManifestPlugins {", "   path: string; ", "   name: string; // Name MUST be the same as the one used to register the plugin", "   title: string;", "   enabled?: boolean;", "}"].join("\n")); else if (r = e.path, n = e.title, "undefined" !== typeof e.enabled && !e.enabled) return "continue"; t.loadScript(Object(L.sanitizeURL)("".concat(p(), "/").concat(r)), function () { var e = n ? "[".concat(n, ": ").concat(r, "]") : r; Td("logger").info("Loaded plugin: ".concat(e)) }, function (e) { var t = n ? "[".concat(n, ": ").concat(r, "]") : r; Td("logger").error("Failed to load or execute plugin: ".concat(t, ". \n  \n          Message: ").concat(e.message, ", \n \n          Stack: ").concat(e.stack)) }) }, o.s(); case 11: if ((i = o.n()).done) { e.next = 17; break } if ("continue" !== c()) { e.next = 15; break } return e.abrupt("continue", 15); case 15: e.next = 11; break; case 17: e.next = 22; break; case 19: e.prev = 19, e.t0 = e.catch(8), o.e(e.t0); case 22: return e.prev = 22, o.f(), e.finish(22); case 25: if (m() === p()) { e.next = 47; break } return e.next = 28, io(); case 28: s = e.sent, u = pw(s.plugins), e.prev = 30, f = function () { var e = l.value, r = void 0, n = void 0; if ("string" === typeof e) r = e; else if (r = e.path, n = e.title, "undefined" !== typeof e.enabled && !e.enabled) return "continue"; t.loadScript(Object(L.sanitizeURL)("".concat(m(), "/").concat(r)), function () { var e = n ? "[".concat(n, ": ").concat(r, "]") : r; Td("logger").info("Loaded plugin: ".concat(e)) }, function (e) { var t = n ? "[".concat(n, ": ").concat(r, "]") : r; Td("logger").error("Failed to load or execute external plugin: ".concat(t, ". \n  \n            Message: ").concat(e.message, ", \n \n            Stack: ").concat(e.stack)) }) }, u.s(); case 33: if ((l = u.n()).done) { e.next = 39; break } if ("continue" !== f()) { e.next = 37; break } return e.abrupt("continue", 37); case 37: e.next = 33; break; case 39: e.next = 44; break; case 41: e.prev = 41, e.t1 = e.catch(30), u.e(e.t1); case 44: return e.prev = 44, u.f(), e.finish(44); case 47: hw = !0; case 48: case "end": return e.stop() } }, e, null, [[8, 19, 22, 25], [30, 41, 44, 47]]) }))).apply(this, arguments) } r(731), r(732); function bw(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var yw, Ew, Ow = function (e) { Object(k.a)(r, e); var t = bw(r); function r() { var e; Object(T.a)(this, r); for (var n = arguments.length, a = new Array(n), o = 0; o < n; o++)a[o] = arguments[o]; return (e = t.call.apply(t, [this].concat(a))).state = { error: null }, e.clearError = function () { e.setState({ error: null }) }, e } return Object(j.a)(r, [{ key: "componentDidCatch", value: function (e) { var t = this; this.setState({ error: e }, function () { var r = Cd.getService("error"); if (t.props.shouldNotify) { var n = t.props, a = n.notificationMessage, o = n.notificationTitle, i = e.message, c = "Error"; a && (i = "function" === typeof a ? a(e) : a), o && (c = "function" === typeof o ? o(e) : o), r.addError(e, !0, i, c) } else r.addError(e, !1); "function" === typeof t.props.onError && t.props.onError(e) }) } }, { key: "shouldComponentUpdate", value: function (e, t) { return this.state.error !== t.error || !Object(L.shallowCompare)(this.props, e) } }, { key: "hasError", value: function () { return !!this.state.error } }, { key: "render", value: function () { var e = this.state.error; return e ? this.props.renderError(e, this.clearError) : this.props.children } }]), r }(i.Component), Sw = (r(733), Object(d.getClasses)("error-drawer", ["body", "icon", "message"], [])), ww = function (e) { var t = e.name; return c.a.createElement("div", { className: Sw.BASE }, c.a.createElement(d.DrawerHeader, { title: "Error" }), c.a.createElement("div", { className: Sw.Elements.body }, c.a.createElement(d.Icon, { className: Sw.Elements.icon, icon: "warning" }), c.a.createElement("span", { className: Sw.Elements.message }, c.a.createElement("p", null, "Encountered an error in the ", t ? ' "'.concat(t, '" ') : " ", "drawer."), c.a.createElement("p", null, "WebSAE should remain functional, however the tool or plugin responsible for this drawer may be in an unstable state.")))) }, Aw = Object(d.getClasses)("drawer", ["container", "cancel-container"], ["exclusive", "select", "mobile-portrait", "mobile-landscape", "visible"]), Cw = Object(l.b)(function (e) { return { isMapExclusive: e.map.isExclusive() } }, { onCancelExclusive: function () { return Et(St.DEFAULT) } })(function (e) { var t, r = e.isMapExclusive, n = e.onCancelExclusive, a = Object(l.c)(function (e) { return e.map.mapMode }), o = Td("drawer"), s = Object(i.useState)(!1), u = Object(Xe.a)(s, 2), f = u[0], p = u[1], m = Object(i.useState)(), h = Object(Xe.a)(m, 2), v = h[0], g = h[1], b = Object(i.useState)(), y = Object(Xe.a)(b, 2), E = (y[0], y[1]); xa(o, "drawer-change", function (e, t, r) { p(r), g(t), E(e) }, [p, g, E]); var O = Object(i.useRef)(null), S = Object(d.useResponsiveSize)(), w = (S.mobile, S.mobileLandscape), A = S.mobilePortrait, T = w || A ? "Tap" : "Click", j = o.getActiveDrawer() || null, k = null, R = Object(i.useCallback)(function () { return c.a.createElement(ww, { name: j ? j.getDisplayName() : "" }) }, [j]); Object(i.useEffect)(function () { j && O.current && O.current.hasError() && O.current.clearError() }, [j, v, f, p, g]); var N = Object(d.className)(Aw.BASE, (t = {}, Object(C.a)(t, Aw.Modifiers.visible, f), Object(C.a)(t, Aw.Modifiers.exclusive, a === St.EXCLUSIVE), Object(C.a)(t, Aw.Modifiers.select, a === St.SELECT), Object(C.a)(t, Aw.Modifiers["mobile-portrait"], A), Object(C.a)(t, Aw.Modifiers["mobile-landscape"], w), t)); return r && (k = c.a.createElement("div", { className: Aw.Elements["cancel-container"], onClick: n }, T, " to Cancel")), c.a.createElement("div", { className: N }, k, c.a.createElement("div", { className: Aw.Elements.container }, c.a.createElement(Ow, { ref: O, renderError: R, shouldNotify: !0 }, j ? j.getComponent() : null))) }), Tw = (r(734), r(735), r(736), 180 / Math.PI), jw = Math.PI / 180; !function (e) { e[e.MGRS = 0] = "MGRS", e[e.LATLON = 1] = "LATLON", e[e.DMS = 2] = "DMS", e[e.UTM = 3] = "UTM" }(yw || (yw = {})), function (e) { e[e.MILES = 0] = "MILES", e[e.KILOMETERS = 1] = "KILOMETERS", e[e.NAUTICAL = 2] = "NAUTICAL", e[e.FEET = 3] = "FEET" }(Ew || (Ew = {})); var kw = function (e, t) { if (e) { var r = function (e, t) { var r = Math.atan2(t[0] - e[0], t[1] - e[1]) * Tw; return r < 0 ? r + 360 : r }([Number(e[1].toFixed(5)), Number(e[0].toFixed(5))], [t[0], t[1]]), n = r * jw; return "".concat((a = n, a * Tw).toFixed(1), "\xb0") } var a; return "" }; function Rw(e, t, r, n) { n(r + 1 > e ? t : r + 1) } var Nw = Object(d.getClasses)("tak-mouse-position", ["flex-wrap", "item"], ["hoverable"]), Lw = Object(l.b)(function (e) { var t = e.user; return { location: [t.location.lat, t.location.lon] } }, void 0)(function (e) { var t = e.location, r = void 0 === t ? [0, 0] : t, n = Object(i.useState)(yw.MGRS), a = Object(Xe.a)(n, 2), o = a[0], s = a[1], u = Object(i.useState)(Ew.MILES), l = Object(Xe.a)(u, 2), f = l[0], p = l[1], m = Object(d.useResponsiveSize)(), h = m.desktop, v = m.desktopLarge, g = Object(i.useState)([0, 0]), b = Object(Xe.a)(g, 2), y = b[0], E = b[1], O = Object(i.useState)(""), S = Object(Xe.a)(O, 2), w = S[0], A = S[1], T = Object(i.useState)(""), j = Object(Xe.a)(T, 2), k = j[0], R = j[1]; Object(i.useEffect)(function () { A(function (e, t) { var r; return (r = {}, Object(C.a)(r, yw.MGRS, function () { var e = "--- ---"; return 0 !== t.length && (e = Object(L.toMGRSString)(t[1], t[0], 5)), e }), Object(C.a)(r, yw.LATLON, function () { var e = "--- ---"; if (0 !== t.length) { var r = "N", n = "E", a = t[1].toFixed(3); parseFloat(a) < 0 && (r = "S", a = a.replace("-", "")); var o = t[0].toFixed(3); parseFloat(o) < 0 && (n = "W", o = o.replace("-", "")), e = "".concat(a, "\xb0").concat(r, " ").concat(o, "\xb0").concat(n) } return e }), Object(C.a)(r, yw.DMS, function () { var e = "--- ---"; return 0 !== t.length && (e = Object(L.toDMSString)(t[1], t[0])), e }), Object(C.a)(r, yw.UTM, function () { var e = "--- ---"; return 0 !== t.length && (e = Object(L.toUTMString)(t[1], t[0])), e }), r)[e]() }(o, y)) }, [y, o, A]), Object(i.useEffect)(function () { R(function (e, t, r) { var n, a = Object(lp.a)([t[1], t[0]], r); return (n = {}, Object(C.a)(n, Ew.MILES, function () { return "".concat((621371e-9 * a).toFixed(3), " Miles") }), Object(C.a)(n, Ew.KILOMETERS, function () { return "".concat((.001 * a).toFixed(3), " Kilometers") }), Object(C.a)(n, Ew.NAUTICAL, function () { return "".concat((539957e-9 * a).toFixed(3), " Nautical Miles") }), Object(C.a)(n, Ew.FEET, function () { return "".concat((3.28084 * a).toFixed(3), " Feet") }), n)[e]() }(f, r, y)) }, [y, f, R]), Object(i.useEffect)(function () { var e = function (e) { var t = e.coordinate; E(t) }; Td("map").onMapReady(function (t) { t.on("pointermove", e) }) }, [E]); return h || v ? c.a.createElement(i.Fragment, null, c.a.createElement("div", { className: Nw.Elements["flex-wrap"] }, c.a.createElement("div", { className: Object(d.className)(Nw.Elements.item, Nw.Modifiers.hoverable), onClick: Object(L.safelyHandle)(function () { return Rw(3, 0, o, s) }) }, w), c.a.createElement("div", { className: Object(d.className)(Nw.Elements.item, Nw.Modifiers.hoverable), onClick: function () { return Rw(3, 0, f, p) } }, k), c.a.createElement("div", null, kw(r, y)))) : null }), _w = (r(737), r(738), Object(d.getClasses)("online-status", [], [])), Iw = function () { var e; !function (e) { e.CONNECTED = "#29ce43", e.DISCONNECTED = "#ff0000", e.PENDING = "#808080" }(e || (e = {})); var t = Sn.create(), r = Object(i.useState)(e.PENDING), n = Object(Xe.a)(r, 2), a = n[0], o = n[1]; return xa(t, "connect", function () { t.isConnected() ? o(e.CONNECTED) : o(e.PENDING) }, [o]), xa(t, "error", function () { o(e.DISCONNECTED) }, [o]), xa(t, "disconnect", function () { t.isConnected() ? o(e.PENDING) : o(e.DISCONNECTED) }, [o]), React.createElement("div", { className: _w.BASE }, React.createElement(d.StatusIcon, { iconColor: a })) }, Mw = Object(d.getClasses)("server-status", ["status-item", "server-name"], ["tablet-and-below", "mobile-portrait"]), xw = function () { var e = Object(d.useResponsiveSize)(), t = e.tablet, r = e.mobileLandscape, n = e.mobilePortrait, a = (e.desktop, Object(d.className)(Mw.Elements["server-name"], Object(C.a)({}, Mw.Modifiers["tablet-and-below"], t || n || r))), o = Object(d.className)(Mw.BASE, Object(C.a)({}, Mw.Modifiers["mobile-portrait"], n)); return c.a.createElement("div", { className: o }, c.a.createElement(Iw, null), c.a.createElement("span", { className: a }, "SAE Server")) }, Dw = Object(d.getClasses)("tak-footer", ["footer-data", "drawer-button", "button-text"], []), Pw = function () { var e = Td("drawer"), t = Object(i.useState)(e.isOpen("bottom")), r = Object(Xe.a)(t, 2), n = r[0], a = r[1], o = Object(i.useState)(null), s = Object(Xe.a)(o, 2), u = s[0], l = s[1]; return xa(e, "bottom-drawer-change", function (t, r, n) { var o = e.getActiveDrawer("bottom"); l(o), a(n) }, []), xa(e, "open-bottom-drawer", function (e) { a(e) }, []), c.a.createElement("div", { id: "tak-footer", className: Dw.BASE }, c.a.createElement("div", null, c.a.createElement(xw, null)), c.a.createElement("div", { className: Dw.Elements["footer-data"] }, c.a.createElement("div", { id: "tak-scaleline" }), c.a.createElement(Lw, null), !n && c.a.createElement("div", { className: Dw.Elements["drawer-button"] }, c.a.createElement("div", { className: Dw.Elements["button-text"], title: u ? u.getDisplayName() : "" }, u && !n ? u.getDisplayName() : ""), c.a.createElement(d.Icon, { color: "#ffffffb2", icon: "chevron-up", onClick: function () { return n ? e.closeDrawer("bottom") : e.openDrawer("bottom") } })))) }, Uw = Object(d.getClasses)("tak-map", [], []), Bw = Object(d.getClasses)("map-control-container", [], []), Fw = function (e) { var t = e.children, r = Object(i.useRef)(null); return Object(i.useEffect)(function () { r.current && Td("map").setMapContainer(r.current) }, []), c.a.createElement("div", { className: Uw.BASE }, c.a.createElement("div", { id: Uw.BASE, ref: r, className: Uw.BASE }, t), c.a.createElement("div", { id: "map-control-container", className: Bw.BASE }), c.a.createElement(Pw, null)) }, Vw = (Object(d.getClasses)("toolbar", ["group"], []), !0), Hw = Object(l.b)(function (e) { var t = e.map, r = e.user, n = e.tool; return { user: r, disabled: t.isExclusive() || !r.hasValidInformation(), tools: n.tools, orderedTools: n.orderedTools } }, function (e) { return { initialize: function (t) { var r = Object(q.OrderedSet)(t); e(Vt(r)) } } })(function (e) { var t = Td("tool"); if (!e.orderedTools.size && Vw) { var r = t.getTools().filter(function (e) { return !qt.includes(e.name) }).map(function (e) { return e.name }), n = [].concat(Object(D.a)(qt), Object(D.a)(r)); e.initialize(n), Vw = !1 } return c.a.createElement(RE, e) }), Gw = (r(739), r(740), Object(d.getClasses)("notification-card", ["header", "header-icon", "header-title-block", "header-title", "header-text", "close-icon", "content", "content-title", "content-text", "actions"], ["default", "warning", "error", "success"])), qw = function (e) { var t, r = e.headerIcon, n = e.headerTitle, a = e.headerText, o = e.contentTitle, s = e.contentText, u = e.type, l = void 0 === u ? b.DEFAULT : u, f = e.onRemove, p = e.forwardedRef, m = e.channel, h = e.actions, v = e.hyperlink, g = e.duration, y = Object(Oe.a)(e, ["headerIcon", "headerTitle", "headerText", "contentTitle", "contentText", "type", "onRemove", "forwardedRef", "channel", "actions", "hyperlink", "duration"]), E = Td("notification"); Object(i.useEffect)(function () { var e = null; return 0 !== g && (e = window.setTimeout(f, g)), function () { null !== e && clearTimeout(e) } }, [g]); var O = Object(i.useCallback)(function () { var e = E.getChannel(m); if (e) { var t = e.getOnClickHandler(); "function" === typeof t && t(y.details, f) } }, [m]); r || (r = function (e) { switch (e) { case b.ERROR: case b.WARNING: return Object(d.toURL)(Object(d.inlineSvg)("warning", {}, { viewBox: "0 0 24 24" })); case b.SUCCESS: return Object(d.toURL)(Object(d.inlineSvg)("checkbox-marked-circle-outline", {}, { viewBox: "0 0 24 24" })); default: return Object(d.toURL)(Object(d.inlineSvg)("bell", {}, { viewBox: "0 0 24 24" })) } }(l)); var S = Object(i.useMemo)(function () { if (h && h.length > 0) { var e = []; return h.forEach(function (t) { var r = t.buttonText, n = t.handlerKey, a = E.getChannel(m); if (a) { var o = a.getHandlerByKey(n); if ("function" === typeof o) { var i = c.a.createElement(d.Button, { key: n, minimal: !0, small: !0, onClick: Object(L.safelyHandle)(function () { return o(y.details, f) }) }, r); e.push(i) } } }), c.a.createElement("div", { className: Gw.Elements.actions }, e) } return null }, [h]), w = Object(d.className)(Gw.BASE, (t = {}, Object(C.a)(t, Gw.Modifiers.default, l === b.DEFAULT), Object(C.a)(t, Gw.Modifiers.warning, l === b.WARNING), Object(C.a)(t, Gw.Modifiers.error, l === b.ERROR), Object(C.a)(t, Gw.Modifiers.success, l === b.SUCCESS), t)), A = Object(i.useMemo)(function () { if (v) { var e = c.a.createElement("a", { href: v.href, download: !0, onClick: function (e) { e.stopPropagation() } }, c.a.createElement(d.Button, { small: !0, minimal: !0 }, v.buttonText)); return c.a.createElement("div", { className: Gw.Elements.actions }, e) } return null }, [v]); return c.a.createElement("div", { ref: p, onClick: Object(L.safelyHandle)(function () { return O() }), className: w }, c.a.createElement("div", { className: Gw.Elements.header }, c.a.createElement("div", { className: Gw.Elements["header-icon"] }, c.a.createElement("img", { src: r, alt: "" })), c.a.createElement("span", { className: Gw.Elements["header-title"] }, n), a && c.a.createElement("span", { className: Gw.Elements["header-text"] }, "\u2013", " ", " ", a), c.a.createElement(d.Icon, { onClick: Object(L.safelyHandle)(function () { return f() }), className: Gw.Elements["close-icon"], icon: "close" })), c.a.createElement("div", { className: Gw.Elements.content }, c.a.createElement("div", null, c.a.createElement("div", { className: Gw.Elements["content-title"] }, o), c.a.createElement("div", { className: Gw.Elements["content-text"] }, s))), S, A) }, Kw = Object(i.forwardRef)(function (e, t) { return c.a.createElement(qw, Object.assign({}, e, { forwardedRef: t })) }), zw = Object(d.getClasses)("notification-container", ["animation-card"], []), Yw = function () { var e = Object(i.useState)(function () { return new WeakMap }), t = Object(Xe.a)(e, 1)[0], r = Object(l.c)(function (e) { return e.notifications.filter(function (e) { return !e.dismissed }) }), n = Object(Pf.useTransition)(r.toArray(), { key: function (e) { return e.id }, from: { transform: "translateX(200%)", height: 0, opacity: 0, marginBottom: 0 }, enter: function (e) { return function () { var r = Object(o.a)(a.a.mark(function r(n) { return a.a.wrap(function (r) { for (; ;)switch (r.prev = r.next) { case 0: return r.next = 2, n({ transform: "translateX(0)", marginBottom: 10, opacity: 1, height: t.get(e).current.offsetHeight }); case 2: case "end": return r.stop() } }, r) })); return function (e) { return r.apply(this, arguments) } }() }, leave: { height: 0, opacity: 0, marginBottom: 0 }, config: { tension: 125, friction: 20, precision: .1 } }), s = n(function (e, r) { var n = c.a.createRef(); return t.set(r, n), c.a.createElement(Pf.animated.div, { className: zw.Elements["animation-card"], key: r.id, style: e }, c.a.createElement(Kw, Object.assign({}, r.toJS(), { ref: n, onRemove: function () { !function (e) { var t = Td("notification").getChannel(e.channel); t && t.dismissNotification(e.id) }(r) }, headerText: r.headerText, headerIcon: r.headerIcon, headerTitle: r.headerTitle, contentTitle: r.contentTitle, contentText: r.contentText }))) }); return c.a.createElement("div", { className: zw.BASE }, s) }, Ww = (r(741), Object(d.getClasses)("user-information-dialog", [], ["selecting"])), Xw = function (e) { var t = e.isOpen, r = Object(i.useState)(!1), n = Object(Xe.a)(r, 2), a = n[0], o = n[1], s = Object(i.useCallback)(function () { return o(!0) }, [o]), u = Object(i.useCallback)(function () { return o(!1) }, [o]), l = Object(d.className)(Ww.BASE, Object(C.a)({}, Ww.Modifiers.selecting, a)); return c.a.createElement(d.Dialog, { className: l, title: "User Information", isOpen: t, hasBackdrop: !a }, c.a.createElement(Ql, { onLocationStart: s, onLocationEnd: u })) }, Jw = Object(d.getClasses)("app", [], ["mobile-portrait", "mobile-landscape"]), Zw = Object(l.b)(function (e) { var t = e.user; return { hasUserInformation: Dt({ callsign: t.callsign, role: t.role, team: t.team.name }) } })(function (e) { var t, r = e.hasUserInformation, n = Object(d.useResponsiveSize)(), a = n.mobileLandscape, o = n.mobilePortrait, i = Object(d.className)(Jw.BASE, (t = {}, Object(C.a)(t, Jw.Modifiers["mobile-portrait"], o), Object(C.a)(t, Jw.Modifiers["mobile-landscape"], a), t)); return c.a.createElement(Ha, null, c.a.createElement("div", { className: i }, c.a.createElement(Yw, null), c.a.createElement(Hw, null), c.a.createElement("main", null, c.a.createElement(Cw, null), c.a.createElement(Fw, null)), c.a.createElement(Xw, { isOpen: !r }))) }); function Qw(e) { return !!e && Object(L.isString)(e.name) && Object(L.isString)(e.version) && Object(L.isString)(e.description) && Array.isArray(e.drawers) && Array.isArray(e.tools) && e.drawers.every(function (e) { return e instanceof xi }) && e.drawers.every(function (e) { return e instanceof xi }) && e.tools.every(function (e) { return e instanceof Mi }) } var $w = function () { function e(t) { if (Object(T.a)(this, e), this.name = void 0, this.description = void 0, this.version = void 0, this.preferences = void 0, this.widgets = void 0, this.drawers = [], this.tools = [], !Object(L.validate)([Qw], t)) throw new X("Plugin", "constructor options", "IPluginOptions"); if (!t.name.length) throw new Error('Plugin "options.name" must be a non-empty string.'); if (!t.description.length) throw new Error('Plugin "options.description" must be a non-empty string.'); if (!t.version.length) throw new Error('Plugin "options.version" must be a non-empty string.'); this.description = t.description, this.name = t.name, this.version = t.version, this.preferences = t.preferences, this.widgets = t.widgets, this.drawers = Object(D.a)(t.drawers), this.tools = Object(D.a)(t.tools), this.preferences && Td("preferences").registerPreference(this.preferences), this.widgets && Td("widget").registerWidget(this.widgets, this.name) } return Object(j.a)(e, [{ key: "getDrawers", value: function () { return Object(D.a)(this.drawers) } }, { key: "getTools", value: function () { return Object(D.a)(this.tools) } }, { key: "getPreferences", value: function () { return this.preferences } }, { key: "openDrawer", value: function (e) { var t = this.drawers.find(function (t) { return t.name === e }); if (!t) throw new Error("Plugin cannot open a drawer not belonging to the plugin."); t.open() } }]), e }(); function eA() { var e = Object(L.createEmitter)(); return { models: { Drawer: xi }, openDrawer: function (e) { Td("drawer").openDrawer(e) }, isOpen: function (e) { return Td("drawer").isOpen(e) }, closeDrawer: function (e) { Td("drawer").closeDrawer(e) }, setActiveDrawer: function (e, t, r, n) { Td("drawer").setActiveDrawer(e, t, r, n) }, getActiveDrawer: function (e) { return Td("drawer").getActiveDrawer(e) }, getCtx: function (e) { return Td("drawer").getCtx(e) }, onDrawerChange: function (e) { return Td("drawer").on("drawer-change", e), function () { Td("drawer").off("drawer-change", e) } }, onBottomDrawerChange: function (e) { return Td("drawer").on("bottom-drawer-change", e), function () { Td("drawer").off("bottom-drawer-change", e) } }, on: e.on, once: e.once, off: e.off } } function tA(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var rA = function (e) { Object(k.a)(r, e); var t = tA(r); function r(e) { var n; return Object(T.a)(this, r), (n = t.call(this)).position = void 0, n.iconFeature = void 0, n.emitter = Object(L.createEmitter)(), n.on = n.emitter.on, n.once = n.emitter.on, n.off = n.emitter.off, n.emit = n.emitter.emit, n.name = e.name, n.icon = e.iconUrl, n.position = e.position, n.iconFeature = new Zn.a, n } return Object(j.a)(r, [{ key: "getPosition", value: function () { return this.position } }, { key: "setPosition", value: function (e) { this.position = e, this.iconFeature.setGeometry(new yc.a([this.position.lon, this.position.lat])), this.emit("move") } }, { key: "dispose", value: function () { this.emitter.clear(), Object(zn.a)(Object(N.a)(r.prototype), "dispose", this).call(this) } }, { key: "render", value: function () { var e = this; this.iconFeature.setGeometry(new yc.a([this.position.lon, this.position.lat])), this.iconFeature.setStyle(function (t, r) { var n = r >= .01; return [new Ei.c({ text: new Oc.a({ text: n ? "" : e.name, offsetY: 20, fill: new Si.a({ color: "#fff" }), stroke: new wi.a({ color: "#313131", width: 5 }) }), image: new Ec.a({ anchor: [.5, .5], src: e.icon }) })] }), this.vectorLayer.getSource().addFeatures([this.iconFeature]), this.vectorLayer.setZIndex(xr.MARKER) } }]), r }(yi); function nA() { var e = Object(L.createEmitter)(), t = sn(); t.getState().map; return na("map", function (t) { e.emit("map-state-change", t), t }), { models: { MapItem: yi, IconMapItem: rA }, services: { render: ma.create(), menu: Yf.create() }, isExclusive: function () { return t.getState().map.isExclusive() }, onMapReady: function (e) { return hi.create().onMapReady(e) }, performInteraction: function (e, t, r) { return hi.create().performInteraction(e, t, r) }, performManualCoordinateEntry: function (e, t, r) { return hi.create().performManualCoordinateEntry(e, t, r) }, fitExtent: function (e) { return hi.create().fitExtent(e) }, getMapProperties: function () { return t.getState().map }, lockToItem: function (e) { sn().dispatch(Ot(e)) }, on: e.on, once: e.once, off: e.off } } function aA() { var e = vl.create(); return { onClear: function (t) { return e.onStorageClear(t) } } } function oA() { return Object(P.a)({ drawer: Object(P.a)({}, eA()), tool: Object(P.a)({}, { models: { Tool: Mi }, getTools: function () { return Td("tool").getTools() } }), map: Object(P.a)({}, nA()), preferences: Object(P.a)({}, { models: { PreferenceCollection: Nu, TogglePreference: Mu, StringSelectPreference: Gu, NumberSelectPreference: qu, ButtonPreference: Ju, LinkPreference: Yu, CustomPreference: Tu }, registerPreference: function (e) { Td("preferences").registerPreference(e) } }), user: Object(P.a)({}, { getUser: function () { return sn().getState().user }, subscribeUserChange: function (e) { return na("user", e) }, registerCustomSADetailInterceptor: _f.create().registerCustomSADetailInterceptor }), cot: Object(P.a)({}, Dl()), file: Object(P.a)({}, { models: { KMZMapItem: hs, KMLMapItem: rs, FileMapItem: Zc, GeotiffMapItem: Os }, addFile: Rs.create().addFile, removeFile: Rs.create().removeFile, dataPackage: { getDataPackage: _s.create().getDataPackage, getDataPackages: _s.create().getDataPackages, deleteDataPackage: _s.create().deleteDataPackage, onDataPackageLoaded: _s.create().onDataPackageLoaded, on: _s.create().on, once: _s.create().once, off: _s.create().off }, unzipFile: _s.create().unzipFile }), storage: Object(P.a)({}, aA()), widget: Object(P.a)({}, { models: { Widget: YE } }) }, { plugin: { models: { Plugin: $w }, hasPlugin: function (e) { return Td("plugin").hasPlugin(e) }, getPlugin: function (e) { return Td("plugin").getPlugin(e) }, registerPlugin: function (e) { return Td("plugin").registerPlugin(e) } }, notification: { services: { toast: Gi.create() }, models: { NotificationChannel: mc }, registerNotificationChannel: function (e) { return Td("notification").registerNotificationChannel(e) } }, utilities: { Service: _.a } }) } function iA(e) { var t = function () { if ("undefined" === typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" === typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } }(); return function () { var r, n = Object(N.a)(e); if (t) { var a = Object(N.a)(this).constructor; r = Reflect.construct(n, arguments, a) } else r = n.apply(this, arguments); return Object(R.a)(this, r) } } var cA = function (e) { Object(k.a)(r, e); var t = iA(r); function r() { var e; return Object(T.a)(this, r), (e = t.call(this)).db = void 0, e.initializeDB(), e.getDatabase = e.getDatabase.bind(Object(K.a)(e)), e.initializeDB = e.initializeDB.bind(Object(K.a)(e)), e } return Object(j.a)(r, [{ key: "initializeDB", value: function () { var e = Object(o.a)(a.a.mark(function e() { var t; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (!this.db) { e.next = 2; break } return e.abrupt("return"); case 2: return e.next = 4, Object(fo.a)("wt-core", 2, { upgrade: function (e, t, r, n) { switch (t) { case 0: e.createObjectStore(so.FILES, { autoIncrement: !1 }), e.createObjectStore(so.FILE_METADATA, { keyPath: "uid", autoIncrement: !1 }), e.createObjectStore(so.DATA_PACKAGES, { keyPath: "uid", autoIncrement: !1 }), e.createObjectStore(so.CHAT_MESSAGES, { keyPath: "id", autoIncrement: !1 }), e.createObjectStore(so.EVENTS, { keyPath: "uid", autoIncrement: !1 }); case 1: e.createObjectStore(so.ICON_SETS, { autoIncrement: !1, keyPath: "uid" }), e.createObjectStore(so.ICONS, { autoIncrement: !1, keyPath: "path" }) } } }); case 4: t = e.sent, this.db = t; case 6: case "end": return e.stop() } }, e, this) })); return function () { return e.apply(this, arguments) } }() }, { key: "getDatabase", value: function () { var e = Object(o.a)(a.a.mark(function e() { return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (this.db) { e.next = 2; break } throw new Error("No Database! It must be initialized first"); case 2: return e.abrupt("return", this.db); case 3: case "end": return e.stop() } }, e, this) })); return function () { return e.apply(this, arguments) } }() }]), r }(L.Service); cA.instance = void 0, cA.create = cA.factory(); var sA = cA; function uA() { return lA.apply(this, arguments) } function lA() { return (lA = Object(o.a)(a.a.mark(function e() { var t, r; return a.a.wrap(function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, ao(); case 2: return e.next = 4, io(); case 4: if (window.removeEventListener("DOMContentLoaded", uA), !window.WebSAE) { e.next = 8; break } return console.warn("Existing window.WebSAE instance found during bootstrap,", "this is likely caused by duplicated script tags in the base HTML."), e.abrupt("return"); case 8: t = sn(), r = document.getElementById("root"), sA.create(), Cd.initializeServices(), window.WebSAE = Object.freeze(oA()), window.React = i, window.ReactDOM = s, dw(), vw(), s.render(i.createElement(l.a, { store: t }, i.createElement(Zw, null)), r); case 18: case "end": return e.stop() } }, e) }))).apply(this, arguments) } "interactive" === document.readyState || "complete" === document.readyState ? uA() : window.addEventListener("DOMContentLoaded", uA) }], [[504, 1, 2]]]);